/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/References/Physics/FormOne/[id]"],{

/***/ "./node_modules/@mui/icons-material/ChevronRightOutlined.js":
/*!******************************************************************!*\
  !*** ./node_modules/@mui/icons-material/ChevronRightOutlined.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ \"./node_modules/@mui/icons-material/utils/createSvgIcon.js\"));\n\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z\"\n}), 'ChevronRightOutlined');\n\nexports[\"default\"] = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG11aS9pY29ucy1tYXRlcmlhbC9DaGV2cm9uUmlnaHRPdXRsaW5lZC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIsbUJBQU8sQ0FBQyxvSEFBOEM7O0FBRW5GLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlOztBQUVmLDRDQUE0QyxtQkFBTyxDQUFDLHdGQUF1Qjs7QUFFM0Usa0JBQWtCLG1CQUFPLENBQUMsOERBQW1COztBQUU3QztBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQG11aS9pY29ucy1tYXRlcmlhbC9DaGV2cm9uUmlnaHRPdXRsaW5lZC5qcz9iY2YwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9qc3hSdW50aW1lID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi8oMCwgX2pzeFJ1bnRpbWUuanN4KShcInBhdGhcIiwge1xuICBkOiBcIk0xMCA2IDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNi02LTZ6XCJcbn0pLCAnQ2hldnJvblJpZ2h0T3V0bGluZWQnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@mui/icons-material/ChevronRightOutlined.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar downloadFile = function (url, data) {\n    var blobUrl = typeof data === 'string' ? '' : URL.createObjectURL(new Blob([data], { type: '' }));\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = blobUrl || url;\n    link.setAttribute('download', getFileName(url));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    if (blobUrl) {\n        URL.revokeObjectURL(blobUrl);\n    }\n};\n\nvar AttachmentList = function (_a) {\n    var files = _a.files;\n    var containerRef = React__namespace.useRef();\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var attachmentItemsRef = React__namespace.useRef([]);\n    var clickDownloadLabel = l10n && l10n.attachment\n        ? l10n.attachment.clickToDownload\n        : 'Click to download';\n    var handleKeyDown = function (e) {\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (items, activeEle) { return items.indexOf(activeEle) + 1; });\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                moveToItem(function (items, activeEle) { return items.indexOf(activeEle) - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (items, _) { return items.length - 1; });\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var moveToItem = function (getItemIndex) {\n        var container = containerRef.current;\n        var attachmentItems = [].slice.call(container.getElementsByClassName('rpv-attachment__item'));\n        if (attachmentItems.length === 0) {\n            return;\n        }\n        attachmentItems.forEach(function (item) { return item.setAttribute('tabindex', '-1'); });\n        var activeEle = document.activeElement;\n        var targetIndex = Math.min(attachmentItems.length - 1, Math.max(0, getItemIndex(attachmentItems, activeEle)));\n        var targetEle = attachmentItems[targetIndex];\n        targetEle.setAttribute('tabindex', '0');\n        targetEle.focus();\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var attachmentItems = [].slice.call(container.getElementsByClassName('rpv-attachment__item'));\n        attachmentItemsRef.current = attachmentItems;\n        if (attachmentItems.length > 0) {\n            var firstItem = attachmentItems[0];\n            firstItem.focus();\n            firstItem.setAttribute('tabindex', '0');\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { \"data-testid\": \"attachment__list\", className: core.classNames({\n            'rpv-attachment__list': true,\n            'rpv-attachment__list--rtl': isRtl,\n        }), ref: containerRef, tabIndex: -1, onKeyDown: handleKeyDown }, files.map(function (file) { return (React__namespace.createElement(\"button\", { className: \"rpv-attachment__item\", key: file.fileName, tabIndex: -1, title: clickDownloadLabel, type: \"button\", onClick: function () { return downloadFile(file.fileName, file.data); } }, file.fileName)); })));\n};\n\nvar AttachmentLoader = function (_a) {\n    var doc = _a.doc;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var noAttachmentLabel = l10n && l10n.attachment\n        ? l10n.attachment.noAttachment\n        : 'There is no attachment';\n    var _b = React__namespace.useState({\n        files: [],\n        isLoaded: false,\n    }), attachments = _b[0], setAttachments = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getAttachments().then(function (response) {\n            var files = response\n                ? Object.keys(response).map(function (file) {\n                    return {\n                        data: response[file].content,\n                        fileName: response[file].filename,\n                    };\n                })\n                : [];\n            setAttachments({\n                files: files,\n                isLoaded: true,\n            });\n        });\n    }, [doc]);\n    return !attachments.isLoaded ? (React__namespace.createElement(core.Spinner, null)) : attachments.files.length === 0 ? (React__namespace.createElement(\"div\", { \"data-testid\": \"attachment__empty\", className: core.classNames({\n            'rpv-attachment__empty': true,\n            'rpv-attachment__empty--rtl': isRtl,\n        }) }, noAttachmentLabel)) : (React__namespace.createElement(AttachmentList, { files: attachments.files }));\n};\n\nvar AttachmentListWithStore = function (_a) {\n    var store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(AttachmentLoader, { doc: currentDoc })) : (React__namespace.createElement(\"div\", { className: \"rpv-attachment__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar attachmentPlugin = function () {\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var AttachmentsDecorator = function () { return React__namespace.createElement(AttachmentListWithStore, { store: store }); };\n    return {\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        Attachments: AttachmentsDecorator,\n    };\n};\n\nexports.attachmentPlugin = attachmentPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudC9saWIvY2pzL2F0dGFjaG1lbnQuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlGQUF5RixVQUFVO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxzQ0FBc0M7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EseURBQXlELHNDQUFzQztBQUMvRjtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMEJBQTBCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxXQUFXO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCw2Q0FBNkM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0EsU0FBUyw4REFBOEQsOEJBQThCLG1EQUFtRCx1SUFBdUksa0RBQWtELG9CQUFvQjtBQUNyVzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxvS0FBb0s7QUFDcEs7QUFDQTtBQUNBLFNBQVMsR0FBRywwRUFBMEUsMEJBQTBCO0FBQ2hIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEVBQTRFLGlCQUFpQiw4Q0FBOEMscUNBQXFDO0FBQ2hMO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQsMEJBQTBCLElBQUk7QUFDckYsNkNBQTZDLGlFQUFpRSxjQUFjO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9hdHRhY2htZW50L2xpYi9janMvYXR0YWNobWVudC5qcz8yZGQ5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgdmFyIHN0ciA9IHVybC5zcGxpdCgnLycpLnBvcCgpO1xuICAgIHJldHVybiBzdHIgPyBzdHIuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdIDogdXJsO1xufTtcblxudmFyIGRvd25sb2FkRmlsZSA9IGZ1bmN0aW9uICh1cmwsIGRhdGEpIHtcbiAgICB2YXIgYmxvYlVybCA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/ICcnIDogVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogJycgfSkpO1xuICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsaW5rLmhyZWYgPSBibG9iVXJsIHx8IHVybDtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBnZXRGaWxlTmFtZSh1cmwpKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgIGlmIChibG9iVXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7XG4gICAgfVxufTtcblxudmFyIEF0dGFjaG1lbnRMaXN0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGZpbGVzID0gX2EuZmlsZXM7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgYXR0YWNobWVudEl0ZW1zUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoW10pO1xuICAgIHZhciBjbGlja0Rvd25sb2FkTGFiZWwgPSBsMTBuICYmIGwxMG4uYXR0YWNobWVudFxuICAgICAgICA/IGwxMG4uYXR0YWNobWVudC5jbGlja1RvRG93bmxvYWRcbiAgICAgICAgOiAnQ2xpY2sgdG8gZG93bmxvYWQnO1xuICAgIHZhciBoYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoaXRlbXMsIGFjdGl2ZUVsZSkgeyByZXR1cm4gaXRlbXMuaW5kZXhPZihhY3RpdmVFbGUpICsgMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoaXRlbXMsIGFjdGl2ZUVsZSkgeyByZXR1cm4gaXRlbXMuaW5kZXhPZihhY3RpdmVFbGUpIC0gMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFbmQnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZlVG9JdGVtKGZ1bmN0aW9uIChpdGVtcywgXykgeyByZXR1cm4gaXRlbXMubGVuZ3RoIC0gMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoXywgX18pIHsgcmV0dXJuIDA7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgbW92ZVRvSXRlbSA9IGZ1bmN0aW9uIChnZXRJdGVtSW5kZXgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgYXR0YWNobWVudEl0ZW1zID0gW10uc2xpY2UuY2FsbChjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncnB2LWF0dGFjaG1lbnRfX2l0ZW0nKSk7XG4gICAgICAgIGlmIChhdHRhY2htZW50SXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNobWVudEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpOyB9KTtcbiAgICAgICAgdmFyIGFjdGl2ZUVsZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHZhciB0YXJnZXRJbmRleCA9IE1hdGgubWluKGF0dGFjaG1lbnRJdGVtcy5sZW5ndGggLSAxLCBNYXRoLm1heCgwLCBnZXRJdGVtSW5kZXgoYXR0YWNobWVudEl0ZW1zLCBhY3RpdmVFbGUpKSk7XG4gICAgICAgIHZhciB0YXJnZXRFbGUgPSBhdHRhY2htZW50SXRlbXNbdGFyZ2V0SW5kZXhdO1xuICAgICAgICB0YXJnZXRFbGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHRhcmdldEVsZS5mb2N1cygpO1xuICAgIH07XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdHRhY2htZW50SXRlbXMgPSBbXS5zbGljZS5jYWxsKGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdycHYtYXR0YWNobWVudF9faXRlbScpKTtcbiAgICAgICAgYXR0YWNobWVudEl0ZW1zUmVmLmN1cnJlbnQgPSBhdHRhY2htZW50SXRlbXM7XG4gICAgICAgIGlmIChhdHRhY2htZW50SXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGZpcnN0SXRlbSA9IGF0dGFjaG1lbnRJdGVtc1swXTtcbiAgICAgICAgICAgIGZpcnN0SXRlbS5mb2N1cygpO1xuICAgICAgICAgICAgZmlyc3RJdGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcImF0dGFjaG1lbnRfX2xpc3RcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1hdHRhY2htZW50X19saXN0JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtYXR0YWNobWVudF9fbGlzdC0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pLCByZWY6IGNvbnRhaW5lclJlZiwgdGFiSW5kZXg6IC0xLCBvbktleURvd246IGhhbmRsZUtleURvd24gfSwgZmlsZXMubWFwKGZ1bmN0aW9uIChmaWxlKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1hdHRhY2htZW50X19pdGVtXCIsIGtleTogZmlsZS5maWxlTmFtZSwgdGFiSW5kZXg6IC0xLCB0aXRsZTogY2xpY2tEb3dubG9hZExhYmVsLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb3dubG9hZEZpbGUoZmlsZS5maWxlTmFtZSwgZmlsZS5kYXRhKTsgfSB9LCBmaWxlLmZpbGVOYW1lKSk7IH0pKSk7XG59O1xuXG52YXIgQXR0YWNobWVudExvYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkb2MgPSBfYS5kb2M7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgbm9BdHRhY2htZW50TGFiZWwgPSBsMTBuICYmIGwxMG4uYXR0YWNobWVudFxuICAgICAgICA/IGwxMG4uYXR0YWNobWVudC5ub0F0dGFjaG1lbnRcbiAgICAgICAgOiAnVGhlcmUgaXMgbm8gYXR0YWNobWVudCc7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGZpbGVzOiBbXSxcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgIH0pLCBhdHRhY2htZW50cyA9IF9iWzBdLCBzZXRBdHRhY2htZW50cyA9IF9iWzFdO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jLmdldEF0dGFjaG1lbnRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBmaWxlcyA9IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgPyBPYmplY3Qua2V5cyhyZXNwb25zZSkubWFwKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVtmaWxlXS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IHJlc3BvbnNlW2ZpbGVdLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIHNldEF0dGFjaG1lbnRzKHtcbiAgICAgICAgICAgICAgICBmaWxlczogZmlsZXMsXG4gICAgICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2RvY10pO1xuICAgIHJldHVybiAhYXR0YWNobWVudHMuaXNMb2FkZWQgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpIDogYXR0YWNobWVudHMuZmlsZXMubGVuZ3RoID09PSAwID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJhdHRhY2htZW50X19lbXB0eVwiLCBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAncnB2LWF0dGFjaG1lbnRfX2VtcHR5JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtYXR0YWNobWVudF9fZW1wdHktLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSB9LCBub0F0dGFjaG1lbnRMYWJlbCkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBdHRhY2htZW50TGlzdCwgeyBmaWxlczogYXR0YWNobWVudHMuZmlsZXMgfSkpO1xufTtcblxudmFyIEF0dGFjaG1lbnRMaXN0V2l0aFN0b3JlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvYyA9IF9iWzBdLCBzZXRDdXJyZW50RG9jID0gX2JbMV07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEF0dGFjaG1lbnRMb2FkZXIsIHsgZG9jOiBjdXJyZW50RG9jIH0pKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWF0dGFjaG1lbnRfX2xvYWRlclwiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNwaW5uZXIsIG51bGwpKSk7XG59O1xuXG52YXIgYXR0YWNobWVudFBsdWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgQXR0YWNobWVudHNEZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQXR0YWNobWVudExpc3RXaXRoU3RvcmUsIHsgc3RvcmU6IHN0b3JlIH0pOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgQXR0YWNobWVudHM6IEF0dGFjaG1lbnRzRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLmF0dGFjaG1lbnRQbHVnaW4gPSBhdHRhY2htZW50UGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/attachment/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/attachment/lib/index.js ***!
  \****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/attachment.js */ \"./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudC9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLG9JQUErQztBQUNuRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudC9saWIvaW5kZXguanM/Njk0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvYXR0YWNobWVudC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9hdHRhY2htZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/attachment/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownArrowIcon = function () {\n    return (React__namespace.createElement(core.Icon, { size: 16 },\n        React__namespace.createElement(\"path\", { d: \"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z\" })));\n};\n\nvar RightArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nvar shouldBeCollapsed = function (bookmark) {\n    var count = bookmark.count, items = bookmark.items;\n    if (count >= 0) {\n        return false;\n    }\n    var numSubItems = items.length;\n    if (numSubItems === 0) {\n        return false;\n    }\n    var subItems = __spreadArray([], items, true);\n    while (subItems.length > 0) {\n        var firstChild = subItems.shift();\n        var children = firstChild.items;\n        if (firstChild.count && children && firstChild.count > 0 && children.length > 0) {\n            numSubItems += children.length;\n            subItems.push.apply(subItems, children);\n        }\n    }\n    return Math.abs(count) === numSubItems;\n};\n\nvar BookmarkItem = function (_a) {\n    var bookmark = _a.bookmark, depth = _a.depth, doc = _a.doc, index = _a.index, isBookmarkExpanded = _a.isBookmarkExpanded, numberOfSiblings = _a.numberOfSiblings, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var defaultIsCollapsed = React__namespace.useMemo(function () { return shouldBeCollapsed(bookmark); }, [bookmark]);\n    var defaultExpanded = isBookmarkExpanded\n        ? isBookmarkExpanded({ bookmark: bookmark, doc: doc, depth: depth, index: index })\n        : !defaultIsCollapsed;\n    var _b = React__namespace.useState(defaultExpanded), expanded = _b[0], setExpanded = _b[1];\n    var hasSubItems = bookmark.items && bookmark.items.length > 0;\n    var toggleSubItems = function () { return setExpanded(function (expanded) { return !expanded; }); };\n    var clickBookmak = function () {\n        if (hasSubItems && bookmark.dest) {\n            onJumpToDest(bookmark.dest);\n        }\n    };\n    var clickItem = function () {\n        if (!hasSubItems && bookmark.dest) {\n            onJumpToDest(bookmark.dest);\n        }\n    };\n    return (React__namespace.createElement(\"li\", { \"aria-expanded\": expanded ? 'true' : 'false', \"aria-label\": bookmark.title, \"aria-level\": depth + 1, \"aria-posinset\": index + 1, \"aria-setsize\": numberOfSiblings, role: \"treeitem\", tabIndex: -1 },\n        React__namespace.createElement(\"div\", { className: \"rpv-bookmark__item\", style: {\n                paddingLeft: \"\".concat(depth * 1.25, \"rem\"),\n            }, onClick: clickItem },\n            hasSubItems ? (React__namespace.createElement(\"span\", { className: \"rpv-bookmark__toggle\", onClick: toggleSubItems }, expanded ? React__namespace.createElement(DownArrowIcon, null) : React__namespace.createElement(RightArrowIcon, null))) : (React__namespace.createElement(\"span\", { className: \"rpv-bookmark__toggle\" })),\n            bookmark.url ? (React__namespace.createElement(\"a\", { className: \"rpv-bookmark__title\", href: bookmark.url, rel: \"noopener noreferrer nofollow\", target: bookmark.newWindow ? '_blank' : '' }, bookmark.title)) : (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__title\", \"aria-label\": bookmark.title, onClick: clickBookmak }, bookmark.title))),\n        hasSubItems && expanded && (React__namespace.createElement(BookmarkList, { bookmarks: bookmark.items, depth: depth + 1, doc: doc, isBookmarkExpanded: isBookmarkExpanded, isRoot: false, store: store, onJumpToDest: onJumpToDest }))));\n};\n\nvar BookmarkList = function (_a) {\n    var bookmarks = _a.bookmarks, _b = _a.depth, depth = _b === void 0 ? 0 : _b, doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, isRoot = _a.isRoot, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    return (React__namespace.createElement(\"ul\", { className: \"rpv-bookmark__list\", role: isRoot ? 'tree' : 'group', tabIndex: -1 }, bookmarks.map(function (bookmark, index) { return (React__namespace.createElement(BookmarkItem, { bookmark: bookmark, depth: depth, doc: doc, index: index, isBookmarkExpanded: isBookmarkExpanded, key: index, numberOfSiblings: bookmarks.length, store: store, onJumpToDest: onJumpToDest })); })));\n};\n\nvar Toggle;\n(function (Toggle) {\n    Toggle[Toggle[\"Collapse\"] = 0] = \"Collapse\";\n    Toggle[Toggle[\"Expand\"] = 1] = \"Expand\";\n})(Toggle || (Toggle = {}));\nvar BookmarkListRoot = function (_a) {\n    var bookmarks = _a.bookmarks, doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var containerRef = React__namespace.useRef();\n    var _b = React__namespace.useState(store.get('linkAnnotations') || {}), links = _b[0], setLinks = _b[1];\n    var updateLinkAnnotation = function (bookmark, links) {\n        var dest = bookmark.dest;\n        if (!dest || typeof dest !== 'string' || !links[dest]) {\n            return;\n        }\n        var annotationContainer = links[dest];\n        annotationContainer.querySelectorAll(\"a[data-annotation-link-dest=\\\"\".concat(dest, \"\\\"]\")).forEach(function (node) {\n            node.setAttribute('aria-label', bookmark.title);\n        });\n        if (!bookmark.items || !bookmark.items.length) {\n            return;\n        }\n        bookmark.items.forEach(function (item) { return updateLinkAnnotation(item, links); });\n    };\n    var handleLinkAnnotationsChanged = function (links) { return setLinks(links); };\n    var jumpToDest = function (dest) {\n        core.getDestination(doc, dest).then(function (target) {\n            var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, leftOffset = target.leftOffset, scaleTo = target.scaleTo;\n            onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n        });\n    };\n    var handleKeyDown = function (e) {\n        var container = containerRef.current;\n        if (!container || !(e.target instanceof HTMLElement) || !container.contains(e.target)) {\n            return;\n        }\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (bookmarkElements, activeEle) { return bookmarkElements.indexOf(activeEle) + 1; });\n                break;\n            case 'ArrowLeft':\n                e.preventDefault();\n                toggle(Toggle.Collapse);\n                break;\n            case 'ArrowRight':\n                e.preventDefault();\n                toggle(Toggle.Expand);\n                break;\n            case 'ArrowUp':\n                e.preventDefault;\n                moveToItem(function (bookmarkElements, activeEle) { return bookmarkElements.indexOf(activeEle) - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (bookmarkElements, _) { return bookmarkElements.length - 1; });\n                break;\n            case ' ':\n            case 'Enter':\n            case 'Space':\n                e.preventDefault();\n                clickBookmark();\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var clickBookmark = function () {\n        var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n        var titleEle = closestItem.querySelector('.rpv-bookmark__title');\n        if (titleEle) {\n            titleEle.click();\n        }\n    };\n    var moveToItem = function (getItemIndex) {\n        var container = containerRef.current;\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length === 0) {\n            return;\n        }\n        var activeEle = document.activeElement;\n        var targetIndex = Math.min(bookmarkElements.length - 1, Math.max(0, getItemIndex(bookmarkElements, activeEle)));\n        var targetEle = bookmarkElements[targetIndex];\n        activeEle.setAttribute('tabindex', '-1');\n        targetEle.setAttribute('tabindex', '0');\n        targetEle.focus();\n    };\n    var toggle = function (toggle) {\n        var container = containerRef.current;\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length === 0) {\n            return;\n        }\n        var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n        var expanedAttribute = toggle === Toggle.Collapse ? 'true' : 'false';\n        if (closestItem && closestItem.parentElement.getAttribute('aria-expanded') === expanedAttribute) {\n            var toggleEle = closestItem.querySelector('.rpv-bookmark__toggle');\n            if (toggleEle) {\n                toggleEle.click();\n            }\n        }\n    };\n    React__namespace.useEffect(function () {\n        document.addEventListener('keydown', handleKeyDown);\n        store.subscribe('linkAnnotations', handleLinkAnnotationsChanged);\n        return function () {\n            document.removeEventListener('keydown', handleKeyDown);\n            store.unsubscribe('linkAnnotations', handleLinkAnnotationsChanged);\n        };\n    }, []);\n    React__namespace.useEffect(function () {\n        bookmarks.forEach(function (bookmark) { return updateLinkAnnotation(bookmark, links); });\n    }, [links]);\n    React__namespace.useEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length > 0) {\n            bookmarkElements[0].focus();\n            bookmarkElements[0].setAttribute('tabindex', '0');\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef },\n        React__namespace.createElement(BookmarkList, { bookmarks: bookmarks, depth: 0, doc: doc, isBookmarkExpanded: isBookmarkExpanded, isRoot: true, store: store, onJumpToDest: jumpToDest })));\n};\n\nvar BookmarkLoader = function (_a) {\n    var doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _b = React__namespace.useState({\n        isLoaded: false,\n        items: [],\n    }), bookmarks = _b[0], setBookmarks = _b[1];\n    React__namespace.useEffect(function () {\n        setBookmarks({\n            isLoaded: false,\n            items: [],\n        });\n        doc.getOutline().then(function (outline) {\n            setBookmarks({\n                isLoaded: true,\n                items: outline || [],\n            });\n        });\n    }, [doc]);\n    return !bookmarks.isLoaded ? (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__loader\" },\n        React__namespace.createElement(core.Spinner, null))) : bookmarks.items.length === 0 ? (React__namespace.createElement(\"div\", { \"data-testid\": \"bookmark__empty\", className: core.classNames({\n            'rpv-bookmark__empty': true,\n            'rpv-bookmark__empty--rtl': isRtl,\n        }) }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark')) : (React__namespace.createElement(\"div\", { \"data-testid\": \"bookmark__container\", className: core.classNames({\n            'rpv-bookmark__container': true,\n            'rpv-bookmark__container--rtl': isRtl,\n        }) },\n        React__namespace.createElement(BookmarkListRoot, { bookmarks: bookmarks.items, doc: doc, isBookmarkExpanded: isBookmarkExpanded, store: store, onJumpToDest: onJumpToDest })));\n};\n\nvar BookmarkListWithStore = function (_a) {\n    var isBookmarkExpanded = _a.isBookmarkExpanded, store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var jump = function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n        var jumpToDestination = store.get('jumpToDestination');\n        if (jumpToDestination) {\n            jumpToDestination(pageIndex, bottomOffset, leftOffset, scaleTo);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(BookmarkLoader, { doc: currentDoc, isBookmarkExpanded: isBookmarkExpanded, store: store, onJumpToDest: jump })) : (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar bookmarkPlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            linkAnnotations: {},\n        });\n    }, []);\n    var BookmarksDecorator = function (props) { return (React__namespace.createElement(BookmarkListWithStore, { isBookmarkExpanded: props === null || props === void 0 ? void 0 : props.isBookmarkExpanded, store: store })); };\n    var onAnnotationLayerRender = function (e) {\n        if (!e.annotations.length) {\n            return;\n        }\n        var links = e.annotations.filter(function (annotation) { return annotation.subtype === 'Link'; });\n        if (!links.length) {\n            return;\n        }\n        var linkAnnotations = store.get('linkAnnotations') || {};\n        links.forEach(function (annotation) { return (linkAnnotations[annotation.dest] = e.container); });\n        store.update('linkAnnotations', linkAnnotations);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        Bookmarks: BookmarksDecorator,\n        onAnnotationLayerRender: onAnnotationLayerRender,\n    };\n};\n\nexports.DownArrowIcon = DownArrowIcon;\nexports.RightArrowIcon = RightArrowIcon;\nexports.bookmarkPlugin = bookmarkPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYm9va21hcmsvbGliL2Nqcy9ib29rbWFyay5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esd0RBQXdELFVBQVU7QUFDbEUsaURBQWlELCtGQUErRjtBQUNoSjs7QUFFQSxtQ0FBbUMsb0RBQW9ELFVBQVU7QUFDakcsNkNBQTZDLG1HQUFtRzs7QUFFaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvRUFBb0UscUNBQXFDO0FBQ3pHO0FBQ0EsK0JBQStCLDBEQUEwRDtBQUN6RjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseUNBQXlDLG1CQUFtQjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxtTUFBbU07QUFDdFAsZ0RBQWdEO0FBQ2hEO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsb0VBQW9FLDREQUE0RCxzS0FBc0ssbUNBQW1DO0FBQ3pVLGtFQUFrRSx1SUFBdUksOERBQThELHVGQUF1RjtBQUM5VixtRkFBbUYsd0pBQXdKO0FBQzNPOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsZ0ZBQWdGLDZDQUE2Qyx1REFBdUQsNExBQTRMLEtBQUs7QUFDeGE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMkNBQTJDO0FBQzVGO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxpREFBaUQ7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxpREFBaUQ7QUFDckg7QUFDQTtBQUNBO0FBQ0EsNERBQTRELHFDQUFxQztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsV0FBVztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnREFBZ0QsK0NBQStDO0FBQy9GLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvREFBb0QsbUJBQW1CO0FBQ3ZFLHVEQUF1RCx3SUFBd0k7QUFDL0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLDBFQUEwRSxtQ0FBbUM7QUFDN0csdUlBQXVJO0FBQ3ZJO0FBQ0E7QUFDQSxTQUFTLEdBQUcseUhBQXlIO0FBQ3JJO0FBQ0E7QUFDQSxTQUFTLEdBQUc7QUFDWiwyREFBMkQsd0hBQXdIO0FBQ25MOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEVBQTBFLDJGQUEyRiw4Q0FBOEMsbUNBQW1DO0FBQ3RQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLFNBQVM7QUFDVCxLQUFLO0FBQ0wsZ0RBQWdELGdFQUFnRSwwR0FBMEc7QUFDMU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsdUNBQXVDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDBEQUEwRDtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCLHNCQUFzQjtBQUN0QixzQkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2Jvb2ttYXJrL2xpYi9janMvYm9va21hcmsuanM/ODQ2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIERvd25BcnJvd0ljb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk02LjQyNyw4LjI0NUEuNS41LDAsMCwxLDYuODYyLDcuNUgxNy4xMzhhLjUuNSwwLDAsMSwuNDM1Ljc0OWwtNS4xMzksOWEuNS41LDAsMCwxLS44NjgsMFpcIiB9KSkpO1xufTtcblxudmFyIFJpZ2h0QXJyb3dJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNOS4yNDgsMTcuNTcyYS41LjUsMCwwLDEtLjc0OC0uNDM0VjYuODYyYS41LjUsMCwwLDEsLjc0OC0uNDM0bDguOTkyLDUuMTM4YS41LjUsMCwwLDEsMCwuODY4WlwiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxuXG52YXIgc2hvdWxkQmVDb2xsYXBzZWQgPSBmdW5jdGlvbiAoYm9va21hcmspIHtcbiAgICB2YXIgY291bnQgPSBib29rbWFyay5jb3VudCwgaXRlbXMgPSBib29rbWFyay5pdGVtcztcbiAgICBpZiAoY291bnQgPj0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBudW1TdWJJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcbiAgICBpZiAobnVtU3ViSXRlbXMgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgc3ViSXRlbXMgPSBfX3NwcmVhZEFycmF5KFtdLCBpdGVtcywgdHJ1ZSk7XG4gICAgd2hpbGUgKHN1Ykl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBzdWJJdGVtcy5zaGlmdCgpO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBmaXJzdENoaWxkLml0ZW1zO1xuICAgICAgICBpZiAoZmlyc3RDaGlsZC5jb3VudCAmJiBjaGlsZHJlbiAmJiBmaXJzdENoaWxkLmNvdW50ID4gMCAmJiBjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBudW1TdWJJdGVtcyArPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBzdWJJdGVtcy5wdXNoLmFwcGx5KHN1Ykl0ZW1zLCBjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE1hdGguYWJzKGNvdW50KSA9PT0gbnVtU3ViSXRlbXM7XG59O1xuXG52YXIgQm9va21hcmtJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGJvb2ttYXJrID0gX2EuYm9va21hcmssIGRlcHRoID0gX2EuZGVwdGgsIGRvYyA9IF9hLmRvYywgaW5kZXggPSBfYS5pbmRleCwgaXNCb29rbWFya0V4cGFuZGVkID0gX2EuaXNCb29rbWFya0V4cGFuZGVkLCBudW1iZXJPZlNpYmxpbmdzID0gX2EubnVtYmVyT2ZTaWJsaW5ncywgc3RvcmUgPSBfYS5zdG9yZSwgb25KdW1wVG9EZXN0ID0gX2Eub25KdW1wVG9EZXN0O1xuICAgIHZhciBkZWZhdWx0SXNDb2xsYXBzZWQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gc2hvdWxkQmVDb2xsYXBzZWQoYm9va21hcmspOyB9LCBbYm9va21hcmtdKTtcbiAgICB2YXIgZGVmYXVsdEV4cGFuZGVkID0gaXNCb29rbWFya0V4cGFuZGVkXG4gICAgICAgID8gaXNCb29rbWFya0V4cGFuZGVkKHsgYm9va21hcms6IGJvb2ttYXJrLCBkb2M6IGRvYywgZGVwdGg6IGRlcHRoLCBpbmRleDogaW5kZXggfSlcbiAgICAgICAgOiAhZGVmYXVsdElzQ29sbGFwc2VkO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZGVmYXVsdEV4cGFuZGVkKSwgZXhwYW5kZWQgPSBfYlswXSwgc2V0RXhwYW5kZWQgPSBfYlsxXTtcbiAgICB2YXIgaGFzU3ViSXRlbXMgPSBib29rbWFyay5pdGVtcyAmJiBib29rbWFyay5pdGVtcy5sZW5ndGggPiAwO1xuICAgIHZhciB0b2dnbGVTdWJJdGVtcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldEV4cGFuZGVkKGZ1bmN0aW9uIChleHBhbmRlZCkgeyByZXR1cm4gIWV4cGFuZGVkOyB9KTsgfTtcbiAgICB2YXIgY2xpY2tCb29rbWFrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaGFzU3ViSXRlbXMgJiYgYm9va21hcmsuZGVzdCkge1xuICAgICAgICAgICAgb25KdW1wVG9EZXN0KGJvb2ttYXJrLmRlc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgY2xpY2tJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWhhc1N1Ykl0ZW1zICYmIGJvb2ttYXJrLmRlc3QpIHtcbiAgICAgICAgICAgIG9uSnVtcFRvRGVzdChib29rbWFyay5kZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IFwiYXJpYS1leHBhbmRlZFwiOiBleHBhbmRlZCA/ICd0cnVlJyA6ICdmYWxzZScsIFwiYXJpYS1sYWJlbFwiOiBib29rbWFyay50aXRsZSwgXCJhcmlhLWxldmVsXCI6IGRlcHRoICsgMSwgXCJhcmlhLXBvc2luc2V0XCI6IGluZGV4ICsgMSwgXCJhcmlhLXNldHNpemVcIjogbnVtYmVyT2ZTaWJsaW5ncywgcm9sZTogXCJ0cmVlaXRlbVwiLCB0YWJJbmRleDogLTEgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1ib29rbWFya19faXRlbVwiLCBzdHlsZToge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIlwiLmNvbmNhdChkZXB0aCAqIDEuMjUsIFwicmVtXCIpLFxuICAgICAgICAgICAgfSwgb25DbGljazogY2xpY2tJdGVtIH0sXG4gICAgICAgICAgICBoYXNTdWJJdGVtcyA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1ib29rbWFya19fdG9nZ2xlXCIsIG9uQ2xpY2s6IHRvZ2dsZVN1Ykl0ZW1zIH0sIGV4cGFuZGVkID8gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25BcnJvd0ljb24sIG51bGwpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJpZ2h0QXJyb3dJY29uLCBudWxsKSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicnB2LWJvb2ttYXJrX190b2dnbGVcIiB9KSksXG4gICAgICAgICAgICBib29rbWFyay51cmwgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJycHYtYm9va21hcmtfX3RpdGxlXCIsIGhyZWY6IGJvb2ttYXJrLnVybCwgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3dcIiwgdGFyZ2V0OiBib29rbWFyay5uZXdXaW5kb3cgPyAnX2JsYW5rJyA6ICcnIH0sIGJvb2ttYXJrLnRpdGxlKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1ib29rbWFya19fdGl0bGVcIiwgXCJhcmlhLWxhYmVsXCI6IGJvb2ttYXJrLnRpdGxlLCBvbkNsaWNrOiBjbGlja0Jvb2ttYWsgfSwgYm9va21hcmsudGl0bGUpKSksXG4gICAgICAgIGhhc1N1Ykl0ZW1zICYmIGV4cGFuZGVkICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQm9va21hcmtMaXN0LCB7IGJvb2ttYXJrczogYm9va21hcmsuaXRlbXMsIGRlcHRoOiBkZXB0aCArIDEsIGRvYzogZG9jLCBpc0Jvb2ttYXJrRXhwYW5kZWQ6IGlzQm9va21hcmtFeHBhbmRlZCwgaXNSb290OiBmYWxzZSwgc3RvcmU6IHN0b3JlLCBvbkp1bXBUb0Rlc3Q6IG9uSnVtcFRvRGVzdCB9KSkpKTtcbn07XG5cbnZhciBCb29rbWFya0xpc3QgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYm9va21hcmtzID0gX2EuYm9va21hcmtzLCBfYiA9IF9hLmRlcHRoLCBkZXB0aCA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsIGRvYyA9IF9hLmRvYywgaXNCb29rbWFya0V4cGFuZGVkID0gX2EuaXNCb29rbWFya0V4cGFuZGVkLCBpc1Jvb3QgPSBfYS5pc1Jvb3QsIHN0b3JlID0gX2Euc3RvcmUsIG9uSnVtcFRvRGVzdCA9IF9hLm9uSnVtcFRvRGVzdDtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInVsXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1ib29rbWFya19fbGlzdFwiLCByb2xlOiBpc1Jvb3QgPyAndHJlZScgOiAnZ3JvdXAnLCB0YWJJbmRleDogLTEgfSwgYm9va21hcmtzLm1hcChmdW5jdGlvbiAoYm9va21hcmssIGluZGV4KSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEJvb2ttYXJrSXRlbSwgeyBib29rbWFyazogYm9va21hcmssIGRlcHRoOiBkZXB0aCwgZG9jOiBkb2MsIGluZGV4OiBpbmRleCwgaXNCb29rbWFya0V4cGFuZGVkOiBpc0Jvb2ttYXJrRXhwYW5kZWQsIGtleTogaW5kZXgsIG51bWJlck9mU2libGluZ3M6IGJvb2ttYXJrcy5sZW5ndGgsIHN0b3JlOiBzdG9yZSwgb25KdW1wVG9EZXN0OiBvbkp1bXBUb0Rlc3QgfSkpOyB9KSkpO1xufTtcblxudmFyIFRvZ2dsZTtcbihmdW5jdGlvbiAoVG9nZ2xlKSB7XG4gICAgVG9nZ2xlW1RvZ2dsZVtcIkNvbGxhcHNlXCJdID0gMF0gPSBcIkNvbGxhcHNlXCI7XG4gICAgVG9nZ2xlW1RvZ2dsZVtcIkV4cGFuZFwiXSA9IDFdID0gXCJFeHBhbmRcIjtcbn0pKFRvZ2dsZSB8fCAoVG9nZ2xlID0ge30pKTtcbnZhciBCb29rbWFya0xpc3RSb290ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGJvb2ttYXJrcyA9IF9hLmJvb2ttYXJrcywgZG9jID0gX2EuZG9jLCBpc0Jvb2ttYXJrRXhwYW5kZWQgPSBfYS5pc0Jvb2ttYXJrRXhwYW5kZWQsIHN0b3JlID0gX2Euc3RvcmUsIG9uSnVtcFRvRGVzdCA9IF9hLm9uSnVtcFRvRGVzdDtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnbGlua0Fubm90YXRpb25zJykgfHwge30pLCBsaW5rcyA9IF9iWzBdLCBzZXRMaW5rcyA9IF9iWzFdO1xuICAgIHZhciB1cGRhdGVMaW5rQW5ub3RhdGlvbiA9IGZ1bmN0aW9uIChib29rbWFyaywgbGlua3MpIHtcbiAgICAgICAgdmFyIGRlc3QgPSBib29rbWFyay5kZXN0O1xuICAgICAgICBpZiAoIWRlc3QgfHwgdHlwZW9mIGRlc3QgIT09ICdzdHJpbmcnIHx8ICFsaW5rc1tkZXN0XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbm5vdGF0aW9uQ29udGFpbmVyID0gbGlua3NbZGVzdF07XG4gICAgICAgIGFubm90YXRpb25Db250YWluZXIucXVlcnlTZWxlY3RvckFsbChcImFbZGF0YS1hbm5vdGF0aW9uLWxpbmstZGVzdD1cXFwiXCIuY29uY2F0KGRlc3QsIFwiXFxcIl1cIikpLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYm9va21hcmsudGl0bGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFib29rbWFyay5pdGVtcyB8fCAhYm9va21hcmsuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYm9va21hcmsuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gdXBkYXRlTGlua0Fubm90YXRpb24oaXRlbSwgbGlua3MpOyB9KTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVMaW5rQW5ub3RhdGlvbnNDaGFuZ2VkID0gZnVuY3Rpb24gKGxpbmtzKSB7IHJldHVybiBzZXRMaW5rcyhsaW5rcyk7IH07XG4gICAgdmFyIGp1bXBUb0Rlc3QgPSBmdW5jdGlvbiAoZGVzdCkge1xuICAgICAgICBjb3JlLmdldERlc3RpbmF0aW9uKGRvYywgZGVzdCkudGhlbihmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgcGFnZUluZGV4ID0gdGFyZ2V0LnBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0ID0gdGFyZ2V0LmJvdHRvbU9mZnNldCwgbGVmdE9mZnNldCA9IHRhcmdldC5sZWZ0T2Zmc2V0LCBzY2FsZVRvID0gdGFyZ2V0LnNjYWxlVG87XG4gICAgICAgICAgICBvbkp1bXBUb0Rlc3QocGFnZUluZGV4LCBib3R0b21PZmZzZXQsIGxlZnRPZmZzZXQsIHNjYWxlVG8pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHx8ICFjb250YWluZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoYm9va21hcmtFbGVtZW50cywgYWN0aXZlRWxlKSB7IHJldHVybiBib29rbWFya0VsZW1lbnRzLmluZGV4T2YoYWN0aXZlRWxlKSArIDE7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlKFRvZ2dsZS5Db2xsYXBzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlKFRvZ2dsZS5FeHBhbmQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgICAgICAgICBtb3ZlVG9JdGVtKGZ1bmN0aW9uIChib29rbWFya0VsZW1lbnRzLCBhY3RpdmVFbGUpIHsgcmV0dXJuIGJvb2ttYXJrRWxlbWVudHMuaW5kZXhPZihhY3RpdmVFbGUpIC0gMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFbmQnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZlVG9JdGVtKGZ1bmN0aW9uIChib29rbWFya0VsZW1lbnRzLCBfKSB7IHJldHVybiBib29rbWFya0VsZW1lbnRzLmxlbmd0aCAtIDE7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICBjYXNlICdFbnRlcic6XG4gICAgICAgICAgICBjYXNlICdTcGFjZSc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNsaWNrQm9va21hcmsoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZlVG9JdGVtKGZ1bmN0aW9uIChfLCBfXykgeyByZXR1cm4gMDsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjbGlja0Jvb2ttYXJrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvc2VzdEl0ZW0gPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNsb3Nlc3QoJy5ycHYtYm9va21hcmtfX2l0ZW0nKTtcbiAgICAgICAgdmFyIHRpdGxlRWxlID0gY2xvc2VzdEl0ZW0ucXVlcnlTZWxlY3RvcignLnJwdi1ib29rbWFya19fdGl0bGUnKTtcbiAgICAgICAgaWYgKHRpdGxlRWxlKSB7XG4gICAgICAgICAgICB0aXRsZUVsZS5jbGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgbW92ZVRvSXRlbSA9IGZ1bmN0aW9uIChnZXRJdGVtSW5kZXgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgYm9va21hcmtFbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jwdi1ib29rbWFya19faXRlbScpKTtcbiAgICAgICAgaWYgKGJvb2ttYXJrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2ZUVsZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHZhciB0YXJnZXRJbmRleCA9IE1hdGgubWluKGJvb2ttYXJrRWxlbWVudHMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgZ2V0SXRlbUluZGV4KGJvb2ttYXJrRWxlbWVudHMsIGFjdGl2ZUVsZSkpKTtcbiAgICAgICAgdmFyIHRhcmdldEVsZSA9IGJvb2ttYXJrRWxlbWVudHNbdGFyZ2V0SW5kZXhdO1xuICAgICAgICBhY3RpdmVFbGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICB0YXJnZXRFbGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHRhcmdldEVsZS5mb2N1cygpO1xuICAgIH07XG4gICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uICh0b2dnbGUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgYm9va21hcmtFbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jwdi1ib29rbWFya19faXRlbScpKTtcbiAgICAgICAgaWYgKGJvb2ttYXJrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsb3Nlc3RJdGVtID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbG9zZXN0KCcucnB2LWJvb2ttYXJrX19pdGVtJyk7XG4gICAgICAgIHZhciBleHBhbmVkQXR0cmlidXRlID0gdG9nZ2xlID09PSBUb2dnbGUuQ29sbGFwc2UgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICBpZiAoY2xvc2VzdEl0ZW0gJiYgY2xvc2VzdEl0ZW0ucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gZXhwYW5lZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdmFyIHRvZ2dsZUVsZSA9IGNsb3Nlc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5ycHYtYm9va21hcmtfX3RvZ2dsZScpO1xuICAgICAgICAgICAgaWYgKHRvZ2dsZUVsZSkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUVsZS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdsaW5rQW5ub3RhdGlvbnMnLCBoYW5kbGVMaW5rQW5ub3RhdGlvbnNDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdsaW5rQW5ub3RhdGlvbnMnLCBoYW5kbGVMaW5rQW5ub3RhdGlvbnNDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBib29rbWFya3MuZm9yRWFjaChmdW5jdGlvbiAoYm9va21hcmspIHsgcmV0dXJuIHVwZGF0ZUxpbmtBbm5vdGF0aW9uKGJvb2ttYXJrLCBsaW5rcyk7IH0pO1xuICAgIH0sIFtsaW5rc10pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib29rbWFya0VsZW1lbnRzID0gW10uc2xpY2UuY2FsbChjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncnB2LWJvb2ttYXJrX19pdGVtJykpO1xuICAgICAgICBpZiAoYm9va21hcmtFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBib29rbWFya0VsZW1lbnRzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICBib29rbWFya0VsZW1lbnRzWzBdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEJvb2ttYXJrTGlzdCwgeyBib29rbWFya3M6IGJvb2ttYXJrcywgZGVwdGg6IDAsIGRvYzogZG9jLCBpc0Jvb2ttYXJrRXhwYW5kZWQ6IGlzQm9va21hcmtFeHBhbmRlZCwgaXNSb290OiB0cnVlLCBzdG9yZTogc3RvcmUsIG9uSnVtcFRvRGVzdDoganVtcFRvRGVzdCB9KSkpO1xufTtcblxudmFyIEJvb2ttYXJrTG9hZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgaXNCb29rbWFya0V4cGFuZGVkID0gX2EuaXNCb29rbWFya0V4cGFuZGVkLCBzdG9yZSA9IF9hLnN0b3JlLCBvbkp1bXBUb0Rlc3QgPSBfYS5vbkp1bXBUb0Rlc3Q7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgICBpdGVtczogW10sXG4gICAgfSksIGJvb2ttYXJrcyA9IF9iWzBdLCBzZXRCb29rbWFya3MgPSBfYlsxXTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldEJvb2ttYXJrcyh7XG4gICAgICAgICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgIH0pO1xuICAgICAgICBkb2MuZ2V0T3V0bGluZSgpLnRoZW4oZnVuY3Rpb24gKG91dGxpbmUpIHtcbiAgICAgICAgICAgIHNldEJvb2ttYXJrcyh7XG4gICAgICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaXRlbXM6IG91dGxpbmUgfHwgW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2RvY10pO1xuICAgIHJldHVybiAhYm9va21hcmtzLmlzTG9hZGVkID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtYm9va21hcmtfX2xvYWRlclwiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNwaW5uZXIsIG51bGwpKSkgOiBib29rbWFya3MuaXRlbXMubGVuZ3RoID09PSAwID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJib29rbWFya19fZW1wdHlcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1ib29rbWFya19fZW1wdHknOiB0cnVlLFxuICAgICAgICAgICAgJ3Jwdi1ib29rbWFya19fZW1wdHktLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSB9LCBsMTBuICYmIGwxMG4uYm9va21hcmsgPyBsMTBuLmJvb2ttYXJrLm5vQm9va21hcmsgOiAnVGhlcmUgaXMgbm8gYm9va21hcmsnKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcImJvb2ttYXJrX19jb250YWluZXJcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1ib29rbWFya19fY29udGFpbmVyJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtYm9va21hcmtfX2NvbnRhaW5lci0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0xpc3RSb290LCB7IGJvb2ttYXJrczogYm9va21hcmtzLml0ZW1zLCBkb2M6IGRvYywgaXNCb29rbWFya0V4cGFuZGVkOiBpc0Jvb2ttYXJrRXhwYW5kZWQsIHN0b3JlOiBzdG9yZSwgb25KdW1wVG9EZXN0OiBvbkp1bXBUb0Rlc3QgfSkpKTtcbn07XG5cbnZhciBCb29rbWFya0xpc3RXaXRoU3RvcmUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNCb29rbWFya0V4cGFuZGVkID0gX2EuaXNCb29rbWFya0V4cGFuZGVkLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdkb2MnKSksIGN1cnJlbnREb2MgPSBfYlswXSwgc2V0Q3VycmVudERvYyA9IF9iWzFdO1xuICAgIHZhciBoYW5kbGVEb2N1bWVudENoYW5nZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHNldEN1cnJlbnREb2MoZG9jKTtcbiAgICB9O1xuICAgIHZhciBqdW1wID0gZnVuY3Rpb24gKHBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0LCBsZWZ0T2Zmc2V0LCBzY2FsZVRvKSB7XG4gICAgICAgIHZhciBqdW1wVG9EZXN0aW5hdGlvbiA9IHN0b3JlLmdldCgnanVtcFRvRGVzdGluYXRpb24nKTtcbiAgICAgICAgaWYgKGp1bXBUb0Rlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBqdW1wVG9EZXN0aW5hdGlvbihwYWdlSW5kZXgsIGJvdHRvbU9mZnNldCwgbGVmdE9mZnNldCwgc2NhbGVUbyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBjdXJyZW50RG9jID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0xvYWRlciwgeyBkb2M6IGN1cnJlbnREb2MsIGlzQm9va21hcmtFeHBhbmRlZDogaXNCb29rbWFya0V4cGFuZGVkLCBzdG9yZTogc3RvcmUsIG9uSnVtcFRvRGVzdDoganVtcCB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1ib29rbWFya19fbG9hZGVyXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpKTtcbn07XG5cbnZhciBib29rbWFya1BsdWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICBsaW5rQW5ub3RhdGlvbnM6IHt9LFxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIEJvb2ttYXJrc0RlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0xpc3RXaXRoU3RvcmUsIHsgaXNCb29rbWFya0V4cGFuZGVkOiBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMuaXNCb29rbWFya0V4cGFuZGVkLCBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBvbkFubm90YXRpb25MYXllclJlbmRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghZS5hbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlua3MgPSBlLmFubm90YXRpb25zLmZpbHRlcihmdW5jdGlvbiAoYW5ub3RhdGlvbikgeyByZXR1cm4gYW5ub3RhdGlvbi5zdWJ0eXBlID09PSAnTGluayc7IH0pO1xuICAgICAgICBpZiAoIWxpbmtzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5rQW5ub3RhdGlvbnMgPSBzdG9yZS5nZXQoJ2xpbmtBbm5vdGF0aW9ucycpIHx8IHt9O1xuICAgICAgICBsaW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChhbm5vdGF0aW9uKSB7IHJldHVybiAobGlua0Fubm90YXRpb25zW2Fubm90YXRpb24uZGVzdF0gPSBlLmNvbnRhaW5lcik7IH0pO1xuICAgICAgICBzdG9yZS51cGRhdGUoJ2xpbmtBbm5vdGF0aW9ucycsIGxpbmtBbm5vdGF0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2p1bXBUb0Rlc3RpbmF0aW9uJywgcGx1Z2luRnVuY3Rpb25zLmp1bXBUb0Rlc3RpbmF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb2N1bWVudExvYWQ6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdkb2MnLCBwcm9wcy5kb2MpO1xuICAgICAgICB9LFxuICAgICAgICBCb29rbWFya3M6IEJvb2ttYXJrc0RlY29yYXRvcixcbiAgICAgICAgb25Bbm5vdGF0aW9uTGF5ZXJSZW5kZXI6IG9uQW5ub3RhdGlvbkxheWVyUmVuZGVyLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkRvd25BcnJvd0ljb24gPSBEb3duQXJyb3dJY29uO1xuZXhwb3J0cy5SaWdodEFycm93SWNvbiA9IFJpZ2h0QXJyb3dJY29uO1xuZXhwb3J0cy5ib29rbWFya1BsdWdpbiA9IGJvb2ttYXJrUGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/bookmark/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/bookmark/lib/index.js ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/bookmark.js */ \"./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYm9va21hcmsvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSw4SEFBNkM7QUFDakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2Jvb2ttYXJrL2xpYi9pbmRleC5qcz81OWQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9ib29rbWFyay5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9ib29rbWFyay5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/bookmark/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/core/lib/cjs/core.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/core/lib/cjs/core.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar PdfJsApi = __webpack_require__(/*! pdfjs-dist */ \"./node_modules/pdfjs-dist/build/pdf.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\nvar PdfJsApi__namespace = /*#__PURE__*/_interopNamespace(PdfJsApi);\n\nexports.AnnotationType = void 0;\n(function (AnnotationType) {\n    AnnotationType[AnnotationType[\"Text\"] = 1] = \"Text\";\n    AnnotationType[AnnotationType[\"Link\"] = 2] = \"Link\";\n    AnnotationType[AnnotationType[\"FreeText\"] = 3] = \"FreeText\";\n    AnnotationType[AnnotationType[\"Line\"] = 4] = \"Line\";\n    AnnotationType[AnnotationType[\"Square\"] = 5] = \"Square\";\n    AnnotationType[AnnotationType[\"Circle\"] = 6] = \"Circle\";\n    AnnotationType[AnnotationType[\"Polygon\"] = 7] = \"Polygon\";\n    AnnotationType[AnnotationType[\"Polyline\"] = 8] = \"Polyline\";\n    AnnotationType[AnnotationType[\"Highlight\"] = 9] = \"Highlight\";\n    AnnotationType[AnnotationType[\"Underline\"] = 10] = \"Underline\";\n    AnnotationType[AnnotationType[\"Squiggly\"] = 11] = \"Squiggly\";\n    AnnotationType[AnnotationType[\"StrikeOut\"] = 12] = \"StrikeOut\";\n    AnnotationType[AnnotationType[\"Stamp\"] = 13] = \"Stamp\";\n    AnnotationType[AnnotationType[\"Caret\"] = 14] = \"Caret\";\n    AnnotationType[AnnotationType[\"Ink\"] = 15] = \"Ink\";\n    AnnotationType[AnnotationType[\"Popup\"] = 16] = \"Popup\";\n    AnnotationType[AnnotationType[\"FileAttachment\"] = 17] = \"FileAttachment\";\n})(exports.AnnotationType || (exports.AnnotationType = {}));\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nexports.TextDirection = void 0;\n(function (TextDirection) {\n    TextDirection[\"RightToLeft\"] = \"RTL\";\n    TextDirection[\"LeftToRight\"] = \"LTR\";\n})(exports.TextDirection || (exports.TextDirection = {}));\nvar ThemeContext = React__namespace.createContext({\n    currentTheme: 'light',\n    direction: exports.TextDirection.LeftToRight,\n    setCurrentTheme: function () { },\n});\n\nvar classNames = function (classes) {\n    var result = [];\n    Object.keys(classes).forEach(function (clazz) {\n        if (clazz && classes[clazz]) {\n            result.push(clazz);\n        }\n    });\n    return result.join(' ');\n};\n\nvar Button = function (_a) {\n    var children = _a.children, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\n            'rpv-core__button': true,\n            'rpv-core__button--rtl': isRtl,\n        }), type: \"button\", onClick: onClick }, attrs), children));\n};\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React__namespace.useLayoutEffect : React__namespace.useEffect;\n\nvar useIntersectionObserver = function (props) {\n    var containerRef = React__namespace.useRef(null);\n    var once = props.once, threshold = props.threshold, onVisibilityChanged = props.onVisibilityChanged;\n    useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var intersectionTracker = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entry) {\n                var isVisible = entry.isIntersecting;\n                var ratio = entry.intersectionRatio;\n                onVisibilityChanged({ isVisible: isVisible, ratio: ratio });\n                if (isVisible && once) {\n                    intersectionTracker.unobserve(container);\n                    intersectionTracker.disconnect();\n                }\n            });\n        }, {\n            threshold: threshold || 0,\n        });\n        intersectionTracker.observe(container);\n        return function () {\n            intersectionTracker.unobserve(container);\n            intersectionTracker.disconnect();\n        };\n    }, []);\n    return containerRef;\n};\n\nvar LazyRender = function (_a) {\n    var attrs = _a.attrs, children = _a.children, testId = _a.testId;\n    var _b = React__namespace.useState(false), visible = _b[0], setVisible = _b[1];\n    var containerAttrs = testId ? __assign(__assign({}, attrs), { 'data-testid': testId }) : attrs;\n    var handleVisibilityChanged = function (params) {\n        if (params.isVisible) {\n            setVisible(true);\n        }\n    };\n    var containerRef = useIntersectionObserver({\n        once: true,\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    return (React__namespace.createElement(\"div\", __assign({ ref: containerRef }, containerAttrs), visible && children));\n};\n\nvar Menu = function (_a) {\n    var children = _a.children;\n    var containerRef = React__namespace.useRef();\n    var visibleMenuItemsRef = React__namespace.useRef([]);\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var handleKeyDown = function (e) {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        switch (e.key) {\n            case 'Tab':\n                e.preventDefault();\n                break;\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (_, currentIndex) { return currentIndex + 1; });\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                moveToItem(function (_, currentIndex) { return currentIndex - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (items, _) { return items.length - 1; });\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var moveToItem = function (getNextItem) {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = visibleMenuItemsRef.current;\n        var currentIndex = items.findIndex(function (item) { return item.getAttribute('tabindex') === '0'; });\n        var targetIndex = Math.min(items.length - 1, Math.max(0, getNextItem(items, currentIndex)));\n        if (currentIndex >= 0 && currentIndex <= items.length - 1) {\n            items[currentIndex].setAttribute('tabindex', '-1');\n        }\n        items[targetIndex].setAttribute('tabindex', '0');\n        items[targetIndex].focus();\n    };\n    var findVisibleItems = function (container) {\n        var visibleItems = [];\n        container.querySelectorAll('.rpv-core__menu-item[role=\"menuitem\"]').forEach(function (item) {\n            if (item instanceof HTMLElement) {\n                var parent_1 = item.parentElement;\n                if (parent_1 === container) {\n                    visibleItems.push(item);\n                }\n                else {\n                    if (window.getComputedStyle(parent_1).display !== 'none') {\n                        visibleItems.push(item);\n                    }\n                }\n            }\n        });\n        return visibleItems;\n    };\n    useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var visibleItems = findVisibleItems(container);\n        visibleMenuItemsRef.current = visibleItems;\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        document.addEventListener('keydown', handleKeyDown);\n        return function () {\n            document.removeEventListener('keydown', handleKeyDown);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, \"aria-orientation\": \"vertical\", className: classNames({\n            'rpv-core__menu': true,\n            'rpv-core__menu--rtl': isRtl,\n        }), role: \"menu\", tabIndex: 0 }, children));\n};\n\nvar MenuDivider = function () { return (React__namespace.createElement(\"div\", { \"aria-orientation\": \"horizontal\", className: \"rpv-core__menu-divider\", role: \"separator\" })); };\n\nvar Icon = function (_a) {\n    var children = _a.children, _b = _a.ignoreDirection, ignoreDirection = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 24 : _c;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = !ignoreDirection && direction === exports.TextDirection.RightToLeft;\n    var width = \"\".concat(size || 24, \"px\");\n    return (React__namespace.createElement(\"svg\", { \"aria-hidden\": \"true\", className: classNames({\n            'rpv-core__icon': true,\n            'rpv-core__icon--rtl': isRtl,\n        }), focusable: \"false\", height: width, viewBox: \"0 0 24 24\", width: width }, children));\n};\n\nvar CheckIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.5,0.499l-16.5,23l-6.5-6.5\" }))); };\n\nvar MenuItem = function (_a) {\n    var _b = _a.checked, checked = _b === void 0 ? false : _b, children = _a.children, _c = _a.icon, icon = _c === void 0 ? null : _c, _d = _a.isDisabled, isDisabled = _d === void 0 ? false : _d, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\n            'rpv-core__menu-item': true,\n            'rpv-core__menu-item--disabled': isDisabled,\n            'rpv-core__menu-item--ltr': !isRtl,\n            'rpv-core__menu-item--rtl': isRtl,\n        }), role: \"menuitem\", tabIndex: -1, type: \"button\", onClick: onClick }, attrs),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__menu-item-icon': true,\n                'rpv-core__menu-item-icon--ltr': !isRtl,\n                'rpv-core__menu-item-icon--rtl': isRtl,\n            }) }, icon),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__menu-item-label': true,\n                'rpv-core__menu-item-label--ltr': !isRtl,\n                'rpv-core__menu-item-label--rtl': isRtl,\n            }) }, children),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__menu-item-check': true,\n                'rpv-core__menu-item-check--ltr': !isRtl,\n                'rpv-core__menu-item-check--rtl': isRtl,\n            }) }, checked && React__namespace.createElement(CheckIcon, null))));\n};\n\nvar MinimalButton = function (_a) {\n    var _b = _a.ariaLabel, ariaLabel = _b === void 0 ? '' : _b, _c = _a.ariaKeyShortcuts, ariaKeyShortcuts = _c === void 0 ? '' : _c, children = _a.children, _d = _a.isDisabled, isDisabled = _d === void 0 ? false : _d, _e = _a.isSelected, isSelected = _e === void 0 ? false : _e, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ \"aria-label\": ariaLabel }, (ariaKeyShortcuts && { 'aria-keyshortcuts': ariaKeyShortcuts }), (isDisabled && { 'aria-disabled': true }), { className: classNames({\n            'rpv-core__minimal-button': true,\n            'rpv-core__minimal-button--disabled': isDisabled,\n            'rpv-core__minimal-button--rtl': isRtl,\n            'rpv-core__minimal-button--selected': isSelected,\n        }), type: \"button\", onClick: onClick }, attrs), children));\n};\n\nvar PrimaryButton = function (_a) {\n    var children = _a.children, testId = _a.testId, onClick = _a.onClick;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = testId ? { 'data-testid': testId } : {};\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\n            'rpv-core__primary-button': true,\n            'rpv-core__primary-button--rtl': isRtl,\n        }), type: \"button\", onClick: onClick }, attrs), children));\n};\n\nvar ProgressBar = function (_a) {\n    var progress = _a.progress;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    return (React__namespace.createElement(\"div\", { className: classNames({\n            'rpv-core__progress-bar': true,\n            'rpv-core__progress-bar--rtl': isRtl,\n        }) },\n        React__namespace.createElement(\"div\", { className: \"rpv-core__progress-bar-progress\", style: { width: \"\".concat(progress, \"%\") } },\n            progress,\n            \"%\")));\n};\n\nvar Separator = function () { return React__namespace.createElement(\"div\", { className: \"rpv-core__separator\" }); };\n\nvar Spinner = function (_a) {\n    var _b = _a.size, size = _b === void 0 ? '4rem' : _b, testId = _a.testId;\n    var _c = React__namespace.useState(false), visible = _c[0], setVisible = _c[1];\n    var attrs = testId ? { 'data-testid': testId } : {};\n    var handleVisibilityChanged = function (params) {\n        setVisible(params.isVisible);\n    };\n    var containerRef = useIntersectionObserver({\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    return (React__namespace.createElement(\"div\", __assign({}, attrs, { className: classNames({\n            'rpv-core__spinner': true,\n            'rpv-core__spinner--animating': visible,\n        }), ref: containerRef, style: { height: size, width: size } })));\n};\n\nvar Splitter = function (_a) {\n    var constrain = _a.constrain;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var resizerRef = React__namespace.useRef();\n    var leftSideRef = React__namespace.useRef();\n    var rightSideRef = React__namespace.useRef();\n    var xRef = React__namespace.useRef(0);\n    var yRef = React__namespace.useRef(0);\n    var leftWidthRef = React__namespace.useRef(0);\n    var resizerWidthRef = React__namespace.useRef(0);\n    var eventOptions = {\n        capture: true,\n    };\n    var handleMouseMove = function (e) {\n        var resizerEle = resizerRef.current;\n        var leftSide = leftSideRef.current;\n        var rightSide = rightSideRef.current;\n        if (!resizerEle || !leftSide || !rightSide) {\n            return;\n        }\n        var resizerWidth = resizerWidthRef.current;\n        var dx = e.clientX - xRef.current;\n        var firstHalfSize = leftWidthRef.current + (isRtl ? -dx : dx);\n        var containerWidth = resizerEle.parentElement.getBoundingClientRect().width;\n        var firstHalfPercentage = (firstHalfSize * 100) / containerWidth;\n        resizerEle.classList.add('rpv-core__splitter--resizing');\n        if (constrain) {\n            var secondHalfSize = containerWidth - firstHalfSize - resizerWidth;\n            var secondHalfPercentage = (secondHalfSize * 100) / containerWidth;\n            if (!constrain({ firstHalfPercentage: firstHalfPercentage, firstHalfSize: firstHalfSize, secondHalfPercentage: secondHalfPercentage, secondHalfSize: secondHalfSize })) {\n                return;\n            }\n        }\n        leftSide.style.width = \"\".concat(firstHalfPercentage, \"%\");\n        document.body.classList.add('rpv-core__splitter-body--resizing');\n        leftSide.classList.add('rpv-core__splitter-sibling--resizing');\n        rightSide.classList.add('rpv-core__splitter-sibling--resizing');\n    };\n    var handleMouseUp = function (e) {\n        var resizerEle = resizerRef.current;\n        var leftSide = leftSideRef.current;\n        var rightSide = rightSideRef.current;\n        if (!resizerEle || !leftSide || !rightSide) {\n            return;\n        }\n        document.body.classList.remove('rpv-core__splitter-body--resizing');\n        resizerEle.classList.remove('rpv-core__splitter--resizing');\n        leftSide.classList.remove('rpv-core__splitter-sibling--resizing');\n        rightSide.classList.remove('rpv-core__splitter-sibling--resizing');\n        document.removeEventListener('mousemove', handleMouseMove, eventOptions);\n        document.removeEventListener('mouseup', handleMouseUp, eventOptions);\n    };\n    var handleMouseDown = function (e) {\n        var leftSide = leftSideRef.current;\n        if (!leftSide) {\n            return;\n        }\n        xRef.current = e.clientX;\n        yRef.current = e.clientY;\n        leftWidthRef.current = leftSide.getBoundingClientRect().width;\n        document.addEventListener('mousemove', handleMouseMove, eventOptions);\n        document.addEventListener('mouseup', handleMouseUp, eventOptions);\n    };\n    React__namespace.useEffect(function () {\n        var resizerEle = resizerRef.current;\n        if (!resizerEle) {\n            return;\n        }\n        resizerWidthRef.current = resizerEle.getBoundingClientRect().width;\n        leftSideRef.current = resizerEle.previousElementSibling;\n        rightSideRef.current = resizerEle.nextElementSibling;\n    }, []);\n    return React__namespace.createElement(\"div\", { ref: resizerRef, className: \"rpv-core__splitter\", onMouseDown: handleMouseDown });\n};\n\nvar TextBox = function (_a) {\n    var _b = _a.ariaLabel, ariaLabel = _b === void 0 ? '' : _b, _c = _a.autoFocus, autoFocus = _c === void 0 ? false : _c, _d = _a.placeholder, placeholder = _d === void 0 ? '' : _d, testId = _a.testId, _e = _a.type, type = _e === void 0 ? 'text' : _e, _f = _a.value, value = _f === void 0 ? '' : _f, onChange = _a.onChange, _g = _a.onKeyDown, onKeyDown = _g === void 0 ? function () { } : _g;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var textboxRef = React__namespace.useRef();\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var attrs = {\n        ref: textboxRef,\n        'data-testid': '',\n        'aria-label': ariaLabel,\n        className: classNames({\n            'rpv-core__textbox': true,\n            'rpv-core__textbox--rtl': isRtl,\n        }),\n        placeholder: placeholder,\n        value: value,\n        onChange: function (e) { return onChange(e.target.value); },\n        onKeyDown: onKeyDown,\n    };\n    if (testId) {\n        attrs['data-testid'] = testId;\n    }\n    useIsomorphicLayoutEffect(function () {\n        if (autoFocus) {\n            var textboxEle = textboxRef.current;\n            if (textboxEle) {\n                var x = window.scrollX;\n                var y = window.scrollY;\n                textboxEle.focus();\n                window.scrollTo(x, y);\n            }\n        }\n    }, []);\n    return type === 'text' ? React__namespace.createElement(\"input\", __assign({ type: \"text\" }, attrs)) : React__namespace.createElement(\"input\", __assign({ type: \"password\" }, attrs));\n};\n\nvar useIsMounted = function () {\n    var isMountedRef = React__namespace.useRef(false);\n    React__namespace.useEffect(function () {\n        isMountedRef.current = true;\n        return function () {\n            isMountedRef.current = false;\n        };\n    }, []);\n    return isMountedRef;\n};\n\nvar PageRenderStatus;\n(function (PageRenderStatus) {\n    PageRenderStatus[\"NotRenderedYet\"] = \"NotRenderedYet\";\n    PageRenderStatus[\"Rendering\"] = \"Rendering\";\n    PageRenderStatus[\"Rendered\"] = \"Rendered\";\n})(PageRenderStatus || (PageRenderStatus = {}));\nvar OUT_OF_RANGE_VISIBILITY = -9999;\nvar useRenderQueue = function (_a) {\n    var doc = _a.doc;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var initialPageVisibilities = React__namespace.useMemo(function () {\n        return Array(numPages)\n            .fill(null)\n            .map(function (_, pageIndex) { return ({\n            pageIndex: pageIndex,\n            renderStatus: PageRenderStatus.NotRenderedYet,\n            visibility: OUT_OF_RANGE_VISIBILITY,\n        }); });\n    }, [docId]);\n    var latestRef = React__namespace.useRef({\n        currentRenderingPage: -1,\n        startRange: 0,\n        endRange: numPages - 1,\n        visibilities: initialPageVisibilities,\n    });\n    var markNotRendered = function () {\n        for (var i = 0; i < numPages; i++) {\n            latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\n        }\n    };\n    var markRendered = function (pageIndex) {\n        latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendered;\n    };\n    var markRendering = function (pageIndex) {\n        if (latestRef.current.currentRenderingPage !== -1 &&\n            latestRef.current.currentRenderingPage !== pageIndex &&\n            latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus ===\n                PageRenderStatus.Rendering) {\n            latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus =\n                PageRenderStatus.NotRenderedYet;\n        }\n        latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendering;\n        latestRef.current.currentRenderingPage = pageIndex;\n    };\n    var setRange = function (startIndex, endIndex) {\n        latestRef.current.startRange = startIndex;\n        latestRef.current.endRange = endIndex;\n        for (var i = 0; i < numPages; i++) {\n            if (i < startIndex || i > endIndex) {\n                latestRef.current.visibilities[i].visibility = OUT_OF_RANGE_VISIBILITY;\n                latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\n            }\n        }\n    };\n    var setOutOfRange = function (pageIndex) {\n        setVisibility(pageIndex, OUT_OF_RANGE_VISIBILITY);\n    };\n    var setVisibility = function (pageIndex, visibility) {\n        latestRef.current.visibilities[pageIndex].visibility = visibility;\n    };\n    var getHighestPriorityPage = function () {\n        var visiblePages = latestRef.current.visibilities\n            .slice(latestRef.current.startRange, latestRef.current.endRange + 1)\n            .filter(function (item) { return item.visibility > OUT_OF_RANGE_VISIBILITY; });\n        if (!visiblePages.length) {\n            return -1;\n        }\n        var firstVisiblePage = visiblePages[0].pageIndex;\n        var lastVisiblePage = visiblePages[visiblePages.length - 1].pageIndex;\n        var numVisiblePages = visiblePages.length;\n        for (var i = 0; i < numVisiblePages; i++) {\n            if (visiblePages[i].renderStatus === PageRenderStatus.Rendering) {\n                return -1;\n            }\n            if (visiblePages[i].renderStatus === PageRenderStatus.NotRenderedYet) {\n                return visiblePages[i].pageIndex;\n            }\n        }\n        if (lastVisiblePage + 1 < numPages &&\n            latestRef.current.visibilities[lastVisiblePage + 1].renderStatus !== PageRenderStatus.Rendered) {\n            return lastVisiblePage + 1;\n        }\n        else if (firstVisiblePage - 1 >= 0 &&\n            latestRef.current.visibilities[firstVisiblePage - 1].renderStatus !== PageRenderStatus.Rendered) {\n            return firstVisiblePage - 1;\n        }\n        return -1;\n    };\n    var isInRange = function (pageIndex) {\n        return pageIndex >= latestRef.current.startRange && pageIndex <= latestRef.current.endRange;\n    };\n    return {\n        getHighestPriorityPage: getHighestPriorityPage,\n        isInRange: isInRange,\n        markNotRendered: markNotRendered,\n        markRendered: markRendered,\n        markRendering: markRendering,\n        setOutOfRange: setOutOfRange,\n        setRange: setRange,\n        setVisibility: setVisibility,\n    };\n};\n\nvar core = {\n\taskingPassword: {\n\t\trequirePasswordToOpen: \"This document requires a password to open\",\n\t\tsubmit: \"Submit\"\n\t},\n\twrongPassword: {\n\t\ttryAgain: \"The password is wrong. Please try again\"\n\t},\n\tpageLabel: \"Page {{pageIndex}}\"\n};\nvar enUs = {\n\tcore: core\n};\n\nvar DefaultLocalization = enUs;\nvar LocalizationContext = React__namespace.createContext({\n    l10n: DefaultLocalization,\n    setL10n: function () { },\n});\n\nvar id = 0;\nvar uniqueId = function () { return id++; };\n\nvar useClickOutside = function (closeOnClickOutside, targetRef, onClickOutside) {\n    var clickHandler = function (e) {\n        var target = targetRef.current;\n        if (target && !target.contains(e.target)) {\n            onClickOutside();\n        }\n    };\n    React__namespace.useEffect(function () {\n        if (!closeOnClickOutside) {\n            return;\n        }\n        var eventOptions = {\n            capture: true,\n        };\n        document.addEventListener('click', clickHandler, eventOptions);\n        return function () {\n            document.removeEventListener('click', clickHandler, eventOptions);\n        };\n    }, []);\n};\n\nvar useEscape = function (handler) {\n    var keyUpHandler = function (e) {\n        if (e.key === 'Escape') {\n            handler();\n        }\n    };\n    React__namespace.useEffect(function () {\n        document.addEventListener('keyup', keyUpHandler);\n        return function () {\n            document.removeEventListener('keyup', keyUpHandler);\n        };\n    }, []);\n};\n\nvar useLockScroll = function () {\n    React__namespace.useEffect(function () {\n        var originalStyle = window.getComputedStyle(document.body).overflow;\n        document.body.style.overflow = 'hidden';\n        return function () {\n            document.body.style.overflow = originalStyle;\n        };\n    }, []);\n};\n\nvar ModalBody = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, onToggle = _a.onToggle;\n    var contentRef = React__namespace.useRef();\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    useLockScroll();\n    useEscape(function () {\n        if (contentRef.current && closeOnEscape) {\n            onToggle();\n        }\n    });\n    useClickOutside(closeOnClickOutside, contentRef, onToggle);\n    useIsomorphicLayoutEffect(function () {\n        var contentEle = contentRef.current;\n        if (!contentEle) {\n            return;\n        }\n        var maxHeight = document.body.clientHeight * 0.75;\n        if (contentEle.getBoundingClientRect().height >= maxHeight) {\n            contentEle.style.overflow = 'auto';\n            contentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { \"aria-modal\": \"true\", className: classNames({\n            'rpv-core__modal-body': true,\n            'rpv-core__modal-body--rtl': isRtl,\n        }), id: \"rpv-core__modal-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"dialog\", tabIndex: -1 }, children));\n};\n\nvar ModalOverlay = function (_a) {\n    var children = _a.children;\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__modal-overlay\" }, children);\n};\n\nexports.ToggleStatus = void 0;\n(function (ToggleStatus) {\n    ToggleStatus[\"Close\"] = \"Close\";\n    ToggleStatus[\"Open\"] = \"Open\";\n    ToggleStatus[\"Toggle\"] = \"Toggle\";\n})(exports.ToggleStatus || (exports.ToggleStatus = {}));\n\nvar useToggle = function (isOpened) {\n    var _a = React__namespace.useState(isOpened), opened = _a[0], setOpened = _a[1];\n    var toggle = function (status) {\n        switch (status) {\n            case exports.ToggleStatus.Close:\n                setOpened(false);\n                break;\n            case exports.ToggleStatus.Open:\n                setOpened(true);\n                break;\n            case exports.ToggleStatus.Toggle:\n            default:\n                setOpened(function (isOpened) { return !isOpened; });\n                break;\n        }\n    };\n    return { opened: opened, toggle: toggle };\n};\n\nvar Portal = function (_a) {\n    var content = _a.content, _b = _a.isOpened, isOpened = _b === void 0 ? false : _b, target = _a.target;\n    var _c = useToggle(isOpened), opened = _c.opened, toggle = _c.toggle;\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        target && target(toggle, opened),\n        opened && content(toggle)));\n};\n\nvar Modal = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, content = _a.content, _b = _a.isOpened, isOpened = _b === void 0 ? false : _b, target = _a.target;\n    var controlsSuffix = ariaControlsSuffix || \"\".concat(uniqueId());\n    var renderTarget = function (toggle, opened) { return (React__namespace.createElement(\"div\", { \"aria-expanded\": opened ? 'true' : 'false', \"aria-haspopup\": \"dialog\", \"aria-controls\": \"rpv-core__modal-body-\".concat(controlsSuffix) }, target(toggle, opened))); };\n    var renderContent = function (toggle) { return (React__namespace.createElement(ModalOverlay, null,\n        React__namespace.createElement(ModalBody, { ariaControlsSuffix: controlsSuffix, closeOnClickOutside: closeOnClickOutside, closeOnEscape: closeOnEscape, onToggle: toggle }, content(toggle)))); };\n    return React__namespace.createElement(Portal, { target: target ? renderTarget : null, content: renderContent, isOpened: isOpened });\n};\n\nexports.Position = void 0;\n(function (Position) {\n    Position[\"TopLeft\"] = \"TOP_LEFT\";\n    Position[\"TopCenter\"] = \"TOP_CENTER\";\n    Position[\"TopRight\"] = \"TOP_RIGHT\";\n    Position[\"RightTop\"] = \"RIGHT_TOP\";\n    Position[\"RightCenter\"] = \"RIGHT_CENTER\";\n    Position[\"RightBottom\"] = \"RIGHT_BOTTOM\";\n    Position[\"BottomLeft\"] = \"BOTTOM_LEFT\";\n    Position[\"BottomCenter\"] = \"BOTTOM_CENTER\";\n    Position[\"BottomRight\"] = \"BOTTOM_RIGHT\";\n    Position[\"LeftTop\"] = \"LEFT_TOP\";\n    Position[\"LeftCenter\"] = \"LEFT_CENTER\";\n    Position[\"LeftBottom\"] = \"LEFT_BOTTOM\";\n})(exports.Position || (exports.Position = {}));\n\nvar calculatePosition = function (content, target, position, offset) {\n    var targetRect = target.getBoundingClientRect();\n    var contentRect = content.getBoundingClientRect();\n    var height = contentRect.height, width = contentRect.width;\n    var top = 0;\n    var left = 0;\n    switch (position) {\n        case exports.Position.TopLeft:\n            top = targetRect.top - height;\n            left = targetRect.left;\n            break;\n        case exports.Position.TopCenter:\n            top = targetRect.top - height;\n            left = targetRect.left + targetRect.width / 2 - width / 2;\n            break;\n        case exports.Position.TopRight:\n            top = targetRect.top - height;\n            left = targetRect.left + targetRect.width - width;\n            break;\n        case exports.Position.RightTop:\n            top = targetRect.top;\n            left = targetRect.left + targetRect.width;\n            break;\n        case exports.Position.RightCenter:\n            top = targetRect.top + targetRect.height / 2 - height / 2;\n            left = targetRect.left + targetRect.width;\n            break;\n        case exports.Position.RightBottom:\n            top = targetRect.top + targetRect.height - height;\n            left = targetRect.left + targetRect.width;\n            break;\n        case exports.Position.BottomLeft:\n            top = targetRect.top + targetRect.height;\n            left = targetRect.left;\n            break;\n        case exports.Position.BottomCenter:\n            top = targetRect.top + targetRect.height;\n            left = targetRect.left + targetRect.width / 2 - width / 2;\n            break;\n        case exports.Position.BottomRight:\n            top = targetRect.top + targetRect.height;\n            left = targetRect.left + targetRect.width - width;\n            break;\n        case exports.Position.LeftTop:\n            top = targetRect.top;\n            left = targetRect.left - width;\n            break;\n        case exports.Position.LeftCenter:\n            top = targetRect.top + targetRect.height / 2 - height / 2;\n            left = targetRect.left - width;\n            break;\n        case exports.Position.LeftBottom:\n            top = targetRect.top + targetRect.height - height;\n            left = targetRect.left - width;\n            break;\n    }\n    return {\n        left: left + (offset.left || 0),\n        top: top + (offset.top || 0),\n    };\n};\n\nvar usePosition = function (contentRef, targetRef, anchorRef, position, offset) {\n    useIsomorphicLayoutEffect(function () {\n        var targetEle = targetRef.current;\n        var contentEle = contentRef.current;\n        var anchorEle = anchorRef.current;\n        if (!contentEle || !targetEle || !anchorEle) {\n            return;\n        }\n        var anchorRect = anchorEle.getBoundingClientRect();\n        var _a = calculatePosition(contentEle, targetEle, position, offset), top = _a.top, left = _a.left;\n        contentEle.style.top = \"\".concat(top - anchorRect.top, \"px\");\n        contentEle.style.left = \"\".concat(left - anchorRect.left, \"px\");\n    }, []);\n};\n\nvar Arrow = function (_a) {\n    var _b;\n    var customClassName = _a.customClassName, position = _a.position;\n    return (React__namespace.createElement(\"div\", { className: classNames((_b = {\n                'rpv-core__arrow': true,\n                'rpv-core__arrow--tl': position === exports.Position.TopLeft,\n                'rpv-core__arrow--tc': position === exports.Position.TopCenter,\n                'rpv-core__arrow--tr': position === exports.Position.TopRight,\n                'rpv-core__arrow--rt': position === exports.Position.RightTop,\n                'rpv-core__arrow--rc': position === exports.Position.RightCenter,\n                'rpv-core__arrow--rb': position === exports.Position.RightBottom,\n                'rpv-core__arrow--bl': position === exports.Position.BottomLeft,\n                'rpv-core__arrow--bc': position === exports.Position.BottomCenter,\n                'rpv-core__arrow--br': position === exports.Position.BottomRight,\n                'rpv-core__arrow--lt': position === exports.Position.LeftTop,\n                'rpv-core__arrow--lc': position === exports.Position.LeftCenter,\n                'rpv-core__arrow--lb': position === exports.Position.LeftBottom\n            },\n            _b[\"\".concat(customClassName)] = customClassName !== '',\n            _b)) }));\n};\n\nvar PopoverBody = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, closeOnClickOutside = _a.closeOnClickOutside, offset = _a.offset, position = _a.position, targetRef = _a.targetRef, onClose = _a.onClose;\n    var contentRef = React__namespace.useRef();\n    var innerRef = React__namespace.useRef();\n    var anchorRef = React__namespace.useRef();\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    useClickOutside(closeOnClickOutside, contentRef, onClose);\n    usePosition(contentRef, targetRef, anchorRef, position, offset);\n    useIsomorphicLayoutEffect(function () {\n        var innerContentEle = innerRef.current;\n        if (!innerContentEle) {\n            return;\n        }\n        var maxHeight = document.body.clientHeight * 0.75;\n        if (innerContentEle.getBoundingClientRect().height >= maxHeight) {\n            innerContentEle.style.overflow = 'auto';\n            innerContentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\n        }\n    }, []);\n    var innerId = \"rpv-core__popover-body-inner-\".concat(ariaControlsSuffix);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { ref: anchorRef, style: { left: 0, position: 'absolute', top: 0 } }),\n        React__namespace.createElement(\"div\", { \"aria-describedby\": innerId, className: classNames({\n                'rpv-core__popover-body': true,\n                'rpv-core__popover-body--rtl': isRtl,\n            }), id: \"rpv-core__popover-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"dialog\", tabIndex: -1 },\n            React__namespace.createElement(Arrow, { customClassName: \"rpv-core__popover-body-arrow\", position: position }),\n            React__namespace.createElement(\"div\", { id: innerId, ref: innerRef }, children))));\n};\n\nvar PopoverOverlay = function (_a) {\n    var closeOnEscape = _a.closeOnEscape, onClose = _a.onClose;\n    var containerRef = React__namespace.useRef();\n    useEscape(function () {\n        if (containerRef.current && closeOnEscape) {\n            onClose();\n        }\n    });\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__popover-overlay\", ref: containerRef });\n};\n\nvar Popover = function (_a) {\n    var _b = _a.ariaHasPopup, ariaHasPopup = _b === void 0 ? 'dialog' : _b, ariaControlsSuffix = _a.ariaControlsSuffix, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, content = _a.content, _c = _a.lockScroll, lockScroll = _c === void 0 ? true : _c, offset = _a.offset, position = _a.position, target = _a.target;\n    var _d = useToggle(false), opened = _d.opened, toggle = _d.toggle;\n    var targetRef = React__namespace.useRef();\n    var controlsSuffix = ariaControlsSuffix || \"\".concat(uniqueId());\n    return (React__namespace.createElement(\"div\", { ref: targetRef, \"aria-expanded\": opened ? 'true' : 'false', \"aria-haspopup\": ariaHasPopup, \"aria-controls\": \"rpv-core__popver-body-\".concat(controlsSuffix) },\n        target(toggle, opened),\n        opened && (React__namespace.createElement(React__namespace.Fragment, null,\n            lockScroll && React__namespace.createElement(PopoverOverlay, { closeOnEscape: closeOnEscape, onClose: toggle }),\n            React__namespace.createElement(PopoverBody, { ariaControlsSuffix: controlsSuffix, closeOnClickOutside: closeOnClickOutside, offset: offset, position: position, targetRef: targetRef, onClose: toggle }, content(toggle))))));\n};\n\nvar TooltipBody = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, contentRef = _a.contentRef, offset = _a.offset, position = _a.position, targetRef = _a.targetRef;\n    var anchorRef = React__namespace.useRef();\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    usePosition(contentRef, targetRef, anchorRef, position, offset);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { ref: anchorRef, style: { left: 0, position: 'absolute', top: 0 } }),\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__tooltip-body': true,\n                'rpv-core__tooltip-body--rtl': isRtl,\n            }), id: \"rpv-core__tooltip-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"tooltip\" },\n            React__namespace.createElement(Arrow, { customClassName: \"rpv-core__tooltip-body-arrow\", position: position }),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__tooltip-body-content\" }, children))));\n};\n\nvar Tooltip = function (_a) {\n    var ariaControlsSuffix = _a.ariaControlsSuffix, content = _a.content, offset = _a.offset, position = _a.position, target = _a.target;\n    var _b = useToggle(false), opened = _b.opened, toggle = _b.toggle;\n    var targetRef = React__namespace.useRef();\n    var contentRef = React__namespace.useRef();\n    var controlsSuffix = ariaControlsSuffix || \"\".concat(uniqueId());\n    useEscape(function () {\n        if (targetRef.current && document.activeElement && targetRef.current.contains(document.activeElement)) {\n            close();\n        }\n    });\n    var open = function () {\n        toggle(exports.ToggleStatus.Open);\n    };\n    var close = function () {\n        toggle(exports.ToggleStatus.Close);\n    };\n    var onBlur = function (e) {\n        var shouldHideTooltip = e.relatedTarget instanceof HTMLElement &&\n            e.currentTarget.parentElement &&\n            e.currentTarget.parentElement.contains(e.relatedTarget);\n        if (shouldHideTooltip) {\n            if (contentRef.current) {\n                contentRef.current.style.display = 'none';\n            }\n        }\n        else {\n            close();\n        }\n    };\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { ref: targetRef, \"aria-describedby\": \"rpv-core__tooltip-body-\".concat(controlsSuffix), onBlur: onBlur, onFocus: open, onMouseEnter: open, onMouseLeave: close }, target),\n        opened && (React__namespace.createElement(TooltipBody, { ariaControlsSuffix: controlsSuffix, contentRef: contentRef, offset: offset, position: position, targetRef: targetRef }, content()))));\n};\n\nfunction createStore(initialState) {\n    var state = initialState || {};\n    var listeners = {};\n    return {\n        subscribe: function (key, handler) {\n            listeners[key] = (listeners[key] || []).concat(handler);\n        },\n        unsubscribe: function (key, handler) {\n            listeners[key] = (listeners[key] || []).filter(function (f) { return f !== handler; });\n        },\n        update: function (key, data) {\n            var _a;\n            state = __assign(__assign({}, state), (_a = {}, _a[key] = data, _a));\n            (listeners[key] || []).forEach(function (handler) { return handler(state[key]); });\n        },\n        get: function (key) {\n            return state[key];\n        },\n    };\n}\n\nexports.LayerRenderStatus = void 0;\n(function (LayerRenderStatus) {\n    LayerRenderStatus[LayerRenderStatus[\"PreRender\"] = 0] = \"PreRender\";\n    LayerRenderStatus[LayerRenderStatus[\"DidRender\"] = 1] = \"DidRender\";\n})(exports.LayerRenderStatus || (exports.LayerRenderStatus = {}));\n\nexports.RotateDirection = void 0;\n(function (RotateDirection) {\n    RotateDirection[\"Backward\"] = \"Backward\";\n    RotateDirection[\"Forward\"] = \"Forward\";\n})(exports.RotateDirection || (exports.RotateDirection = {}));\n\nexports.ScrollMode = void 0;\n(function (ScrollMode) {\n    ScrollMode[\"Horizontal\"] = \"Horizontal\";\n    ScrollMode[\"Vertical\"] = \"Vertical\";\n    ScrollMode[\"Wrapped\"] = \"Wrapped\";\n})(exports.ScrollMode || (exports.ScrollMode = {}));\n\nexports.SpecialZoomLevel = void 0;\n(function (SpecialZoomLevel) {\n    SpecialZoomLevel[\"ActualSize\"] = \"ActualSize\";\n    SpecialZoomLevel[\"PageFit\"] = \"PageFit\";\n    SpecialZoomLevel[\"PageWidth\"] = \"PageWidth\";\n})(exports.SpecialZoomLevel || (exports.SpecialZoomLevel = {}));\n\nvar isMac = function () { return (typeof window !== 'undefined' ? /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) : false); };\n\nvar normalizeDestination = function (pageIndex, destArray) {\n    switch (destArray[1].name) {\n        case 'XYZ':\n            return {\n                bottomOffset: destArray[3],\n                leftOffset: destArray[2] || 0,\n                pageIndex: pageIndex,\n                scaleTo: destArray[4],\n            };\n        case 'Fit':\n        case 'FitB':\n            return {\n                bottomOffset: 0,\n                leftOffset: 0,\n                pageIndex: pageIndex,\n                scaleTo: exports.SpecialZoomLevel.PageFit,\n            };\n        case 'FitH':\n        case 'FitBH':\n            return {\n                bottomOffset: destArray[2],\n                leftOffset: 0,\n                pageIndex: pageIndex,\n                scaleTo: exports.SpecialZoomLevel.PageWidth,\n            };\n        default:\n            return {\n                bottomOffset: 0,\n                leftOffset: 0,\n                pageIndex: pageIndex,\n                scaleTo: 1,\n            };\n    }\n};\nvar pageOutlinesMap = new Map();\nvar pagesMap = new Map();\nvar generateRefKey = function (doc, outline) {\n    return \"\".concat(doc.loadingTask.docId, \"___\").concat(outline.num, \"R\").concat(outline.gen === 0 ? '' : outline.gen);\n};\nvar getPageIndex = function (doc, outline) {\n    return pageOutlinesMap.get(generateRefKey(doc, outline)) || null;\n};\nvar cacheOutlineRef = function (doc, outline, pageIndex) {\n    pageOutlinesMap.set(generateRefKey(doc, outline), pageIndex);\n};\nvar clearPagesCache = function () {\n    pageOutlinesMap.clear();\n    pagesMap.clear();\n};\nvar getPage = function (doc, pageIndex) {\n    if (!doc) {\n        return Promise.reject('The document is not loaded yet');\n    }\n    var pageKey = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\n    var page = pagesMap.get(pageKey);\n    if (page) {\n        return Promise.resolve(page);\n    }\n    return new Promise(function (resolve, _) {\n        doc.getPage(pageIndex + 1).then(function (page) {\n            pagesMap.set(pageKey, page);\n            if (page.ref) {\n                cacheOutlineRef(doc, page.ref, pageIndex);\n            }\n            resolve(page);\n        });\n    });\n};\nvar getDestination = function (doc, dest) {\n    return new Promise(function (res) {\n        new Promise(function (resolve) {\n            if (typeof dest === 'string') {\n                doc.getDestination(dest).then(function (destArray) {\n                    resolve(destArray);\n                });\n            }\n            else {\n                resolve(dest);\n            }\n        }).then(function (destArray) {\n            if ('object' === typeof destArray[0] && destArray[0] !== null) {\n                var outlineRef_1 = destArray[0];\n                var pageIndex = getPageIndex(doc, outlineRef_1);\n                if (pageIndex === null) {\n                    doc.getPageIndex(outlineRef_1).then(function (pageIndex) {\n                        cacheOutlineRef(doc, outlineRef_1, pageIndex);\n                        getDestination(doc, dest).then(function (result) { return res(result); });\n                    });\n                }\n                else {\n                    res(normalizeDestination(pageIndex, destArray));\n                }\n            }\n            else {\n                var target = normalizeDestination(destArray[0], destArray);\n                res(target);\n            }\n        });\n    });\n};\n\nfunction usePrevious(value) {\n    var ref = React__namespace.useRef(value);\n    React__namespace.useEffect(function () {\n        ref.current = value;\n    }, [value]);\n    return ref.current;\n}\n\nvar useDebounceCallback = function (callback, wait) {\n    var timeout = React__namespace.useRef();\n    var cleanup = function () {\n        if (timeout.current) {\n            clearTimeout(timeout.current);\n        }\n    };\n    React__namespace.useEffect(function () {\n        return function () { return cleanup(); };\n    }, []);\n    return React__namespace.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        cleanup();\n        timeout.current = setTimeout(function () {\n            callback.apply(void 0, args);\n        }, wait);\n    }, [callback, wait]);\n};\n\nvar useTrackResize = function (_a) {\n    var targetRef = _a.targetRef, onResize = _a.onResize;\n    useIsomorphicLayoutEffect(function () {\n        var io = new ResizeObserver(function (entries) {\n            entries.forEach(function (entry) {\n                onResize(entry.target);\n            });\n        });\n        var container = targetRef.current;\n        if (!container) {\n            return;\n        }\n        io.observe(container);\n        return function () {\n            io.unobserve(container);\n        };\n    }, []);\n};\n\nvar clamp = function (min, max, value) { return Math.max(min, Math.min(value, max)); };\n\nvar findNearest = function (low, high, value, getItemValue) {\n    while (low <= high) {\n        var middle = ((low + high) / 2) | 0;\n        var currentValue = getItemValue(middle);\n        if (currentValue < value) {\n            low = middle + 1;\n        }\n        else if (currentValue > value) {\n            high = middle - 1;\n        }\n        else {\n            return middle;\n        }\n    }\n    return low > 0 ? low - 1 : 0;\n};\n\nvar rectReducer = function (state, action) {\n    var rect = action.rect;\n    return state.height !== rect.height || state.width !== rect.width ? rect : state;\n};\nvar useMeasureRect = function (_a) {\n    var elementRef = _a.elementRef;\n    var _b = React__namespace.useState(elementRef.current), element = _b[0], setElement = _b[1];\n    var initializedRectRef = React__namespace.useRef(false);\n    var _c = React__namespace.useReducer(rectReducer, { height: 0, width: 0 }), rect = _c[0], dispatch = _c[1];\n    useIsomorphicLayoutEffect(function () {\n        if (elementRef.current !== element) {\n            setElement(elementRef.current);\n        }\n    });\n    useIsomorphicLayoutEffect(function () {\n        if (element && !initializedRectRef.current) {\n            initializedRectRef.current = true;\n            var _a = element.getBoundingClientRect(), height = _a.height, width = _a.width;\n            dispatch({\n                rect: { height: height, width: width },\n            });\n        }\n    }, [element]);\n    React__namespace.useEffect(function () {\n        if (!element) {\n            return;\n        }\n        var tracker = new ResizeObserver(function (entries, __) {\n            entries.forEach(function (entry) {\n                if (entry.target === element) {\n                    var _a = entry.contentRect, height = _a.height, width = _a.width;\n                    dispatch({\n                        rect: { height: height, width: width },\n                    });\n                }\n            });\n        });\n        tracker.observe(element);\n        return function () {\n            tracker.unobserve(element);\n        };\n    }, [element]);\n    return rect;\n};\n\nvar useRafState = function (initialState) {\n    var isMounted = useIsMounted();\n    var rafRef = React__namespace.useRef(0);\n    var _a = React__namespace.useState(initialState), state = _a[0], setState = _a[1];\n    var setRafState = React__namespace.useCallback(function (value) {\n        cancelAnimationFrame(rafRef.current);\n        rafRef.current = requestAnimationFrame(function () {\n            isMounted.current && setState(value);\n        });\n    }, []);\n    React__namespace.useEffect(function () {\n        return function () {\n            cancelAnimationFrame(rafRef.current);\n        };\n    }, []);\n    return [state, setRafState];\n};\n\nvar ZERO_OFFSET$1 = {\n    left: 0,\n    top: 0,\n};\nvar SCROLL_EVENT_OPTIONS = {\n    capture: false,\n    passive: true,\n};\nvar useScroll = function (_a) {\n    var elementRef = _a.elementRef, isRtl = _a.isRtl, scrollMode = _a.scrollMode;\n    var _b = useRafState(ZERO_OFFSET$1), scrollOffset = _b[0], setScrollOffset = _b[1];\n    var _c = React__namespace.useState(elementRef.current), element = _c[0], setElement = _c[1];\n    var factor = isRtl ? -1 : 1;\n    var latestRef = React__namespace.useRef(scrollMode);\n    latestRef.current = scrollMode;\n    useIsomorphicLayoutEffect(function () {\n        setElement(elementRef.current);\n    });\n    useIsomorphicLayoutEffect(function () {\n        if (!element) {\n            return;\n        }\n        var handleScroll = function () {\n            switch (latestRef.current) {\n                case exports.ScrollMode.Horizontal:\n                    setScrollOffset({\n                        left: factor * element.scrollLeft,\n                        top: 0,\n                    });\n                    break;\n                case exports.ScrollMode.Vertical:\n                default:\n                    setScrollOffset({\n                        left: 0,\n                        top: element.scrollTop,\n                    });\n                    break;\n            }\n        };\n        element.addEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\n        return function () {\n            element.removeEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\n        };\n    }, [element]);\n    var scrollTo = React__namespace.useCallback(function (offset) {\n        var ele = elementRef.current;\n        if (ele) {\n            switch (latestRef.current) {\n                case exports.ScrollMode.Horizontal:\n                    ele.scrollLeft = factor * offset.left;\n                    break;\n                case exports.ScrollMode.Vertical:\n                default:\n                    ele.scrollTop = offset.top;\n                    break;\n            }\n        }\n    }, [elementRef]);\n    return {\n        scrollOffset: scrollOffset,\n        scrollTo: scrollTo,\n    };\n};\n\nvar ZERO_RECT = {\n    height: 0,\n    width: 0,\n};\nvar ZERO_OFFSET = {\n    left: 0,\n    top: 0,\n};\nvar calculateRange = function (scrollMode, measurements, outerSize, scrollOffset) {\n    var currentOffset = 0;\n    switch (scrollMode) {\n        case exports.ScrollMode.Horizontal:\n            currentOffset = scrollOffset.left;\n            break;\n        case exports.ScrollMode.Vertical:\n        default:\n            currentOffset = scrollOffset.top;\n            break;\n    }\n    var size = measurements.length - 1;\n    var getOffset = function (index) {\n        switch (scrollMode) {\n            case exports.ScrollMode.Horizontal:\n                return measurements[index].start.left;\n            case exports.ScrollMode.Wrapped:\n            case exports.ScrollMode.Vertical:\n            default:\n                return measurements[index].start.top;\n        }\n    };\n    var start = findNearest(0, size, currentOffset, getOffset);\n    if (scrollMode === exports.ScrollMode.Wrapped) {\n        var startTop = measurements[start].start.top;\n        while (start - 1 >= 0 &&\n            measurements[start - 1].start.top === startTop &&\n            measurements[start - 1].start.left >= scrollOffset.left) {\n            start--;\n        }\n    }\n    var end = start;\n    var visibilities = {};\n    var maxVisbilityIndex = start;\n    var maxVisbility = -1;\n    while (end <= size) {\n        var itemRect = measurements[end].size;\n        var visibility = {\n            width: 0,\n            height: 0,\n        };\n        var topLeftCorner = {\n            top: measurements[end].start.top - scrollOffset.top,\n            left: measurements[end].start.left - scrollOffset.left,\n        };\n        var visibleSize = {\n            height: outerSize.height - topLeftCorner.top,\n            width: outerSize.width - topLeftCorner.left,\n        };\n        if (scrollMode === exports.ScrollMode.Horizontal && visibleSize.width < 0) {\n            end--;\n            break;\n        }\n        if (scrollMode === exports.ScrollMode.Vertical && visibleSize.height < 0) {\n            end--;\n            break;\n        }\n        if (scrollMode === exports.ScrollMode.Wrapped && (visibleSize.width < 0 || visibleSize.height < 0)) {\n            end--;\n            break;\n        }\n        if (scrollMode === exports.ScrollMode.Vertical) {\n            visibility.width = 1;\n        }\n        else if (topLeftCorner.left < 0) {\n            var visibleWidth = itemRect.width - -topLeftCorner.left;\n            visibility.width = visibleWidth <= outerSize.width ? visibleWidth / outerSize.width : 1;\n        }\n        else {\n            visibility.width = itemRect.width <= visibleSize.width ? 1 : visibleSize.width / itemRect.width;\n        }\n        if (scrollMode === exports.ScrollMode.Horizontal) {\n            visibility.height = 1;\n        }\n        else if (topLeftCorner.top < 0) {\n            var visibleHeight = itemRect.height - -topLeftCorner.top;\n            visibility.height = visibleHeight <= outerSize.height ? visibleHeight / outerSize.height : 1;\n        }\n        else {\n            visibility.height = itemRect.height <= visibleSize.height ? 1 : visibleSize.height / itemRect.height;\n        }\n        visibilities[end] = visibility.width * visibility.height;\n        if (maxVisbility < visibilities[end]) {\n            maxVisbility = visibilities[end];\n            maxVisbilityIndex = end;\n        }\n        end++;\n    }\n    return {\n        start: start,\n        end: end,\n        maxVisbilityIndex: maxVisbilityIndex,\n        visibilities: visibilities,\n    };\n};\nvar useVirtual = function (_a) {\n    var estimateSize = _a.estimateSize, isRtl = _a.isRtl, numberOfItems = _a.numberOfItems, setStartRange = _a.setStartRange, setEndRange = _a.setEndRange, parentRef = _a.parentRef, scrollMode = _a.scrollMode, transformSize = _a.transformSize;\n    var _b = useScroll({\n        elementRef: parentRef,\n        isRtl: isRtl,\n        scrollMode: scrollMode,\n    }), scrollOffset = _b.scrollOffset, scrollTo = _b.scrollTo;\n    var parentRect = useMeasureRect({\n        elementRef: parentRef,\n    });\n    var latestRef = React__namespace.useRef({\n        scrollOffset: ZERO_OFFSET,\n        measurements: [],\n        parentRect: ZERO_RECT,\n        totalSize: ZERO_RECT,\n    });\n    latestRef.current.scrollOffset = scrollOffset;\n    latestRef.current.parentRect = parentRect;\n    var _c = React__namespace.useState({}), cacheMeasure = _c[0], setCacheMeasure = _c[1];\n    var measurements = React__namespace.useMemo(function () {\n        var measurements = [];\n        var totalWidth = 0;\n        var firstOfRow = {\n            left: 0,\n            top: 0,\n        };\n        var maxHeight = 0;\n        for (var i = 0; i < numberOfItems; i++) {\n            var size = cacheMeasure[i] || transformSize(estimateSize(i));\n            var start_1 = ZERO_OFFSET;\n            if (i === 0) {\n                totalWidth = size.width;\n                firstOfRow = {\n                    left: 0,\n                    top: 0,\n                };\n                maxHeight = size.height;\n            }\n            else {\n                switch (scrollMode) {\n                    case exports.ScrollMode.Wrapped:\n                        totalWidth += size.width;\n                        if (totalWidth < parentRect.width) {\n                            start_1 = {\n                                left: measurements[i - 1].end.left,\n                                top: firstOfRow.top,\n                            };\n                            maxHeight = Math.max(maxHeight, size.height);\n                        }\n                        else {\n                            totalWidth = size.width;\n                            start_1 = {\n                                left: firstOfRow.left,\n                                top: firstOfRow.top + maxHeight,\n                            };\n                            firstOfRow = {\n                                left: start_1.left,\n                                top: start_1.top,\n                            };\n                            maxHeight = size.height;\n                        }\n                        break;\n                    case exports.ScrollMode.Horizontal:\n                    case exports.ScrollMode.Vertical:\n                    default:\n                        start_1 = measurements[i - 1].end;\n                        break;\n                }\n            }\n            var end_1 = {\n                left: start_1.left + size.width,\n                top: start_1.top + size.height,\n            };\n            measurements[i] = {\n                index: i,\n                start: start_1,\n                size: size,\n                end: end_1,\n                visibility: -1,\n            };\n        }\n        return measurements;\n    }, [estimateSize, scrollMode, parentRect, cacheMeasure, transformSize]);\n    var totalSize = measurements[numberOfItems - 1]\n        ? {\n            height: measurements[numberOfItems - 1].end.top,\n            width: measurements[numberOfItems - 1].end.left,\n        }\n        : ZERO_RECT;\n    latestRef.current.measurements = measurements;\n    latestRef.current.totalSize = totalSize;\n    var _d = calculateRange(scrollMode, latestRef.current.measurements, latestRef.current.parentRect, latestRef.current.scrollOffset), maxVisbilityIndex = _d.maxVisbilityIndex, visibilities = _d.visibilities, start = _d.start, end = _d.end;\n    var startRange = setStartRange(start);\n    var endRange = setEndRange(end);\n    var virtualItems = React__namespace.useMemo(function () {\n        var virtualItems = [];\n        var _loop_1 = function (i) {\n            var item = measurements[i];\n            var virtualItem = __assign(__assign({}, item), { visibility: visibilities[i] !== undefined ? visibilities[i] : -1, measureRef: function (ele) {\n                    if (!ele) {\n                        return;\n                    }\n                    var rect = ele.getBoundingClientRect();\n                    if (rect.height === 0 && rect.width === 0) {\n                        return;\n                    }\n                    var measuredSize = transformSize({\n                        height: rect.height,\n                        width: rect.width,\n                    });\n                    if (measuredSize.height !== item.size.height || measuredSize.width !== item.size.width) {\n                        setCacheMeasure(function (old) {\n                            var _a;\n                            return (__assign(__assign({}, old), (_a = {}, _a[i] = measuredSize, _a)));\n                        });\n                    }\n                } });\n            virtualItems.push(virtualItem);\n        };\n        for (var i = startRange; i <= endRange; i++) {\n            _loop_1(i);\n        }\n        return virtualItems;\n    }, [transformSize, visibilities, measurements]);\n    var scrollToItem = React__namespace.useCallback(function (index, offset) {\n        var measurements = latestRef.current.measurements;\n        var measurement = measurements[clamp(0, numberOfItems - 1, index)];\n        if (measurement) {\n            scrollTo({\n                left: offset.left + measurement.start.left,\n                top: offset.top + measurement.start.top,\n            });\n        }\n    }, [scrollTo]);\n    var getContainerStyles = React__namespace.useCallback(function () {\n        switch (scrollMode) {\n            case exports.ScrollMode.Horizontal:\n                return {\n                    position: 'relative',\n                    height: '100%',\n                    width: \"\".concat(totalSize.width, \"px\"),\n                };\n            case exports.ScrollMode.Vertical:\n            default:\n                return {\n                    position: 'relative',\n                    height: \"\".concat(totalSize.height, \"px\"),\n                    width: '100%',\n                };\n        }\n    }, [scrollMode, totalSize]);\n    var getItemStyles = React__namespace.useCallback(function (item) {\n        var _a, _b, _c;\n        var sideProperty = isRtl ? 'right' : 'left';\n        var factor = isRtl ? -1 : 1;\n        switch (scrollMode) {\n            case exports.ScrollMode.Horizontal:\n                return _a = {\n                        height: '100%',\n                        width: \"\".concat(item.size.width, \"px\")\n                    },\n                    _a[sideProperty] = 0,\n                    _a.position = 'absolute',\n                    _a.top = 0,\n                    _a.transform = \"translateX(\".concat(item.start.left * factor, \"px)\"),\n                    _a;\n            case exports.ScrollMode.Wrapped:\n                return _b = {\n                        height: \"\".concat(item.size.height, \"px\"),\n                        width: \"\".concat(item.size.width, \"px\")\n                    },\n                    _b[sideProperty] = 0,\n                    _b.position = 'absolute',\n                    _b.top = 0,\n                    _b.transform = \"translate(\".concat(item.start.left * factor, \"px, \").concat(item.start.top, \"px)\"),\n                    _b;\n            case exports.ScrollMode.Vertical:\n            default:\n                return _c = {\n                        height: \"\".concat(item.size.height, \"px\"),\n                        width: '100%'\n                    },\n                    _c[sideProperty] = 0,\n                    _c.position = 'absolute',\n                    _c.top = 0,\n                    _c.transform = \"translateY(\".concat(item.start.top, \"px)\"),\n                    _c;\n        }\n    }, [isRtl, scrollMode]);\n    return {\n        startIndex: start,\n        startRange: startRange,\n        endIndex: end,\n        endRange: endRange,\n        maxVisbilityIndex: maxVisbilityIndex,\n        getContainerStyles: getContainerStyles,\n        getItemStyles: getItemStyles,\n        scrollToItem: scrollToItem,\n        virtualItems: virtualItems,\n    };\n};\n\nvar AnnotationBorderStyleType;\n(function (AnnotationBorderStyleType) {\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Solid\"] = 1] = \"Solid\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Dashed\"] = 2] = \"Dashed\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Beveled\"] = 3] = \"Beveled\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Inset\"] = 4] = \"Inset\";\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Underline\"] = 5] = \"Underline\";\n})(AnnotationBorderStyleType || (AnnotationBorderStyleType = {}));\n\nvar dateRegex = new RegExp('^D:' +\n    '(\\\\d{4})' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '([Z|+|-])?' +\n    '(\\\\d{2})?' +\n    \"'?\" +\n    '(\\\\d{2})?' +\n    \"'?\");\nvar parse = function (value, min, max, defaultValue) {\n    var parsed = parseInt(value, 10);\n    return parsed >= min && parsed <= max ? parsed : defaultValue;\n};\nvar convertDate = function (input) {\n    var matches = dateRegex.exec(input);\n    if (!matches) {\n        return null;\n    }\n    var year = parseInt(matches[1], 10);\n    var month = parse(matches[2], 1, 12, 1) - 1;\n    var day = parse(matches[3], 1, 31, 1);\n    var hour = parse(matches[4], 0, 23, 0);\n    var minute = parse(matches[5], 0, 59, 0);\n    var second = parse(matches[6], 0, 59, 0);\n    var universalTimeRelation = matches[7] || 'Z';\n    var offsetHour = parse(matches[8], 0, 23, 0);\n    var offsetMinute = parse(matches[9], 0, 59, 0);\n    switch (universalTimeRelation) {\n        case '-':\n            hour += offsetHour;\n            minute += offsetMinute;\n            break;\n        case '+':\n            hour -= offsetHour;\n            minute -= offsetMinute;\n            break;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n};\n\nvar PopupWrapper = function (_a) {\n    var annotation = _a.annotation;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var containerRef = React__namespace.useRef();\n    var dateStr = '';\n    if (annotation.modificationDate) {\n        var date = convertDate(annotation.modificationDate);\n        dateStr = date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\n    }\n    React__namespace.useLayoutEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        var annotationEle = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\n        if (!annotationEle) {\n            return;\n        }\n        var ele = annotationEle;\n        ele.style.zIndex += 1;\n        return function () {\n            ele.style.zIndex = \"\".concat(parseInt(ele.style.zIndex, 10) - 1);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: classNames({\n            'rpv-core__annotation-popup-wrapper': true,\n            'rpv-core__annotation-popup-wrapper--rtl': isRtl,\n        }), style: {\n            top: annotation.annotationType === exports.AnnotationType.Popup ? '' : '100%',\n        } },\n        annotation.title && (React__namespace.createElement(React__namespace.Fragment, null,\n            React__namespace.createElement(\"div\", { className: classNames({\n                    'rpv-core__annotation-popup-title': true,\n                    'rpv-core__annotation-popup-title--ltr': !isRtl,\n                    'rpv-core__annotation-popup-title--rtl': isRtl,\n                }) }, annotation.title),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-popup-date\" }, dateStr))),\n        annotation.contents && (React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-popup-content\" }, annotation.contents.split('\\n').map(function (item, index) { return (React__namespace.createElement(React__namespace.Fragment, { key: index },\n            item,\n            React__namespace.createElement(\"br\", null))); })))));\n};\n\nvar TogglePopupBy;\n(function (TogglePopupBy) {\n    TogglePopupBy[\"Click\"] = \"Click\";\n    TogglePopupBy[\"Hover\"] = \"Hover\";\n})(TogglePopupBy || (TogglePopupBy = {}));\nvar useTogglePopup = function () {\n    var _a = useToggle(false), opened = _a.opened, toggle = _a.toggle;\n    var _b = React__namespace.useState(TogglePopupBy.Hover), togglePopupBy = _b[0], setTooglePopupBy = _b[1];\n    var toggleOnClick = function () {\n        switch (togglePopupBy) {\n            case TogglePopupBy.Click:\n                opened && setTooglePopupBy(TogglePopupBy.Hover);\n                toggle(exports.ToggleStatus.Toggle);\n                break;\n            case TogglePopupBy.Hover:\n                setTooglePopupBy(TogglePopupBy.Click);\n                toggle(exports.ToggleStatus.Open);\n                break;\n        }\n    };\n    var openOnHover = function () {\n        togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Open);\n    };\n    var closeOnHover = function () {\n        togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Close);\n    };\n    return {\n        opened: opened,\n        closeOnHover: closeOnHover,\n        openOnHover: openOnHover,\n        toggleOnClick: toggleOnClick,\n    };\n};\n\nvar Annotation = function (_a) {\n    var annotation = _a.annotation, children = _a.children, ignoreBorder = _a.ignoreBorder, hasPopup = _a.hasPopup, isRenderable = _a.isRenderable, page = _a.page, viewport = _a.viewport;\n    var rect = annotation.rect;\n    var _b = useTogglePopup(), closeOnHover = _b.closeOnHover, opened = _b.opened, openOnHover = _b.openOnHover, toggleOnClick = _b.toggleOnClick;\n    var normalizeRect = function (r) { return [\n        Math.min(r[0], r[2]),\n        Math.min(r[1], r[3]),\n        Math.max(r[0], r[2]),\n        Math.max(r[1], r[3]),\n    ]; };\n    var bound = normalizeRect([\n        rect[0],\n        page.view[3] + page.view[1] - rect[1],\n        rect[2],\n        page.view[3] + page.view[1] - rect[3],\n    ]);\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var styles = {\n        borderColor: '',\n        borderRadius: '',\n        borderStyle: '',\n        borderWidth: '',\n    };\n    if (!ignoreBorder && annotation.borderStyle.width > 0) {\n        switch (annotation.borderStyle.style) {\n            case AnnotationBorderStyleType.Dashed:\n                styles.borderStyle = 'dashed';\n                break;\n            case AnnotationBorderStyleType.Solid:\n                styles.borderStyle = 'solid';\n                break;\n            case AnnotationBorderStyleType.Underline:\n                styles = Object.assign({\n                    borderBottomStyle: 'solid',\n                }, styles);\n                break;\n            case AnnotationBorderStyleType.Beveled:\n            case AnnotationBorderStyleType.Inset:\n        }\n        var borderWidth = annotation.borderStyle.width;\n        styles.borderWidth = \"\".concat(borderWidth, \"px\");\n        if (annotation.borderStyle.style !== AnnotationBorderStyleType.Underline) {\n            width = width - 2 * borderWidth;\n            height = height - 2 * borderWidth;\n        }\n        var _c = annotation.borderStyle, horizontalCornerRadius = _c.horizontalCornerRadius, verticalCornerRadius = _c.verticalCornerRadius;\n        if (horizontalCornerRadius > 0 || verticalCornerRadius > 0) {\n            styles.borderRadius = \"\".concat(horizontalCornerRadius, \"px / \").concat(verticalCornerRadius, \"px\");\n        }\n        annotation.color\n            ? (styles.borderColor = \"rgb(\".concat(annotation.color[0] | 0, \", \").concat(annotation.color[1] | 0, \", \").concat(annotation.color[2] | 0, \")\"))\n            :\n                (styles.borderWidth = '0');\n    }\n    return (React__namespace.createElement(React__namespace.Fragment, null, isRenderable &&\n        children({\n            popup: {\n                opened: opened,\n                closeOnHover: closeOnHover,\n                openOnHover: openOnHover,\n                toggleOnClick: toggleOnClick,\n            },\n            slot: {\n                attrs: {\n                    style: Object.assign({\n                        height: \"\".concat(height, \"px\"),\n                        left: \"\".concat(bound[0], \"px\"),\n                        top: \"\".concat(bound[1], \"px\"),\n                        transform: \"matrix(\".concat(viewport.transform.join(','), \")\"),\n                        transformOrigin: \"-\".concat(bound[0], \"px -\").concat(bound[1], \"px\"),\n                        width: \"\".concat(width, \"px\"),\n                    }, styles),\n                },\n                children: React__namespace.createElement(React__namespace.Fragment, null, hasPopup && opened && React__namespace.createElement(PopupWrapper, { annotation: annotation })),\n            },\n        })));\n};\n\nvar Caret = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--caret\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar Circle = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--circle\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"circle\", { cy: height / 2, fill: \"none\", rx: width / 2 - borderWidth / 2, ry: height / 2 - borderWidth / 2, stroke: \"transparent\", strokeWidth: borderWidth || 1 })),\n        props.slot.children)); }));\n};\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar downloadFile = function (url, data) {\n    var blobUrl = typeof data === 'string' ? '' : URL.createObjectURL(new Blob([data], { type: '' }));\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = blobUrl || url;\n    link.setAttribute('download', getFileName(url));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    if (blobUrl) {\n        URL.revokeObjectURL(blobUrl);\n    }\n};\n\nvar FileAttachment = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false && (!!annotation.title || !!annotation.contents);\n    var doubleClick = function () {\n        var file = annotation.file;\n        file && downloadFile(file.filename, file.content);\n    };\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: true, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--file-attachment\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onDoubleClick: doubleClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar FreeText = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--free-text\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar Popup = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var isRenderable = !!(annotation.title || annotation.contents);\n    var ignoredParents = ['Circle', 'Ink', 'Line', 'Polygon', 'PolyLine', 'Square'];\n    var hasPopup = !annotation.parentType || ignoredParents.indexOf(annotation.parentType) !== -1;\n    useIsomorphicLayoutEffect(function () {\n        if (!annotation.parentId) {\n            return;\n        }\n        var parent = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.parentId, \"\\\"]\"));\n        var container = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\n        if (!parent || !container) {\n            return;\n        }\n        var left = parseFloat(parent.style.left);\n        var top = parseFloat(parent.style.top) + parseFloat(parent.style.height);\n        container.style.left = \"\".concat(left, \"px\");\n        container.style.top = \"\".concat(top, \"px\");\n        container.style.transformOrigin = \"-\".concat(left, \"px -\").concat(top, \"px\");\n    }, []);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--popup\", \"data-annotation-id\": annotation.id }),\n        React__namespace.createElement(PopupWrapper, { annotation: annotation }))); }));\n};\n\nvar Highlight = function (_a) {\n    var annotation = _a.annotation, childAnnotation = _a.childAnnotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var hasQuadPoints = annotation.quadPoints && annotation.quadPoints.length > 0;\n    if (hasQuadPoints) {\n        var annotations = annotation.quadPoints.map(function (quadPoint) {\n            return Object.assign({}, annotation, {\n                rect: [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y],\n                quadPoints: [],\n            });\n        });\n        return (React__namespace.createElement(React__namespace.Fragment, null, annotations.map(function (ann, index) { return (React__namespace.createElement(Highlight, { key: index, annotation: ann, childAnnotation: childAnnotation, page: page, viewport: viewport })); })));\n    }\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--highlight\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children),\n        childAnnotation &&\n            childAnnotation.annotationType === exports.AnnotationType.Popup &&\n            props.popup.opened && React__namespace.createElement(Popup, { annotation: childAnnotation, page: page, viewport: viewport }))); }));\n};\n\nvar Ink = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--ink\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        annotation.inkLists && annotation.inkLists.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") }, annotation.inkLists.map(function (inkList, index) { return (React__namespace.createElement(\"polyline\", { key: index, fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: inkList.map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); }).join(' ') })); }))),\n        props.slot.children)); }));\n};\n\nvar Line = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--line\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"line\", { stroke: \"transparent\", strokeWidth: borderWidth || 1, x1: rect[2] - annotation.lineCoordinates[0], x2: rect[2] - annotation.lineCoordinates[2], y1: rect[3] - annotation.lineCoordinates[1], y2: rect[3] - annotation.lineCoordinates[3] })),\n        props.slot.children)); }));\n};\n\nvar Link = function (_a) {\n    var annotation = _a.annotation, doc = _a.doc, page = _a.page, viewport = _a.viewport, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest;\n    var link = function (e) {\n        e.preventDefault();\n        annotation.action\n            ? onExecuteNamedAction(annotation.action)\n            : getDestination(doc, annotation.dest).then(function (target) {\n                var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, leftOffset = target.leftOffset, scaleTo = target.scaleTo;\n                onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n            });\n    };\n    var isRenderable = !!(annotation.url || annotation.dest || annotation.action || annotation.unsafeUrl);\n    var externalUrl = annotation.url || annotation.unsafeUrl;\n    var attrs = externalUrl\n        ? {\n            'data-target': 'external',\n            href: externalUrl,\n            rel: 'noopener noreferrer nofollow',\n            target: annotation.newWindow ? '_blank' : '',\n            title: externalUrl,\n        }\n        : {\n            href: '',\n            'data-annotation-link-dest': annotation.dest,\n            onClick: link,\n        };\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: false, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--link\", \"data-annotation-id\": annotation.id, \"data-testid\": \"core__annotation--link-\".concat(annotation.id) }),\n        React__namespace.createElement(\"a\", __assign({}, attrs)))); }));\n};\n\nvar Polygon = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--polygon\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        annotation.vertices && annotation.vertices.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"polygon\", { fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: annotation.vertices\n                    .map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); })\n                    .join(' ') }))),\n        props.slot.children)); }));\n};\n\nvar Polyline = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--polyline\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        annotation.vertices && annotation.vertices.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"polyline\", { fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: annotation.vertices\n                    .map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); })\n                    .join(' ') }))),\n        props.slot.children)); }));\n};\n\nvar Square = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var rect = annotation.rect;\n    var width = rect[2] - rect[0];\n    var height = rect[3] - rect[1];\n    var borderWidth = annotation.borderStyle.width;\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--square\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\n            React__namespace.createElement(\"rect\", { height: height - borderWidth, fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, x: borderWidth / 2, y: borderWidth / 2, width: width - borderWidth })),\n        props.slot.children)); }));\n};\n\nvar Squiggly = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--squiggly\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar Stamp = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--stamp\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar StrikeOut = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--strike-out\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar CommentIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25\" }),\n    React__namespace.createElement(\"path\", { d: \"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75\" }),\n    React__namespace.createElement(\"path\", { d: \"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25\" }))); };\n\nvar HelpIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M21.423 5.406L17.415 9.414\" }),\n    React__namespace.createElement(\"path\", { d: \"M14.587 6.585L18.607 2.565\" }),\n    React__namespace.createElement(\"path\", { d: \"M5.405 21.424L9.413 17.416\" }),\n    React__namespace.createElement(\"path\", { d: \"M6.585 14.588L2.577 18.596\" }),\n    React__namespace.createElement(\"path\", { d: \"M18.602 21.419L14.595 17.412\" }),\n    React__namespace.createElement(\"path\", { d: \"M17.419 14.58L21.428 18.589\" }),\n    React__namespace.createElement(\"path\", { d: \"M2.582 5.399L6.588 9.406\" }),\n    React__namespace.createElement(\"path\", { d: \"M9.421 6.581L5.412 2.572\" }))); };\n\nvar KeyIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z\" }))); };\n\nvar NoteIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M6 4.5L6 0.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M18 4.5L18 0.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M10 4.5L10 0.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M14 4.5L14 0.5\" }))); };\n\nvar ParagraphIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M17.5 0.498L17.5 23.498\" }),\n    React__namespace.createElement(\"path\", { d: \"M10.5 0.498L10.5 23.498\" }),\n    React__namespace.createElement(\"path\", { d: \"M23.5.5H6.5a6,6,0,0,0,0,12h4\" }))); };\n\nvar TriangleIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z\" }))); };\n\nvar Text = function (_a) {\n    var annotation = _a.annotation, childAnnotation = _a.childAnnotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    var name = annotation.name ? annotation.name.toLowerCase() : '';\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--text\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\n            name && (React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-text-icon\" },\n                name === 'check' && React__namespace.createElement(CheckIcon, null),\n                name === 'comment' && React__namespace.createElement(CommentIcon, null),\n                name === 'help' && React__namespace.createElement(HelpIcon, null),\n                name === 'insert' && React__namespace.createElement(TriangleIcon, null),\n                name === 'key' && React__namespace.createElement(KeyIcon, null),\n                name === 'note' && React__namespace.createElement(NoteIcon, null),\n                (name === 'newparagraph' || name === 'paragraph') && React__namespace.createElement(ParagraphIcon, null))),\n            props.slot.children),\n        childAnnotation &&\n            childAnnotation.annotationType === exports.AnnotationType.Popup &&\n            props.popup.opened && React__namespace.createElement(Popup, { annotation: childAnnotation, page: page, viewport: viewport }))); }));\n};\n\nvar Underline = function (_a) {\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\n    var hasPopup = annotation.hasPopup === false;\n    var isRenderable = !!(annotation.hasPopup || annotation.title || annotation.contents);\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--underline\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\n};\n\nvar AnnotationLayerBody = function (_a) {\n    var annotations = _a.annotations, doc = _a.doc, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest;\n    var containerRef = React__namespace.useRef();\n    var viewport = page.getViewport({ rotation: rotation, scale: scale });\n    var clonedViewPort = viewport.clone({ dontFlip: true });\n    var filterAnnotations = annotations.filter(function (annotation) { return !annotation.parentId; });\n    React__namespace.useEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        plugins.forEach(function (plugin) {\n            if (plugin.onAnnotationLayerRender) {\n                plugin.onAnnotationLayerRender({\n                    annotations: filterAnnotations,\n                    container: container,\n                    pageIndex: pageIndex,\n                    rotation: rotation,\n                    scale: scale,\n                });\n            }\n        });\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-core__annotation-layer\", \"data-testid\": \"core__annotation-layer-\".concat(pageIndex) }, filterAnnotations.map(function (annotation) {\n        var childAnnotation = annotations.find(function (item) { return item.parentId === annotation.id; });\n        switch (annotation.annotationType) {\n            case exports.AnnotationType.Caret:\n                return (React__namespace.createElement(Caret, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Circle:\n                return (React__namespace.createElement(Circle, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.FileAttachment:\n                return (React__namespace.createElement(FileAttachment, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.FreeText:\n                return (React__namespace.createElement(FreeText, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Highlight:\n                return (React__namespace.createElement(Highlight, { key: annotation.id, annotation: annotation, childAnnotation: childAnnotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Ink:\n                return (React__namespace.createElement(Ink, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Line:\n                return (React__namespace.createElement(Line, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Link:\n                return (React__namespace.createElement(Link, { key: annotation.id, annotation: annotation, doc: doc, page: page, viewport: clonedViewPort, onExecuteNamedAction: onExecuteNamedAction, onJumpToDest: onJumpToDest }));\n            case exports.AnnotationType.Polygon:\n                return (React__namespace.createElement(Polygon, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Polyline:\n                return (React__namespace.createElement(Polyline, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Popup:\n                return (React__namespace.createElement(Popup, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Square:\n                return (React__namespace.createElement(Square, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Squiggly:\n                return (React__namespace.createElement(Squiggly, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Stamp:\n                return (React__namespace.createElement(Stamp, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.StrikeOut:\n                return (React__namespace.createElement(StrikeOut, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Text:\n                return (React__namespace.createElement(Text, { key: annotation.id, annotation: annotation, childAnnotation: childAnnotation, page: page, viewport: clonedViewPort }));\n            case exports.AnnotationType.Underline:\n                return (React__namespace.createElement(Underline, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\n            default:\n                return React__namespace.createElement(React__namespace.Fragment, { key: annotation.id });\n        }\n    })));\n};\n\nvar AnnotationLoader = function (_a) {\n    var page = _a.page, renderAnnotations = _a.renderAnnotations;\n    var isMounted = useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        annotations: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        page.getAnnotations({ intent: 'display' }).then(function (result) {\n            if (isMounted.current) {\n                setStatus({\n                    loading: false,\n                    annotations: result,\n                });\n            }\n        });\n    }, []);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : renderAnnotations(status.annotations);\n};\n\nvar AnnotationLayer = function (_a) {\n    var doc = _a.doc, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest;\n    var renderAnnotations = function (annotations) { return (React__namespace.createElement(AnnotationLayerBody, { annotations: annotations, doc: doc, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotation, scale: scale, onExecuteNamedAction: onExecuteNamedAction, onJumpToDest: onJumpToDest })); };\n    return React__namespace.createElement(AnnotationLoader, { page: page, renderAnnotations: renderAnnotations });\n};\n\nvar floatToRatio = function (x, limit) {\n    var _a, _b;\n    if (Math.floor(x) === x) {\n        return [x, 1];\n    }\n    var y = 1 / x;\n    if (y > limit) {\n        return [1, limit];\n    }\n    if (Math.floor(y) === y) {\n        return [1, y];\n    }\n    var value = x > 1 ? y : x;\n    var a = 0;\n    var b = 1;\n    var c = 1;\n    var d = 1;\n    while (true) {\n        var numerator = a + c;\n        var denominator = b + d;\n        if (denominator > limit) {\n            break;\n        }\n        value <= numerator / denominator ? (_a = [numerator, denominator], c = _a[0], d = _a[1], _a) : (_b = [numerator, denominator], a = _b[0], b = _b[1], _b);\n    }\n    var middle = (a / b + c / d) / 2;\n    return value < middle ? (value === x ? [a, b] : [b, a]) : value === x ? [c, d] : [d, c];\n};\n\nvar roundToDivide = function (a, b) {\n    var remainder = a % b;\n    return remainder === 0 ? a : Math.floor(a - remainder);\n};\n\nvar MAX_CANVAS_SIZE = 4096 * 4096;\nvar CanvasLayer = function (_a) {\n    var height = _a.height, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, width = _a.width, onRenderCanvasCompleted = _a.onRenderCanvasCompleted;\n    var canvasRef = React__namespace.useRef();\n    var renderTask = React__namespace.useRef();\n    useIsomorphicLayoutEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var canvasEle = canvasRef.current;\n        plugins.forEach(function (plugin) {\n            if (plugin.onCanvasLayerRender) {\n                plugin.onCanvasLayerRender({\n                    ele: canvasEle,\n                    pageIndex: pageIndex,\n                    rotation: rotation,\n                    scale: scale,\n                    status: exports.LayerRenderStatus.PreRender,\n                });\n            }\n        });\n        var viewport = page.getViewport({\n            rotation: rotation,\n            scale: scale,\n        });\n        var outputScale = window.devicePixelRatio || 1;\n        var maxScale = Math.sqrt(MAX_CANVAS_SIZE / (viewport.width * viewport.height));\n        var shouldScaleByCSS = outputScale > maxScale;\n        shouldScaleByCSS ? (canvasEle.style.transform = \"scale(1, 1)\") : canvasEle.style.removeProperty('transform');\n        var possibleScale = Math.min(maxScale, outputScale);\n        var _a = floatToRatio(possibleScale, 8), x = _a[0], y = _a[1];\n        canvasEle.width = roundToDivide(viewport.width * possibleScale, x);\n        canvasEle.height = roundToDivide(viewport.height * possibleScale, x);\n        canvasEle.style.width = \"\".concat(roundToDivide(viewport.width, y), \"px\");\n        canvasEle.style.height = \"\".concat(roundToDivide(viewport.height, y), \"px\");\n        canvasEle.hidden = true;\n        var canvasContext = canvasEle.getContext('2d', { alpha: false });\n        var transform = shouldScaleByCSS || outputScale !== 1 ? [possibleScale, 0, 0, possibleScale, 0, 0] : null;\n        renderTask.current = page.render({ canvasContext: canvasContext, transform: transform, viewport: viewport });\n        renderTask.current.promise.then(function () {\n            canvasEle.hidden = false;\n            plugins.forEach(function (plugin) {\n                if (plugin.onCanvasLayerRender) {\n                    plugin.onCanvasLayerRender({\n                        ele: canvasEle,\n                        pageIndex: pageIndex,\n                        rotation: rotation,\n                        scale: scale,\n                        status: exports.LayerRenderStatus.DidRender,\n                    });\n                }\n            });\n            onRenderCanvasCompleted();\n        }, function () {\n            onRenderCanvasCompleted();\n        });\n        return function () {\n            if (canvasEle) {\n                canvasEle.width = 0;\n                canvasEle.height = 0;\n            }\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__canvas-layer\", style: {\n            height: \"\".concat(height, \"px\"),\n            width: \"\".concat(width, \"px\"),\n        } },\n        React__namespace.createElement(\"canvas\", { ref: canvasRef })));\n};\n\nvar SvgLayer = function (_a) {\n    var height = _a.height, page = _a.page, rotation = _a.rotation, scale = _a.scale, width = _a.width;\n    var containerRef = React__namespace.useRef();\n    var empty = function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        containerEle.innerHTML = '';\n    };\n    useIsomorphicLayoutEffect(function () {\n        var containerEle = containerRef.current;\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        page.getOperatorList().then(function (operatorList) {\n            empty();\n            var graphic = new PdfJsApi__namespace.SVGGraphics(page.commonObjs, page.objs);\n            graphic.getSVG(operatorList, viewport).then(function (svg) {\n                svg.style.height = \"\".concat(height, \"px\");\n                svg.style.width = \"\".concat(width, \"px\");\n                containerEle.appendChild(svg);\n            });\n        });\n    }, []);\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__svg-layer\", ref: containerRef });\n};\n\nvar TextLayer = function (_a) {\n    var page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onRenderTextCompleted = _a.onRenderTextCompleted;\n    var containerRef = React__namespace.useRef();\n    var renderTask = React__namespace.useRef();\n    var empty = function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        var spans = [].slice.call(containerEle.querySelectorAll('.rpv-core__text-layer-text'));\n        spans.forEach(function (span) { return containerEle.removeChild(span); });\n        var breaks = [].slice.call(containerEle.querySelectorAll('br[role=\"presentation\"]'));\n        breaks.forEach(function (br) { return containerEle.removeChild(br); });\n    };\n    useIsomorphicLayoutEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        containerEle.removeAttribute('data-testid');\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        plugins.forEach(function (plugin) {\n            if (plugin.onTextLayerRender) {\n                plugin.onTextLayerRender({\n                    ele: containerEle,\n                    pageIndex: pageIndex,\n                    scale: scale,\n                    status: exports.LayerRenderStatus.PreRender,\n                });\n            }\n        });\n        page.getTextContent().then(function (textContent) {\n            empty();\n            renderTask.current = PdfJsApi__namespace.renderTextLayer({\n                container: containerEle,\n                textContent: textContent,\n                viewport: viewport,\n                enhanceTextSelection: true,\n            });\n            renderTask.current.promise.then(function () {\n                containerEle.setAttribute('data-testid', \"core__text-layer-\".concat(pageIndex));\n                var spans = [].slice.call(containerEle.children);\n                spans.forEach(function (span) { return span.classList.add('rpv-core__text-layer-text'); });\n                plugins.forEach(function (plugin) {\n                    if (plugin.onTextLayerRender) {\n                        plugin.onTextLayerRender({\n                            ele: containerEle,\n                            pageIndex: pageIndex,\n                            scale: scale,\n                            status: exports.LayerRenderStatus.DidRender,\n                        });\n                    }\n                });\n                onRenderTextCompleted();\n            }, function () {\n                containerEle.removeAttribute('data-testid');\n                onRenderTextCompleted();\n            });\n        });\n        return function () {\n            var _a;\n            empty();\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, []);\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__text-layer\", ref: containerRef });\n};\n\nvar PageLayer = function (_a) {\n    var doc = _a.doc, height = _a.height, measureRef = _a.measureRef, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, plugins = _a.plugins, renderPage = _a.renderPage, renderQueueKey = _a.renderQueueKey, rotation = _a.rotation, scale = _a.scale, shouldRender = _a.shouldRender, width = _a.width, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpToDest = _a.onJumpToDest, onRenderCompleted = _a.onRenderCompleted, onRotatePage = _a.onRotatePage;\n    var isMounted = useIsMounted();\n    var _b = React__namespace.useState({\n        page: null,\n        pageHeight: height,\n        pageWidth: width,\n        viewportRotation: 0,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var _c = React__namespace.useState(false), canvasLayerRendered = _c[0], setCanvasLayerRendered = _c[1];\n    var _d = React__namespace.useState(false), textLayerRendered = _d[0], setTextLayerRendered = _d[1];\n    var page = pageSize.page, pageHeight = pageSize.pageHeight, pageWidth = pageSize.pageWidth;\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    var scaledWidth = pageWidth * scale;\n    var scaledHeight = pageHeight * scale;\n    var w = isVertical ? scaledWidth : scaledHeight;\n    var h = isVertical ? scaledHeight : scaledWidth;\n    var rotationValue = (pageSize.viewportRotation + rotation + pageRotation) % 360;\n    var renderQueueKeyRef = React__namespace.useRef(0);\n    var determinePageSize = function () {\n        getPage(doc, pageIndex).then(function (pdfPage) {\n            var viewport = pdfPage.getViewport({ scale: 1 });\n            if (isMounted.current) {\n                renderQueueKeyRef.current = renderQueueKey;\n                setPageSize({\n                    page: pdfPage,\n                    pageHeight: viewport.height,\n                    pageWidth: viewport.width,\n                    viewportRotation: viewport.rotation,\n                });\n            }\n        });\n    };\n    var defaultPageRenderer = function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        props.canvasLayer.children,\n        props.textLayer.children,\n        props.annotationLayer.children)); };\n    var renderPageLayer = renderPage || defaultPageRenderer;\n    var handleRenderCanvasCompleted = function () {\n        if (isMounted.current) {\n            setCanvasLayerRendered(true);\n        }\n    };\n    var handleRenderTextCompleted = function () {\n        if (isMounted.current) {\n            setTextLayerRendered(true);\n        }\n    };\n    React__namespace.useEffect(function () {\n        setPageSize({\n            page: null,\n            pageHeight: height,\n            pageWidth: width,\n            viewportRotation: 0,\n        });\n        setCanvasLayerRendered(false);\n        setTextLayerRendered(false);\n    }, [pageRotation, rotation, scale]);\n    React__namespace.useEffect(function () {\n        if (shouldRender && isMounted.current && !page) {\n            determinePageSize();\n        }\n    }, [shouldRender, page]);\n    React__namespace.useEffect(function () {\n        if (canvasLayerRendered && textLayerRendered) {\n            if (renderQueueKey !== renderQueueKeyRef.current) {\n                setPageSize({\n                    page: null,\n                    pageHeight: height,\n                    pageWidth: width,\n                    viewportRotation: 0,\n                });\n                setCanvasLayerRendered(false);\n                setTextLayerRendered(false);\n            }\n            else {\n                onRenderCompleted(pageIndex);\n            }\n        }\n    }, [canvasLayerRendered, textLayerRendered]);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__page-layer\", \"data-testid\": \"core__page-layer-\".concat(pageIndex), ref: measureRef, style: {\n            height: \"\".concat(h, \"px\"),\n            width: \"\".concat(w, \"px\"),\n        } }, !page ? (React__namespace.createElement(Spinner, { testId: \"core__page-layer-loading-\".concat(pageIndex) })) : (React__namespace.createElement(React__namespace.Fragment, null,\n        plugins.map(function (plugin, idx) {\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer({\n                doc: doc,\n                height: h,\n                pageIndex: pageIndex,\n                rotation: rotationValue,\n                scale: scale,\n                width: w,\n            }))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx }));\n        }),\n        renderPageLayer({\n            annotationLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(AnnotationLayer, { doc: doc, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, onExecuteNamedAction: onExecuteNamedAction, onJumpToDest: onJumpToDest })),\n            },\n            canvasLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(CanvasLayer, { height: h, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, width: w, onRenderCanvasCompleted: handleRenderCanvasCompleted })),\n            },\n            canvasLayerRendered: canvasLayerRendered,\n            doc: doc,\n            height: h,\n            pageIndex: pageIndex,\n            rotation: rotationValue,\n            scale: scale,\n            svgLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(SvgLayer, { height: h, page: page, rotation: rotationValue, scale: scale, width: w })),\n            },\n            textLayer: {\n                attrs: {},\n                children: (React__namespace.createElement(TextLayer, { page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, onRenderTextCompleted: handleRenderTextCompleted })),\n            },\n            textLayerRendered: textLayerRendered,\n            width: w,\n            markRendered: onRenderCompleted,\n            onRotatePage: function (direction) { return onRotatePage(pageIndex, direction); },\n        })))));\n};\n\nvar getFileExt = function (url) {\n    var str = url.split(/\\./).pop();\n    return str ? str.toLowerCase() : '';\n};\n\nvar SCROLL_BAR_WIDTH = 17;\nvar PAGE_PADDING$1 = 8;\nvar calculateScale = function (container, pageHeight, pageWidth, scale) {\n    switch (scale) {\n        case exports.SpecialZoomLevel.ActualSize:\n            return 1;\n        case exports.SpecialZoomLevel.PageFit:\n            return Math.min((container.clientWidth - SCROLL_BAR_WIDTH) / pageWidth, (container.clientHeight - 2 * PAGE_PADDING$1) / pageHeight);\n        case exports.SpecialZoomLevel.PageWidth:\n            return (container.clientWidth - SCROLL_BAR_WIDTH) / pageWidth;\n    }\n};\n\nvar NUM_OVERSCAN_PAGES = 3;\nvar PAGE_PADDING = 16;\nvar Inner = function (_a) {\n    var currentFile = _a.currentFile, defaultScale = _a.defaultScale, doc = _a.doc, initialPage = _a.initialPage, pageSize = _a.pageSize, plugins = _a.plugins, renderPage = _a.renderPage, scrollMode = _a.scrollMode, viewerState = _a.viewerState, onDocumentLoad = _a.onDocumentLoad, onOpenFile = _a.onOpenFile, onPageChange = _a.onPageChange, onRotate = _a.onRotate, onRotatePage = _a.onRotatePage, onZoom = _a.onZoom;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var l10n = React__namespace.useContext(LocalizationContext).l10n;\n    var themeContext = React__namespace.useContext(ThemeContext);\n    var isRtl = themeContext.direction === exports.TextDirection.RightToLeft;\n    var containerRef = React__namespace.useRef();\n    var pagesRef = React__namespace.useRef();\n    var _b = React__namespace.useState(0), currentPage = _b[0], setCurrentPage = _b[1];\n    var _c = React__namespace.useState(0), rotation = _c[0], setRotation = _c[1];\n    var _d = React__namespace.useState(false), pagesRotationChanged = _d[0], setPagesRotationChanged = _d[1];\n    var _e = React__namespace.useState(new Map()), pagesRotation = _e[0], setPagesRotation = _e[1];\n    var _f = React__namespace.useState(scrollMode), currentScrollMode = _f[0], setCurrentScrollMode = _f[1];\n    var stateRef = React__namespace.useRef(viewerState);\n    var _g = React__namespace.useState(pageSize.scale), scale = _g[0], setScale = _g[1];\n    var keepSpecialZoomLevelRef = React__namespace.useRef(typeof defaultScale === 'string' ? defaultScale : null);\n    var _h = React__namespace.useState(-1), renderPageIndex = _h[0], setRenderPageIndex = _h[1];\n    var _j = React__namespace.useState(0), renderQueueKey = _j[0], setRenderQueueKey = _j[1];\n    var renderQueue = useRenderQueue({ doc: doc });\n    React__namespace.useEffect(function () {\n        return function () {\n            clearPagesCache();\n        };\n    }, [docId]);\n    var estimateSize = React__namespace.useCallback(function () {\n        var sizes = [pageSize.pageHeight, pageSize.pageWidth];\n        var rect = Math.abs(rotation) % 180 === 0\n            ? {\n                height: sizes[0],\n                width: sizes[1],\n            }\n            : {\n                height: sizes[1],\n                width: sizes[0],\n            };\n        return {\n            height: rect.height * scale,\n            width: rect.width * scale,\n        };\n    }, [rotation, scale]);\n    var setStartRange = React__namespace.useCallback(function (startIndex) { return Math.max(startIndex - NUM_OVERSCAN_PAGES, 0); }, []);\n    var setEndRange = React__namespace.useCallback(function (endIndex) { return Math.min(endIndex + NUM_OVERSCAN_PAGES, numPages - 1); }, [numPages]);\n    var transformSize = React__namespace.useCallback(function (size) { return ({\n        height: size.height + PAGE_PADDING,\n        width: size.width + PAGE_PADDING,\n    }); }, []);\n    var virtualizer = useVirtual({\n        estimateSize: estimateSize,\n        isRtl: isRtl,\n        numberOfItems: numPages,\n        parentRef: pagesRef,\n        scrollMode: currentScrollMode,\n        setStartRange: setStartRange,\n        setEndRange: setEndRange,\n        transformSize: transformSize,\n    });\n    var handlePagesResize = useDebounceCallback(function (_) {\n        if (keepSpecialZoomLevelRef.current) {\n            setRenderPageIndex(-1);\n            zoom(keepSpecialZoomLevelRef.current);\n        }\n    }, 200);\n    useTrackResize({\n        targetRef: pagesRef,\n        onResize: handlePagesResize,\n    });\n    var pageWidth = pageSize.pageWidth, pageHeight = pageSize.pageHeight;\n    var setViewerState = function (viewerState) {\n        var newState = viewerState;\n        plugins.forEach(function (plugin) {\n            if (plugin.onViewerStateChange) {\n                newState = plugin.onViewerStateChange(newState);\n            }\n        });\n        stateRef.current = newState;\n    };\n    var getPagesContainer = function () { return pagesRef.current; };\n    var getViewerState = function () { return stateRef.current; };\n    var jumpToDestination = React__namespace.useCallback(function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n        var pagesContainer = pagesRef.current;\n        var currentState = stateRef.current;\n        if (!pagesContainer || !currentState) {\n            return;\n        }\n        getPage(doc, pageIndex).then(function (page) {\n            var viewport = page.getViewport({ scale: 1 });\n            var top = 0;\n            var bottom = (typeof bottomOffset === 'function'\n                ? bottomOffset(viewport.width, viewport.height)\n                : bottomOffset) || 0;\n            var left = (typeof leftOffset === 'function' ? leftOffset(viewport.width, viewport.height) : leftOffset) || 0;\n            var updateScale = currentState.scale;\n            switch (scaleTo) {\n                case exports.SpecialZoomLevel.PageFit:\n                    top = 0;\n                    left = 0;\n                    zoom(exports.SpecialZoomLevel.PageFit);\n                    break;\n                case exports.SpecialZoomLevel.PageWidth:\n                    updateScale = calculateScale(pagesContainer, pageHeight, pageWidth, exports.SpecialZoomLevel.PageWidth);\n                    top = (viewport.height - bottom) * updateScale;\n                    left = left * updateScale;\n                    zoom(updateScale);\n                    break;\n                default:\n                    var boundingRect = viewport.convertToViewportPoint(left, bottom);\n                    left = Math.max(boundingRect[0] * currentState.scale, 0);\n                    top = Math.max(boundingRect[1] * currentState.scale, 0);\n                    break;\n            }\n            switch (currentState.scrollMode) {\n                case exports.ScrollMode.Horizontal:\n                    virtualizer.scrollToItem(pageIndex, { left: left, top: 0 });\n                    break;\n                case exports.ScrollMode.Vertical:\n                default:\n                    virtualizer.scrollToItem(pageIndex, { left: 0, top: top });\n                    break;\n            }\n        });\n    }, []);\n    var jumpToPage = React__namespace.useCallback(function (pageIndex) {\n        if (0 <= pageIndex && pageIndex < numPages) {\n            virtualizer.scrollToItem(pageIndex, { left: 0, top: 0 });\n        }\n    }, []);\n    var openFile = React__namespace.useCallback(function (file) {\n        if (getFileExt(file.name).toLowerCase() !== 'pdf') {\n            return;\n        }\n        new Promise(function (resolve) {\n            var reader = new FileReader();\n            reader.readAsArrayBuffer(file);\n            reader.onload = function () {\n                var bytes = new Uint8Array(reader.result);\n                resolve(bytes);\n            };\n        }).then(function (data) {\n            onOpenFile(file.name, data);\n        });\n    }, [onOpenFile]);\n    var rotate = React__namespace.useCallback(function (direction) {\n        var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\n        var currentRotation = stateRef.current.rotation;\n        var updateRotation = currentRotation === 360 || currentRotation === -360 ? degrees : currentRotation + degrees;\n        renderQueue.markNotRendered();\n        setRotation(updateRotation);\n        setViewerState(__assign(__assign({}, stateRef.current), { rotation: updateRotation }));\n        onRotate({ direction: direction, doc: doc, rotation: updateRotation });\n    }, []);\n    var rotatePage = React__namespace.useCallback(function (pageIndex, direction) {\n        var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\n        var rotations = stateRef.current.pagesRotation;\n        var currentPageRotation = rotations.has(pageIndex) ? rotations.get(pageIndex) : 0;\n        var finalRotation = currentPageRotation + degrees;\n        var updateRotations = rotations.set(pageIndex, finalRotation);\n        setPagesRotation(updateRotations);\n        setPagesRotationChanged(function (value) { return !value; });\n        setViewerState(__assign(__assign({}, stateRef.current), { pagesRotation: updateRotations, rotatedPage: pageIndex }));\n        onRotatePage({ direction: direction, doc: doc, pageIndex: pageIndex, rotation: finalRotation });\n        renderQueue.markRendering(pageIndex);\n        setRenderPageIndex(pageIndex);\n    }, []);\n    var switchScrollMode = React__namespace.useCallback(function (scrollMode) {\n        setViewerState(__assign(__assign({}, stateRef.current), { scrollMode: scrollMode }));\n        setCurrentScrollMode(scrollMode);\n    }, []);\n    var zoom = React__namespace.useCallback(function (newScale) {\n        var pagesEle = pagesRef.current;\n        var updateScale = pagesEle\n            ? typeof newScale === 'string'\n                ? calculateScale(pagesEle, pageHeight, pageWidth, newScale)\n                : newScale\n            : 1;\n        keepSpecialZoomLevelRef.current = typeof newScale === 'string' ? newScale : null;\n        if (updateScale === stateRef.current.scale) {\n            return;\n        }\n        setRenderQueueKey(function (key) { return key + 1; });\n        renderQueue.markNotRendered();\n        pagesEle.scrollTop = (pagesEle.scrollTop * updateScale) / stateRef.current.scale;\n        pagesEle.scrollLeft = (pagesEle.scrollLeft * updateScale) / stateRef.current.scale;\n        setScale(updateScale);\n        onZoom({ doc: doc, scale: updateScale });\n        setViewerState(__assign(__assign({}, stateRef.current), { scale: updateScale }));\n    }, []);\n    React__namespace.useEffect(function () {\n        var pluginMethods = {\n            getPagesContainer: getPagesContainer,\n            getViewerState: getViewerState,\n            jumpToDestination: jumpToDestination,\n            jumpToPage: jumpToPage,\n            openFile: openFile,\n            rotate: rotate,\n            rotatePage: rotatePage,\n            setViewerState: setViewerState,\n            switchScrollMode: switchScrollMode,\n            zoom: zoom,\n        };\n        plugins.forEach(function (plugin) {\n            if (plugin.install) {\n                plugin.install(pluginMethods);\n            }\n        });\n        return function () {\n            plugins.forEach(function (plugin) {\n                if (plugin.uninstall) {\n                    plugin.uninstall(pluginMethods);\n                }\n            });\n        };\n    }, [docId]);\n    React__namespace.useEffect(function () {\n        onDocumentLoad({ doc: doc, file: currentFile });\n        plugins.forEach(function (plugin) {\n            plugin.onDocumentLoad && plugin.onDocumentLoad({ doc: doc, file: currentFile });\n        });\n        if (initialPage) {\n            jumpToPage(initialPage);\n        }\n    }, [docId]);\n    useIsomorphicLayoutEffect(function () {\n        var latestPage = stateRef.current.pageIndex;\n        if (latestPage > -1) {\n            virtualizer.scrollToItem(latestPage, { left: 0, top: 0 });\n        }\n    }, [currentScrollMode]);\n    React__namespace.useEffect(function () {\n        var startRange = virtualizer.startRange, endRange = virtualizer.endRange, maxVisbilityIndex = virtualizer.maxVisbilityIndex, virtualItems = virtualizer.virtualItems;\n        var currentPage = maxVisbilityIndex;\n        setCurrentPage(currentPage);\n        if (stateRef.current.pageIndex !== currentPage) {\n            onPageChange({ currentPage: currentPage, doc: doc });\n        }\n        setViewerState(__assign(__assign({}, stateRef.current), { pageIndex: currentPage }));\n        renderQueue.setRange(startRange, endRange);\n        var _loop_1 = function (i) {\n            var item = virtualItems.find(function (item) { return item.index === i; });\n            if (item) {\n                renderQueue.setVisibility(i, item.visibility);\n            }\n        };\n        for (var i = startRange; i <= endRange; i++) {\n            _loop_1(i);\n        }\n        renderNextPage();\n    }, [\n        virtualizer.startRange,\n        virtualizer.endRange,\n        virtualizer.maxVisbilityIndex,\n        pagesRotationChanged,\n        rotation,\n        scale,\n    ]);\n    var handlePageRenderCompleted = React__namespace.useCallback(function (pageIndex) {\n        renderQueue.markRendered(pageIndex);\n        renderNextPage();\n    }, [renderQueueKey]);\n    var renderNextPage = function () {\n        var nextPage = renderQueue.getHighestPriorityPage();\n        if (nextPage > -1 && renderQueue.isInRange(nextPage)) {\n            renderQueue.markRendering(nextPage);\n            setRenderPageIndex(nextPage);\n        }\n    };\n    var executeNamedAction = function (action) {\n        var previousPage = currentPage - 1;\n        var nextPage = currentPage + 1;\n        switch (action) {\n            case 'FirstPage':\n                jumpToPage(0);\n                break;\n            case 'LastPage':\n                jumpToPage(numPages - 1);\n                break;\n            case 'NextPage':\n                nextPage < numPages && jumpToPage(nextPage);\n                break;\n            case 'PrevPage':\n                previousPage >= 0 && jumpToPage(previousPage);\n                break;\n        }\n    };\n    var renderViewer = React__namespace.useCallback(function () {\n        var pageLabel = l10n && l10n.core ? l10n.core.pageLabel : 'Page {{pageIndex}}';\n        var slot = {\n            attrs: {\n                'data-testid': 'core__inner-container',\n                ref: containerRef,\n                style: {\n                    height: '100%',\n                },\n            },\n            children: React__namespace.createElement(React__namespace.Fragment, null),\n            subSlot: {\n                attrs: {\n                    'data-testid': 'core__inner-pages',\n                    className: classNames({\n                        'rpv-core__inner-pages': true,\n                        'rpv-core__inner-pages--horizontal': currentScrollMode === exports.ScrollMode.Horizontal,\n                        'rpv-core__inner-pages--rtl': isRtl,\n                        'rpv-core__inner-pages--vertical': currentScrollMode === exports.ScrollMode.Vertical,\n                        'rpv-core__inner-pages--wrapped': currentScrollMode === exports.ScrollMode.Wrapped,\n                    }),\n                    ref: pagesRef,\n                    style: {\n                        height: '100%',\n                        overflow: 'auto',\n                        position: 'relative',\n                    },\n                },\n                children: (React__namespace.createElement(\"div\", { style: virtualizer.getContainerStyles() }, virtualizer.virtualItems.map(function (item) { return (React__namespace.createElement(\"div\", { \"aria-label\": pageLabel.replace('{{pageIndex}}', \"\".concat(item.index + 1)), className: \"rpv-core__inner-page\", key: item.index, role: \"region\", style: virtualizer.getItemStyles(item) },\n                    React__namespace.createElement(PageLayer, { doc: doc, height: pageHeight, measureRef: item.measureRef, pageIndex: item.index, pageRotation: pagesRotation.has(item.index) ? pagesRotation.get(item.index) : 0, plugins: plugins, renderPage: renderPage, renderQueueKey: renderQueueKey, rotation: rotation, scale: scale, shouldRender: renderPageIndex === item.index, width: pageWidth, onExecuteNamedAction: executeNamedAction, onJumpToDest: jumpToDestination, onRenderCompleted: handlePageRenderCompleted, onRotatePage: rotatePage }))); }))),\n            },\n        };\n        plugins.forEach(function (plugin) {\n            if (plugin.renderViewer) {\n                slot = plugin.renderViewer({\n                    containerRef: containerRef,\n                    doc: doc,\n                    pageHeight: pageHeight,\n                    pageWidth: pageWidth,\n                    pagesRotation: pagesRotation,\n                    rotation: rotation,\n                    slot: slot,\n                    themeContext: themeContext,\n                    jumpToPage: jumpToPage,\n                    openFile: openFile,\n                    rotate: rotate,\n                    rotatePage: rotatePage,\n                    switchScrollMode: switchScrollMode,\n                    zoom: zoom,\n                });\n            }\n        });\n        return slot;\n    }, [plugins, virtualizer]);\n    var renderSlot = React__namespace.useCallback(function (slot) { return (React__namespace.createElement(\"div\", __assign({}, slot.attrs, { style: slot.attrs && slot.attrs.style ? slot.attrs.style : {} }),\n        slot.children,\n        slot.subSlot && renderSlot(slot.subSlot))); }, []);\n    return renderSlot(renderViewer());\n};\n\nvar LEVELS = [\n    0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.4, 2.7, 3.0, 3.3, 3.7, 4.1, 4.6,\n    5.1, 5.7, 6.3, 7.0, 7.7, 8.5, 9.4, 10,\n];\nvar decrease = function (currentLevel) {\n    var found = LEVELS.findIndex(function (item) { return item >= currentLevel; });\n    return found === -1 || found === 0 ? currentLevel : LEVELS[found - 1];\n};\n\nvar RESERVE_HEIGHT = 45;\nvar RESERVE_WIDTH = 45;\nvar PageSizeCalculator = function (_a) {\n    var defaultScale = _a.defaultScale, doc = _a.doc, render = _a.render, scrollMode = _a.scrollMode;\n    var pagesRef = React__namespace.useRef();\n    var _b = React__namespace.useState({\n        pageHeight: 0,\n        pageWidth: 0,\n        scale: 1,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    React__namespace.useLayoutEffect(function () {\n        getPage(doc, 0).then(function (pdfPage) {\n            var viewport = pdfPage.getViewport({ scale: 1 });\n            var w = viewport.width;\n            var h = viewport.height;\n            var pagesEle = pagesRef.current;\n            if (!pagesEle) {\n                return;\n            }\n            var parentEle = pagesEle.parentElement;\n            var scaleWidth = (parentEle.clientWidth - RESERVE_WIDTH) / w;\n            var scaleHeight = (parentEle.clientHeight - RESERVE_HEIGHT) / h;\n            var scaled = scaleWidth;\n            switch (scrollMode) {\n                case exports.ScrollMode.Horizontal:\n                    scaled = Math.min(scaleWidth, scaleHeight);\n                    break;\n                case exports.ScrollMode.Vertical:\n                default:\n                    scaled = scaleWidth;\n                    break;\n            }\n            var scale = defaultScale\n                ? typeof defaultScale === 'string'\n                    ? calculateScale(parentEle, h, w, defaultScale)\n                    : defaultScale\n                : decrease(scaled);\n            setPageSize({\n                pageHeight: h,\n                pageWidth: w,\n                scale: scale,\n            });\n        });\n    }, [doc]);\n    var pageWidth = pageSize.pageWidth;\n    return pageWidth === 0 ? (React__namespace.createElement(\"div\", { className: \"rpv-core__page-size-calculator\", \"data-testid\": \"core__page-size-calculating\", ref: pagesRef },\n        React__namespace.createElement(Spinner, null))) : (render(pageSize));\n};\n\nvar LoadingStatus = (function () {\n    function LoadingStatus() {\n    }\n    return LoadingStatus;\n}());\n\nvar SubmitPassword;\n(function (SubmitPassword) {\n    SubmitPassword[SubmitPassword[\"REQUIRE_PASSWORD\"] = 0] = \"REQUIRE_PASSWORD\";\n    SubmitPassword[SubmitPassword[\"WRONG_PASSWORD\"] = 1] = \"WRONG_PASSWORD\";\n})(SubmitPassword || (SubmitPassword = {}));\nvar AskForPasswordState = (function (_super) {\n    __extends(AskForPasswordState, _super);\n    function AskForPasswordState(verifyPassword, submitPassword) {\n        var _this = _super.call(this) || this;\n        _this.verifyPassword = verifyPassword;\n        _this.submitPassword = submitPassword;\n        return _this;\n    }\n    return AskForPasswordState;\n}(LoadingStatus));\n\nvar AskingPassword = function (_a) {\n    var submitPassword = _a.submitPassword, verifyPassword = _a.verifyPassword, onDocumentAskPassword = _a.onDocumentAskPassword;\n    var l10n = React__namespace.useContext(LocalizationContext).l10n;\n    var _b = React__namespace.useState(''), password = _b[0], setPassword = _b[1];\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var submit = function () { return verifyPassword(password); };\n    var handleKeyDown = function (e) {\n        if (e.key === 'Enter') {\n            submit();\n        }\n    };\n    React__namespace.useEffect(function () {\n        if (onDocumentAskPassword) {\n            onDocumentAskPassword({\n                verifyPassword: verifyPassword,\n            });\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-wrapper\" },\n        React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__asking-password': true,\n                'rpv-core__asking-password--rtl': isRtl,\n            }) },\n            React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-message\" },\n                submitPassword === SubmitPassword.REQUIRE_PASSWORD &&\n                    l10n.core.askingPassword\n                        .requirePasswordToOpen,\n                submitPassword === SubmitPassword.WRONG_PASSWORD &&\n                    l10n.core.wrongPassword.tryAgain),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-body\" },\n                React__namespace.createElement(\"div\", { className: classNames({\n                        'rpv-core__asking-password-input': true,\n                        'rpv-core__asking-password-input--ltr': !isRtl,\n                        'rpv-core__asking-password-input--rtl': isRtl,\n                    }) },\n                    React__namespace.createElement(TextBox, { testId: \"core__asking-password-input\", type: \"password\", value: password, onChange: setPassword, onKeyDown: handleKeyDown })),\n                React__namespace.createElement(PrimaryButton, { onClick: submit }, l10n.core.askingPassword.submit)))));\n};\n\nvar CompletedState = (function (_super) {\n    __extends(CompletedState, _super);\n    function CompletedState(doc) {\n        var _this = _super.call(this) || this;\n        _this.doc = doc;\n        return _this;\n    }\n    return CompletedState;\n}(LoadingStatus));\n\nvar FailureState = (function (_super) {\n    __extends(FailureState, _super);\n    function FailureState(error) {\n        var _this = _super.call(this) || this;\n        _this.error = error;\n        return _this;\n    }\n    return FailureState;\n}(LoadingStatus));\n\nvar LoadingState = (function (_super) {\n    __extends(LoadingState, _super);\n    function LoadingState(percentages) {\n        var _this = _super.call(this) || this;\n        _this.percentages = percentages;\n        return _this;\n    }\n    return LoadingState;\n}(LoadingStatus));\n\nvar DocumentLoader = function (_a) {\n    var characterMap = _a.characterMap, file = _a.file, httpHeaders = _a.httpHeaders, render = _a.render, renderError = _a.renderError, renderLoader = _a.renderLoader, transformGetDocumentParams = _a.transformGetDocumentParams, withCredentials = _a.withCredentials, onDocumentAskPassword = _a.onDocumentAskPassword;\n    var direction = React__namespace.useContext(ThemeContext).direction;\n    var isRtl = direction === exports.TextDirection.RightToLeft;\n    var _b = React__namespace.useState(new LoadingState(0)), status = _b[0], setStatus = _b[1];\n    var _c = React__namespace.useState(0); _c[0]; _c[1];\n    var docRef = React__namespace.useRef('');\n    var _d = React__namespace.useState(null); _d[0]; _d[1];\n    var isMounted = useIsMounted();\n    React__namespace.useEffect(function () {\n        docRef.current = '';\n        setStatus(new LoadingState(0));\n        var worker = new PdfJsApi__namespace.PDFWorker({ name: \"PDFWorker_\".concat(Date.now()) });\n        var params = Object.assign({\n            httpHeaders: httpHeaders,\n            withCredentials: withCredentials,\n            worker: worker,\n        }, 'string' === typeof file ? { url: file } : { data: file }, characterMap\n            ? {\n                cMapUrl: characterMap.url,\n                cMapPacked: characterMap.isCompressed,\n            }\n            : {});\n        var transformParams = transformGetDocumentParams ? transformGetDocumentParams(params) : params;\n        var loadingTask = PdfJsApi__namespace.getDocument(transformParams);\n        loadingTask.onPassword = function (verifyPassword, reason) {\n            switch (reason) {\n                case PdfJsApi__namespace.PasswordResponses.NEED_PASSWORD:\n                    isMounted.current &&\n                        setStatus(new AskForPasswordState(verifyPassword, SubmitPassword.REQUIRE_PASSWORD));\n                    break;\n                case PdfJsApi__namespace.PasswordResponses.INCORRECT_PASSWORD:\n                    isMounted.current &&\n                        setStatus(new AskForPasswordState(verifyPassword, SubmitPassword.WRONG_PASSWORD));\n                    break;\n            }\n        };\n        loadingTask.onProgress = function (progress) {\n            var loaded = progress.total > 0\n                ?\n                    Math.min(100, (100 * progress.loaded) / progress.total)\n                : 100;\n            if (isMounted.current && docRef.current === '') {\n                setStatus(new LoadingState(loaded));\n            }\n        };\n        loadingTask.promise.then(function (doc) {\n            docRef.current = doc.loadingTask.docId;\n            isMounted.current && setStatus(new CompletedState(doc));\n        }, function (err) {\n            return isMounted.current &&\n                !worker.destroyed &&\n                setStatus(new FailureState({\n                    message: err.message || 'Cannot load document',\n                    name: err.name,\n                }));\n        });\n        return function () {\n            loadingTask.destroy();\n            worker.destroy();\n        };\n    }, [file]);\n    if (status instanceof AskForPasswordState) {\n        return (React__namespace.createElement(AskingPassword, { submitPassword: status.submitPassword, verifyPassword: status.verifyPassword, onDocumentAskPassword: onDocumentAskPassword }));\n    }\n    if (status instanceof CompletedState) {\n        return render(status.doc);\n    }\n    if (status instanceof FailureState) {\n        return renderError ? (renderError(status.error)) : (React__namespace.createElement(\"div\", { className: classNames({\n                'rpv-core__doc-error': true,\n                'rpv-core__doc-error--rtl': isRtl,\n            }) },\n            React__namespace.createElement(\"div\", { className: \"rpv-core__doc-error-text\" }, status.error.message)));\n    }\n    return (React__namespace.createElement(\"div\", { \"data-testid\": \"core__doc-loading\", className: classNames({\n            'rpv-core__doc-loading': true,\n            'rpv-core__doc-loading--rtl': isRtl,\n        }) }, renderLoader ? renderLoader(status.percentages) : React__namespace.createElement(Spinner, null)));\n};\n\nvar isDarkMode = function () {\n    return typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n};\n\nvar withTheme = function (theme, onSwitchTheme) {\n    var initialTheme = React__namespace.useMemo(function () { return (theme === 'auto' ? (isDarkMode() ? 'dark' : 'light') : theme); }, []);\n    var _a = React__namespace.useState(initialTheme), currentTheme = _a[0], setCurrentTheme = _a[1];\n    var prevTheme = usePrevious(currentTheme);\n    React__namespace.useEffect(function () {\n        if (theme !== 'auto') {\n            return;\n        }\n        var media = window.matchMedia('(prefers-color-scheme: dark)');\n        var handler = function (e) {\n            setCurrentTheme(e.matches ? 'dark' : 'light');\n        };\n        media.addEventListener('change', handler);\n        return function () { return media.removeEventListener('change', handler); };\n    }, []);\n    React__namespace.useEffect(function () {\n        if (currentTheme !== prevTheme && onSwitchTheme) {\n            onSwitchTheme(currentTheme);\n        }\n    }, [currentTheme]);\n    React__namespace.useEffect(function () {\n        if (theme !== currentTheme) {\n            setCurrentTheme(theme);\n        }\n    }, [theme]);\n    return {\n        currentTheme: currentTheme,\n        setCurrentTheme: setCurrentTheme,\n    };\n};\n\nvar isSameUrl = function (a, b) {\n    var typeA = typeof a;\n    var typeB = typeof b;\n    if (typeA === 'string' && typeB === 'string' && a === b) {\n        return true;\n    }\n    if (typeA === 'object' && typeB === 'object') {\n        return a.length === b.length && a.every(function (v, i) { return v === b[i]; });\n    }\n    return false;\n};\n\nvar Viewer = function (_a) {\n    var characterMap = _a.characterMap, defaultScale = _a.defaultScale, fileUrl = _a.fileUrl, _b = _a.httpHeaders, httpHeaders = _b === void 0 ? {} : _b, _c = _a.initialPage, initialPage = _c === void 0 ? 0 : _c, localization = _a.localization, _d = _a.plugins, plugins = _d === void 0 ? [] : _d, renderError = _a.renderError, renderPage = _a.renderPage, renderLoader = _a.renderLoader, _e = _a.scrollMode, scrollMode = _e === void 0 ? exports.ScrollMode.Vertical : _e, transformGetDocumentParams = _a.transformGetDocumentParams, _f = _a.theme, theme = _f === void 0 ? {\n        direction: exports.TextDirection.LeftToRight,\n        theme: 'light',\n    } : _f, _g = _a.withCredentials, withCredentials = _g === void 0 ? false : _g, onDocumentAskPassword = _a.onDocumentAskPassword, _h = _a.onDocumentLoad, onDocumentLoad = _h === void 0 ? function () {\n    } : _h, _j = _a.onPageChange, onPageChange = _j === void 0 ? function () {\n    } : _j, _k = _a.onRotate, onRotate = _k === void 0 ? function () {\n    } : _k, _l = _a.onRotatePage, onRotatePage = _l === void 0 ? function () {\n    } : _l, _m = _a.onSwitchTheme, onSwitchTheme = _m === void 0 ? function () {\n    } : _m, _o = _a.onZoom, onZoom = _o === void 0 ? function () {\n    } : _o;\n    var _p = React__namespace.useState({\n        data: fileUrl,\n        name: typeof fileUrl === 'string' ? fileUrl : '',\n        shouldLoad: false,\n    }), file = _p[0], setFile = _p[1];\n    var openFile = function (fileName, data) {\n        setFile({\n            data: data,\n            name: fileName,\n            shouldLoad: true,\n        });\n    };\n    var _q = React__namespace.useState(false), visible = _q[0], setVisible = _q[1];\n    var prevFile = usePrevious(file);\n    React__namespace.useEffect(function () {\n        if (!isSameUrl(prevFile.data, fileUrl)) {\n            setFile({\n                data: fileUrl,\n                name: typeof fileUrl === 'string' ? fileUrl : '',\n                shouldLoad: visible,\n            });\n        }\n    }, [fileUrl, visible]);\n    var visibilityChanged = function (params) {\n        setVisible(params.isVisible);\n        if (params.isVisible) {\n            setFile(function (currentFile) { return Object.assign({}, currentFile, { shouldLoad: true }); });\n        }\n    };\n    var containerRef = useIntersectionObserver({\n        onVisibilityChanged: visibilityChanged,\n    });\n    var themeProps = typeof theme === 'string' ? { direction: exports.TextDirection.LeftToRight, theme: theme } : theme;\n    var _r = React__namespace.useState(localization || DefaultLocalization), l10n = _r[0], setL10n = _r[1];\n    var localizationContext = { l10n: l10n, setL10n: setL10n };\n    var themeContext = Object.assign({}, { direction: themeProps.direction }, withTheme(themeProps.theme || 'light', onSwitchTheme));\n    React__namespace.useEffect(function () {\n        if (localization) {\n            setL10n(localization);\n        }\n    }, [localization]);\n    return (React__namespace.createElement(LocalizationContext.Provider, { value: localizationContext },\n        React__namespace.createElement(ThemeContext.Provider, { value: themeContext },\n            React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-core__viewer rpv-core__viewer--\".concat(themeContext.currentTheme), \"data-testid\": \"core__viewer\", style: {\n                    height: '100%',\n                    width: '100%',\n                } }, file.shouldLoad && (React__namespace.createElement(DocumentLoader, { characterMap: characterMap, file: file.data, httpHeaders: httpHeaders, render: function (doc) { return (React__namespace.createElement(PageSizeCalculator, { defaultScale: defaultScale, doc: doc, render: function (ps) { return (React__namespace.createElement(Inner, { currentFile: {\n                            data: file.data,\n                            name: file.name,\n                        }, defaultScale: defaultScale, doc: doc, initialPage: initialPage, pageSize: ps, plugins: plugins, renderPage: renderPage, scrollMode: scrollMode, viewerState: {\n                            file: file,\n                            pageIndex: -1,\n                            pageHeight: ps.pageHeight,\n                            pageWidth: ps.pageWidth,\n                            pagesRotation: new Map(),\n                            rotation: 0,\n                            scale: ps.scale,\n                            scrollMode: scrollMode,\n                        }, onDocumentLoad: onDocumentLoad, onOpenFile: openFile, onPageChange: onPageChange, onRotate: onRotate, onRotatePage: onRotatePage, onZoom: onZoom })); }, scrollMode: scrollMode })); }, renderError: renderError, renderLoader: renderLoader, transformGetDocumentParams: transformGetDocumentParams, withCredentials: withCredentials, onDocumentAskPassword: onDocumentAskPassword }))))));\n};\n\nvar Worker = function (_a) {\n    var children = _a.children, workerUrl = _a.workerUrl;\n    PdfJsApi__namespace.GlobalWorkerOptions.workerSrc = workerUrl;\n    return React__namespace.createElement(React__namespace.Fragment, null, children);\n};\n\nexports.Button = Button;\nexports.Icon = Icon;\nexports.LazyRender = LazyRender;\nexports.LocalizationContext = LocalizationContext;\nexports.Menu = Menu;\nexports.MenuDivider = MenuDivider;\nexports.MenuItem = MenuItem;\nexports.MinimalButton = MinimalButton;\nexports.Modal = Modal;\nexports.Popover = Popover;\nexports.PrimaryButton = PrimaryButton;\nexports.ProgressBar = ProgressBar;\nexports.Separator = Separator;\nexports.Spinner = Spinner;\nexports.Splitter = Splitter;\nexports.TextBox = TextBox;\nexports.ThemeContext = ThemeContext;\nexports.Tooltip = Tooltip;\nexports.Viewer = Viewer;\nexports.Worker = Worker;\nexports.classNames = classNames;\nexports.createStore = createStore;\nexports.getDestination = getDestination;\nexports.getPage = getPage;\nexports.isMac = isMac;\nexports.useIntersectionObserver = useIntersectionObserver;\nexports.useIsMounted = useIsMounted;\nexports.useIsomorphicLayoutEffect = useIsomorphicLayoutEffect;\nexports.useRenderQueue = useRenderQueue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvY2pzL2NvcmUuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0IsZUFBZSxtQkFBTyxDQUFDLDBEQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNkJBQTZCLHNCQUFzQixLQUFLOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ25GLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCLHFCQUFxQixLQUFLO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdCQUF3QjtBQUNuRCxnRUFBZ0U7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFB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cUI7QUFDckIsbUJBQW1CO0FBQ25CLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2YsZ0JBQWdCO0FBQ2hCLGVBQWU7QUFDZixvQkFBb0I7QUFDcEIsZUFBZTtBQUNmLGNBQWM7QUFDZCxjQUFjO0FBQ2Qsa0JBQWtCO0FBQ2xCLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEIsZUFBZTtBQUNmLGFBQWE7QUFDYiwrQkFBK0I7QUFDL0Isb0JBQW9CO0FBQ3BCLGlDQUFpQztBQUNqQyxzQkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2NvcmUvbGliL2Nqcy9jb3JlLmpzP2NiMWIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIFBkZkpzQXBpID0gcmVxdWlyZSgncGRmanMtZGlzdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xudmFyIFBkZkpzQXBpX19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUGRmSnNBcGkpO1xuXG5leHBvcnRzLkFubm90YXRpb25UeXBlID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChBbm5vdGF0aW9uVHlwZSkge1xuICAgIEFubm90YXRpb25UeXBlW0Fubm90YXRpb25UeXBlW1wiVGV4dFwiXSA9IDFdID0gXCJUZXh0XCI7XG4gICAgQW5ub3RhdGlvblR5cGVbQW5ub3RhdGlvblR5cGVbXCJMaW5rXCJdID0gMl0gPSBcIkxpbmtcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIkZyZWVUZXh0XCJdID0gM10gPSBcIkZyZWVUZXh0XCI7XG4gICAgQW5ub3RhdGlvblR5cGVbQW5ub3RhdGlvblR5cGVbXCJMaW5lXCJdID0gNF0gPSBcIkxpbmVcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIlNxdWFyZVwiXSA9IDVdID0gXCJTcXVhcmVcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIkNpcmNsZVwiXSA9IDZdID0gXCJDaXJjbGVcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIlBvbHlnb25cIl0gPSA3XSA9IFwiUG9seWdvblwiO1xuICAgIEFubm90YXRpb25UeXBlW0Fubm90YXRpb25UeXBlW1wiUG9seWxpbmVcIl0gPSA4XSA9IFwiUG9seWxpbmVcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIkhpZ2hsaWdodFwiXSA9IDldID0gXCJIaWdobGlnaHRcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIlVuZGVybGluZVwiXSA9IDEwXSA9IFwiVW5kZXJsaW5lXCI7XG4gICAgQW5ub3RhdGlvblR5cGVbQW5ub3RhdGlvblR5cGVbXCJTcXVpZ2dseVwiXSA9IDExXSA9IFwiU3F1aWdnbHlcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIlN0cmlrZU91dFwiXSA9IDEyXSA9IFwiU3RyaWtlT3V0XCI7XG4gICAgQW5ub3RhdGlvblR5cGVbQW5ub3RhdGlvblR5cGVbXCJTdGFtcFwiXSA9IDEzXSA9IFwiU3RhbXBcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIkNhcmV0XCJdID0gMTRdID0gXCJDYXJldFwiO1xuICAgIEFubm90YXRpb25UeXBlW0Fubm90YXRpb25UeXBlW1wiSW5rXCJdID0gMTVdID0gXCJJbmtcIjtcbiAgICBBbm5vdGF0aW9uVHlwZVtBbm5vdGF0aW9uVHlwZVtcIlBvcHVwXCJdID0gMTZdID0gXCJQb3B1cFwiO1xuICAgIEFubm90YXRpb25UeXBlW0Fubm90YXRpb25UeXBlW1wiRmlsZUF0dGFjaG1lbnRcIl0gPSAxN10gPSBcIkZpbGVBdHRhY2htZW50XCI7XG59KShleHBvcnRzLkFubm90YXRpb25UeXBlIHx8IChleHBvcnRzLkFubm90YXRpb25UeXBlID0ge30pKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG5leHBvcnRzLlRleHREaXJlY3Rpb24gPSB2b2lkIDA7XG4oZnVuY3Rpb24gKFRleHREaXJlY3Rpb24pIHtcbiAgICBUZXh0RGlyZWN0aW9uW1wiUmlnaHRUb0xlZnRcIl0gPSBcIlJUTFwiO1xuICAgIFRleHREaXJlY3Rpb25bXCJMZWZ0VG9SaWdodFwiXSA9IFwiTFRSXCI7XG59KShleHBvcnRzLlRleHREaXJlY3Rpb24gfHwgKGV4cG9ydHMuVGV4dERpcmVjdGlvbiA9IHt9KSk7XG52YXIgVGhlbWVDb250ZXh0ID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVDb250ZXh0KHtcbiAgICBjdXJyZW50VGhlbWU6ICdsaWdodCcsXG4gICAgZGlyZWN0aW9uOiBleHBvcnRzLlRleHREaXJlY3Rpb24uTGVmdFRvUmlnaHQsXG4gICAgc2V0Q3VycmVudFRoZW1lOiBmdW5jdGlvbiAoKSB7IH0sXG59KTtcblxudmFyIGNsYXNzTmFtZXMgPSBmdW5jdGlvbiAoY2xhc3Nlcykge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhjbGFzc2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGF6eikge1xuICAgICAgICBpZiAoY2xhenogJiYgY2xhc3Nlc1tjbGF6el0pIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNsYXp6KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQuam9pbignICcpO1xufTtcblxudmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCB0ZXN0SWQgPSBfYS50ZXN0SWQsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBleHBvcnRzLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIGF0dHJzID0gdGVzdElkID8geyAnZGF0YS10ZXN0aWQnOiB0ZXN0SWQgfSA6IHt9O1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtY29yZV9fYnV0dG9uJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fYnV0dG9uLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgfSksIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgYXR0cnMpLCBjaGlsZHJlbikpO1xufTtcblxudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IFJlYWN0X19uYW1lc3BhY2UudXNlTGF5b3V0RWZmZWN0IDogUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3Q7XG5cbnZhciB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb250YWluZXJSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgICB2YXIgb25jZSA9IHByb3BzLm9uY2UsIHRocmVzaG9sZCA9IHByb3BzLnRocmVzaG9sZCwgb25WaXNpYmlsaXR5Q2hhbmdlZCA9IHByb3BzLm9uVmlzaWJpbGl0eUNoYW5nZWQ7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJzZWN0aW9uVHJhY2tlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIHZhciBpc1Zpc2libGUgPSBlbnRyeS5pc0ludGVyc2VjdGluZztcbiAgICAgICAgICAgICAgICB2YXIgcmF0aW8gPSBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgICAgICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2VkKHsgaXNWaXNpYmxlOiBpc1Zpc2libGUsIHJhdGlvOiByYXRpbyB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNWaXNpYmxlICYmIG9uY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uVHJhY2tlci51bm9ic2VydmUoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uVHJhY2tlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRocmVzaG9sZDogdGhyZXNob2xkIHx8IDAsXG4gICAgICAgIH0pO1xuICAgICAgICBpbnRlcnNlY3Rpb25UcmFja2VyLm9ic2VydmUoY29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblRyYWNrZXIudW5vYnNlcnZlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25UcmFja2VyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGNvbnRhaW5lclJlZjtcbn07XG5cbnZhciBMYXp5UmVuZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGF0dHJzID0gX2EuYXR0cnMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHRlc3RJZCA9IF9hLnRlc3RJZDtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGZhbHNlKSwgdmlzaWJsZSA9IF9iWzBdLCBzZXRWaXNpYmxlID0gX2JbMV07XG4gICAgdmFyIGNvbnRhaW5lckF0dHJzID0gdGVzdElkID8gX19hc3NpZ24oX19hc3NpZ24oe30sIGF0dHJzKSwgeyAnZGF0YS10ZXN0aWQnOiB0ZXN0SWQgfSkgOiBhdHRycztcbiAgICB2YXIgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZWQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoe1xuICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2VkOiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlZCxcbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IHJlZjogY29udGFpbmVyUmVmIH0sIGNvbnRhaW5lckF0dHJzKSwgdmlzaWJsZSAmJiBjaGlsZHJlbikpO1xufTtcblxudmFyIE1lbnUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgdmlzaWJsZU1lbnVJdGVtc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKFtdKTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBoYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ1RhYic6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoXywgY3VycmVudEluZGV4KSB7IHJldHVybiBjdXJyZW50SW5kZXggKyAxOyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZlVG9JdGVtKGZ1bmN0aW9uIChfLCBjdXJyZW50SW5kZXgpIHsgcmV0dXJuIGN1cnJlbnRJbmRleCAtIDE7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRW5kJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoaXRlbXMsIF8pIHsgcmV0dXJuIGl0ZW1zLmxlbmd0aCAtIDE7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSG9tZSc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIG1vdmVUb0l0ZW0oZnVuY3Rpb24gKF8sIF9fKSB7IHJldHVybiAwOyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG1vdmVUb0l0ZW0gPSBmdW5jdGlvbiAoZ2V0TmV4dEl0ZW0pIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtcyA9IHZpc2libGVNZW51SXRlbXNSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykgPT09ICcwJzsgfSk7XG4gICAgICAgIHZhciB0YXJnZXRJbmRleCA9IE1hdGgubWluKGl0ZW1zLmxlbmd0aCAtIDEsIE1hdGgubWF4KDAsIGdldE5leHRJdGVtKGl0ZW1zLCBjdXJyZW50SW5kZXgpKSk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPj0gMCAmJiBjdXJyZW50SW5kZXggPD0gaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaXRlbXNbY3VycmVudEluZGV4XS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXNbdGFyZ2V0SW5kZXhdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICBpdGVtc1t0YXJnZXRJbmRleF0uZm9jdXMoKTtcbiAgICB9O1xuICAgIHZhciBmaW5kVmlzaWJsZUl0ZW1zID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgdmlzaWJsZUl0ZW1zID0gW107XG4gICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucnB2LWNvcmVfX21lbnUtaXRlbVtyb2xlPVwibWVudWl0ZW1cIl0nKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gaXRlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRfMSA9PT0gY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudF8xKS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZpc2libGVJdGVtcztcbiAgICB9O1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGVJdGVtcyA9IGZpbmRWaXNpYmxlSXRlbXMoY29udGFpbmVyKTtcbiAgICAgICAgdmlzaWJsZU1lbnVJdGVtc1JlZi5jdXJyZW50ID0gdmlzaWJsZUl0ZW1zO1xuICAgIH0sIFtdKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmLCBcImFyaWEtb3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLCBjbGFzc05hbWU6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1jb3JlX19tZW51JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fbWVudS0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pLCByb2xlOiBcIm1lbnVcIiwgdGFiSW5kZXg6IDAgfSwgY2hpbGRyZW4pKTtcbn07XG5cbnZhciBNZW51RGl2aWRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImFyaWEtb3JpZW50YXRpb25cIjogXCJob3Jpem9udGFsXCIsIGNsYXNzTmFtZTogXCJycHYtY29yZV9fbWVudS1kaXZpZGVyXCIsIHJvbGU6IFwic2VwYXJhdG9yXCIgfSkpOyB9O1xuXG52YXIgSWNvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBfYiA9IF9hLmlnbm9yZURpcmVjdGlvbiwgaWdub3JlRGlyZWN0aW9uID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2IsIF9jID0gX2Euc2l6ZSwgc2l6ZSA9IF9jID09PSB2b2lkIDAgPyAyNCA6IF9jO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gIWlnbm9yZURpcmVjdGlvbiAmJiBkaXJlY3Rpb24gPT09IGV4cG9ydHMuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgd2lkdGggPSBcIlwiLmNvbmNhdChzaXplIHx8IDI0LCBcInB4XCIpO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtY29yZV9faWNvbic6IHRydWUsXG4gICAgICAgICAgICAncnB2LWNvcmVfX2ljb24tLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSwgZm9jdXNhYmxlOiBcImZhbHNlXCIsIGhlaWdodDogd2lkdGgsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIHdpZHRoOiB3aWR0aCB9LCBjaGlsZHJlbikpO1xufTtcblxudmFyIENoZWNrSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMy41LDAuNDk5bC0xNi41LDIzbC02LjUtNi41XCIgfSkpKTsgfTtcblxudmFyIE1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuY2hlY2tlZCwgY2hlY2tlZCA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBfYyA9IF9hLmljb24sIGljb24gPSBfYyA9PT0gdm9pZCAwID8gbnVsbCA6IF9jLCBfZCA9IF9hLmlzRGlzYWJsZWQsIGlzRGlzYWJsZWQgPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgdGVzdElkID0gX2EudGVzdElkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBhdHRycyA9IHRlc3RJZCA/IHsgJ2RhdGEtdGVzdGlkJzogdGVzdElkIH0gOiB7fTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAncnB2LWNvcmVfX21lbnUtaXRlbSc6IHRydWUsXG4gICAgICAgICAgICAncnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQnOiBpc0Rpc2FibGVkLFxuICAgICAgICAgICAgJ3Jwdi1jb3JlX19tZW51LWl0ZW0tLWx0cic6ICFpc1J0bCxcbiAgICAgICAgICAgICdycHYtY29yZV9fbWVudS1pdGVtLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgfSksIHJvbGU6IFwibWVudWl0ZW1cIiwgdGFiSW5kZXg6IC0xLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGF0dHJzKSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX21lbnUtaXRlbS1pY29uJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19tZW51LWl0ZW0taWNvbi0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICB9KSB9LCBpY29uKSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbCc6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19tZW51LWl0ZW0tbGFiZWwtLWx0cic6ICFpc1J0bCxcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICB9KSB9LCBjaGlsZHJlbiksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19tZW51LWl0ZW0tY2hlY2snOiB0cnVlLFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19tZW51LWl0ZW0tY2hlY2stLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgfSkgfSwgY2hlY2tlZCAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQ2hlY2tJY29uLCBudWxsKSkpKTtcbn07XG5cbnZhciBNaW5pbWFsQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuYXJpYUxhYmVsLCBhcmlhTGFiZWwgPSBfYiA9PT0gdm9pZCAwID8gJycgOiBfYiwgX2MgPSBfYS5hcmlhS2V5U2hvcnRjdXRzLCBhcmlhS2V5U2hvcnRjdXRzID0gX2MgPT09IHZvaWQgMCA/ICcnIDogX2MsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIF9kID0gX2EuaXNEaXNhYmxlZCwgaXNEaXNhYmxlZCA9IF9kID09PSB2b2lkIDAgPyBmYWxzZSA6IF9kLCBfZSA9IF9hLmlzU2VsZWN0ZWQsIGlzU2VsZWN0ZWQgPSBfZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZSwgdGVzdElkID0gX2EudGVzdElkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBhdHRycyA9IHRlc3RJZCA/IHsgJ2RhdGEtdGVzdGlkJzogdGVzdElkIH0gOiB7fTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX2Fzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwgfSwgKGFyaWFLZXlTaG9ydGN1dHMgJiYgeyAnYXJpYS1rZXlzaG9ydGN1dHMnOiBhcmlhS2V5U2hvcnRjdXRzIH0pLCAoaXNEaXNhYmxlZCAmJiB7ICdhcmlhLWRpc2FibGVkJzogdHJ1ZSB9KSwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1jb3JlX19taW5pbWFsLWJ1dHRvbic6IHRydWUsXG4gICAgICAgICAgICAncnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZCc6IGlzRGlzYWJsZWQsXG4gICAgICAgICAgICAncnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgICdycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkJzogaXNTZWxlY3RlZCxcbiAgICAgICAgfSksIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgYXR0cnMpLCBjaGlsZHJlbikpO1xufTtcblxudmFyIFByaW1hcnlCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgdGVzdElkID0gX2EudGVzdElkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBhdHRycyA9IHRlc3RJZCA/IHsgJ2RhdGEtdGVzdGlkJzogdGVzdElkIH0gOiB7fTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAncnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fcHJpbWFyeS1idXR0b24tLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSwgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogb25DbGljayB9LCBhdHRycyksIGNoaWxkcmVuKSk7XG59O1xuXG52YXIgUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBfYS5wcm9ncmVzcztcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtY29yZV9fcHJvZ3Jlc3MtYmFyJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgfSkgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3NcIiwgc3R5bGU6IHsgd2lkdGg6IFwiXCIuY29uY2F0KHByb2dyZXNzLCBcIiVcIikgfSB9LFxuICAgICAgICAgICAgcHJvZ3Jlc3MsXG4gICAgICAgICAgICBcIiVcIikpKTtcbn07XG5cbnZhciBTZXBhcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX3NlcGFyYXRvclwiIH0pOyB9O1xuXG52YXIgU3Bpbm5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYiA9IF9hLnNpemUsIHNpemUgPSBfYiA9PT0gdm9pZCAwID8gJzRyZW0nIDogX2IsIHRlc3RJZCA9IF9hLnRlc3RJZDtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGZhbHNlKSwgdmlzaWJsZSA9IF9jWzBdLCBzZXRWaXNpYmxlID0gX2NbMV07XG4gICAgdmFyIGF0dHJzID0gdGVzdElkID8geyAnZGF0YS10ZXN0aWQnOiB0ZXN0SWQgfSA6IHt9O1xuICAgIHZhciBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlZCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgc2V0VmlzaWJsZShwYXJhbXMuaXNWaXNpYmxlKTtcbiAgICB9O1xuICAgIHZhciBjb250YWluZXJSZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcih7XG4gICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZWQ6IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2VkLFxuICAgIH0pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBhdHRycywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1jb3JlX19zcGlubmVyJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fc3Bpbm5lci0tYW5pbWF0aW5nJzogdmlzaWJsZSxcbiAgICAgICAgfSksIHJlZjogY29udGFpbmVyUmVmLCBzdHlsZTogeyBoZWlnaHQ6IHNpemUsIHdpZHRoOiBzaXplIH0gfSkpKTtcbn07XG5cbnZhciBTcGxpdHRlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb25zdHJhaW4gPSBfYS5jb25zdHJhaW47XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChUaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgcmVzaXplclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGxlZnRTaWRlUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgcmlnaHRTaWRlUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgeFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKDApO1xuICAgIHZhciB5UmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoMCk7XG4gICAgdmFyIGxlZnRXaWR0aFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKDApO1xuICAgIHZhciByZXNpemVyV2lkdGhSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigwKTtcbiAgICB2YXIgZXZlbnRPcHRpb25zID0ge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgIH07XG4gICAgdmFyIGhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciByZXNpemVyRWxlID0gcmVzaXplclJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgbGVmdFNpZGUgPSBsZWZ0U2lkZVJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgcmlnaHRTaWRlID0gcmlnaHRTaWRlUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghcmVzaXplckVsZSB8fCAhbGVmdFNpZGUgfHwgIXJpZ2h0U2lkZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNpemVyV2lkdGggPSByZXNpemVyV2lkdGhSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGR4ID0gZS5jbGllbnRYIC0geFJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgZmlyc3RIYWxmU2l6ZSA9IGxlZnRXaWR0aFJlZi5jdXJyZW50ICsgKGlzUnRsID8gLWR4IDogZHgpO1xuICAgICAgICB2YXIgY29udGFpbmVyV2lkdGggPSByZXNpemVyRWxlLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIHZhciBmaXJzdEhhbGZQZXJjZW50YWdlID0gKGZpcnN0SGFsZlNpemUgKiAxMDApIC8gY29udGFpbmVyV2lkdGg7XG4gICAgICAgIHJlc2l6ZXJFbGUuY2xhc3NMaXN0LmFkZCgncnB2LWNvcmVfX3NwbGl0dGVyLS1yZXNpemluZycpO1xuICAgICAgICBpZiAoY29uc3RyYWluKSB7XG4gICAgICAgICAgICB2YXIgc2Vjb25kSGFsZlNpemUgPSBjb250YWluZXJXaWR0aCAtIGZpcnN0SGFsZlNpemUgLSByZXNpemVyV2lkdGg7XG4gICAgICAgICAgICB2YXIgc2Vjb25kSGFsZlBlcmNlbnRhZ2UgPSAoc2Vjb25kSGFsZlNpemUgKiAxMDApIC8gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgICBpZiAoIWNvbnN0cmFpbih7IGZpcnN0SGFsZlBlcmNlbnRhZ2U6IGZpcnN0SGFsZlBlcmNlbnRhZ2UsIGZpcnN0SGFsZlNpemU6IGZpcnN0SGFsZlNpemUsIHNlY29uZEhhbGZQZXJjZW50YWdlOiBzZWNvbmRIYWxmUGVyY2VudGFnZSwgc2Vjb25kSGFsZlNpemU6IHNlY29uZEhhbGZTaXplIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxlZnRTaWRlLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoZmlyc3RIYWxmUGVyY2VudGFnZSwgXCIlXCIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3Jwdi1jb3JlX19zcGxpdHRlci1ib2R5LS1yZXNpemluZycpO1xuICAgICAgICBsZWZ0U2lkZS5jbGFzc0xpc3QuYWRkKCdycHYtY29yZV9fc3BsaXR0ZXItc2libGluZy0tcmVzaXppbmcnKTtcbiAgICAgICAgcmlnaHRTaWRlLmNsYXNzTGlzdC5hZGQoJ3Jwdi1jb3JlX19zcGxpdHRlci1zaWJsaW5nLS1yZXNpemluZycpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcmVzaXplckVsZSA9IHJlc2l6ZXJSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGxlZnRTaWRlID0gbGVmdFNpZGVSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIHJpZ2h0U2lkZSA9IHJpZ2h0U2lkZVJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXJlc2l6ZXJFbGUgfHwgIWxlZnRTaWRlIHx8ICFyaWdodFNpZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1jb3JlX19zcGxpdHRlci1ib2R5LS1yZXNpemluZycpO1xuICAgICAgICByZXNpemVyRWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1jb3JlX19zcGxpdHRlci0tcmVzaXppbmcnKTtcbiAgICAgICAgbGVmdFNpZGUuY2xhc3NMaXN0LnJlbW92ZSgncnB2LWNvcmVfX3NwbGl0dGVyLXNpYmxpbmctLXJlc2l6aW5nJyk7XG4gICAgICAgIHJpZ2h0U2lkZS5jbGFzc0xpc3QucmVtb3ZlKCdycHYtY29yZV9fc3BsaXR0ZXItc2libGluZy0tcmVzaXppbmcnKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlLCBldmVudE9wdGlvbnMpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCwgZXZlbnRPcHRpb25zKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbGVmdFNpZGUgPSBsZWZ0U2lkZVJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWxlZnRTaWRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgeFJlZi5jdXJyZW50ID0gZS5jbGllbnRYO1xuICAgICAgICB5UmVmLmN1cnJlbnQgPSBlLmNsaWVudFk7XG4gICAgICAgIGxlZnRXaWR0aFJlZi5jdXJyZW50ID0gbGVmdFNpZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXAsIGV2ZW50T3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXNpemVyRWxlID0gcmVzaXplclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXJlc2l6ZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNpemVyV2lkdGhSZWYuY3VycmVudCA9IHJlc2l6ZXJFbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIGxlZnRTaWRlUmVmLmN1cnJlbnQgPSByZXNpemVyRWxlLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIHJpZ2h0U2lkZVJlZi5jdXJyZW50ID0gcmVzaXplckVsZS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHJlc2l6ZXJSZWYsIGNsYXNzTmFtZTogXCJycHYtY29yZV9fc3BsaXR0ZXJcIiwgb25Nb3VzZURvd246IGhhbmRsZU1vdXNlRG93biB9KTtcbn07XG5cbnZhciBUZXh0Qm94ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuYXJpYUxhYmVsLCBhcmlhTGFiZWwgPSBfYiA9PT0gdm9pZCAwID8gJycgOiBfYiwgX2MgPSBfYS5hdXRvRm9jdXMsIGF1dG9Gb2N1cyA9IF9jID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jLCBfZCA9IF9hLnBsYWNlaG9sZGVyLCBwbGFjZWhvbGRlciA9IF9kID09PSB2b2lkIDAgPyAnJyA6IF9kLCB0ZXN0SWQgPSBfYS50ZXN0SWQsIF9lID0gX2EudHlwZSwgdHlwZSA9IF9lID09PSB2b2lkIDAgPyAndGV4dCcgOiBfZSwgX2YgPSBfYS52YWx1ZSwgdmFsdWUgPSBfZiA9PT0gdm9pZCAwID8gJycgOiBfZiwgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSwgX2cgPSBfYS5vbktleURvd24sIG9uS2V5RG93biA9IF9nID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7IH0gOiBfZztcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciB0ZXh0Ym94UmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgYXR0cnMgPSB7XG4gICAgICAgIHJlZjogdGV4dGJveFJlZixcbiAgICAgICAgJ2RhdGEtdGVzdGlkJzogJycsXG4gICAgICAgICdhcmlhLWxhYmVsJzogYXJpYUxhYmVsLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1jb3JlX190ZXh0Ym94JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fdGV4dGJveC0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pLFxuICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbkNoYW5nZShlLnRhcmdldC52YWx1ZSk7IH0sXG4gICAgICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgIH07XG4gICAgaWYgKHRlc3RJZCkge1xuICAgICAgICBhdHRyc1snZGF0YS10ZXN0aWQnXSA9IHRlc3RJZDtcbiAgICB9XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhdXRvRm9jdXMpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0Ym94RWxlID0gdGV4dGJveFJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKHRleHRib3hFbGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHdpbmRvdy5zY3JvbGxYO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgICAgICAgICAgdGV4dGJveEVsZS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3RleHQnID8gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX19hc3NpZ24oeyB0eXBlOiBcInRleHRcIiB9LCBhdHRycykpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX19hc3NpZ24oeyB0eXBlOiBcInBhc3N3b3JkXCIgfSwgYXR0cnMpKTtcbn07XG5cbnZhciB1c2VJc01vdW50ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlzTW91bnRlZFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKGZhbHNlKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpc01vdW50ZWRSZWY7XG59O1xuXG52YXIgUGFnZVJlbmRlclN0YXR1cztcbihmdW5jdGlvbiAoUGFnZVJlbmRlclN0YXR1cykge1xuICAgIFBhZ2VSZW5kZXJTdGF0dXNbXCJOb3RSZW5kZXJlZFlldFwiXSA9IFwiTm90UmVuZGVyZWRZZXRcIjtcbiAgICBQYWdlUmVuZGVyU3RhdHVzW1wiUmVuZGVyaW5nXCJdID0gXCJSZW5kZXJpbmdcIjtcbiAgICBQYWdlUmVuZGVyU3RhdHVzW1wiUmVuZGVyZWRcIl0gPSBcIlJlbmRlcmVkXCI7XG59KShQYWdlUmVuZGVyU3RhdHVzIHx8IChQYWdlUmVuZGVyU3RhdHVzID0ge30pKTtcbnZhciBPVVRfT0ZfUkFOR0VfVklTSUJJTElUWSA9IC05OTk5O1xudmFyIHVzZVJlbmRlclF1ZXVlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYztcbiAgICB2YXIgbnVtUGFnZXMgPSBkb2MubnVtUGFnZXM7XG4gICAgdmFyIGRvY0lkID0gZG9jLmxvYWRpbmdUYXNrLmRvY0lkO1xuICAgIHZhciBpbml0aWFsUGFnZVZpc2liaWxpdGllcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBBcnJheShudW1QYWdlcylcbiAgICAgICAgICAgIC5maWxsKG51bGwpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfLCBwYWdlSW5kZXgpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgIHJlbmRlclN0YXR1czogUGFnZVJlbmRlclN0YXR1cy5Ob3RSZW5kZXJlZFlldCxcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IE9VVF9PRl9SQU5HRV9WSVNJQklMSVRZLFxuICAgICAgICB9KTsgfSk7XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgdmFyIGxhdGVzdFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHtcbiAgICAgICAgY3VycmVudFJlbmRlcmluZ1BhZ2U6IC0xLFxuICAgICAgICBzdGFydFJhbmdlOiAwLFxuICAgICAgICBlbmRSYW5nZTogbnVtUGFnZXMgLSAxLFxuICAgICAgICB2aXNpYmlsaXRpZXM6IGluaXRpYWxQYWdlVmlzaWJpbGl0aWVzLFxuICAgIH0pO1xuICAgIHZhciBtYXJrTm90UmVuZGVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUGFnZXM7IGkrKykge1xuICAgICAgICAgICAgbGF0ZXN0UmVmLmN1cnJlbnQudmlzaWJpbGl0aWVzW2ldLnJlbmRlclN0YXR1cyA9IFBhZ2VSZW5kZXJTdGF0dXMuTm90UmVuZGVyZWRZZXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBtYXJrUmVuZGVyZWQgPSBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIGxhdGVzdFJlZi5jdXJyZW50LnZpc2liaWxpdGllc1twYWdlSW5kZXhdLnJlbmRlclN0YXR1cyA9IFBhZ2VSZW5kZXJTdGF0dXMuUmVuZGVyZWQ7XG4gICAgfTtcbiAgICB2YXIgbWFya1JlbmRlcmluZyA9IGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgaWYgKGxhdGVzdFJlZi5jdXJyZW50LmN1cnJlbnRSZW5kZXJpbmdQYWdlICE9PSAtMSAmJlxuICAgICAgICAgICAgbGF0ZXN0UmVmLmN1cnJlbnQuY3VycmVudFJlbmRlcmluZ1BhZ2UgIT09IHBhZ2VJbmRleCAmJlxuICAgICAgICAgICAgbGF0ZXN0UmVmLmN1cnJlbnQudmlzaWJpbGl0aWVzW2xhdGVzdFJlZi5jdXJyZW50LmN1cnJlbnRSZW5kZXJpbmdQYWdlXS5yZW5kZXJTdGF0dXMgPT09XG4gICAgICAgICAgICAgICAgUGFnZVJlbmRlclN0YXR1cy5SZW5kZXJpbmcpIHtcbiAgICAgICAgICAgIGxhdGVzdFJlZi5jdXJyZW50LnZpc2liaWxpdGllc1tsYXRlc3RSZWYuY3VycmVudC5jdXJyZW50UmVuZGVyaW5nUGFnZV0ucmVuZGVyU3RhdHVzID1cbiAgICAgICAgICAgICAgICBQYWdlUmVuZGVyU3RhdHVzLk5vdFJlbmRlcmVkWWV0O1xuICAgICAgICB9XG4gICAgICAgIGxhdGVzdFJlZi5jdXJyZW50LnZpc2liaWxpdGllc1twYWdlSW5kZXhdLnJlbmRlclN0YXR1cyA9IFBhZ2VSZW5kZXJTdGF0dXMuUmVuZGVyaW5nO1xuICAgICAgICBsYXRlc3RSZWYuY3VycmVudC5jdXJyZW50UmVuZGVyaW5nUGFnZSA9IHBhZ2VJbmRleDtcbiAgICB9O1xuICAgIHZhciBzZXRSYW5nZSA9IGZ1bmN0aW9uIChzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgICAgICBsYXRlc3RSZWYuY3VycmVudC5zdGFydFJhbmdlID0gc3RhcnRJbmRleDtcbiAgICAgICAgbGF0ZXN0UmVmLmN1cnJlbnQuZW5kUmFuZ2UgPSBlbmRJbmRleDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1QYWdlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IHN0YXJ0SW5kZXggfHwgaSA+IGVuZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgbGF0ZXN0UmVmLmN1cnJlbnQudmlzaWJpbGl0aWVzW2ldLnZpc2liaWxpdHkgPSBPVVRfT0ZfUkFOR0VfVklTSUJJTElUWTtcbiAgICAgICAgICAgICAgICBsYXRlc3RSZWYuY3VycmVudC52aXNpYmlsaXRpZXNbaV0ucmVuZGVyU3RhdHVzID0gUGFnZVJlbmRlclN0YXR1cy5Ob3RSZW5kZXJlZFlldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNldE91dE9mUmFuZ2UgPSBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIHNldFZpc2liaWxpdHkocGFnZUluZGV4LCBPVVRfT0ZfUkFOR0VfVklTSUJJTElUWSk7XG4gICAgfTtcbiAgICB2YXIgc2V0VmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChwYWdlSW5kZXgsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgbGF0ZXN0UmVmLmN1cnJlbnQudmlzaWJpbGl0aWVzW3BhZ2VJbmRleF0udmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XG4gICAgfTtcbiAgICB2YXIgZ2V0SGlnaGVzdFByaW9yaXR5UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZpc2libGVQYWdlcyA9IGxhdGVzdFJlZi5jdXJyZW50LnZpc2liaWxpdGllc1xuICAgICAgICAgICAgLnNsaWNlKGxhdGVzdFJlZi5jdXJyZW50LnN0YXJ0UmFuZ2UsIGxhdGVzdFJlZi5jdXJyZW50LmVuZFJhbmdlICsgMSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udmlzaWJpbGl0eSA+IE9VVF9PRl9SQU5HRV9WSVNJQklMSVRZOyB9KTtcbiAgICAgICAgaWYgKCF2aXNpYmxlUGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0VmlzaWJsZVBhZ2UgPSB2aXNpYmxlUGFnZXNbMF0ucGFnZUluZGV4O1xuICAgICAgICB2YXIgbGFzdFZpc2libGVQYWdlID0gdmlzaWJsZVBhZ2VzW3Zpc2libGVQYWdlcy5sZW5ndGggLSAxXS5wYWdlSW5kZXg7XG4gICAgICAgIHZhciBudW1WaXNpYmxlUGFnZXMgPSB2aXNpYmxlUGFnZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVZpc2libGVQYWdlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodmlzaWJsZVBhZ2VzW2ldLnJlbmRlclN0YXR1cyA9PT0gUGFnZVJlbmRlclN0YXR1cy5SZW5kZXJpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlzaWJsZVBhZ2VzW2ldLnJlbmRlclN0YXR1cyA9PT0gUGFnZVJlbmRlclN0YXR1cy5Ob3RSZW5kZXJlZFlldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aXNpYmxlUGFnZXNbaV0ucGFnZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0VmlzaWJsZVBhZ2UgKyAxIDwgbnVtUGFnZXMgJiZcbiAgICAgICAgICAgIGxhdGVzdFJlZi5jdXJyZW50LnZpc2liaWxpdGllc1tsYXN0VmlzaWJsZVBhZ2UgKyAxXS5yZW5kZXJTdGF0dXMgIT09IFBhZ2VSZW5kZXJTdGF0dXMuUmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0VmlzaWJsZVBhZ2UgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpcnN0VmlzaWJsZVBhZ2UgLSAxID49IDAgJiZcbiAgICAgICAgICAgIGxhdGVzdFJlZi5jdXJyZW50LnZpc2liaWxpdGllc1tmaXJzdFZpc2libGVQYWdlIC0gMV0ucmVuZGVyU3RhdHVzICE9PSBQYWdlUmVuZGVyU3RhdHVzLlJlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RWaXNpYmxlUGFnZSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgdmFyIGlzSW5SYW5nZSA9IGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHBhZ2VJbmRleCA+PSBsYXRlc3RSZWYuY3VycmVudC5zdGFydFJhbmdlICYmIHBhZ2VJbmRleCA8PSBsYXRlc3RSZWYuY3VycmVudC5lbmRSYW5nZTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEhpZ2hlc3RQcmlvcml0eVBhZ2U6IGdldEhpZ2hlc3RQcmlvcml0eVBhZ2UsXG4gICAgICAgIGlzSW5SYW5nZTogaXNJblJhbmdlLFxuICAgICAgICBtYXJrTm90UmVuZGVyZWQ6IG1hcmtOb3RSZW5kZXJlZCxcbiAgICAgICAgbWFya1JlbmRlcmVkOiBtYXJrUmVuZGVyZWQsXG4gICAgICAgIG1hcmtSZW5kZXJpbmc6IG1hcmtSZW5kZXJpbmcsXG4gICAgICAgIHNldE91dE9mUmFuZ2U6IHNldE91dE9mUmFuZ2UsXG4gICAgICAgIHNldFJhbmdlOiBzZXRSYW5nZSxcbiAgICAgICAgc2V0VmlzaWJpbGl0eTogc2V0VmlzaWJpbGl0eSxcbiAgICB9O1xufTtcblxudmFyIGNvcmUgPSB7XG5cdGFza2luZ1Bhc3N3b3JkOiB7XG5cdFx0cmVxdWlyZVBhc3N3b3JkVG9PcGVuOiBcIlRoaXMgZG9jdW1lbnQgcmVxdWlyZXMgYSBwYXNzd29yZCB0byBvcGVuXCIsXG5cdFx0c3VibWl0OiBcIlN1Ym1pdFwiXG5cdH0sXG5cdHdyb25nUGFzc3dvcmQ6IHtcblx0XHR0cnlBZ2FpbjogXCJUaGUgcGFzc3dvcmQgaXMgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW5cIlxuXHR9LFxuXHRwYWdlTGFiZWw6IFwiUGFnZSB7e3BhZ2VJbmRleH19XCJcbn07XG52YXIgZW5VcyA9IHtcblx0Y29yZTogY29yZVxufTtcblxudmFyIERlZmF1bHRMb2NhbGl6YXRpb24gPSBlblVzO1xudmFyIExvY2FsaXphdGlvbkNvbnRleHQgPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUNvbnRleHQoe1xuICAgIGwxMG46IERlZmF1bHRMb2NhbGl6YXRpb24sXG4gICAgc2V0TDEwbjogZnVuY3Rpb24gKCkgeyB9LFxufSk7XG5cbnZhciBpZCA9IDA7XG52YXIgdW5pcXVlSWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpZCsrOyB9O1xuXG52YXIgdXNlQ2xpY2tPdXRzaWRlID0gZnVuY3Rpb24gKGNsb3NlT25DbGlja091dHNpZGUsIHRhcmdldFJlZiwgb25DbGlja091dHNpZGUpIHtcbiAgICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRhcmdldFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAodGFyZ2V0ICYmICF0YXJnZXQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICBvbkNsaWNrT3V0c2lkZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghY2xvc2VPbkNsaWNrT3V0c2lkZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlciwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyLCBldmVudE9wdGlvbnMpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbn07XG5cbnZhciB1c2VFc2NhcGUgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIHZhciBrZXlVcEhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlVcEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlVcEhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbn07XG5cbnZhciB1c2VMb2NrU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5vdmVyZmxvdztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IG9yaWdpbmFsU3R5bGU7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xufTtcblxudmFyIE1vZGFsQm9keSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhcmlhQ29udHJvbHNTdWZmaXggPSBfYS5hcmlhQ29udHJvbHNTdWZmaXgsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsb3NlT25DbGlja091dHNpZGUgPSBfYS5jbG9zZU9uQ2xpY2tPdXRzaWRlLCBjbG9zZU9uRXNjYXBlID0gX2EuY2xvc2VPbkVzY2FwZSwgb25Ub2dnbGUgPSBfYS5vblRvZ2dsZTtcbiAgICB2YXIgY29udGVudFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChUaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB1c2VMb2NrU2Nyb2xsKCk7XG4gICAgdXNlRXNjYXBlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRlbnRSZWYuY3VycmVudCAmJiBjbG9zZU9uRXNjYXBlKSB7XG4gICAgICAgICAgICBvblRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlQ2xpY2tPdXRzaWRlKGNsb3NlT25DbGlja091dHNpZGUsIGNvbnRlbnRSZWYsIG9uVG9nZ2xlKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRlbnRFbGUgPSBjb250ZW50UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGVudEVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXhIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAqIDAuNzU7XG4gICAgICAgIGlmIChjb250ZW50RWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRFbGUuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICAgICAgICBjb250ZW50RWxlLnN0eWxlLm1heEhlaWdodCA9IFwiXCIuY29uY2F0KG1heEhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiYXJpYS1tb2RhbFwiOiBcInRydWVcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtY29yZV9fbW9kYWwtYm9keSc6IHRydWUsXG4gICAgICAgICAgICAncnB2LWNvcmVfX21vZGFsLWJvZHktLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSwgaWQ6IFwicnB2LWNvcmVfX21vZGFsLWJvZHktXCIuY29uY2F0KGFyaWFDb250cm9sc1N1ZmZpeCksIHJlZjogY29udGVudFJlZiwgcm9sZTogXCJkaWFsb2dcIiwgdGFiSW5kZXg6IC0xIH0sIGNoaWxkcmVuKSk7XG59O1xuXG52YXIgTW9kYWxPdmVybGF5ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fbW9kYWwtb3ZlcmxheVwiIH0sIGNoaWxkcmVuKTtcbn07XG5cbmV4cG9ydHMuVG9nZ2xlU3RhdHVzID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChUb2dnbGVTdGF0dXMpIHtcbiAgICBUb2dnbGVTdGF0dXNbXCJDbG9zZVwiXSA9IFwiQ2xvc2VcIjtcbiAgICBUb2dnbGVTdGF0dXNbXCJPcGVuXCJdID0gXCJPcGVuXCI7XG4gICAgVG9nZ2xlU3RhdHVzW1wiVG9nZ2xlXCJdID0gXCJUb2dnbGVcIjtcbn0pKGV4cG9ydHMuVG9nZ2xlU3RhdHVzIHx8IChleHBvcnRzLlRvZ2dsZVN0YXR1cyA9IHt9KSk7XG5cbnZhciB1c2VUb2dnbGUgPSBmdW5jdGlvbiAoaXNPcGVuZWQpIHtcbiAgICB2YXIgX2EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGlzT3BlbmVkKSwgb3BlbmVkID0gX2FbMF0sIHNldE9wZW5lZCA9IF9hWzFdO1xuICAgIHZhciB0b2dnbGUgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuVG9nZ2xlU3RhdHVzLkNsb3NlOlxuICAgICAgICAgICAgICAgIHNldE9wZW5lZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuVG9nZ2xlU3RhdHVzLk9wZW46XG4gICAgICAgICAgICAgICAgc2V0T3BlbmVkKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBleHBvcnRzLlRvZ2dsZVN0YXR1cy5Ub2dnbGU6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHNldE9wZW5lZChmdW5jdGlvbiAoaXNPcGVuZWQpIHsgcmV0dXJuICFpc09wZW5lZDsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7IG9wZW5lZDogb3BlbmVkLCB0b2dnbGU6IHRvZ2dsZSB9O1xufTtcblxudmFyIFBvcnRhbCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb250ZW50ID0gX2EuY29udGVudCwgX2IgPSBfYS5pc09wZW5lZCwgaXNPcGVuZWQgPSBfYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYiwgdGFyZ2V0ID0gX2EudGFyZ2V0O1xuICAgIHZhciBfYyA9IHVzZVRvZ2dsZShpc09wZW5lZCksIG9wZW5lZCA9IF9jLm9wZW5lZCwgdG9nZ2xlID0gX2MudG9nZ2xlO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIHRhcmdldCAmJiB0YXJnZXQodG9nZ2xlLCBvcGVuZWQpLFxuICAgICAgICBvcGVuZWQgJiYgY29udGVudCh0b2dnbGUpKSk7XG59O1xuXG52YXIgTW9kYWwgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYXJpYUNvbnRyb2xzU3VmZml4ID0gX2EuYXJpYUNvbnRyb2xzU3VmZml4LCBjbG9zZU9uQ2xpY2tPdXRzaWRlID0gX2EuY2xvc2VPbkNsaWNrT3V0c2lkZSwgY2xvc2VPbkVzY2FwZSA9IF9hLmNsb3NlT25Fc2NhcGUsIGNvbnRlbnQgPSBfYS5jb250ZW50LCBfYiA9IF9hLmlzT3BlbmVkLCBpc09wZW5lZCA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iLCB0YXJnZXQgPSBfYS50YXJnZXQ7XG4gICAgdmFyIGNvbnRyb2xzU3VmZml4ID0gYXJpYUNvbnRyb2xzU3VmZml4IHx8IFwiXCIuY29uY2F0KHVuaXF1ZUlkKCkpO1xuICAgIHZhciByZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiAodG9nZ2xlLCBvcGVuZWQpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImFyaWEtZXhwYW5kZWRcIjogb3BlbmVkID8gJ3RydWUnIDogJ2ZhbHNlJywgXCJhcmlhLWhhc3BvcHVwXCI6IFwiZGlhbG9nXCIsIFwiYXJpYS1jb250cm9sc1wiOiBcInJwdi1jb3JlX19tb2RhbC1ib2R5LVwiLmNvbmNhdChjb250cm9sc1N1ZmZpeCkgfSwgdGFyZ2V0KHRvZ2dsZSwgb3BlbmVkKSkpOyB9O1xuICAgIHZhciByZW5kZXJDb250ZW50ID0gZnVuY3Rpb24gKHRvZ2dsZSkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChNb2RhbE92ZXJsYXksIG51bGwsXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChNb2RhbEJvZHksIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBjb250cm9sc1N1ZmZpeCwgY2xvc2VPbkNsaWNrT3V0c2lkZTogY2xvc2VPbkNsaWNrT3V0c2lkZSwgY2xvc2VPbkVzY2FwZTogY2xvc2VPbkVzY2FwZSwgb25Ub2dnbGU6IHRvZ2dsZSB9LCBjb250ZW50KHRvZ2dsZSkpKSk7IH07XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQb3J0YWwsIHsgdGFyZ2V0OiB0YXJnZXQgPyByZW5kZXJUYXJnZXQgOiBudWxsLCBjb250ZW50OiByZW5kZXJDb250ZW50LCBpc09wZW5lZDogaXNPcGVuZWQgfSk7XG59O1xuXG5leHBvcnRzLlBvc2l0aW9uID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChQb3NpdGlvbikge1xuICAgIFBvc2l0aW9uW1wiVG9wTGVmdFwiXSA9IFwiVE9QX0xFRlRcIjtcbiAgICBQb3NpdGlvbltcIlRvcENlbnRlclwiXSA9IFwiVE9QX0NFTlRFUlwiO1xuICAgIFBvc2l0aW9uW1wiVG9wUmlnaHRcIl0gPSBcIlRPUF9SSUdIVFwiO1xuICAgIFBvc2l0aW9uW1wiUmlnaHRUb3BcIl0gPSBcIlJJR0hUX1RPUFwiO1xuICAgIFBvc2l0aW9uW1wiUmlnaHRDZW50ZXJcIl0gPSBcIlJJR0hUX0NFTlRFUlwiO1xuICAgIFBvc2l0aW9uW1wiUmlnaHRCb3R0b21cIl0gPSBcIlJJR0hUX0JPVFRPTVwiO1xuICAgIFBvc2l0aW9uW1wiQm90dG9tTGVmdFwiXSA9IFwiQk9UVE9NX0xFRlRcIjtcbiAgICBQb3NpdGlvbltcIkJvdHRvbUNlbnRlclwiXSA9IFwiQk9UVE9NX0NFTlRFUlwiO1xuICAgIFBvc2l0aW9uW1wiQm90dG9tUmlnaHRcIl0gPSBcIkJPVFRPTV9SSUdIVFwiO1xuICAgIFBvc2l0aW9uW1wiTGVmdFRvcFwiXSA9IFwiTEVGVF9UT1BcIjtcbiAgICBQb3NpdGlvbltcIkxlZnRDZW50ZXJcIl0gPSBcIkxFRlRfQ0VOVEVSXCI7XG4gICAgUG9zaXRpb25bXCJMZWZ0Qm90dG9tXCJdID0gXCJMRUZUX0JPVFRPTVwiO1xufSkoZXhwb3J0cy5Qb3NpdGlvbiB8fCAoZXhwb3J0cy5Qb3NpdGlvbiA9IHt9KSk7XG5cbnZhciBjYWxjdWxhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIChjb250ZW50LCB0YXJnZXQsIHBvc2l0aW9uLCBvZmZzZXQpIHtcbiAgICB2YXIgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgY29udGVudFJlY3QgPSBjb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBoZWlnaHQgPSBjb250ZW50UmVjdC5oZWlnaHQsIHdpZHRoID0gY29udGVudFJlY3Qud2lkdGg7XG4gICAgdmFyIHRvcCA9IDA7XG4gICAgdmFyIGxlZnQgPSAwO1xuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBleHBvcnRzLlBvc2l0aW9uLlRvcExlZnQ6XG4gICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcCAtIGhlaWdodDtcbiAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBleHBvcnRzLlBvc2l0aW9uLlRvcENlbnRlcjpcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wIC0gaGVpZ2h0O1xuICAgICAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCArIHRhcmdldFJlY3Qud2lkdGggLyAyIC0gd2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5Qb3NpdGlvbi5Ub3BSaWdodDpcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wIC0gaGVpZ2h0O1xuICAgICAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCArIHRhcmdldFJlY3Qud2lkdGggLSB3aWR0aDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuUG9zaXRpb24uUmlnaHRUb3A6XG4gICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcDtcbiAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQgKyB0YXJnZXRSZWN0LndpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5Qb3NpdGlvbi5SaWdodENlbnRlcjpcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQgKyB0YXJnZXRSZWN0LndpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5Qb3NpdGlvbi5SaWdodEJvdHRvbTpcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuUG9zaXRpb24uQm90dG9tTGVmdDpcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5Qb3NpdGlvbi5Cb3R0b21DZW50ZXI6XG4gICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcCArIHRhcmdldFJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCArIHRhcmdldFJlY3Qud2lkdGggLyAyIC0gd2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5Qb3NpdGlvbi5Cb3R0b21SaWdodDpcbiAgICAgICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aCAtIHdpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5Qb3NpdGlvbi5MZWZ0VG9wOlxuICAgICAgICAgICAgdG9wID0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0IC0gd2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBleHBvcnRzLlBvc2l0aW9uLkxlZnRDZW50ZXI6XG4gICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcCArIHRhcmdldFJlY3QuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XG4gICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0UmVjdC5sZWZ0IC0gd2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBleHBvcnRzLlBvc2l0aW9uLkxlZnRCb3R0b206XG4gICAgICAgICAgICB0b3AgPSB0YXJnZXRSZWN0LnRvcCArIHRhcmdldFJlY3QuaGVpZ2h0IC0gaGVpZ2h0O1xuICAgICAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCAtIHdpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQgKyAob2Zmc2V0LmxlZnQgfHwgMCksXG4gICAgICAgIHRvcDogdG9wICsgKG9mZnNldC50b3AgfHwgMCksXG4gICAgfTtcbn07XG5cbnZhciB1c2VQb3NpdGlvbiA9IGZ1bmN0aW9uIChjb250ZW50UmVmLCB0YXJnZXRSZWYsIGFuY2hvclJlZiwgcG9zaXRpb24sIG9mZnNldCkge1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0RWxlID0gdGFyZ2V0UmVmLmN1cnJlbnQ7XG4gICAgICAgIHZhciBjb250ZW50RWxlID0gY29udGVudFJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgYW5jaG9yRWxlID0gYW5jaG9yUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGVudEVsZSB8fCAhdGFyZ2V0RWxlIHx8ICFhbmNob3JFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yUmVjdCA9IGFuY2hvckVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIF9hID0gY2FsY3VsYXRlUG9zaXRpb24oY29udGVudEVsZSwgdGFyZ2V0RWxlLCBwb3NpdGlvbiwgb2Zmc2V0KSwgdG9wID0gX2EudG9wLCBsZWZ0ID0gX2EubGVmdDtcbiAgICAgICAgY29udGVudEVsZS5zdHlsZS50b3AgPSBcIlwiLmNvbmNhdCh0b3AgLSBhbmNob3JSZWN0LnRvcCwgXCJweFwiKTtcbiAgICAgICAgY29udGVudEVsZS5zdHlsZS5sZWZ0ID0gXCJcIi5jb25jYXQobGVmdCAtIGFuY2hvclJlY3QubGVmdCwgXCJweFwiKTtcbiAgICB9LCBbXSk7XG59O1xuXG52YXIgQXJyb3cgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIGN1c3RvbUNsYXNzTmFtZSA9IF9hLmN1c3RvbUNsYXNzTmFtZSwgcG9zaXRpb24gPSBfYS5wb3NpdGlvbjtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcygoX2IgPSB7XG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19hcnJvdyc6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19hcnJvdy0tdGwnOiBwb3NpdGlvbiA9PT0gZXhwb3J0cy5Qb3NpdGlvbi5Ub3BMZWZ0LFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXJyb3ctLXRjJzogcG9zaXRpb24gPT09IGV4cG9ydHMuUG9zaXRpb24uVG9wQ2VudGVyLFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXJyb3ctLXRyJzogcG9zaXRpb24gPT09IGV4cG9ydHMuUG9zaXRpb24uVG9wUmlnaHQsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19hcnJvdy0tcnQnOiBwb3NpdGlvbiA9PT0gZXhwb3J0cy5Qb3NpdGlvbi5SaWdodFRvcCxcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2Fycm93LS1yYyc6IHBvc2l0aW9uID09PSBleHBvcnRzLlBvc2l0aW9uLlJpZ2h0Q2VudGVyLFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXJyb3ctLXJiJzogcG9zaXRpb24gPT09IGV4cG9ydHMuUG9zaXRpb24uUmlnaHRCb3R0b20sXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19hcnJvdy0tYmwnOiBwb3NpdGlvbiA9PT0gZXhwb3J0cy5Qb3NpdGlvbi5Cb3R0b21MZWZ0LFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXJyb3ctLWJjJzogcG9zaXRpb24gPT09IGV4cG9ydHMuUG9zaXRpb24uQm90dG9tQ2VudGVyLFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXJyb3ctLWJyJzogcG9zaXRpb24gPT09IGV4cG9ydHMuUG9zaXRpb24uQm90dG9tUmlnaHQsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19hcnJvdy0tbHQnOiBwb3NpdGlvbiA9PT0gZXhwb3J0cy5Qb3NpdGlvbi5MZWZ0VG9wLFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXJyb3ctLWxjJzogcG9zaXRpb24gPT09IGV4cG9ydHMuUG9zaXRpb24uTGVmdENlbnRlcixcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2Fycm93LS1sYic6IHBvc2l0aW9uID09PSBleHBvcnRzLlBvc2l0aW9uLkxlZnRCb3R0b21cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYltcIlwiLmNvbmNhdChjdXN0b21DbGFzc05hbWUpXSA9IGN1c3RvbUNsYXNzTmFtZSAhPT0gJycsXG4gICAgICAgICAgICBfYikpIH0pKTtcbn07XG5cbnZhciBQb3BvdmVyQm9keSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhcmlhQ29udHJvbHNTdWZmaXggPSBfYS5hcmlhQ29udHJvbHNTdWZmaXgsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsb3NlT25DbGlja091dHNpZGUgPSBfYS5jbG9zZU9uQ2xpY2tPdXRzaWRlLCBvZmZzZXQgPSBfYS5vZmZzZXQsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHRhcmdldFJlZiA9IF9hLnRhcmdldFJlZiwgb25DbG9zZSA9IF9hLm9uQ2xvc2U7XG4gICAgdmFyIGNvbnRlbnRSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigpO1xuICAgIHZhciBpbm5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGFuY2hvclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChUaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB1c2VDbGlja091dHNpZGUoY2xvc2VPbkNsaWNrT3V0c2lkZSwgY29udGVudFJlZiwgb25DbG9zZSk7XG4gICAgdXNlUG9zaXRpb24oY29udGVudFJlZiwgdGFyZ2V0UmVmLCBhbmNob3JSZWYsIHBvc2l0aW9uLCBvZmZzZXQpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5uZXJDb250ZW50RWxlID0gaW5uZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFpbm5lckNvbnRlbnRFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKiAwLjc1O1xuICAgICAgICBpZiAoaW5uZXJDb250ZW50RWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgIGlubmVyQ29udGVudEVsZS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgICAgICAgIGlubmVyQ29udGVudEVsZS5zdHlsZS5tYXhIZWlnaHQgPSBcIlwiLmNvbmNhdChtYXhIZWlnaHQsIFwicHhcIik7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgdmFyIGlubmVySWQgPSBcInJwdi1jb3JlX19wb3BvdmVyLWJvZHktaW5uZXItXCIuY29uY2F0KGFyaWFDb250cm9sc1N1ZmZpeCk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBhbmNob3JSZWYsIHN0eWxlOiB7IGxlZnQ6IDAsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAgfSB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGlubmVySWQsIGNsYXNzTmFtZTogY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19wb3BvdmVyLWJvZHknOiB0cnVlLFxuICAgICAgICAgICAgICAgICdycHYtY29yZV9fcG9wb3Zlci1ib2R5LS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgIH0pLCBpZDogXCJycHYtY29yZV9fcG9wb3Zlci1ib2R5LVwiLmNvbmNhdChhcmlhQ29udHJvbHNTdWZmaXgpLCByZWY6IGNvbnRlbnRSZWYsIHJvbGU6IFwiZGlhbG9nXCIsIHRhYkluZGV4OiAtMSB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFycm93LCB7IGN1c3RvbUNsYXNzTmFtZTogXCJycHYtY29yZV9fcG9wb3Zlci1ib2R5LWFycm93XCIsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGlkOiBpbm5lcklkLCByZWY6IGlubmVyUmVmIH0sIGNoaWxkcmVuKSkpKTtcbn07XG5cbnZhciBQb3BvdmVyT3ZlcmxheSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjbG9zZU9uRXNjYXBlID0gX2EuY2xvc2VPbkVzY2FwZSwgb25DbG9zZSA9IF9hLm9uQ2xvc2U7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdXNlRXNjYXBlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50ICYmIGNsb3NlT25Fc2NhcGUpIHtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX3BvcG92ZXItb3ZlcmxheVwiLCByZWY6IGNvbnRhaW5lclJlZiB9KTtcbn07XG5cbnZhciBQb3BvdmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuYXJpYUhhc1BvcHVwLCBhcmlhSGFzUG9wdXAgPSBfYiA9PT0gdm9pZCAwID8gJ2RpYWxvZycgOiBfYiwgYXJpYUNvbnRyb2xzU3VmZml4ID0gX2EuYXJpYUNvbnRyb2xzU3VmZml4LCBjbG9zZU9uQ2xpY2tPdXRzaWRlID0gX2EuY2xvc2VPbkNsaWNrT3V0c2lkZSwgY2xvc2VPbkVzY2FwZSA9IF9hLmNsb3NlT25Fc2NhcGUsIGNvbnRlbnQgPSBfYS5jb250ZW50LCBfYyA9IF9hLmxvY2tTY3JvbGwsIGxvY2tTY3JvbGwgPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBvZmZzZXQgPSBfYS5vZmZzZXQsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHRhcmdldCA9IF9hLnRhcmdldDtcbiAgICB2YXIgX2QgPSB1c2VUb2dnbGUoZmFsc2UpLCBvcGVuZWQgPSBfZC5vcGVuZWQsIHRvZ2dsZSA9IF9kLnRvZ2dsZTtcbiAgICB2YXIgdGFyZ2V0UmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgY29udHJvbHNTdWZmaXggPSBhcmlhQ29udHJvbHNTdWZmaXggfHwgXCJcIi5jb25jYXQodW5pcXVlSWQoKSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRhcmdldFJlZiwgXCJhcmlhLWV4cGFuZGVkXCI6IG9wZW5lZCA/ICd0cnVlJyA6ICdmYWxzZScsIFwiYXJpYS1oYXNwb3B1cFwiOiBhcmlhSGFzUG9wdXAsIFwiYXJpYS1jb250cm9sc1wiOiBcInJwdi1jb3JlX19wb3B2ZXItYm9keS1cIi5jb25jYXQoY29udHJvbHNTdWZmaXgpIH0sXG4gICAgICAgIHRhcmdldCh0b2dnbGUsIG9wZW5lZCksXG4gICAgICAgIG9wZW5lZCAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICBsb2NrU2Nyb2xsICYmIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQb3BvdmVyT3ZlcmxheSwgeyBjbG9zZU9uRXNjYXBlOiBjbG9zZU9uRXNjYXBlLCBvbkNsb3NlOiB0b2dnbGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUG9wb3ZlckJvZHksIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBjb250cm9sc1N1ZmZpeCwgY2xvc2VPbkNsaWNrT3V0c2lkZTogY2xvc2VPbkNsaWNrT3V0c2lkZSwgb2Zmc2V0OiBvZmZzZXQsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdGFyZ2V0UmVmOiB0YXJnZXRSZWYsIG9uQ2xvc2U6IHRvZ2dsZSB9LCBjb250ZW50KHRvZ2dsZSkpKSkpKTtcbn07XG5cbnZhciBUb29sdGlwQm9keSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhcmlhQ29udHJvbHNTdWZmaXggPSBfYS5hcmlhQ29udHJvbHNTdWZmaXgsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNvbnRlbnRSZWYgPSBfYS5jb250ZW50UmVmLCBvZmZzZXQgPSBfYS5vZmZzZXQsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHRhcmdldFJlZiA9IF9hLnRhcmdldFJlZjtcbiAgICB2YXIgYW5jaG9yUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHVzZVBvc2l0aW9uKGNvbnRlbnRSZWYsIHRhcmdldFJlZiwgYW5jaG9yUmVmLCBwb3NpdGlvbiwgb2Zmc2V0KTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGFuY2hvclJlZiwgc3R5bGU6IHsgbGVmdDogMCwgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCB9IH0pLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgICAgICdycHYtY29yZV9fdG9vbHRpcC1ib2R5JzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX3Rvb2x0aXAtYm9keS0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICB9KSwgaWQ6IFwicnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1cIi5jb25jYXQoYXJpYUNvbnRyb2xzU3VmZml4KSwgcmVmOiBjb250ZW50UmVmLCByb2xlOiBcInRvb2x0aXBcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFycm93LCB7IGN1c3RvbUNsYXNzTmFtZTogXCJycHYtY29yZV9fdG9vbHRpcC1ib2R5LWFycm93XCIsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fdG9vbHRpcC1ib2R5LWNvbnRlbnRcIiB9LCBjaGlsZHJlbikpKSk7XG59O1xuXG52YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhcmlhQ29udHJvbHNTdWZmaXggPSBfYS5hcmlhQ29udHJvbHNTdWZmaXgsIGNvbnRlbnQgPSBfYS5jb250ZW50LCBvZmZzZXQgPSBfYS5vZmZzZXQsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHRhcmdldCA9IF9hLnRhcmdldDtcbiAgICB2YXIgX2IgPSB1c2VUb2dnbGUoZmFsc2UpLCBvcGVuZWQgPSBfYi5vcGVuZWQsIHRvZ2dsZSA9IF9iLnRvZ2dsZTtcbiAgICB2YXIgdGFyZ2V0UmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgY29udGVudFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGNvbnRyb2xzU3VmZml4ID0gYXJpYUNvbnRyb2xzU3VmZml4IHx8IFwiXCIuY29uY2F0KHVuaXF1ZUlkKCkpO1xuICAgIHVzZUVzY2FwZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0YXJnZXRSZWYuY3VycmVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIHRhcmdldFJlZi5jdXJyZW50LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIG9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRvZ2dsZShleHBvcnRzLlRvZ2dsZVN0YXR1cy5PcGVuKTtcbiAgICB9O1xuICAgIHZhciBjbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdG9nZ2xlKGV4cG9ydHMuVG9nZ2xlU3RhdHVzLkNsb3NlKTtcbiAgICB9O1xuICAgIHZhciBvbkJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgc2hvdWxkSGlkZVRvb2x0aXAgPSBlLnJlbGF0ZWRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQgJiZcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCk7XG4gICAgICAgIGlmIChzaG91bGRIaWRlVG9vbHRpcCkge1xuICAgICAgICAgICAgaWYgKGNvbnRlbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiB0YXJnZXRSZWYsIFwiYXJpYS1kZXNjcmliZWRieVwiOiBcInJwdi1jb3JlX190b29sdGlwLWJvZHktXCIuY29uY2F0KGNvbnRyb2xzU3VmZml4KSwgb25CbHVyOiBvbkJsdXIsIG9uRm9jdXM6IG9wZW4sIG9uTW91c2VFbnRlcjogb3Blbiwgb25Nb3VzZUxlYXZlOiBjbG9zZSB9LCB0YXJnZXQpLFxuICAgICAgICBvcGVuZWQgJiYgKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUb29sdGlwQm9keSwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IGNvbnRyb2xzU3VmZml4LCBjb250ZW50UmVmOiBjb250ZW50UmVmLCBvZmZzZXQ6IG9mZnNldCwgcG9zaXRpb246IHBvc2l0aW9uLCB0YXJnZXRSZWY6IHRhcmdldFJlZiB9LCBjb250ZW50KCkpKSkpO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlIHx8IHt9O1xuICAgIHZhciBsaXN0ZW5lcnMgPSB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChrZXksIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1trZXldID0gKGxpc3RlbmVyc1trZXldIHx8IFtdKS5jb25jYXQoaGFuZGxlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoa2V5LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNba2V5XSA9IChsaXN0ZW5lcnNba2V5XSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmICE9PSBoYW5kbGVyOyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoa2V5LCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBzdGF0ZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZSksIChfYSA9IHt9LCBfYVtrZXldID0gZGF0YSwgX2EpKTtcbiAgICAgICAgICAgIChsaXN0ZW5lcnNba2V5XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gaGFuZGxlcihzdGF0ZVtrZXldKTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlW2tleV07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZXhwb3J0cy5MYXllclJlbmRlclN0YXR1cyA9IHZvaWQgMDtcbihmdW5jdGlvbiAoTGF5ZXJSZW5kZXJTdGF0dXMpIHtcbiAgICBMYXllclJlbmRlclN0YXR1c1tMYXllclJlbmRlclN0YXR1c1tcIlByZVJlbmRlclwiXSA9IDBdID0gXCJQcmVSZW5kZXJcIjtcbiAgICBMYXllclJlbmRlclN0YXR1c1tMYXllclJlbmRlclN0YXR1c1tcIkRpZFJlbmRlclwiXSA9IDFdID0gXCJEaWRSZW5kZXJcIjtcbn0pKGV4cG9ydHMuTGF5ZXJSZW5kZXJTdGF0dXMgfHwgKGV4cG9ydHMuTGF5ZXJSZW5kZXJTdGF0dXMgPSB7fSkpO1xuXG5leHBvcnRzLlJvdGF0ZURpcmVjdGlvbiA9IHZvaWQgMDtcbihmdW5jdGlvbiAoUm90YXRlRGlyZWN0aW9uKSB7XG4gICAgUm90YXRlRGlyZWN0aW9uW1wiQmFja3dhcmRcIl0gPSBcIkJhY2t3YXJkXCI7XG4gICAgUm90YXRlRGlyZWN0aW9uW1wiRm9yd2FyZFwiXSA9IFwiRm9yd2FyZFwiO1xufSkoZXhwb3J0cy5Sb3RhdGVEaXJlY3Rpb24gfHwgKGV4cG9ydHMuUm90YXRlRGlyZWN0aW9uID0ge30pKTtcblxuZXhwb3J0cy5TY3JvbGxNb2RlID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChTY3JvbGxNb2RlKSB7XG4gICAgU2Nyb2xsTW9kZVtcIkhvcml6b250YWxcIl0gPSBcIkhvcml6b250YWxcIjtcbiAgICBTY3JvbGxNb2RlW1wiVmVydGljYWxcIl0gPSBcIlZlcnRpY2FsXCI7XG4gICAgU2Nyb2xsTW9kZVtcIldyYXBwZWRcIl0gPSBcIldyYXBwZWRcIjtcbn0pKGV4cG9ydHMuU2Nyb2xsTW9kZSB8fCAoZXhwb3J0cy5TY3JvbGxNb2RlID0ge30pKTtcblxuZXhwb3J0cy5TcGVjaWFsWm9vbUxldmVsID0gdm9pZCAwO1xuKGZ1bmN0aW9uIChTcGVjaWFsWm9vbUxldmVsKSB7XG4gICAgU3BlY2lhbFpvb21MZXZlbFtcIkFjdHVhbFNpemVcIl0gPSBcIkFjdHVhbFNpemVcIjtcbiAgICBTcGVjaWFsWm9vbUxldmVsW1wiUGFnZUZpdFwiXSA9IFwiUGFnZUZpdFwiO1xuICAgIFNwZWNpYWxab29tTGV2ZWxbXCJQYWdlV2lkdGhcIl0gPSBcIlBhZ2VXaWR0aFwiO1xufSkoZXhwb3J0cy5TcGVjaWFsWm9vbUxldmVsIHx8IChleHBvcnRzLlNwZWNpYWxab29tTGV2ZWwgPSB7fSkpO1xuXG52YXIgaXNNYWMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAvKE1hY3xpUGhvbmV8aVBvZHxpUGFkKS9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlKTsgfTtcblxudmFyIG5vcm1hbGl6ZURlc3RpbmF0aW9uID0gZnVuY3Rpb24gKHBhZ2VJbmRleCwgZGVzdEFycmF5KSB7XG4gICAgc3dpdGNoIChkZXN0QXJyYXlbMV0ubmFtZSkge1xuICAgICAgICBjYXNlICdYWVonOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBib3R0b21PZmZzZXQ6IGRlc3RBcnJheVszXSxcbiAgICAgICAgICAgICAgICBsZWZ0T2Zmc2V0OiBkZXN0QXJyYXlbMl0gfHwgMCxcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICBzY2FsZVRvOiBkZXN0QXJyYXlbNF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdGaXQnOlxuICAgICAgICBjYXNlICdGaXRCJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm90dG9tT2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGxlZnRPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgc2NhbGVUbzogZXhwb3J0cy5TcGVjaWFsWm9vbUxldmVsLlBhZ2VGaXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdGaXRIJzpcbiAgICAgICAgY2FzZSAnRml0QkgnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBib3R0b21PZmZzZXQ6IGRlc3RBcnJheVsyXSxcbiAgICAgICAgICAgICAgICBsZWZ0T2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIHNjYWxlVG86IGV4cG9ydHMuU3BlY2lhbFpvb21MZXZlbC5QYWdlV2lkdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBib3R0b21PZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgbGVmdE9mZnNldDogMCxcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICBzY2FsZVRvOiAxLFxuICAgICAgICAgICAgfTtcbiAgICB9XG59O1xudmFyIHBhZ2VPdXRsaW5lc01hcCA9IG5ldyBNYXAoKTtcbnZhciBwYWdlc01hcCA9IG5ldyBNYXAoKTtcbnZhciBnZW5lcmF0ZVJlZktleSA9IGZ1bmN0aW9uIChkb2MsIG91dGxpbmUpIHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoZG9jLmxvYWRpbmdUYXNrLmRvY0lkLCBcIl9fX1wiKS5jb25jYXQob3V0bGluZS5udW0sIFwiUlwiKS5jb25jYXQob3V0bGluZS5nZW4gPT09IDAgPyAnJyA6IG91dGxpbmUuZ2VuKTtcbn07XG52YXIgZ2V0UGFnZUluZGV4ID0gZnVuY3Rpb24gKGRvYywgb3V0bGluZSkge1xuICAgIHJldHVybiBwYWdlT3V0bGluZXNNYXAuZ2V0KGdlbmVyYXRlUmVmS2V5KGRvYywgb3V0bGluZSkpIHx8IG51bGw7XG59O1xudmFyIGNhY2hlT3V0bGluZVJlZiA9IGZ1bmN0aW9uIChkb2MsIG91dGxpbmUsIHBhZ2VJbmRleCkge1xuICAgIHBhZ2VPdXRsaW5lc01hcC5zZXQoZ2VuZXJhdGVSZWZLZXkoZG9jLCBvdXRsaW5lKSwgcGFnZUluZGV4KTtcbn07XG52YXIgY2xlYXJQYWdlc0NhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgIHBhZ2VPdXRsaW5lc01hcC5jbGVhcigpO1xuICAgIHBhZ2VzTWFwLmNsZWFyKCk7XG59O1xudmFyIGdldFBhZ2UgPSBmdW5jdGlvbiAoZG9jLCBwYWdlSW5kZXgpIHtcbiAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ1RoZSBkb2N1bWVudCBpcyBub3QgbG9hZGVkIHlldCcpO1xuICAgIH1cbiAgICB2YXIgcGFnZUtleSA9IFwiXCIuY29uY2F0KGRvYy5sb2FkaW5nVGFzay5kb2NJZCwgXCJfX19cIikuY29uY2F0KHBhZ2VJbmRleCk7XG4gICAgdmFyIHBhZ2UgPSBwYWdlc01hcC5nZXQocGFnZUtleSk7XG4gICAgaWYgKHBhZ2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfKSB7XG4gICAgICAgIGRvYy5nZXRQYWdlKHBhZ2VJbmRleCArIDEpLnRoZW4oZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2VzTWFwLnNldChwYWdlS2V5LCBwYWdlKTtcbiAgICAgICAgICAgIGlmIChwYWdlLnJlZikge1xuICAgICAgICAgICAgICAgIGNhY2hlT3V0bGluZVJlZihkb2MsIHBhZ2UucmVmLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShwYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xudmFyIGdldERlc3RpbmF0aW9uID0gZnVuY3Rpb24gKGRvYywgZGVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZG9jLmdldERlc3RpbmF0aW9uKGRlc3QpLnRoZW4oZnVuY3Rpb24gKGRlc3RBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRlc3RBcnJheSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkZXN0QXJyYXkpIHtcbiAgICAgICAgICAgIGlmICgnb2JqZWN0JyA9PT0gdHlwZW9mIGRlc3RBcnJheVswXSAmJiBkZXN0QXJyYXlbMF0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3V0bGluZVJlZl8xID0gZGVzdEFycmF5WzBdO1xuICAgICAgICAgICAgICAgIHZhciBwYWdlSW5kZXggPSBnZXRQYWdlSW5kZXgoZG9jLCBvdXRsaW5lUmVmXzEpO1xuICAgICAgICAgICAgICAgIGlmIChwYWdlSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jLmdldFBhZ2VJbmRleChvdXRsaW5lUmVmXzEpLnRoZW4oZnVuY3Rpb24gKHBhZ2VJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVPdXRsaW5lUmVmKGRvYywgb3V0bGluZVJlZl8xLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RGVzdGluYXRpb24oZG9jLCBkZXN0KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHJlcyhyZXN1bHQpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMobm9ybWFsaXplRGVzdGluYXRpb24ocGFnZUluZGV4LCBkZXN0QXJyYXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbm9ybWFsaXplRGVzdGluYXRpb24oZGVzdEFycmF5WzBdLCBkZXN0QXJyYXkpO1xuICAgICAgICAgICAgICAgIHJlcyh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHVzZVByZXZpb3VzKHZhbHVlKSB7XG4gICAgdmFyIHJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHZhbHVlKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfSwgW3ZhbHVlXSk7XG4gICAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG52YXIgdXNlRGVib3VuY2VDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgd2FpdCkge1xuICAgIHZhciB0aW1lb3V0ID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsZWFudXAoKTsgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgdGltZW91dC5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICB9LCBbY2FsbGJhY2ssIHdhaXRdKTtcbn07XG5cbnZhciB1c2VUcmFja1Jlc2l6ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciB0YXJnZXRSZWYgPSBfYS50YXJnZXRSZWYsIG9uUmVzaXplID0gX2Eub25SZXNpemU7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbyA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIG9uUmVzaXplKGVudHJ5LnRhcmdldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0YXJnZXRSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpby5vYnNlcnZlKGNvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpby51bm9ic2VydmUoY29udGFpbmVyKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG59O1xuXG52YXIgY2xhbXAgPSBmdW5jdGlvbiAobWluLCBtYXgsIHZhbHVlKSB7IHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKHZhbHVlLCBtYXgpKTsgfTtcblxudmFyIGZpbmROZWFyZXN0ID0gZnVuY3Rpb24gKGxvdywgaGlnaCwgdmFsdWUsIGdldEl0ZW1WYWx1ZSkge1xuICAgIHdoaWxlIChsb3cgPD0gaGlnaCkge1xuICAgICAgICB2YXIgbWlkZGxlID0gKChsb3cgKyBoaWdoKSAvIDIpIHwgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGdldEl0ZW1WYWx1ZShtaWRkbGUpO1xuICAgICAgICBpZiAoY3VycmVudFZhbHVlIDwgdmFsdWUpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZGRsZSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFZhbHVlID4gdmFsdWUpIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWRkbGUgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1pZGRsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG93ID4gMCA/IGxvdyAtIDEgOiAwO1xufTtcblxudmFyIHJlY3RSZWR1Y2VyID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICB2YXIgcmVjdCA9IGFjdGlvbi5yZWN0O1xuICAgIHJldHVybiBzdGF0ZS5oZWlnaHQgIT09IHJlY3QuaGVpZ2h0IHx8IHN0YXRlLndpZHRoICE9PSByZWN0LndpZHRoID8gcmVjdCA6IHN0YXRlO1xufTtcbnZhciB1c2VNZWFzdXJlUmVjdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBlbGVtZW50UmVmID0gX2EuZWxlbWVudFJlZjtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGVsZW1lbnRSZWYuY3VycmVudCksIGVsZW1lbnQgPSBfYlswXSwgc2V0RWxlbWVudCA9IF9iWzFdO1xuICAgIHZhciBpbml0aWFsaXplZFJlY3RSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihmYWxzZSk7XG4gICAgdmFyIF9jID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWR1Y2VyKHJlY3RSZWR1Y2VyLCB7IGhlaWdodDogMCwgd2lkdGg6IDAgfSksIHJlY3QgPSBfY1swXSwgZGlzcGF0Y2ggPSBfY1sxXTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRSZWYuY3VycmVudCAhPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgc2V0RWxlbWVudChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChlbGVtZW50ICYmICFpbml0aWFsaXplZFJlY3RSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZWRSZWN0UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9hID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHJlY3Q6IHsgaGVpZ2h0OiBoZWlnaHQsIHdpZHRoOiB3aWR0aCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbZWxlbWVudF0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYWNrZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMsIF9fKSB7XG4gICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBlbnRyeS5jb250ZW50UmVjdCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0OiB7IGhlaWdodDogaGVpZ2h0LCB3aWR0aDogd2lkdGggfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFja2VyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cmFja2VyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZWxlbWVudF0pO1xuICAgIHJldHVybiByZWN0O1xufTtcblxudmFyIHVzZVJhZlN0YXRlID0gZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgIHZhciBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgcmFmUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoMCk7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShpbml0aWFsU3RhdGUpLCBzdGF0ZSA9IF9hWzBdLCBzZXRTdGF0ZSA9IF9hWzFdO1xuICAgIHZhciBzZXRSYWZTdGF0ZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZlJlZi5jdXJyZW50KTtcbiAgICAgICAgcmFmUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiYgc2V0U3RhdGUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmUmVmLmN1cnJlbnQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gW3N0YXRlLCBzZXRSYWZTdGF0ZV07XG59O1xuXG52YXIgWkVST19PRkZTRVQkMSA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMCxcbn07XG52YXIgU0NST0xMX0VWRU5UX09QVElPTlMgPSB7XG4gICAgY2FwdHVyZTogZmFsc2UsXG4gICAgcGFzc2l2ZTogdHJ1ZSxcbn07XG52YXIgdXNlU2Nyb2xsID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGVsZW1lbnRSZWYgPSBfYS5lbGVtZW50UmVmLCBpc1J0bCA9IF9hLmlzUnRsLCBzY3JvbGxNb2RlID0gX2Euc2Nyb2xsTW9kZTtcbiAgICB2YXIgX2IgPSB1c2VSYWZTdGF0ZShaRVJPX09GRlNFVCQxKSwgc2Nyb2xsT2Zmc2V0ID0gX2JbMF0sIHNldFNjcm9sbE9mZnNldCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZWxlbWVudFJlZi5jdXJyZW50KSwgZWxlbWVudCA9IF9jWzBdLCBzZXRFbGVtZW50ID0gX2NbMV07XG4gICAgdmFyIGZhY3RvciA9IGlzUnRsID8gLTEgOiAxO1xuICAgIHZhciBsYXRlc3RSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihzY3JvbGxNb2RlKTtcbiAgICBsYXRlc3RSZWYuY3VycmVudCA9IHNjcm9sbE1vZGU7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldEVsZW1lbnQoZWxlbWVudFJlZi5jdXJyZW50KTtcbiAgICB9KTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobGF0ZXN0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5Ib3Jpem9udGFsOlxuICAgICAgICAgICAgICAgICAgICBzZXRTY3JvbGxPZmZzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZmFjdG9yICogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBleHBvcnRzLlNjcm9sbE1vZGUuVmVydGljYWw6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc2V0U2Nyb2xsT2Zmc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnQuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsLCBTQ1JPTExfRVZFTlRfT1BUSU9OUyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwgU0NST0xMX0VWRU5UX09QVElPTlMpO1xuICAgICAgICB9O1xuICAgIH0sIFtlbGVtZW50XSk7XG4gICAgdmFyIHNjcm9sbFRvID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgIHZhciBlbGUgPSBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChlbGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobGF0ZXN0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5Ib3Jpem9udGFsOlxuICAgICAgICAgICAgICAgICAgICBlbGUuc2Nyb2xsTGVmdCA9IGZhY3RvciAqIG9mZnNldC5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBlbGUuc2Nyb2xsVG9wID0gb2Zmc2V0LnRvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbZWxlbWVudFJlZl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjcm9sbE9mZnNldDogc2Nyb2xsT2Zmc2V0LFxuICAgICAgICBzY3JvbGxUbzogc2Nyb2xsVG8sXG4gICAgfTtcbn07XG5cbnZhciBaRVJPX1JFQ1QgPSB7XG4gICAgaGVpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxufTtcbnZhciBaRVJPX09GRlNFVCA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMCxcbn07XG52YXIgY2FsY3VsYXRlUmFuZ2UgPSBmdW5jdGlvbiAoc2Nyb2xsTW9kZSwgbWVhc3VyZW1lbnRzLCBvdXRlclNpemUsIHNjcm9sbE9mZnNldCkge1xuICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gMDtcbiAgICBzd2l0Y2ggKHNjcm9sbE1vZGUpIHtcbiAgICAgICAgY2FzZSBleHBvcnRzLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIGN1cnJlbnRPZmZzZXQgPSBzY3JvbGxPZmZzZXQubGVmdDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGN1cnJlbnRPZmZzZXQgPSBzY3JvbGxPZmZzZXQudG9wO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBzaXplID0gbWVhc3VyZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgdmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBzd2l0Y2ggKHNjcm9sbE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLkhvcml6b250YWw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lYXN1cmVtZW50c1tpbmRleF0uc3RhcnQubGVmdDtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLldyYXBwZWQ6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lYXN1cmVtZW50c1tpbmRleF0uc3RhcnQudG9wO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RhcnQgPSBmaW5kTmVhcmVzdCgwLCBzaXplLCBjdXJyZW50T2Zmc2V0LCBnZXRPZmZzZXQpO1xuICAgIGlmIChzY3JvbGxNb2RlID09PSBleHBvcnRzLlNjcm9sbE1vZGUuV3JhcHBlZCkge1xuICAgICAgICB2YXIgc3RhcnRUb3AgPSBtZWFzdXJlbWVudHNbc3RhcnRdLnN0YXJ0LnRvcDtcbiAgICAgICAgd2hpbGUgKHN0YXJ0IC0gMSA+PSAwICYmXG4gICAgICAgICAgICBtZWFzdXJlbWVudHNbc3RhcnQgLSAxXS5zdGFydC50b3AgPT09IHN0YXJ0VG9wICYmXG4gICAgICAgICAgICBtZWFzdXJlbWVudHNbc3RhcnQgLSAxXS5zdGFydC5sZWZ0ID49IHNjcm9sbE9mZnNldC5sZWZ0KSB7XG4gICAgICAgICAgICBzdGFydC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBlbmQgPSBzdGFydDtcbiAgICB2YXIgdmlzaWJpbGl0aWVzID0ge307XG4gICAgdmFyIG1heFZpc2JpbGl0eUluZGV4ID0gc3RhcnQ7XG4gICAgdmFyIG1heFZpc2JpbGl0eSA9IC0xO1xuICAgIHdoaWxlIChlbmQgPD0gc2l6ZSkge1xuICAgICAgICB2YXIgaXRlbVJlY3QgPSBtZWFzdXJlbWVudHNbZW5kXS5zaXplO1xuICAgICAgICB2YXIgdmlzaWJpbGl0eSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgdG9wTGVmdENvcm5lciA9IHtcbiAgICAgICAgICAgIHRvcDogbWVhc3VyZW1lbnRzW2VuZF0uc3RhcnQudG9wIC0gc2Nyb2xsT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IG1lYXN1cmVtZW50c1tlbmRdLnN0YXJ0LmxlZnQgLSBzY3JvbGxPZmZzZXQubGVmdCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZpc2libGVTaXplID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiBvdXRlclNpemUuaGVpZ2h0IC0gdG9wTGVmdENvcm5lci50b3AsXG4gICAgICAgICAgICB3aWR0aDogb3V0ZXJTaXplLndpZHRoIC0gdG9wTGVmdENvcm5lci5sZWZ0LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc2Nyb2xsTW9kZSA9PT0gZXhwb3J0cy5TY3JvbGxNb2RlLkhvcml6b250YWwgJiYgdmlzaWJsZVNpemUud2lkdGggPCAwKSB7XG4gICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY3JvbGxNb2RlID09PSBleHBvcnRzLlNjcm9sbE1vZGUuVmVydGljYWwgJiYgdmlzaWJsZVNpemUuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgZW5kLS07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nyb2xsTW9kZSA9PT0gZXhwb3J0cy5TY3JvbGxNb2RlLldyYXBwZWQgJiYgKHZpc2libGVTaXplLndpZHRoIDwgMCB8fCB2aXNpYmxlU2l6ZS5oZWlnaHQgPCAwKSkge1xuICAgICAgICAgICAgZW5kLS07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nyb2xsTW9kZSA9PT0gZXhwb3J0cy5TY3JvbGxNb2RlLlZlcnRpY2FsKSB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5LndpZHRoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3BMZWZ0Q29ybmVyLmxlZnQgPCAwKSB7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZVdpZHRoID0gaXRlbVJlY3Qud2lkdGggLSAtdG9wTGVmdENvcm5lci5sZWZ0O1xuICAgICAgICAgICAgdmlzaWJpbGl0eS53aWR0aCA9IHZpc2libGVXaWR0aCA8PSBvdXRlclNpemUud2lkdGggPyB2aXNpYmxlV2lkdGggLyBvdXRlclNpemUud2lkdGggOiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlzaWJpbGl0eS53aWR0aCA9IGl0ZW1SZWN0LndpZHRoIDw9IHZpc2libGVTaXplLndpZHRoID8gMSA6IHZpc2libGVTaXplLndpZHRoIC8gaXRlbVJlY3Qud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjcm9sbE1vZGUgPT09IGV4cG9ydHMuU2Nyb2xsTW9kZS5Ib3Jpem9udGFsKSB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5LmhlaWdodCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG9wTGVmdENvcm5lci50b3AgPCAwKSB7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZUhlaWdodCA9IGl0ZW1SZWN0LmhlaWdodCAtIC10b3BMZWZ0Q29ybmVyLnRvcDtcbiAgICAgICAgICAgIHZpc2liaWxpdHkuaGVpZ2h0ID0gdmlzaWJsZUhlaWdodCA8PSBvdXRlclNpemUuaGVpZ2h0ID8gdmlzaWJsZUhlaWdodCAvIG91dGVyU2l6ZS5oZWlnaHQgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlzaWJpbGl0eS5oZWlnaHQgPSBpdGVtUmVjdC5oZWlnaHQgPD0gdmlzaWJsZVNpemUuaGVpZ2h0ID8gMSA6IHZpc2libGVTaXplLmhlaWdodCAvIGl0ZW1SZWN0LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB2aXNpYmlsaXRpZXNbZW5kXSA9IHZpc2liaWxpdHkud2lkdGggKiB2aXNpYmlsaXR5LmhlaWdodDtcbiAgICAgICAgaWYgKG1heFZpc2JpbGl0eSA8IHZpc2liaWxpdGllc1tlbmRdKSB7XG4gICAgICAgICAgICBtYXhWaXNiaWxpdHkgPSB2aXNpYmlsaXRpZXNbZW5kXTtcbiAgICAgICAgICAgIG1heFZpc2JpbGl0eUluZGV4ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIGVuZCsrO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGVuZDogZW5kLFxuICAgICAgICBtYXhWaXNiaWxpdHlJbmRleDogbWF4VmlzYmlsaXR5SW5kZXgsXG4gICAgICAgIHZpc2liaWxpdGllczogdmlzaWJpbGl0aWVzLFxuICAgIH07XG59O1xudmFyIHVzZVZpcnR1YWwgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZXN0aW1hdGVTaXplID0gX2EuZXN0aW1hdGVTaXplLCBpc1J0bCA9IF9hLmlzUnRsLCBudW1iZXJPZkl0ZW1zID0gX2EubnVtYmVyT2ZJdGVtcywgc2V0U3RhcnRSYW5nZSA9IF9hLnNldFN0YXJ0UmFuZ2UsIHNldEVuZFJhbmdlID0gX2Euc2V0RW5kUmFuZ2UsIHBhcmVudFJlZiA9IF9hLnBhcmVudFJlZiwgc2Nyb2xsTW9kZSA9IF9hLnNjcm9sbE1vZGUsIHRyYW5zZm9ybVNpemUgPSBfYS50cmFuc2Zvcm1TaXplO1xuICAgIHZhciBfYiA9IHVzZVNjcm9sbCh7XG4gICAgICAgIGVsZW1lbnRSZWY6IHBhcmVudFJlZixcbiAgICAgICAgaXNSdGw6IGlzUnRsLFxuICAgICAgICBzY3JvbGxNb2RlOiBzY3JvbGxNb2RlLFxuICAgIH0pLCBzY3JvbGxPZmZzZXQgPSBfYi5zY3JvbGxPZmZzZXQsIHNjcm9sbFRvID0gX2Iuc2Nyb2xsVG87XG4gICAgdmFyIHBhcmVudFJlY3QgPSB1c2VNZWFzdXJlUmVjdCh7XG4gICAgICAgIGVsZW1lbnRSZWY6IHBhcmVudFJlZixcbiAgICB9KTtcbiAgICB2YXIgbGF0ZXN0UmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoe1xuICAgICAgICBzY3JvbGxPZmZzZXQ6IFpFUk9fT0ZGU0VULFxuICAgICAgICBtZWFzdXJlbWVudHM6IFtdLFxuICAgICAgICBwYXJlbnRSZWN0OiBaRVJPX1JFQ1QsXG4gICAgICAgIHRvdGFsU2l6ZTogWkVST19SRUNULFxuICAgIH0pO1xuICAgIGxhdGVzdFJlZi5jdXJyZW50LnNjcm9sbE9mZnNldCA9IHNjcm9sbE9mZnNldDtcbiAgICBsYXRlc3RSZWYuY3VycmVudC5wYXJlbnRSZWN0ID0gcGFyZW50UmVjdDtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHt9KSwgY2FjaGVNZWFzdXJlID0gX2NbMF0sIHNldENhY2hlTWVhc3VyZSA9IF9jWzFdO1xuICAgIHZhciBtZWFzdXJlbWVudHMgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVhc3VyZW1lbnRzID0gW107XG4gICAgICAgIHZhciB0b3RhbFdpZHRoID0gMDtcbiAgICAgICAgdmFyIGZpcnN0T2ZSb3cgPSB7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gY2FjaGVNZWFzdXJlW2ldIHx8IHRyYW5zZm9ybVNpemUoZXN0aW1hdGVTaXplKGkpKTtcbiAgICAgICAgICAgIHZhciBzdGFydF8xID0gWkVST19PRkZTRVQ7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRvdGFsV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICAgICAgICAgIGZpcnN0T2ZSb3cgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzY3JvbGxNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLldyYXBwZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdpZHRoICs9IHNpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxXaWR0aCA8IHBhcmVudFJlY3Qud2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydF8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBtZWFzdXJlbWVudHNbaSAtIDFdLmVuZC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGZpcnN0T2ZSb3cudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gTWF0aC5tYXgobWF4SGVpZ2h0LCBzaXplLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFdpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydF8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBmaXJzdE9mUm93LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZmlyc3RPZlJvdy50b3AgKyBtYXhIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE9mUm93ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzdGFydF8xLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogc3RhcnRfMS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5Ib3Jpem9udGFsOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0XzEgPSBtZWFzdXJlbWVudHNbaSAtIDFdLmVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbmRfMSA9IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBzdGFydF8xLmxlZnQgKyBzaXplLndpZHRoLFxuICAgICAgICAgICAgICAgIHRvcDogc3RhcnRfMS50b3AgKyBzaXplLmhlaWdodCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtZWFzdXJlbWVudHNbaV0gPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0XzEsXG4gICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgICBlbmQ6IGVuZF8xLFxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IC0xLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVhc3VyZW1lbnRzO1xuICAgIH0sIFtlc3RpbWF0ZVNpemUsIHNjcm9sbE1vZGUsIHBhcmVudFJlY3QsIGNhY2hlTWVhc3VyZSwgdHJhbnNmb3JtU2l6ZV0pO1xuICAgIHZhciB0b3RhbFNpemUgPSBtZWFzdXJlbWVudHNbbnVtYmVyT2ZJdGVtcyAtIDFdXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaGVpZ2h0OiBtZWFzdXJlbWVudHNbbnVtYmVyT2ZJdGVtcyAtIDFdLmVuZC50b3AsXG4gICAgICAgICAgICB3aWR0aDogbWVhc3VyZW1lbnRzW251bWJlck9mSXRlbXMgLSAxXS5lbmQubGVmdCxcbiAgICAgICAgfVxuICAgICAgICA6IFpFUk9fUkVDVDtcbiAgICBsYXRlc3RSZWYuY3VycmVudC5tZWFzdXJlbWVudHMgPSBtZWFzdXJlbWVudHM7XG4gICAgbGF0ZXN0UmVmLmN1cnJlbnQudG90YWxTaXplID0gdG90YWxTaXplO1xuICAgIHZhciBfZCA9IGNhbGN1bGF0ZVJhbmdlKHNjcm9sbE1vZGUsIGxhdGVzdFJlZi5jdXJyZW50Lm1lYXN1cmVtZW50cywgbGF0ZXN0UmVmLmN1cnJlbnQucGFyZW50UmVjdCwgbGF0ZXN0UmVmLmN1cnJlbnQuc2Nyb2xsT2Zmc2V0KSwgbWF4VmlzYmlsaXR5SW5kZXggPSBfZC5tYXhWaXNiaWxpdHlJbmRleCwgdmlzaWJpbGl0aWVzID0gX2QudmlzaWJpbGl0aWVzLCBzdGFydCA9IF9kLnN0YXJ0LCBlbmQgPSBfZC5lbmQ7XG4gICAgdmFyIHN0YXJ0UmFuZ2UgPSBzZXRTdGFydFJhbmdlKHN0YXJ0KTtcbiAgICB2YXIgZW5kUmFuZ2UgPSBzZXRFbmRSYW5nZShlbmQpO1xuICAgIHZhciB2aXJ0dWFsSXRlbXMgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlydHVhbEl0ZW1zID0gW107XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIHZpcnR1YWxJdGVtID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGl0ZW0pLCB7IHZpc2liaWxpdHk6IHZpc2liaWxpdGllc1tpXSAhPT0gdW5kZWZpbmVkID8gdmlzaWJpbGl0aWVzW2ldIDogLTEsIG1lYXN1cmVSZWY6IGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3QuaGVpZ2h0ID09PSAwICYmIHJlY3Qud2lkdGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVhc3VyZWRTaXplID0gdHJhbnNmb3JtU2l6ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVhc3VyZWRTaXplLmhlaWdodCAhPT0gaXRlbS5zaXplLmhlaWdodCB8fCBtZWFzdXJlZFNpemUud2lkdGggIT09IGl0ZW0uc2l6ZS53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FjaGVNZWFzdXJlKGZ1bmN0aW9uIChvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb2xkKSwgKF9hID0ge30sIF9hW2ldID0gbWVhc3VyZWRTaXplLCBfYSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgIHZpcnR1YWxJdGVtcy5wdXNoKHZpcnR1YWxJdGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0UmFuZ2U7IGkgPD0gZW5kUmFuZ2U7IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlydHVhbEl0ZW1zO1xuICAgIH0sIFt0cmFuc2Zvcm1TaXplLCB2aXNpYmlsaXRpZXMsIG1lYXN1cmVtZW50c10pO1xuICAgIHZhciBzY3JvbGxUb0l0ZW0gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmRleCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBtZWFzdXJlbWVudHMgPSBsYXRlc3RSZWYuY3VycmVudC5tZWFzdXJlbWVudHM7XG4gICAgICAgIHZhciBtZWFzdXJlbWVudCA9IG1lYXN1cmVtZW50c1tjbGFtcCgwLCBudW1iZXJPZkl0ZW1zIC0gMSwgaW5kZXgpXTtcbiAgICAgICAgaWYgKG1lYXN1cmVtZW50KSB7XG4gICAgICAgICAgICBzY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnQgKyBtZWFzdXJlbWVudC5zdGFydC5sZWZ0LFxuICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCArIG1lYXN1cmVtZW50LnN0YXJ0LnRvcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3Njcm9sbFRvXSk7XG4gICAgdmFyIGdldENvbnRhaW5lclN0eWxlcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKHNjcm9sbE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLkhvcml6b250YWw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCJcIi5jb25jYXQodG90YWxTaXplLndpZHRoLCBcInB4XCIpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQodG90YWxTaXplLmhlaWdodCwgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW3Njcm9sbE1vZGUsIHRvdGFsU2l6ZV0pO1xuICAgIHZhciBnZXRJdGVtU3R5bGVzID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIHNpZGVQcm9wZXJ0eSA9IGlzUnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgdmFyIGZhY3RvciA9IGlzUnRsID8gLTEgOiAxO1xuICAgICAgICBzd2l0Y2ggKHNjcm9sbE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLkhvcml6b250YWw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9hID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCJcIi5jb25jYXQoaXRlbS5zaXplLndpZHRoLCBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF9hW3NpZGVQcm9wZXJ0eV0gPSAwLFxuICAgICAgICAgICAgICAgICAgICBfYS5wb3NpdGlvbiA9ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgIF9hLnRvcCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIF9hLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIi5jb25jYXQoaXRlbS5zdGFydC5sZWZ0ICogZmFjdG9yLCBcInB4KVwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2E7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuU2Nyb2xsTW9kZS5XcmFwcGVkOlxuICAgICAgICAgICAgICAgIHJldHVybiBfYiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoaXRlbS5zaXplLmhlaWdodCwgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdChpdGVtLnNpemUud2lkdGgsIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX2Jbc2lkZVByb3BlcnR5XSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIF9iLnBvc2l0aW9uID0gJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgX2IudG9wID0gMCxcbiAgICAgICAgICAgICAgICAgICAgX2IudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KGl0ZW0uc3RhcnQubGVmdCAqIGZhY3RvciwgXCJweCwgXCIpLmNvbmNhdChpdGVtLnN0YXJ0LnRvcCwgXCJweClcIiksXG4gICAgICAgICAgICAgICAgICAgIF9iO1xuICAgICAgICAgICAgY2FzZSBleHBvcnRzLlNjcm9sbE1vZGUuVmVydGljYWw6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoaXRlbS5zaXplLmhlaWdodCwgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX2Nbc2lkZVByb3BlcnR5XSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIF9jLnBvc2l0aW9uID0gJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgX2MudG9wID0gMCxcbiAgICAgICAgICAgICAgICAgICAgX2MudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKFwiLmNvbmNhdChpdGVtLnN0YXJ0LnRvcCwgXCJweClcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jO1xuICAgICAgICB9XG4gICAgfSwgW2lzUnRsLCBzY3JvbGxNb2RlXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRJbmRleDogc3RhcnQsXG4gICAgICAgIHN0YXJ0UmFuZ2U6IHN0YXJ0UmFuZ2UsXG4gICAgICAgIGVuZEluZGV4OiBlbmQsXG4gICAgICAgIGVuZFJhbmdlOiBlbmRSYW5nZSxcbiAgICAgICAgbWF4VmlzYmlsaXR5SW5kZXg6IG1heFZpc2JpbGl0eUluZGV4LFxuICAgICAgICBnZXRDb250YWluZXJTdHlsZXM6IGdldENvbnRhaW5lclN0eWxlcyxcbiAgICAgICAgZ2V0SXRlbVN0eWxlczogZ2V0SXRlbVN0eWxlcyxcbiAgICAgICAgc2Nyb2xsVG9JdGVtOiBzY3JvbGxUb0l0ZW0sXG4gICAgICAgIHZpcnR1YWxJdGVtczogdmlydHVhbEl0ZW1zLFxuICAgIH07XG59O1xuXG52YXIgQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZTtcbihmdW5jdGlvbiAoQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZSkge1xuICAgIEFubm90YXRpb25Cb3JkZXJTdHlsZVR5cGVbQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZVtcIlNvbGlkXCJdID0gMV0gPSBcIlNvbGlkXCI7XG4gICAgQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZVtBbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlW1wiRGFzaGVkXCJdID0gMl0gPSBcIkRhc2hlZFwiO1xuICAgIEFubm90YXRpb25Cb3JkZXJTdHlsZVR5cGVbQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZVtcIkJldmVsZWRcIl0gPSAzXSA9IFwiQmV2ZWxlZFwiO1xuICAgIEFubm90YXRpb25Cb3JkZXJTdHlsZVR5cGVbQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZVtcIkluc2V0XCJdID0gNF0gPSBcIkluc2V0XCI7XG4gICAgQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZVtBbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlW1wiVW5kZXJsaW5lXCJdID0gNV0gPSBcIlVuZGVybGluZVwiO1xufSkoQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZSB8fCAoQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZSA9IHt9KSk7XG5cbnZhciBkYXRlUmVnZXggPSBuZXcgUmVnRXhwKCdeRDonICtcbiAgICAnKFxcXFxkezR9KScgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgICcoW1p8K3wtXSk/JyArXG4gICAgJyhcXFxcZHsyfSk/JyArXG4gICAgXCInP1wiICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICBcIic/XCIpO1xudmFyIHBhcnNlID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgcmV0dXJuIHBhcnNlZCA+PSBtaW4gJiYgcGFyc2VkIDw9IG1heCA/IHBhcnNlZCA6IGRlZmF1bHRWYWx1ZTtcbn07XG52YXIgY29udmVydERhdGUgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGRhdGVSZWdleC5leGVjKGlucHV0KTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB5ZWFyID0gcGFyc2VJbnQobWF0Y2hlc1sxXSwgMTApO1xuICAgIHZhciBtb250aCA9IHBhcnNlKG1hdGNoZXNbMl0sIDEsIDEyLCAxKSAtIDE7XG4gICAgdmFyIGRheSA9IHBhcnNlKG1hdGNoZXNbM10sIDEsIDMxLCAxKTtcbiAgICB2YXIgaG91ciA9IHBhcnNlKG1hdGNoZXNbNF0sIDAsIDIzLCAwKTtcbiAgICB2YXIgbWludXRlID0gcGFyc2UobWF0Y2hlc1s1XSwgMCwgNTksIDApO1xuICAgIHZhciBzZWNvbmQgPSBwYXJzZShtYXRjaGVzWzZdLCAwLCA1OSwgMCk7XG4gICAgdmFyIHVuaXZlcnNhbFRpbWVSZWxhdGlvbiA9IG1hdGNoZXNbN10gfHwgJ1onO1xuICAgIHZhciBvZmZzZXRIb3VyID0gcGFyc2UobWF0Y2hlc1s4XSwgMCwgMjMsIDApO1xuICAgIHZhciBvZmZzZXRNaW51dGUgPSBwYXJzZShtYXRjaGVzWzldLCAwLCA1OSwgMCk7XG4gICAgc3dpdGNoICh1bml2ZXJzYWxUaW1lUmVsYXRpb24pIHtcbiAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICBob3VyICs9IG9mZnNldEhvdXI7XG4gICAgICAgICAgICBtaW51dGUgKz0gb2Zmc2V0TWludXRlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgaG91ciAtPSBvZmZzZXRIb3VyO1xuICAgICAgICAgICAgbWludXRlIC09IG9mZnNldE1pbnV0ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQpKTtcbn07XG5cbnZhciBQb3B1cFdyYXBwZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYW5ub3RhdGlvbiA9IF9hLmFubm90YXRpb247XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChUaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgZGF0ZVN0ciA9ICcnO1xuICAgIGlmIChhbm5vdGF0aW9uLm1vZGlmaWNhdGlvbkRhdGUpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjb252ZXJ0RGF0ZShhbm5vdGF0aW9uLm1vZGlmaWNhdGlvbkRhdGUpO1xuICAgICAgICBkYXRlU3RyID0gZGF0ZSA/IFwiXCIuY29uY2F0KGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCksIFwiLCBcIikuY29uY2F0KGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCkpIDogJyc7XG4gICAgfVxuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbm5vdGF0aW9uRWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWFubm90YXRpb24taWQ9XFxcIlwiLmNvbmNhdChhbm5vdGF0aW9uLmlkLCBcIlxcXCJdXCIpKTtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZSA9IGFubm90YXRpb25FbGU7XG4gICAgICAgIGVsZS5zdHlsZS56SW5kZXggKz0gMTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVsZS5zdHlsZS56SW5kZXggPSBcIlwiLmNvbmNhdChwYXJzZUludChlbGUuc3R5bGUuekluZGV4LCAxMCkgLSAxKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgfSksIHN0eWxlOiB7XG4gICAgICAgICAgICB0b3A6IGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUgPT09IGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuUG9wdXAgPyAnJyA6ICcxMDAlJyxcbiAgICAgICAgfSB9LFxuICAgICAgICBhbm5vdGF0aW9uLnRpdGxlICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC10aXRsZSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC10aXRsZS0tbHRyJzogIWlzUnRsLFxuICAgICAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtdGl0bGUtLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgICAgIH0pIH0sIGFubm90YXRpb24udGl0bGUpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLWRhdGVcIiB9LCBkYXRlU3RyKSkpLFxuICAgICAgICBhbm5vdGF0aW9uLmNvbnRlbnRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudFwiIH0sIGFubm90YXRpb24uY29udGVudHMuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgeyBrZXk6IGluZGV4IH0sXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCkpKTsgfSkpKSkpO1xufTtcblxudmFyIFRvZ2dsZVBvcHVwQnk7XG4oZnVuY3Rpb24gKFRvZ2dsZVBvcHVwQnkpIHtcbiAgICBUb2dnbGVQb3B1cEJ5W1wiQ2xpY2tcIl0gPSBcIkNsaWNrXCI7XG4gICAgVG9nZ2xlUG9wdXBCeVtcIkhvdmVyXCJdID0gXCJIb3ZlclwiO1xufSkoVG9nZ2xlUG9wdXBCeSB8fCAoVG9nZ2xlUG9wdXBCeSA9IHt9KSk7XG52YXIgdXNlVG9nZ2xlUG9wdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdXNlVG9nZ2xlKGZhbHNlKSwgb3BlbmVkID0gX2Eub3BlbmVkLCB0b2dnbGUgPSBfYS50b2dnbGU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShUb2dnbGVQb3B1cEJ5LkhvdmVyKSwgdG9nZ2xlUG9wdXBCeSA9IF9iWzBdLCBzZXRUb29nbGVQb3B1cEJ5ID0gX2JbMV07XG4gICAgdmFyIHRvZ2dsZU9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodG9nZ2xlUG9wdXBCeSkge1xuICAgICAgICAgICAgY2FzZSBUb2dnbGVQb3B1cEJ5LkNsaWNrOlxuICAgICAgICAgICAgICAgIG9wZW5lZCAmJiBzZXRUb29nbGVQb3B1cEJ5KFRvZ2dsZVBvcHVwQnkuSG92ZXIpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZShleHBvcnRzLlRvZ2dsZVN0YXR1cy5Ub2dnbGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUb2dnbGVQb3B1cEJ5LkhvdmVyOlxuICAgICAgICAgICAgICAgIHNldFRvb2dsZVBvcHVwQnkoVG9nZ2xlUG9wdXBCeS5DbGljayk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlKGV4cG9ydHMuVG9nZ2xlU3RhdHVzLk9wZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgb3Blbk9uSG92ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRvZ2dsZVBvcHVwQnkgPT09IFRvZ2dsZVBvcHVwQnkuSG92ZXIgJiYgdG9nZ2xlKGV4cG9ydHMuVG9nZ2xlU3RhdHVzLk9wZW4pO1xuICAgIH07XG4gICAgdmFyIGNsb3NlT25Ib3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdG9nZ2xlUG9wdXBCeSA9PT0gVG9nZ2xlUG9wdXBCeS5Ib3ZlciAmJiB0b2dnbGUoZXhwb3J0cy5Ub2dnbGVTdGF0dXMuQ2xvc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3BlbmVkOiBvcGVuZWQsXG4gICAgICAgIGNsb3NlT25Ib3ZlcjogY2xvc2VPbkhvdmVyLFxuICAgICAgICBvcGVuT25Ib3Zlcjogb3Blbk9uSG92ZXIsXG4gICAgICAgIHRvZ2dsZU9uQ2xpY2s6IHRvZ2dsZU9uQ2xpY2ssXG4gICAgfTtcbn07XG5cbnZhciBBbm5vdGF0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBpZ25vcmVCb3JkZXIgPSBfYS5pZ25vcmVCb3JkZXIsIGhhc1BvcHVwID0gX2EuaGFzUG9wdXAsIGlzUmVuZGVyYWJsZSA9IF9hLmlzUmVuZGVyYWJsZSwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIHJlY3QgPSBhbm5vdGF0aW9uLnJlY3Q7XG4gICAgdmFyIF9iID0gdXNlVG9nZ2xlUG9wdXAoKSwgY2xvc2VPbkhvdmVyID0gX2IuY2xvc2VPbkhvdmVyLCBvcGVuZWQgPSBfYi5vcGVuZWQsIG9wZW5PbkhvdmVyID0gX2Iub3Blbk9uSG92ZXIsIHRvZ2dsZU9uQ2xpY2sgPSBfYi50b2dnbGVPbkNsaWNrO1xuICAgIHZhciBub3JtYWxpemVSZWN0ID0gZnVuY3Rpb24gKHIpIHsgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5taW4oclswXSwgclsyXSksXG4gICAgICAgIE1hdGgubWluKHJbMV0sIHJbM10pLFxuICAgICAgICBNYXRoLm1heChyWzBdLCByWzJdKSxcbiAgICAgICAgTWF0aC5tYXgoclsxXSwgclszXSksXG4gICAgXTsgfTtcbiAgICB2YXIgYm91bmQgPSBub3JtYWxpemVSZWN0KFtcbiAgICAgICAgcmVjdFswXSxcbiAgICAgICAgcGFnZS52aWV3WzNdICsgcGFnZS52aWV3WzFdIC0gcmVjdFsxXSxcbiAgICAgICAgcmVjdFsyXSxcbiAgICAgICAgcGFnZS52aWV3WzNdICsgcGFnZS52aWV3WzFdIC0gcmVjdFszXSxcbiAgICBdKTtcbiAgICB2YXIgd2lkdGggPSByZWN0WzJdIC0gcmVjdFswXTtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdFszXSAtIHJlY3RbMV07XG4gICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgYm9yZGVyQ29sb3I6ICcnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICcnLFxuICAgICAgICBib3JkZXJTdHlsZTogJycsXG4gICAgICAgIGJvcmRlcldpZHRoOiAnJyxcbiAgICB9O1xuICAgIGlmICghaWdub3JlQm9yZGVyICYmIGFubm90YXRpb24uYm9yZGVyU3R5bGUud2lkdGggPiAwKSB7XG4gICAgICAgIHN3aXRjaCAoYW5ub3RhdGlvbi5ib3JkZXJTdHlsZS5zdHlsZSkge1xuICAgICAgICAgICAgY2FzZSBBbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlLkRhc2hlZDpcbiAgICAgICAgICAgICAgICBzdHlsZXMuYm9yZGVyU3R5bGUgPSAnZGFzaGVkJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZS5Tb2xpZDpcbiAgICAgICAgICAgICAgICBzdHlsZXMuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlLlVuZGVybGluZTpcbiAgICAgICAgICAgICAgICBzdHlsZXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tU3R5bGU6ICdzb2xpZCcsXG4gICAgICAgICAgICAgICAgfSwgc3R5bGVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZS5CZXZlbGVkOlxuICAgICAgICAgICAgY2FzZSBBbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlLkluc2V0OlxuICAgICAgICB9XG4gICAgICAgIHZhciBib3JkZXJXaWR0aCA9IGFubm90YXRpb24uYm9yZGVyU3R5bGUud2lkdGg7XG4gICAgICAgIHN0eWxlcy5ib3JkZXJXaWR0aCA9IFwiXCIuY29uY2F0KGJvcmRlcldpZHRoLCBcInB4XCIpO1xuICAgICAgICBpZiAoYW5ub3RhdGlvbi5ib3JkZXJTdHlsZS5zdHlsZSAhPT0gQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZS5VbmRlcmxpbmUpIHtcbiAgICAgICAgICAgIHdpZHRoID0gd2lkdGggLSAyICogYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgLSAyICogYm9yZGVyV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9jID0gYW5ub3RhdGlvbi5ib3JkZXJTdHlsZSwgaG9yaXpvbnRhbENvcm5lclJhZGl1cyA9IF9jLmhvcml6b250YWxDb3JuZXJSYWRpdXMsIHZlcnRpY2FsQ29ybmVyUmFkaXVzID0gX2MudmVydGljYWxDb3JuZXJSYWRpdXM7XG4gICAgICAgIGlmIChob3Jpem9udGFsQ29ybmVyUmFkaXVzID4gMCB8fCB2ZXJ0aWNhbENvcm5lclJhZGl1cyA+IDApIHtcbiAgICAgICAgICAgIHN0eWxlcy5ib3JkZXJSYWRpdXMgPSBcIlwiLmNvbmNhdChob3Jpem9udGFsQ29ybmVyUmFkaXVzLCBcInB4IC8gXCIpLmNvbmNhdCh2ZXJ0aWNhbENvcm5lclJhZGl1cywgXCJweFwiKTtcbiAgICAgICAgfVxuICAgICAgICBhbm5vdGF0aW9uLmNvbG9yXG4gICAgICAgICAgICA/IChzdHlsZXMuYm9yZGVyQ29sb3IgPSBcInJnYihcIi5jb25jYXQoYW5ub3RhdGlvbi5jb2xvclswXSB8IDAsIFwiLCBcIikuY29uY2F0KGFubm90YXRpb24uY29sb3JbMV0gfCAwLCBcIiwgXCIpLmNvbmNhdChhbm5vdGF0aW9uLmNvbG9yWzJdIHwgMCwgXCIpXCIpKVxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIChzdHlsZXMuYm9yZGVyV2lkdGggPSAnMCcpO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLCBpc1JlbmRlcmFibGUgJiZcbiAgICAgICAgY2hpbGRyZW4oe1xuICAgICAgICAgICAgcG9wdXA6IHtcbiAgICAgICAgICAgICAgICBvcGVuZWQ6IG9wZW5lZCxcbiAgICAgICAgICAgICAgICBjbG9zZU9uSG92ZXI6IGNsb3NlT25Ib3ZlcixcbiAgICAgICAgICAgICAgICBvcGVuT25Ib3Zlcjogb3Blbk9uSG92ZXIsXG4gICAgICAgICAgICAgICAgdG9nZ2xlT25DbGljazogdG9nZ2xlT25DbGljayxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG90OiB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIlwiLmNvbmNhdChoZWlnaHQsIFwicHhcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIlwiLmNvbmNhdChib3VuZFswXSwgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCJcIi5jb25jYXQoYm91bmRbMV0sIFwicHhcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwibWF0cml4KFwiLmNvbmNhdCh2aWV3cG9ydC50cmFuc2Zvcm0uam9pbignLCcpLCBcIilcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiLVwiLmNvbmNhdChib3VuZFswXSwgXCJweCAtXCIpLmNvbmNhdChib3VuZFsxXSwgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKSxcbiAgICAgICAgICAgICAgICAgICAgfSwgc3R5bGVzKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgaGFzUG9wdXAgJiYgb3BlbmVkICYmIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQb3B1cFdyYXBwZXIsIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiB9KSksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSkpO1xufTtcblxudmFyIENhcmV0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBwYWdlID0gX2EucGFnZSwgdmlld3BvcnQgPSBfYS52aWV3cG9ydDtcbiAgICB2YXIgaGFzUG9wdXAgPSBhbm5vdGF0aW9uLmhhc1BvcHVwID09PSBmYWxzZTtcbiAgICB2YXIgaXNSZW5kZXJhYmxlID0gISEoYW5ub3RhdGlvbi5oYXNQb3B1cCB8fCBhbm5vdGF0aW9uLnRpdGxlIHx8IGFubm90YXRpb24uY29udGVudHMpO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb24sIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgaGFzUG9wdXA6IGhhc1BvcHVwLCBpZ25vcmVCb3JkZXI6IHRydWUsIGlzUmVuZGVyYWJsZTogaXNSZW5kZXJhYmxlLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogdmlld3BvcnQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcy5zbG90LmF0dHJzLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbiBycHYtY29yZV9fYW5ub3RhdGlvbi0tY2FyZXRcIiwgXCJkYXRhLWFubm90YXRpb24taWRcIjogYW5ub3RhdGlvbi5pZCwgb25DbGljazogcHJvcHMucG9wdXAudG9nZ2xlT25DbGljaywgb25Nb3VzZUVudGVyOiBwcm9wcy5wb3B1cC5vcGVuT25Ib3Zlciwgb25Nb3VzZUxlYXZlOiBwcm9wcy5wb3B1cC5jbG9zZU9uSG92ZXIgfSksIHByb3BzLnNsb3QuY2hpbGRyZW4pKTsgfSkpO1xufTtcblxudmFyIENpcmNsZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gX2EuYW5ub3RhdGlvbiwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIGhhc1BvcHVwID0gYW5ub3RhdGlvbi5oYXNQb3B1cCA9PT0gZmFsc2U7XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24uaGFzUG9wdXAgfHwgYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICB2YXIgcmVjdCA9IGFubm90YXRpb24ucmVjdDtcbiAgICB2YXIgd2lkdGggPSByZWN0WzJdIC0gcmVjdFswXTtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdFszXSAtIHJlY3RbMV07XG4gICAgdmFyIGJvcmRlcldpZHRoID0gYW5ub3RhdGlvbi5ib3JkZXJTdHlsZS53aWR0aDtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBbm5vdGF0aW9uLCB7IGFubm90YXRpb246IGFubm90YXRpb24sIGhhc1BvcHVwOiBoYXNQb3B1cCwgaWdub3JlQm9yZGVyOiB0cnVlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLWNpcmNsZVwiLCBcImRhdGEtYW5ub3RhdGlvbi1pZFwiOiBhbm5vdGF0aW9uLmlkLCBvbkNsaWNrOiBwcm9wcy5wb3B1cC50b2dnbGVPbkNsaWNrLCBvbk1vdXNlRW50ZXI6IHByb3BzLnBvcHVwLm9wZW5PbkhvdmVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLnBvcHVwLmNsb3NlT25Ib3ZlciB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgaGVpZ2h0OiBcIlwiLmNvbmNhdChoZWlnaHQsIFwicHhcIiksIHByZXNlcnZlQXNwZWN0UmF0aW86IFwibm9uZVwiLCB2ZXJzaW9uOiBcIjEuMVwiLCB2aWV3Qm94OiBcIjAgMCBcIi5jb25jYXQod2lkdGgsIFwiIFwiKS5jb25jYXQoaGVpZ2h0KSwgd2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwgeyBjeTogaGVpZ2h0IC8gMiwgZmlsbDogXCJub25lXCIsIHJ4OiB3aWR0aCAvIDIgLSBib3JkZXJXaWR0aCAvIDIsIHJ5OiBoZWlnaHQgLyAyIC0gYm9yZGVyV2lkdGggLyAyLCBzdHJva2U6IFwidHJhbnNwYXJlbnRcIiwgc3Ryb2tlV2lkdGg6IGJvcmRlcldpZHRoIHx8IDEgfSkpLFxuICAgICAgICBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBnZXRGaWxlTmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgc3RyID0gdXJsLnNwbGl0KCcvJykucG9wKCk7XG4gICAgcmV0dXJuIHN0ciA/IHN0ci5zcGxpdCgnIycpWzBdLnNwbGl0KCc/JylbMF0gOiB1cmw7XG59O1xuXG52YXIgZG93bmxvYWRGaWxlID0gZnVuY3Rpb24gKHVybCwgZGF0YSkge1xuICAgIHZhciBibG9iVXJsID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnID8gJycgOiBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAnJyB9KSk7XG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGxpbmsuaHJlZiA9IGJsb2JVcmwgfHwgdXJsO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGdldEZpbGVOYW1lKHVybCkpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgaWYgKGJsb2JVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChibG9iVXJsKTtcbiAgICB9XG59O1xuXG52YXIgRmlsZUF0dGFjaG1lbnQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYW5ub3RhdGlvbiA9IF9hLmFubm90YXRpb24sIHBhZ2UgPSBfYS5wYWdlLCB2aWV3cG9ydCA9IF9hLnZpZXdwb3J0O1xuICAgIHZhciBoYXNQb3B1cCA9IGFubm90YXRpb24uaGFzUG9wdXAgPT09IGZhbHNlICYmICghIWFubm90YXRpb24udGl0bGUgfHwgISFhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICB2YXIgZG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaWxlID0gYW5ub3RhdGlvbi5maWxlO1xuICAgICAgICBmaWxlICYmIGRvd25sb2FkRmlsZShmaWxlLmZpbGVuYW1lLCBmaWxlLmNvbnRlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvbiwgeyBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBoYXNQb3B1cDogaGFzUG9wdXAsIGlnbm9yZUJvcmRlcjogdHJ1ZSwgaXNSZW5kZXJhYmxlOiB0cnVlLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogdmlld3BvcnQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcy5zbG90LmF0dHJzLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbiBycHYtY29yZV9fYW5ub3RhdGlvbi0tZmlsZS1hdHRhY2htZW50XCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uRG91YmxlQ2xpY2s6IGRvdWJsZUNsaWNrLCBvbk1vdXNlRW50ZXI6IHByb3BzLnBvcHVwLm9wZW5PbkhvdmVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLnBvcHVwLmNsb3NlT25Ib3ZlciB9KSwgcHJvcHMuc2xvdC5jaGlsZHJlbikpOyB9KSk7XG59O1xuXG52YXIgRnJlZVRleHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYW5ub3RhdGlvbiA9IF9hLmFubm90YXRpb24sIHBhZ2UgPSBfYS5wYWdlLCB2aWV3cG9ydCA9IF9hLnZpZXdwb3J0O1xuICAgIHZhciBoYXNQb3B1cCA9IGFubm90YXRpb24uaGFzUG9wdXAgPT09IGZhbHNlO1xuICAgIHZhciBpc1JlbmRlcmFibGUgPSAhIShhbm5vdGF0aW9uLmhhc1BvcHVwIHx8IGFubm90YXRpb24udGl0bGUgfHwgYW5ub3RhdGlvbi5jb250ZW50cyk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvbiwgeyBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBoYXNQb3B1cDogaGFzUG9wdXAsIGlnbm9yZUJvcmRlcjogdHJ1ZSwgaXNSZW5kZXJhYmxlOiBpc1JlbmRlcmFibGUsIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiB2aWV3cG9ydCB9LCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzLnNsb3QuYXR0cnMsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hbm5vdGF0aW9uIHJwdi1jb3JlX19hbm5vdGF0aW9uLS1mcmVlLXRleHRcIiwgXCJkYXRhLWFubm90YXRpb24taWRcIjogYW5ub3RhdGlvbi5pZCwgb25DbGljazogcHJvcHMucG9wdXAudG9nZ2xlT25DbGljaywgb25Nb3VzZUVudGVyOiBwcm9wcy5wb3B1cC5vcGVuT25Ib3Zlciwgb25Nb3VzZUxlYXZlOiBwcm9wcy5wb3B1cC5jbG9zZU9uSG92ZXIgfSksIHByb3BzLnNsb3QuY2hpbGRyZW4pKTsgfSkpO1xufTtcblxudmFyIFBvcHVwID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBwYWdlID0gX2EucGFnZSwgdmlld3BvcnQgPSBfYS52aWV3cG9ydDtcbiAgICB2YXIgaXNSZW5kZXJhYmxlID0gISEoYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICB2YXIgaWdub3JlZFBhcmVudHMgPSBbJ0NpcmNsZScsICdJbmsnLCAnTGluZScsICdQb2x5Z29uJywgJ1BvbHlMaW5lJywgJ1NxdWFyZSddO1xuICAgIHZhciBoYXNQb3B1cCA9ICFhbm5vdGF0aW9uLnBhcmVudFR5cGUgfHwgaWdub3JlZFBhcmVudHMuaW5kZXhPZihhbm5vdGF0aW9uLnBhcmVudFR5cGUpICE9PSAtMTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uLnBhcmVudElkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1hbm5vdGF0aW9uLWlkPVxcXCJcIi5jb25jYXQoYW5ub3RhdGlvbi5wYXJlbnRJZCwgXCJcXFwiXVwiKSk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYW5ub3RhdGlvbi1pZD1cXFwiXCIuY29uY2F0KGFubm90YXRpb24uaWQsIFwiXFxcIl1cIikpO1xuICAgICAgICBpZiAoIXBhcmVudCB8fCAhY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KHBhcmVudC5zdHlsZS5sZWZ0KTtcbiAgICAgICAgdmFyIHRvcCA9IHBhcnNlRmxvYXQocGFyZW50LnN0eWxlLnRvcCkgKyBwYXJzZUZsb2F0KHBhcmVudC5zdHlsZS5oZWlnaHQpO1xuICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiXCIuY29uY2F0KGxlZnQsIFwicHhcIik7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIlwiLmNvbmNhdCh0b3AsIFwicHhcIik7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIi1cIi5jb25jYXQobGVmdCwgXCJweCAtXCIpLmNvbmNhdCh0b3AsIFwicHhcIik7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb24sIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgaGFzUG9wdXA6IGhhc1BvcHVwLCBpZ25vcmVCb3JkZXI6IGZhbHNlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLXBvcHVwXCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQgfSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQb3B1cFdyYXBwZXIsIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiB9KSkpOyB9KSk7XG59O1xuXG52YXIgSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBjaGlsZEFubm90YXRpb24gPSBfYS5jaGlsZEFubm90YXRpb24sIHBhZ2UgPSBfYS5wYWdlLCB2aWV3cG9ydCA9IF9hLnZpZXdwb3J0O1xuICAgIHZhciBoYXNQb3B1cCA9IGFubm90YXRpb24uaGFzUG9wdXAgPT09IGZhbHNlO1xuICAgIHZhciBpc1JlbmRlcmFibGUgPSAhIShhbm5vdGF0aW9uLmhhc1BvcHVwIHx8IGFubm90YXRpb24udGl0bGUgfHwgYW5ub3RhdGlvbi5jb250ZW50cyk7XG4gICAgdmFyIGhhc1F1YWRQb2ludHMgPSBhbm5vdGF0aW9uLnF1YWRQb2ludHMgJiYgYW5ub3RhdGlvbi5xdWFkUG9pbnRzLmxlbmd0aCA+IDA7XG4gICAgaWYgKGhhc1F1YWRQb2ludHMpIHtcbiAgICAgICAgdmFyIGFubm90YXRpb25zID0gYW5ub3RhdGlvbi5xdWFkUG9pbnRzLm1hcChmdW5jdGlvbiAocXVhZFBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYW5ub3RhdGlvbiwge1xuICAgICAgICAgICAgICAgIHJlY3Q6IFtxdWFkUG9pbnRbMl0ueCwgcXVhZFBvaW50WzJdLnksIHF1YWRQb2ludFsxXS54LCBxdWFkUG9pbnRbMV0ueV0sXG4gICAgICAgICAgICAgICAgcXVhZFBvaW50czogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsIGFubm90YXRpb25zLm1hcChmdW5jdGlvbiAoYW5uLCBpbmRleCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChIaWdobGlnaHQsIHsga2V5OiBpbmRleCwgYW5ub3RhdGlvbjogYW5uLCBjaGlsZEFubm90YXRpb246IGNoaWxkQW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0pKTsgfSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvbiwgeyBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBoYXNQb3B1cDogaGFzUG9wdXAsIGlnbm9yZUJvcmRlcjogdHJ1ZSwgaXNSZW5kZXJhYmxlOiBpc1JlbmRlcmFibGUsIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiB2aWV3cG9ydCB9LCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcy5zbG90LmF0dHJzLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbiBycHYtY29yZV9fYW5ub3RhdGlvbi0taGlnaGxpZ2h0XCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLCBwcm9wcy5zbG90LmNoaWxkcmVuKSxcbiAgICAgICAgY2hpbGRBbm5vdGF0aW9uICYmXG4gICAgICAgICAgICBjaGlsZEFubm90YXRpb24uYW5ub3RhdGlvblR5cGUgPT09IGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuUG9wdXAgJiZcbiAgICAgICAgICAgIHByb3BzLnBvcHVwLm9wZW5lZCAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUG9wdXAsIHsgYW5ub3RhdGlvbjogY2hpbGRBbm5vdGF0aW9uLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogdmlld3BvcnQgfSkpKTsgfSkpO1xufTtcblxudmFyIEluayA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gX2EuYW5ub3RhdGlvbiwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIGhhc1BvcHVwID0gYW5ub3RhdGlvbi5oYXNQb3B1cCA9PT0gZmFsc2U7XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24uaGFzUG9wdXAgfHwgYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICB2YXIgcmVjdCA9IGFubm90YXRpb24ucmVjdDtcbiAgICB2YXIgd2lkdGggPSByZWN0WzJdIC0gcmVjdFswXTtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdFszXSAtIHJlY3RbMV07XG4gICAgdmFyIGJvcmRlcldpZHRoID0gYW5ub3RhdGlvbi5ib3JkZXJTdHlsZS53aWR0aDtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBbm5vdGF0aW9uLCB7IGFubm90YXRpb246IGFubm90YXRpb24sIGhhc1BvcHVwOiBoYXNQb3B1cCwgaWdub3JlQm9yZGVyOiB0cnVlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLWlua1wiLCBcImRhdGEtYW5ub3RhdGlvbi1pZFwiOiBhbm5vdGF0aW9uLmlkLCBvbkNsaWNrOiBwcm9wcy5wb3B1cC50b2dnbGVPbkNsaWNrLCBvbk1vdXNlRW50ZXI6IHByb3BzLnBvcHVwLm9wZW5PbkhvdmVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLnBvcHVwLmNsb3NlT25Ib3ZlciB9KSxcbiAgICAgICAgYW5ub3RhdGlvbi5pbmtMaXN0cyAmJiBhbm5vdGF0aW9uLmlua0xpc3RzLmxlbmd0aCAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgaGVpZ2h0OiBcIlwiLmNvbmNhdChoZWlnaHQsIFwicHhcIiksIHByZXNlcnZlQXNwZWN0UmF0aW86IFwibm9uZVwiLCB2ZXJzaW9uOiBcIjEuMVwiLCB2aWV3Qm94OiBcIjAgMCBcIi5jb25jYXQod2lkdGgsIFwiIFwiKS5jb25jYXQoaGVpZ2h0KSwgd2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpIH0sIGFubm90YXRpb24uaW5rTGlzdHMubWFwKGZ1bmN0aW9uIChpbmtMaXN0LCBpbmRleCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHsga2V5OiBpbmRleCwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCJ0cmFuc3BhcmVudFwiLCBzdHJva2VXaWR0aDogYm9yZGVyV2lkdGggfHwgMSwgcG9pbnRzOiBpbmtMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gXCJcIi5jb25jYXQoaXRlbS54IC0gcmVjdFswXSwgXCIsXCIpLmNvbmNhdChyZWN0WzNdIC0gaXRlbS55KTsgfSkuam9pbignICcpIH0pKTsgfSkpKSxcbiAgICAgICAgcHJvcHMuc2xvdC5jaGlsZHJlbikpOyB9KSk7XG59O1xuXG52YXIgTGluZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gX2EuYW5ub3RhdGlvbiwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIGhhc1BvcHVwID0gYW5ub3RhdGlvbi5oYXNQb3B1cCA9PT0gZmFsc2U7XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24uaGFzUG9wdXAgfHwgYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICB2YXIgcmVjdCA9IGFubm90YXRpb24ucmVjdDtcbiAgICB2YXIgd2lkdGggPSByZWN0WzJdIC0gcmVjdFswXTtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdFszXSAtIHJlY3RbMV07XG4gICAgdmFyIGJvcmRlcldpZHRoID0gYW5ub3RhdGlvbi5ib3JkZXJTdHlsZS53aWR0aDtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBbm5vdGF0aW9uLCB7IGFubm90YXRpb246IGFubm90YXRpb24sIGhhc1BvcHVwOiBoYXNQb3B1cCwgaWdub3JlQm9yZGVyOiB0cnVlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLWxpbmVcIiwgXCJkYXRhLWFubm90YXRpb24taWRcIjogYW5ub3RhdGlvbi5pZCwgb25DbGljazogcHJvcHMucG9wdXAudG9nZ2xlT25DbGljaywgb25Nb3VzZUVudGVyOiBwcm9wcy5wb3B1cC5vcGVuT25Ib3Zlciwgb25Nb3VzZUxlYXZlOiBwcm9wcy5wb3B1cC5jbG9zZU9uSG92ZXIgfSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IGhlaWdodDogXCJcIi5jb25jYXQoaGVpZ2h0LCBcInB4XCIpLCBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcIm5vbmVcIiwgdmVyc2lvbjogXCIxLjFcIiwgdmlld0JveDogXCIwIDAgXCIuY29uY2F0KHdpZHRoLCBcIiBcIikuY29uY2F0KGhlaWdodCksIHdpZHRoOiBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKSB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwibGluZVwiLCB7IHN0cm9rZTogXCJ0cmFuc3BhcmVudFwiLCBzdHJva2VXaWR0aDogYm9yZGVyV2lkdGggfHwgMSwgeDE6IHJlY3RbMl0gLSBhbm5vdGF0aW9uLmxpbmVDb29yZGluYXRlc1swXSwgeDI6IHJlY3RbMl0gLSBhbm5vdGF0aW9uLmxpbmVDb29yZGluYXRlc1syXSwgeTE6IHJlY3RbM10gLSBhbm5vdGF0aW9uLmxpbmVDb29yZGluYXRlc1sxXSwgeTI6IHJlY3RbM10gLSBhbm5vdGF0aW9uLmxpbmVDb29yZGluYXRlc1szXSB9KSksXG4gICAgICAgIHByb3BzLnNsb3QuY2hpbGRyZW4pKTsgfSkpO1xufTtcblxudmFyIExpbmsgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYW5ub3RhdGlvbiA9IF9hLmFubm90YXRpb24sIGRvYyA9IF9hLmRvYywgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQsIG9uRXhlY3V0ZU5hbWVkQWN0aW9uID0gX2Eub25FeGVjdXRlTmFtZWRBY3Rpb24sIG9uSnVtcFRvRGVzdCA9IF9hLm9uSnVtcFRvRGVzdDtcbiAgICB2YXIgbGluayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYW5ub3RhdGlvbi5hY3Rpb25cbiAgICAgICAgICAgID8gb25FeGVjdXRlTmFtZWRBY3Rpb24oYW5ub3RhdGlvbi5hY3Rpb24pXG4gICAgICAgICAgICA6IGdldERlc3RpbmF0aW9uKGRvYywgYW5ub3RhdGlvbi5kZXN0KS50aGVuKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZUluZGV4ID0gdGFyZ2V0LnBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0ID0gdGFyZ2V0LmJvdHRvbU9mZnNldCwgbGVmdE9mZnNldCA9IHRhcmdldC5sZWZ0T2Zmc2V0LCBzY2FsZVRvID0gdGFyZ2V0LnNjYWxlVG87XG4gICAgICAgICAgICAgICAgb25KdW1wVG9EZXN0KHBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0LCBsZWZ0T2Zmc2V0LCBzY2FsZVRvKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24udXJsIHx8IGFubm90YXRpb24uZGVzdCB8fCBhbm5vdGF0aW9uLmFjdGlvbiB8fCBhbm5vdGF0aW9uLnVuc2FmZVVybCk7XG4gICAgdmFyIGV4dGVybmFsVXJsID0gYW5ub3RhdGlvbi51cmwgfHwgYW5ub3RhdGlvbi51bnNhZmVVcmw7XG4gICAgdmFyIGF0dHJzID0gZXh0ZXJuYWxVcmxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAnZGF0YS10YXJnZXQnOiAnZXh0ZXJuYWwnLFxuICAgICAgICAgICAgaHJlZjogZXh0ZXJuYWxVcmwsXG4gICAgICAgICAgICByZWw6ICdub29wZW5lciBub3JlZmVycmVyIG5vZm9sbG93JyxcbiAgICAgICAgICAgIHRhcmdldDogYW5ub3RhdGlvbi5uZXdXaW5kb3cgPyAnX2JsYW5rJyA6ICcnLFxuICAgICAgICAgICAgdGl0bGU6IGV4dGVybmFsVXJsLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgaHJlZjogJycsXG4gICAgICAgICAgICAnZGF0YS1hbm5vdGF0aW9uLWxpbmstZGVzdCc6IGFubm90YXRpb24uZGVzdCxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGxpbmssXG4gICAgICAgIH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvbiwgeyBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBoYXNQb3B1cDogZmFsc2UsIGlnbm9yZUJvcmRlcjogZmFsc2UsIGlzUmVuZGVyYWJsZTogaXNSZW5kZXJhYmxlLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogdmlld3BvcnQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcy5zbG90LmF0dHJzLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbiBycHYtY29yZV9fYW5ub3RhdGlvbi0tbGlua1wiLCBcImRhdGEtYW5ub3RhdGlvbi1pZFwiOiBhbm5vdGF0aW9uLmlkLCBcImRhdGEtdGVzdGlkXCI6IFwiY29yZV9fYW5ub3RhdGlvbi0tbGluay1cIi5jb25jYXQoYW5ub3RhdGlvbi5pZCkgfSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImFcIiwgX19hc3NpZ24oe30sIGF0dHJzKSkpKTsgfSkpO1xufTtcblxudmFyIFBvbHlnb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYW5ub3RhdGlvbiA9IF9hLmFubm90YXRpb24sIHBhZ2UgPSBfYS5wYWdlLCB2aWV3cG9ydCA9IF9hLnZpZXdwb3J0O1xuICAgIHZhciBoYXNQb3B1cCA9IGFubm90YXRpb24uaGFzUG9wdXAgPT09IGZhbHNlO1xuICAgIHZhciBpc1JlbmRlcmFibGUgPSAhIShhbm5vdGF0aW9uLmhhc1BvcHVwIHx8IGFubm90YXRpb24udGl0bGUgfHwgYW5ub3RhdGlvbi5jb250ZW50cyk7XG4gICAgdmFyIHJlY3QgPSBhbm5vdGF0aW9uLnJlY3Q7XG4gICAgdmFyIHdpZHRoID0gcmVjdFsyXSAtIHJlY3RbMF07XG4gICAgdmFyIGhlaWdodCA9IHJlY3RbM10gLSByZWN0WzFdO1xuICAgIHZhciBib3JkZXJXaWR0aCA9IGFubm90YXRpb24uYm9yZGVyU3R5bGUud2lkdGg7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvbiwgeyBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBoYXNQb3B1cDogaGFzUG9wdXAsIGlnbm9yZUJvcmRlcjogdHJ1ZSwgaXNSZW5kZXJhYmxlOiBpc1JlbmRlcmFibGUsIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiB2aWV3cG9ydCB9LCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzLnNsb3QuYXR0cnMsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hbm5vdGF0aW9uIHJwdi1jb3JlX19hbm5vdGF0aW9uLS1wb2x5Z29uXCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLFxuICAgICAgICBhbm5vdGF0aW9uLnZlcnRpY2VzICYmIGFubm90YXRpb24udmVydGljZXMubGVuZ3RoICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBoZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKSwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCIsIHZlcnNpb246IFwiMS4xXCIsIHZpZXdCb3g6IFwiMCAwIFwiLmNvbmNhdCh3aWR0aCwgXCIgXCIpLmNvbmNhdChoZWlnaHQpLCB3aWR0aDogXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIikgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBvbHlnb25cIiwgeyBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcInRyYW5zcGFyZW50XCIsIHN0cm9rZVdpZHRoOiBib3JkZXJXaWR0aCB8fCAxLCBwb2ludHM6IGFubm90YXRpb24udmVydGljZXNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gXCJcIi5jb25jYXQoaXRlbS54IC0gcmVjdFswXSwgXCIsXCIpLmNvbmNhdChyZWN0WzNdIC0gaXRlbS55KTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKSB9KSkpLFxuICAgICAgICBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBQb2x5bGluZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gX2EuYW5ub3RhdGlvbiwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIGhhc1BvcHVwID0gYW5ub3RhdGlvbi5oYXNQb3B1cCA9PT0gZmFsc2U7XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24uaGFzUG9wdXAgfHwgYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICB2YXIgcmVjdCA9IGFubm90YXRpb24ucmVjdDtcbiAgICB2YXIgd2lkdGggPSByZWN0WzJdIC0gcmVjdFswXTtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdFszXSAtIHJlY3RbMV07XG4gICAgdmFyIGJvcmRlcldpZHRoID0gYW5ub3RhdGlvbi5ib3JkZXJTdHlsZS53aWR0aDtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBbm5vdGF0aW9uLCB7IGFubm90YXRpb246IGFubm90YXRpb24sIGhhc1BvcHVwOiBoYXNQb3B1cCwgaWdub3JlQm9yZGVyOiB0cnVlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLXBvbHlsaW5lXCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLFxuICAgICAgICBhbm5vdGF0aW9uLnZlcnRpY2VzICYmIGFubm90YXRpb24udmVydGljZXMubGVuZ3RoICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBoZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKSwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCIsIHZlcnNpb246IFwiMS4xXCIsIHZpZXdCb3g6IFwiMCAwIFwiLmNvbmNhdCh3aWR0aCwgXCIgXCIpLmNvbmNhdChoZWlnaHQpLCB3aWR0aDogXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIikgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHsgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCJ0cmFuc3BhcmVudFwiLCBzdHJva2VXaWR0aDogYm9yZGVyV2lkdGggfHwgMSwgcG9pbnRzOiBhbm5vdGF0aW9uLnZlcnRpY2VzXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIFwiXCIuY29uY2F0KGl0ZW0ueCAtIHJlY3RbMF0sIFwiLFwiKS5jb25jYXQocmVjdFszXSAtIGl0ZW0ueSk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJykgfSkpKSxcbiAgICAgICAgcHJvcHMuc2xvdC5jaGlsZHJlbikpOyB9KSk7XG59O1xuXG52YXIgU3F1YXJlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBwYWdlID0gX2EucGFnZSwgdmlld3BvcnQgPSBfYS52aWV3cG9ydDtcbiAgICB2YXIgaGFzUG9wdXAgPSBhbm5vdGF0aW9uLmhhc1BvcHVwID09PSBmYWxzZTtcbiAgICB2YXIgaXNSZW5kZXJhYmxlID0gISEoYW5ub3RhdGlvbi5oYXNQb3B1cCB8fCBhbm5vdGF0aW9uLnRpdGxlIHx8IGFubm90YXRpb24uY29udGVudHMpO1xuICAgIHZhciByZWN0ID0gYW5ub3RhdGlvbi5yZWN0O1xuICAgIHZhciB3aWR0aCA9IHJlY3RbMl0gLSByZWN0WzBdO1xuICAgIHZhciBoZWlnaHQgPSByZWN0WzNdIC0gcmVjdFsxXTtcbiAgICB2YXIgYm9yZGVyV2lkdGggPSBhbm5vdGF0aW9uLmJvcmRlclN0eWxlLndpZHRoO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb24sIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgaGFzUG9wdXA6IGhhc1BvcHVwLCBpZ25vcmVCb3JkZXI6IHRydWUsIGlzUmVuZGVyYWJsZTogaXNSZW5kZXJhYmxlLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogdmlld3BvcnQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcy5zbG90LmF0dHJzLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbiBycHYtY29yZV9fYW5ub3RhdGlvbi0tc3F1YXJlXCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBoZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKSwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCIsIHZlcnNpb246IFwiMS4xXCIsIHZpZXdCb3g6IFwiMCAwIFwiLmNvbmNhdCh3aWR0aCwgXCIgXCIpLmNvbmNhdChoZWlnaHQpLCB3aWR0aDogXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIikgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInJlY3RcIiwgeyBoZWlnaHQ6IGhlaWdodCAtIGJvcmRlcldpZHRoLCBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcInRyYW5zcGFyZW50XCIsIHN0cm9rZVdpZHRoOiBib3JkZXJXaWR0aCB8fCAxLCB4OiBib3JkZXJXaWR0aCAvIDIsIHk6IGJvcmRlcldpZHRoIC8gMiwgd2lkdGg6IHdpZHRoIC0gYm9yZGVyV2lkdGggfSkpLFxuICAgICAgICBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBTcXVpZ2dseSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gX2EuYW5ub3RhdGlvbiwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIGhhc1BvcHVwID0gYW5ub3RhdGlvbi5oYXNQb3B1cCA9PT0gZmFsc2U7XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24uaGFzUG9wdXAgfHwgYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBbm5vdGF0aW9uLCB7IGFubm90YXRpb246IGFubm90YXRpb24sIGhhc1BvcHVwOiBoYXNQb3B1cCwgaWdub3JlQm9yZGVyOiB0cnVlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLXNxdWlnZ2x5XCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLCBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBTdGFtcCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gX2EuYW5ub3RhdGlvbiwgcGFnZSA9IF9hLnBhZ2UsIHZpZXdwb3J0ID0gX2Eudmlld3BvcnQ7XG4gICAgdmFyIGhhc1BvcHVwID0gYW5ub3RhdGlvbi5oYXNQb3B1cCA9PT0gZmFsc2U7XG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9ICEhKGFubm90YXRpb24uaGFzUG9wdXAgfHwgYW5ub3RhdGlvbi50aXRsZSB8fCBhbm5vdGF0aW9uLmNvbnRlbnRzKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBbm5vdGF0aW9uLCB7IGFubm90YXRpb246IGFubm90YXRpb24sIGhhc1BvcHVwOiBoYXNQb3B1cCwgaWdub3JlQm9yZGVyOiB0cnVlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMuc2xvdC5hdHRycywgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fubm90YXRpb24gcnB2LWNvcmVfX2Fubm90YXRpb24tLXN0YW1wXCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLCBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBTdHJpa2VPdXQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYW5ub3RhdGlvbiA9IF9hLmFubm90YXRpb24sIHBhZ2UgPSBfYS5wYWdlLCB2aWV3cG9ydCA9IF9hLnZpZXdwb3J0O1xuICAgIHZhciBoYXNQb3B1cCA9IGFubm90YXRpb24uaGFzUG9wdXAgPT09IGZhbHNlO1xuICAgIHZhciBpc1JlbmRlcmFibGUgPSAhIShhbm5vdGF0aW9uLmhhc1BvcHVwIHx8IGFubm90YXRpb24udGl0bGUgfHwgYW5ub3RhdGlvbi5jb250ZW50cyk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGlvbiwgeyBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBoYXNQb3B1cDogaGFzUG9wdXAsIGlnbm9yZUJvcmRlcjogdHJ1ZSwgaXNSZW5kZXJhYmxlOiBpc1JlbmRlcmFibGUsIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiB2aWV3cG9ydCB9LCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzLnNsb3QuYXR0cnMsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hbm5vdGF0aW9uIHJwdi1jb3JlX19hbm5vdGF0aW9uLS1zdHJpa2Utb3V0XCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLCBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBDb21tZW50SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0uNSwxNi41YTEsMSwwLDAsMCwxLDFoMnY0bDQtNGgxNWExLDEsMCwwLDAsMS0xVjMuNWExLDEsMCwwLDAtMS0xSDEuNWExLDEsMCwwLDAtMSwxWlwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk03LjI1LDkuNzVBLjI1LjI1LDAsMSwxLDcsMTBhLjI1LjI1LDAsMCwxLC4yNS0uMjVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIsOS43NWEuMjUuMjUsMCwxLDEtLjI1LjI1QS4yNS4yNSwwLDAsMSwxMiw5Ljc1XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE2Ljc1LDkuNzVhLjI1LjI1LDAsMSwxLS4yNS4yNS4yNS4yNSwwLDAsMSwuMjUtLjI1XCIgfSkpKTsgfTtcblxudmFyIEhlbHBJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChJY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAuNTAwIDEyLjAwMSBBMTEuNTAwIDExLjUwMCAwIDEgMCAyMy41MDAgMTIuMDAxIEExMS41MDAgMTEuNTAwIDAgMSAwIDAuNTAwIDEyLjAwMSBaXCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYuMDAwIDEyLjAwMSBBNi4wMDAgNi4wMDAgMCAxIDAgMTguMDAwIDEyLjAwMSBBNi4wMDAgNi4wMDAgMCAxIDAgNi4wMDAgMTIuMDAxIFpcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjEuNDIzIDUuNDA2TDE3LjQxNSA5LjQxNFwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNC41ODcgNi41ODVMMTguNjA3IDIuNTY1XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTUuNDA1IDIxLjQyNEw5LjQxMyAxNy40MTZcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNi41ODUgMTQuNTg4TDIuNTc3IDE4LjU5NlwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xOC42MDIgMjEuNDE5TDE0LjU5NSAxNy40MTJcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTcuNDE5IDE0LjU4TDIxLjQyOCAxOC41ODlcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMi41ODIgNS4zOTlMNi41ODggOS40MDZcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNOS40MjEgNi41ODFMNS40MTIgMi41NzJcIiB9KSkpOyB9O1xuXG52YXIgS2V5SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk00LjAwMCAxOC41MDAgQTEuNTAwIDEuNTAwIDAgMSAwIDcuMDAwIDE4LjUwMCBBMS41MDAgMS41MDAgMCAxIDAgNC4wMDAgMTguNTAwIFpcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjAuNS41bC05Ljc4Miw5Ljc4M2E3LDcsMCwxLDAsMywzTDE3LDEwaDEuNVY4LjVMMTksOGgxLjVWNi41TDIxLDZoMS41VjQuNWwxLTFWLjVaXCIgfSkpKTsgfTtcblxudmFyIE5vdGVJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChJY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIuMDAwIDIuNTAwIEwyMi4wMDAgMi41MDAgTDIyLjAwMCAyMy41MDAgTDIuMDAwIDIzLjUwMCBaXCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYgNC41TDYgMC41XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE4IDQuNUwxOCAwLjVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAgNC41TDEwIDAuNVwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNCA0LjVMMTQgMC41XCIgfSkpKTsgfTtcblxudmFyIFBhcmFncmFwaEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTcuNSAwLjQ5OEwxNy41IDIzLjQ5OFwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMC41IDAuNDk4TDEwLjUgMjMuNDk4XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIzLjUuNUg2LjVhNiw2LDAsMCwwLDAsMTJoNFwiIH0pKSk7IH07XG5cbnZhciBUcmlhbmdsZUljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMi41IDIyLjk5NUwxMiA2LjAwNSAyMS41IDIyLjk5NSAyLjUgMjIuOTk1elwiIH0pKSk7IH07XG5cbnZhciBUZXh0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBjaGlsZEFubm90YXRpb24gPSBfYS5jaGlsZEFubm90YXRpb24sIHBhZ2UgPSBfYS5wYWdlLCB2aWV3cG9ydCA9IF9hLnZpZXdwb3J0O1xuICAgIHZhciBoYXNQb3B1cCA9IGFubm90YXRpb24uaGFzUG9wdXAgPT09IGZhbHNlO1xuICAgIHZhciBpc1JlbmRlcmFibGUgPSAhIShhbm5vdGF0aW9uLmhhc1BvcHVwIHx8IGFubm90YXRpb24udGl0bGUgfHwgYW5ub3RhdGlvbi5jb250ZW50cyk7XG4gICAgdmFyIG5hbWUgPSBhbm5vdGF0aW9uLm5hbWUgPyBhbm5vdGF0aW9uLm5hbWUudG9Mb3dlckNhc2UoKSA6ICcnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb24sIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgaGFzUG9wdXA6IGhhc1BvcHVwLCBpZ25vcmVCb3JkZXI6IGZhbHNlLCBpc1JlbmRlcmFibGU6IGlzUmVuZGVyYWJsZSwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IHZpZXdwb3J0IH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzLnNsb3QuYXR0cnMsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hbm5vdGF0aW9uIHJwdi1jb3JlX19hbm5vdGF0aW9uLS10ZXh0XCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLFxuICAgICAgICAgICAgbmFtZSAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hbm5vdGF0aW9uLXRleHQtaWNvblwiIH0sXG4gICAgICAgICAgICAgICAgbmFtZSA9PT0gJ2NoZWNrJyAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQ2hlY2tJY29uLCBudWxsKSxcbiAgICAgICAgICAgICAgICBuYW1lID09PSAnY29tbWVudCcgJiYgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KENvbW1lbnRJY29uLCBudWxsKSxcbiAgICAgICAgICAgICAgICBuYW1lID09PSAnaGVscCcgJiYgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEhlbHBJY29uLCBudWxsKSxcbiAgICAgICAgICAgICAgICBuYW1lID09PSAnaW5zZXJ0JyAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVHJpYW5nbGVJY29uLCBudWxsKSxcbiAgICAgICAgICAgICAgICBuYW1lID09PSAna2V5JyAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoS2V5SWNvbiwgbnVsbCksXG4gICAgICAgICAgICAgICAgbmFtZSA9PT0gJ25vdGUnICYmIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChOb3RlSWNvbiwgbnVsbCksXG4gICAgICAgICAgICAgICAgKG5hbWUgPT09ICduZXdwYXJhZ3JhcGgnIHx8IG5hbWUgPT09ICdwYXJhZ3JhcGgnKSAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUGFyYWdyYXBoSWNvbiwgbnVsbCkpKSxcbiAgICAgICAgICAgIHByb3BzLnNsb3QuY2hpbGRyZW4pLFxuICAgICAgICBjaGlsZEFubm90YXRpb24gJiZcbiAgICAgICAgICAgIGNoaWxkQW5ub3RhdGlvbi5hbm5vdGF0aW9uVHlwZSA9PT0gZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5Qb3B1cCAmJlxuICAgICAgICAgICAgcHJvcHMucG9wdXAub3BlbmVkICYmIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQb3B1cCwgeyBhbm5vdGF0aW9uOiBjaGlsZEFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiB2aWV3cG9ydCB9KSkpOyB9KSk7XG59O1xuXG52YXIgVW5kZXJsaW5lID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb24gPSBfYS5hbm5vdGF0aW9uLCBwYWdlID0gX2EucGFnZSwgdmlld3BvcnQgPSBfYS52aWV3cG9ydDtcbiAgICB2YXIgaGFzUG9wdXAgPSBhbm5vdGF0aW9uLmhhc1BvcHVwID09PSBmYWxzZTtcbiAgICB2YXIgaXNSZW5kZXJhYmxlID0gISEoYW5ub3RhdGlvbi5oYXNQb3B1cCB8fCBhbm5vdGF0aW9uLnRpdGxlIHx8IGFubm90YXRpb24uY29udGVudHMpO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb24sIHsgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgaGFzUG9wdXA6IGhhc1BvcHVwLCBpZ25vcmVCb3JkZXI6IHRydWUsIGlzUmVuZGVyYWJsZTogaXNSZW5kZXJhYmxlLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogdmlld3BvcnQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcy5zbG90LmF0dHJzLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbiBycHYtY29yZV9fYW5ub3RhdGlvbi0tdW5kZXJsaW5lXCIsIFwiZGF0YS1hbm5vdGF0aW9uLWlkXCI6IGFubm90YXRpb24uaWQsIG9uQ2xpY2s6IHByb3BzLnBvcHVwLnRvZ2dsZU9uQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMucG9wdXAub3Blbk9uSG92ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMucG9wdXAuY2xvc2VPbkhvdmVyIH0pLCBwcm9wcy5zbG90LmNoaWxkcmVuKSk7IH0pKTtcbn07XG5cbnZhciBBbm5vdGF0aW9uTGF5ZXJCb2R5ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFubm90YXRpb25zID0gX2EuYW5ub3RhdGlvbnMsIGRvYyA9IF9hLmRvYywgcGFnZSA9IF9hLnBhZ2UsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGx1Z2lucyA9IF9hLnBsdWdpbnMsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNjYWxlID0gX2Euc2NhbGUsIG9uRXhlY3V0ZU5hbWVkQWN0aW9uID0gX2Eub25FeGVjdXRlTmFtZWRBY3Rpb24sIG9uSnVtcFRvRGVzdCA9IF9hLm9uSnVtcFRvRGVzdDtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgcm90YXRpb246IHJvdGF0aW9uLCBzY2FsZTogc2NhbGUgfSk7XG4gICAgdmFyIGNsb25lZFZpZXdQb3J0ID0gdmlld3BvcnQuY2xvbmUoeyBkb250RmxpcDogdHJ1ZSB9KTtcbiAgICB2YXIgZmlsdGVyQW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFubm90YXRpb24pIHsgcmV0dXJuICFhbm5vdGF0aW9uLnBhcmVudElkOyB9KTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5vbkFubm90YXRpb25MYXllclJlbmRlcikge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5vbkFubm90YXRpb25MYXllclJlbmRlcih7XG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25zOiBmaWx0ZXJBbm5vdGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIGNsYXNzTmFtZTogXCJycHYtY29yZV9fYW5ub3RhdGlvbi1sYXllclwiLCBcImRhdGEtdGVzdGlkXCI6IFwiY29yZV9fYW5ub3RhdGlvbi1sYXllci1cIi5jb25jYXQocGFnZUluZGV4KSB9LCBmaWx0ZXJBbm5vdGF0aW9ucy5tYXAoZnVuY3Rpb24gKGFubm90YXRpb24pIHtcbiAgICAgICAgdmFyIGNoaWxkQW5ub3RhdGlvbiA9IGFubm90YXRpb25zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ucGFyZW50SWQgPT09IGFubm90YXRpb24uaWQ7IH0pO1xuICAgICAgICBzd2l0Y2ggKGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5DYXJldDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDYXJldCwgeyBrZXk6IGFubm90YXRpb24uaWQsIGFubm90YXRpb246IGFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiBjbG9uZWRWaWV3UG9ydCB9KSk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuQ2lyY2xlOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KENpcmNsZSwgeyBrZXk6IGFubm90YXRpb24uaWQsIGFubm90YXRpb246IGFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiBjbG9uZWRWaWV3UG9ydCB9KSk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuRmlsZUF0dGFjaG1lbnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRmlsZUF0dGFjaG1lbnQsIHsga2V5OiBhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogY2xvbmVkVmlld1BvcnQgfSkpO1xuICAgICAgICAgICAgY2FzZSBleHBvcnRzLkFubm90YXRpb25UeXBlLkZyZWVUZXh0OlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEZyZWVUZXh0LCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5IaWdobGlnaHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSGlnaGxpZ2h0LCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgY2hpbGRBbm5vdGF0aW9uOiBjaGlsZEFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiBjbG9uZWRWaWV3UG9ydCB9KSk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuSW5rOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEluaywgeyBrZXk6IGFubm90YXRpb24uaWQsIGFubm90YXRpb246IGFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiBjbG9uZWRWaWV3UG9ydCB9KSk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuTGluZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChMaW5lLCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5MaW5rOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KExpbmssIHsga2V5OiBhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBkb2M6IGRvYywgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0LCBvbkV4ZWN1dGVOYW1lZEFjdGlvbjogb25FeGVjdXRlTmFtZWRBY3Rpb24sIG9uSnVtcFRvRGVzdDogb25KdW1wVG9EZXN0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5Qb2x5Z29uOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFBvbHlnb24sIHsga2V5OiBhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogY2xvbmVkVmlld1BvcnQgfSkpO1xuICAgICAgICAgICAgY2FzZSBleHBvcnRzLkFubm90YXRpb25UeXBlLlBvbHlsaW5lOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFBvbHlsaW5lLCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5Qb3B1cDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQb3B1cCwgeyBrZXk6IGFubm90YXRpb24uaWQsIGFubm90YXRpb246IGFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiBjbG9uZWRWaWV3UG9ydCB9KSk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuU3F1YXJlOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNxdWFyZSwgeyBrZXk6IGFubm90YXRpb24uaWQsIGFubm90YXRpb246IGFubm90YXRpb24sIHBhZ2U6IHBhZ2UsIHZpZXdwb3J0OiBjbG9uZWRWaWV3UG9ydCB9KSk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuQW5ub3RhdGlvblR5cGUuU3F1aWdnbHk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3F1aWdnbHksIHsga2V5OiBhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBwYWdlOiBwYWdlLCB2aWV3cG9ydDogY2xvbmVkVmlld1BvcnQgfSkpO1xuICAgICAgICAgICAgY2FzZSBleHBvcnRzLkFubm90YXRpb25UeXBlLlN0YW1wOlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN0YW1wLCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5TdHJpa2VPdXQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3RyaWtlT3V0LCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5UZXh0OlxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRleHQsIHsga2V5OiBhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLCBjaGlsZEFubm90YXRpb246IGNoaWxkQW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5Bbm5vdGF0aW9uVHlwZS5VbmRlcmxpbmU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVW5kZXJsaW5lLCB7IGtleTogYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbjogYW5ub3RhdGlvbiwgcGFnZTogcGFnZSwgdmlld3BvcnQ6IGNsb25lZFZpZXdQb3J0IH0pKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCB7IGtleTogYW5ub3RhdGlvbi5pZCB9KTtcbiAgICAgICAgfVxuICAgIH0pKSk7XG59O1xuXG52YXIgQW5ub3RhdGlvbkxvYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBwYWdlID0gX2EucGFnZSwgcmVuZGVyQW5ub3RhdGlvbnMgPSBfYS5yZW5kZXJBbm5vdGF0aW9ucztcbiAgICB2YXIgaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIGFubm90YXRpb25zOiBbXSxcbiAgICB9KSwgc3RhdHVzID0gX2JbMF0sIHNldFN0YXR1cyA9IF9iWzFdO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFnZS5nZXRBbm5vdGF0aW9ucyh7IGludGVudDogJ2Rpc3BsYXknIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25zOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gc3RhdHVzLmxvYWRpbmcgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCkgOiByZW5kZXJBbm5vdGF0aW9ucyhzdGF0dXMuYW5ub3RhdGlvbnMpO1xufTtcblxudmFyIEFubm90YXRpb25MYXllciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkb2MgPSBfYS5kb2MsIHBhZ2UgPSBfYS5wYWdlLCBwYWdlSW5kZXggPSBfYS5wYWdlSW5kZXgsIHBsdWdpbnMgPSBfYS5wbHVnaW5zLCByb3RhdGlvbiA9IF9hLnJvdGF0aW9uLCBzY2FsZSA9IF9hLnNjYWxlLCBvbkV4ZWN1dGVOYW1lZEFjdGlvbiA9IF9hLm9uRXhlY3V0ZU5hbWVkQWN0aW9uLCBvbkp1bXBUb0Rlc3QgPSBfYS5vbkp1bXBUb0Rlc3Q7XG4gICAgdmFyIHJlbmRlckFubm90YXRpb25zID0gZnVuY3Rpb24gKGFubm90YXRpb25zKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb25MYXllckJvZHksIHsgYW5ub3RhdGlvbnM6IGFubm90YXRpb25zLCBkb2M6IGRvYywgcGFnZTogcGFnZSwgcGFnZUluZGV4OiBwYWdlSW5kZXgsIHBsdWdpbnM6IHBsdWdpbnMsIHJvdGF0aW9uOiByb3RhdGlvbiwgc2NhbGU6IHNjYWxlLCBvbkV4ZWN1dGVOYW1lZEFjdGlvbjogb25FeGVjdXRlTmFtZWRBY3Rpb24sIG9uSnVtcFRvRGVzdDogb25KdW1wVG9EZXN0IH0pKTsgfTtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb25Mb2FkZXIsIHsgcGFnZTogcGFnZSwgcmVuZGVyQW5ub3RhdGlvbnM6IHJlbmRlckFubm90YXRpb25zIH0pO1xufTtcblxudmFyIGZsb2F0VG9SYXRpbyA9IGZ1bmN0aW9uICh4LCBsaW1pdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKE1hdGguZmxvb3IoeCkgPT09IHgpIHtcbiAgICAgICAgcmV0dXJuIFt4LCAxXTtcbiAgICB9XG4gICAgdmFyIHkgPSAxIC8geDtcbiAgICBpZiAoeSA+IGxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbMSwgbGltaXRdO1xuICAgIH1cbiAgICBpZiAoTWF0aC5mbG9vcih5KSA9PT0geSkge1xuICAgICAgICByZXR1cm4gWzEsIHldO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSB4ID4gMSA/IHkgOiB4O1xuICAgIHZhciBhID0gMDtcbiAgICB2YXIgYiA9IDE7XG4gICAgdmFyIGMgPSAxO1xuICAgIHZhciBkID0gMTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgbnVtZXJhdG9yID0gYSArIGM7XG4gICAgICAgIHZhciBkZW5vbWluYXRvciA9IGIgKyBkO1xuICAgICAgICBpZiAoZGVub21pbmF0b3IgPiBsaW1pdCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPD0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3IgPyAoX2EgPSBbbnVtZXJhdG9yLCBkZW5vbWluYXRvcl0sIGMgPSBfYVswXSwgZCA9IF9hWzFdLCBfYSkgOiAoX2IgPSBbbnVtZXJhdG9yLCBkZW5vbWluYXRvcl0sIGEgPSBfYlswXSwgYiA9IF9iWzFdLCBfYik7XG4gICAgfVxuICAgIHZhciBtaWRkbGUgPSAoYSAvIGIgKyBjIC8gZCkgLyAyO1xuICAgIHJldHVybiB2YWx1ZSA8IG1pZGRsZSA/ICh2YWx1ZSA9PT0geCA/IFthLCBiXSA6IFtiLCBhXSkgOiB2YWx1ZSA9PT0geCA/IFtjLCBkXSA6IFtkLCBjXTtcbn07XG5cbnZhciByb3VuZFRvRGl2aWRlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgcmVtYWluZGVyID0gYSAlIGI7XG4gICAgcmV0dXJuIHJlbWFpbmRlciA9PT0gMCA/IGEgOiBNYXRoLmZsb29yKGEgLSByZW1haW5kZXIpO1xufTtcblxudmFyIE1BWF9DQU5WQVNfU0laRSA9IDQwOTYgKiA0MDk2O1xudmFyIENhbnZhc0xheWVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodCwgcGFnZSA9IF9hLnBhZ2UsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGx1Z2lucyA9IF9hLnBsdWdpbnMsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNjYWxlID0gX2Euc2NhbGUsIHdpZHRoID0gX2Eud2lkdGgsIG9uUmVuZGVyQ2FudmFzQ29tcGxldGVkID0gX2Eub25SZW5kZXJDYW52YXNDb21wbGV0ZWQ7XG4gICAgdmFyIGNhbnZhc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIHJlbmRlclRhc2sgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFzayA9IHJlbmRlclRhc2suY3VycmVudDtcbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgIHRhc2suY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhc0VsZSA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5vbkNhbnZhc0xheWVyUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLm9uQ2FudmFzTGF5ZXJSZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgICBlbGU6IGNhbnZhc0VsZSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGV4cG9ydHMuTGF5ZXJSZW5kZXJTdGF0dXMuUHJlUmVuZGVyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7XG4gICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb24sXG4gICAgICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb3V0cHV0U2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB2YXIgbWF4U2NhbGUgPSBNYXRoLnNxcnQoTUFYX0NBTlZBU19TSVpFIC8gKHZpZXdwb3J0LndpZHRoICogdmlld3BvcnQuaGVpZ2h0KSk7XG4gICAgICAgIHZhciBzaG91bGRTY2FsZUJ5Q1NTID0gb3V0cHV0U2NhbGUgPiBtYXhTY2FsZTtcbiAgICAgICAgc2hvdWxkU2NhbGVCeUNTUyA/IChjYW52YXNFbGUuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxLCAxKVwiKSA6IGNhbnZhc0VsZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNmb3JtJyk7XG4gICAgICAgIHZhciBwb3NzaWJsZVNjYWxlID0gTWF0aC5taW4obWF4U2NhbGUsIG91dHB1dFNjYWxlKTtcbiAgICAgICAgdmFyIF9hID0gZmxvYXRUb1JhdGlvKHBvc3NpYmxlU2NhbGUsIDgpLCB4ID0gX2FbMF0sIHkgPSBfYVsxXTtcbiAgICAgICAgY2FudmFzRWxlLndpZHRoID0gcm91bmRUb0RpdmlkZSh2aWV3cG9ydC53aWR0aCAqIHBvc3NpYmxlU2NhbGUsIHgpO1xuICAgICAgICBjYW52YXNFbGUuaGVpZ2h0ID0gcm91bmRUb0RpdmlkZSh2aWV3cG9ydC5oZWlnaHQgKiBwb3NzaWJsZVNjYWxlLCB4KTtcbiAgICAgICAgY2FudmFzRWxlLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQocm91bmRUb0RpdmlkZSh2aWV3cG9ydC53aWR0aCwgeSksIFwicHhcIik7XG4gICAgICAgIGNhbnZhc0VsZS5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdChyb3VuZFRvRGl2aWRlKHZpZXdwb3J0LmhlaWdodCwgeSksIFwicHhcIik7XG4gICAgICAgIGNhbnZhc0VsZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhc0VsZS5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gc2hvdWxkU2NhbGVCeUNTUyB8fCBvdXRwdXRTY2FsZSAhPT0gMSA/IFtwb3NzaWJsZVNjYWxlLCAwLCAwLCBwb3NzaWJsZVNjYWxlLCAwLCAwXSA6IG51bGw7XG4gICAgICAgIHJlbmRlclRhc2suY3VycmVudCA9IHBhZ2UucmVuZGVyKHsgY2FudmFzQ29udGV4dDogY2FudmFzQ29udGV4dCwgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sIHZpZXdwb3J0OiB2aWV3cG9ydCB9KTtcbiAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW52YXNFbGUuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25DYW52YXNMYXllclJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ub25DYW52YXNMYXllclJlbmRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGU6IGNhbnZhc0VsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBleHBvcnRzLkxheWVyUmVuZGVyU3RhdHVzLkRpZFJlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvblJlbmRlckNhbnZhc0NvbXBsZXRlZCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvblJlbmRlckNhbnZhc0NvbXBsZXRlZCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjYW52YXNFbGUpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNFbGUud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGNhbnZhc0VsZS5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fY2FudmFzLWxheWVyXCIsIHN0eWxlOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKSxcbiAgICAgICAgfSB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiwgeyByZWY6IGNhbnZhc1JlZiB9KSkpO1xufTtcblxudmFyIFN2Z0xheWVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodCwgcGFnZSA9IF9hLnBhZ2UsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNjYWxlID0gX2Euc2NhbGUsIHdpZHRoID0gX2Eud2lkdGg7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyRWxlLmlubmVySFRNTCA9ICcnO1xuICAgIH07XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHJvdGF0aW9uOiByb3RhdGlvbiwgc2NhbGU6IHNjYWxlIH0pO1xuICAgICAgICBwYWdlLmdldE9wZXJhdG9yTGlzdCgpLnRoZW4oZnVuY3Rpb24gKG9wZXJhdG9yTGlzdCkge1xuICAgICAgICAgICAgZW1wdHkoKTtcbiAgICAgICAgICAgIHZhciBncmFwaGljID0gbmV3IFBkZkpzQXBpX19uYW1lc3BhY2UuU1ZHR3JhcGhpY3MocGFnZS5jb21tb25PYmpzLCBwYWdlLm9ianMpO1xuICAgICAgICAgICAgZ3JhcGhpYy5nZXRTVkcob3BlcmF0b3JMaXN0LCB2aWV3cG9ydCkudGhlbihmdW5jdGlvbiAoc3ZnKSB7XG4gICAgICAgICAgICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KGhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICBzdmcuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJFbGUuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fc3ZnLWxheWVyXCIsIHJlZjogY29udGFpbmVyUmVmIH0pO1xufTtcblxudmFyIFRleHRMYXllciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBwYWdlID0gX2EucGFnZSwgcGFnZUluZGV4ID0gX2EucGFnZUluZGV4LCBwbHVnaW5zID0gX2EucGx1Z2lucywgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgc2NhbGUgPSBfYS5zY2FsZSwgb25SZW5kZXJUZXh0Q29tcGxldGVkID0gX2Eub25SZW5kZXJUZXh0Q29tcGxldGVkO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigpO1xuICAgIHZhciByZW5kZXJUYXNrID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3BhbnMgPSBbXS5zbGljZS5jYWxsKGNvbnRhaW5lckVsZS5xdWVyeVNlbGVjdG9yQWxsKCcucnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dCcpKTtcbiAgICAgICAgc3BhbnMuZm9yRWFjaChmdW5jdGlvbiAoc3BhbikgeyByZXR1cm4gY29udGFpbmVyRWxlLnJlbW92ZUNoaWxkKHNwYW4pOyB9KTtcbiAgICAgICAgdmFyIGJyZWFrcyA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2JyW3JvbGU9XCJwcmVzZW50YXRpb25cIl0nKSk7XG4gICAgICAgIGJyZWFrcy5mb3JFYWNoKGZ1bmN0aW9uIChicikgeyByZXR1cm4gY29udGFpbmVyRWxlLnJlbW92ZUNoaWxkKGJyKTsgfSk7XG4gICAgfTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhc2sgPSByZW5kZXJUYXNrLmN1cnJlbnQ7XG4gICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICB0YXNrLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXJFbGUucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcpO1xuICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgcm90YXRpb246IHJvdGF0aW9uLCBzY2FsZTogc2NhbGUgfSk7XG4gICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLm9uVGV4dExheWVyUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLm9uVGV4dExheWVyUmVuZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgZWxlOiBjb250YWluZXJFbGUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogZXhwb3J0cy5MYXllclJlbmRlclN0YXR1cy5QcmVSZW5kZXIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYWdlLmdldFRleHRDb250ZW50KCkudGhlbihmdW5jdGlvbiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIGVtcHR5KCk7XG4gICAgICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQgPSBQZGZKc0FwaV9fbmFtZXNwYWNlLnJlbmRlclRleHRMYXllcih7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXJFbGUsXG4gICAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IHRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgICAgICAgICAgICBlbmhhbmNlVGV4dFNlbGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyRWxlLnNldEF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBcImNvcmVfX3RleHQtbGF5ZXItXCIuY29uY2F0KHBhZ2VJbmRleCkpO1xuICAgICAgICAgICAgICAgIHZhciBzcGFucyA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyRWxlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICBzcGFucy5mb3JFYWNoKGZ1bmN0aW9uIChzcGFuKSB7IHJldHVybiBzcGFuLmNsYXNzTGlzdC5hZGQoJ3Jwdi1jb3JlX190ZXh0LWxheWVyLXRleHQnKTsgfSk7XG4gICAgICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5vblRleHRMYXllclJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uVGV4dExheWVyUmVuZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGU6IGNvbnRhaW5lckVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBleHBvcnRzLkxheWVyUmVuZGVyU3RhdHVzLkRpZFJlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb25SZW5kZXJUZXh0Q29tcGxldGVkKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyRWxlLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnKTtcbiAgICAgICAgICAgICAgICBvblJlbmRlclRleHRDb21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGVtcHR5KCk7XG4gICAgICAgICAgICAoX2EgPSByZW5kZXJUYXNrLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fdGV4dC1sYXllclwiLCByZWY6IGNvbnRhaW5lclJlZiB9KTtcbn07XG5cbnZhciBQYWdlTGF5ZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBoZWlnaHQgPSBfYS5oZWlnaHQsIG1lYXN1cmVSZWYgPSBfYS5tZWFzdXJlUmVmLCBwYWdlSW5kZXggPSBfYS5wYWdlSW5kZXgsIHBhZ2VSb3RhdGlvbiA9IF9hLnBhZ2VSb3RhdGlvbiwgcGx1Z2lucyA9IF9hLnBsdWdpbnMsIHJlbmRlclBhZ2UgPSBfYS5yZW5kZXJQYWdlLCByZW5kZXJRdWV1ZUtleSA9IF9hLnJlbmRlclF1ZXVlS2V5LCByb3RhdGlvbiA9IF9hLnJvdGF0aW9uLCBzY2FsZSA9IF9hLnNjYWxlLCBzaG91bGRSZW5kZXIgPSBfYS5zaG91bGRSZW5kZXIsIHdpZHRoID0gX2Eud2lkdGgsIG9uRXhlY3V0ZU5hbWVkQWN0aW9uID0gX2Eub25FeGVjdXRlTmFtZWRBY3Rpb24sIG9uSnVtcFRvRGVzdCA9IF9hLm9uSnVtcFRvRGVzdCwgb25SZW5kZXJDb21wbGV0ZWQgPSBfYS5vblJlbmRlckNvbXBsZXRlZCwgb25Sb3RhdGVQYWdlID0gX2Eub25Sb3RhdGVQYWdlO1xuICAgIHZhciBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHtcbiAgICAgICAgcGFnZTogbnVsbCxcbiAgICAgICAgcGFnZUhlaWdodDogaGVpZ2h0LFxuICAgICAgICBwYWdlV2lkdGg6IHdpZHRoLFxuICAgICAgICB2aWV3cG9ydFJvdGF0aW9uOiAwLFxuICAgIH0pLCBwYWdlU2l6ZSA9IF9iWzBdLCBzZXRQYWdlU2l6ZSA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpLCBjYW52YXNMYXllclJlbmRlcmVkID0gX2NbMF0sIHNldENhbnZhc0xheWVyUmVuZGVyZWQgPSBfY1sxXTtcbiAgICB2YXIgX2QgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGZhbHNlKSwgdGV4dExheWVyUmVuZGVyZWQgPSBfZFswXSwgc2V0VGV4dExheWVyUmVuZGVyZWQgPSBfZFsxXTtcbiAgICB2YXIgcGFnZSA9IHBhZ2VTaXplLnBhZ2UsIHBhZ2VIZWlnaHQgPSBwYWdlU2l6ZS5wYWdlSGVpZ2h0LCBwYWdlV2lkdGggPSBwYWdlU2l6ZS5wYWdlV2lkdGg7XG4gICAgdmFyIGlzVmVydGljYWwgPSBNYXRoLmFicyhyb3RhdGlvbiArIHBhZ2VSb3RhdGlvbikgJSAxODAgPT09IDA7XG4gICAgdmFyIHNjYWxlZFdpZHRoID0gcGFnZVdpZHRoICogc2NhbGU7XG4gICAgdmFyIHNjYWxlZEhlaWdodCA9IHBhZ2VIZWlnaHQgKiBzY2FsZTtcbiAgICB2YXIgdyA9IGlzVmVydGljYWwgPyBzY2FsZWRXaWR0aCA6IHNjYWxlZEhlaWdodDtcbiAgICB2YXIgaCA9IGlzVmVydGljYWwgPyBzY2FsZWRIZWlnaHQgOiBzY2FsZWRXaWR0aDtcbiAgICB2YXIgcm90YXRpb25WYWx1ZSA9IChwYWdlU2l6ZS52aWV3cG9ydFJvdGF0aW9uICsgcm90YXRpb24gKyBwYWdlUm90YXRpb24pICUgMzYwO1xuICAgIHZhciByZW5kZXJRdWV1ZUtleVJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKDApO1xuICAgIHZhciBkZXRlcm1pbmVQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2V0UGFnZShkb2MsIHBhZ2VJbmRleCkudGhlbihmdW5jdGlvbiAocGRmUGFnZSkge1xuICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAxIH0pO1xuICAgICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyUXVldWVLZXlSZWYuY3VycmVudCA9IHJlbmRlclF1ZXVlS2V5O1xuICAgICAgICAgICAgICAgIHNldFBhZ2VTaXplKHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGRmUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZUhlaWdodDogdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBwYWdlV2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydFJvdGF0aW9uOiB2aWV3cG9ydC5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdFBhZ2VSZW5kZXJlciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBwcm9wcy5jYW52YXNMYXllci5jaGlsZHJlbixcbiAgICAgICAgcHJvcHMudGV4dExheWVyLmNoaWxkcmVuLFxuICAgICAgICBwcm9wcy5hbm5vdGF0aW9uTGF5ZXIuY2hpbGRyZW4pKTsgfTtcbiAgICB2YXIgcmVuZGVyUGFnZUxheWVyID0gcmVuZGVyUGFnZSB8fCBkZWZhdWx0UGFnZVJlbmRlcmVyO1xuICAgIHZhciBoYW5kbGVSZW5kZXJDYW52YXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgc2V0Q2FudmFzTGF5ZXJSZW5kZXJlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGhhbmRsZVJlbmRlclRleHRDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgc2V0VGV4dExheWVyUmVuZGVyZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0UGFnZVNpemUoe1xuICAgICAgICAgICAgcGFnZTogbnVsbCxcbiAgICAgICAgICAgIHBhZ2VIZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHBhZ2VXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICB2aWV3cG9ydFJvdGF0aW9uOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0Q2FudmFzTGF5ZXJSZW5kZXJlZChmYWxzZSk7XG4gICAgICAgIHNldFRleHRMYXllclJlbmRlcmVkKGZhbHNlKTtcbiAgICB9LCBbcGFnZVJvdGF0aW9uLCByb3RhdGlvbiwgc2NhbGVdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzaG91bGRSZW5kZXIgJiYgaXNNb3VudGVkLmN1cnJlbnQgJiYgIXBhZ2UpIHtcbiAgICAgICAgICAgIGRldGVybWluZVBhZ2VTaXplKCk7XG4gICAgICAgIH1cbiAgICB9LCBbc2hvdWxkUmVuZGVyLCBwYWdlXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FudmFzTGF5ZXJSZW5kZXJlZCAmJiB0ZXh0TGF5ZXJSZW5kZXJlZCkge1xuICAgICAgICAgICAgaWYgKHJlbmRlclF1ZXVlS2V5ICE9PSByZW5kZXJRdWV1ZUtleVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0UGFnZVNpemUoe1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwYWdlSGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Um90YXRpb246IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0Q2FudmFzTGF5ZXJSZW5kZXJlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0VGV4dExheWVyUmVuZGVyZWQoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb25SZW5kZXJDb21wbGV0ZWQocGFnZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjYW52YXNMYXllclJlbmRlcmVkLCB0ZXh0TGF5ZXJSZW5kZXJlZF0pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19wYWdlLWxheWVyXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJjb3JlX19wYWdlLWxheWVyLVwiLmNvbmNhdChwYWdlSW5kZXgpLCByZWY6IG1lYXN1cmVSZWYsIHN0eWxlOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KGgsIFwicHhcIiksXG4gICAgICAgICAgICB3aWR0aDogXCJcIi5jb25jYXQodywgXCJweFwiKSxcbiAgICAgICAgfSB9LCAhcGFnZSA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwgeyB0ZXN0SWQ6IFwiY29yZV9fcGFnZS1sYXllci1sb2FkaW5nLVwiLmNvbmNhdChwYWdlSW5kZXgpIH0pKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgcGx1Z2lucy5tYXAoZnVuY3Rpb24gKHBsdWdpbiwgaWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luLnJlbmRlclBhZ2VMYXllciA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgeyBrZXk6IGlkeCB9LCBwbHVnaW4ucmVuZGVyUGFnZUxheWVyKHtcbiAgICAgICAgICAgICAgICBkb2M6IGRvYyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uVmFsdWUsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgfSkpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgeyBrZXk6IGlkeCB9KSk7XG4gICAgICAgIH0pLFxuICAgICAgICByZW5kZXJQYWdlTGF5ZXIoe1xuICAgICAgICAgICAgYW5ub3RhdGlvbkxheWVyOiB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHt9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEFubm90YXRpb25MYXllciwgeyBkb2M6IGRvYywgcGFnZTogcGFnZSwgcGFnZUluZGV4OiBwYWdlSW5kZXgsIHBsdWdpbnM6IHBsdWdpbnMsIHJvdGF0aW9uOiByb3RhdGlvblZhbHVlLCBzY2FsZTogc2NhbGUsIG9uRXhlY3V0ZU5hbWVkQWN0aW9uOiBvbkV4ZWN1dGVOYW1lZEFjdGlvbiwgb25KdW1wVG9EZXN0OiBvbkp1bXBUb0Rlc3QgfSkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbnZhc0xheWVyOiB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHt9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KENhbnZhc0xheWVyLCB7IGhlaWdodDogaCwgcGFnZTogcGFnZSwgcGFnZUluZGV4OiBwYWdlSW5kZXgsIHBsdWdpbnM6IHBsdWdpbnMsIHJvdGF0aW9uOiByb3RhdGlvblZhbHVlLCBzY2FsZTogc2NhbGUsIHdpZHRoOiB3LCBvblJlbmRlckNhbnZhc0NvbXBsZXRlZDogaGFuZGxlUmVuZGVyQ2FudmFzQ29tcGxldGVkIH0pKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW52YXNMYXllclJlbmRlcmVkOiBjYW52YXNMYXllclJlbmRlcmVkLFxuICAgICAgICAgICAgZG9jOiBkb2MsXG4gICAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvblZhbHVlLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgc3ZnTGF5ZXI6IHtcbiAgICAgICAgICAgICAgICBhdHRyczoge30sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3ZnTGF5ZXIsIHsgaGVpZ2h0OiBoLCBwYWdlOiBwYWdlLCByb3RhdGlvbjogcm90YXRpb25WYWx1ZSwgc2NhbGU6IHNjYWxlLCB3aWR0aDogdyB9KSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGV4dExheWVyOiB7XG4gICAgICAgICAgICAgICAgYXR0cnM6IHt9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRleHRMYXllciwgeyBwYWdlOiBwYWdlLCBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgcGx1Z2luczogcGx1Z2lucywgcm90YXRpb246IHJvdGF0aW9uVmFsdWUsIHNjYWxlOiBzY2FsZSwgb25SZW5kZXJUZXh0Q29tcGxldGVkOiBoYW5kbGVSZW5kZXJUZXh0Q29tcGxldGVkIH0pKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZXh0TGF5ZXJSZW5kZXJlZDogdGV4dExheWVyUmVuZGVyZWQsXG4gICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgIG1hcmtSZW5kZXJlZDogb25SZW5kZXJDb21wbGV0ZWQsXG4gICAgICAgICAgICBvblJvdGF0ZVBhZ2U6IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHsgcmV0dXJuIG9uUm90YXRlUGFnZShwYWdlSW5kZXgsIGRpcmVjdGlvbik7IH0sXG4gICAgICAgIH0pKSkpKTtcbn07XG5cbnZhciBnZXRGaWxlRXh0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHZhciBzdHIgPSB1cmwuc3BsaXQoL1xcLi8pLnBvcCgpO1xuICAgIHJldHVybiBzdHIgPyBzdHIudG9Mb3dlckNhc2UoKSA6ICcnO1xufTtcblxudmFyIFNDUk9MTF9CQVJfV0lEVEggPSAxNztcbnZhciBQQUdFX1BBRERJTkckMSA9IDg7XG52YXIgY2FsY3VsYXRlU2NhbGUgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBwYWdlSGVpZ2h0LCBwYWdlV2lkdGgsIHNjYWxlKSB7XG4gICAgc3dpdGNoIChzY2FsZSkge1xuICAgICAgICBjYXNlIGV4cG9ydHMuU3BlY2lhbFpvb21MZXZlbC5BY3R1YWxTaXplOlxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5TcGVjaWFsWm9vbUxldmVsLlBhZ2VGaXQ6XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oKGNvbnRhaW5lci5jbGllbnRXaWR0aCAtIFNDUk9MTF9CQVJfV0lEVEgpIC8gcGFnZVdpZHRoLCAoY29udGFpbmVyLmNsaWVudEhlaWdodCAtIDIgKiBQQUdFX1BBRERJTkckMSkgLyBwYWdlSGVpZ2h0KTtcbiAgICAgICAgY2FzZSBleHBvcnRzLlNwZWNpYWxab29tTGV2ZWwuUGFnZVdpZHRoOlxuICAgICAgICAgICAgcmV0dXJuIChjb250YWluZXIuY2xpZW50V2lkdGggLSBTQ1JPTExfQkFSX1dJRFRIKSAvIHBhZ2VXaWR0aDtcbiAgICB9XG59O1xuXG52YXIgTlVNX09WRVJTQ0FOX1BBR0VTID0gMztcbnZhciBQQUdFX1BBRERJTkcgPSAxNjtcbnZhciBJbm5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjdXJyZW50RmlsZSA9IF9hLmN1cnJlbnRGaWxlLCBkZWZhdWx0U2NhbGUgPSBfYS5kZWZhdWx0U2NhbGUsIGRvYyA9IF9hLmRvYywgaW5pdGlhbFBhZ2UgPSBfYS5pbml0aWFsUGFnZSwgcGFnZVNpemUgPSBfYS5wYWdlU2l6ZSwgcGx1Z2lucyA9IF9hLnBsdWdpbnMsIHJlbmRlclBhZ2UgPSBfYS5yZW5kZXJQYWdlLCBzY3JvbGxNb2RlID0gX2Euc2Nyb2xsTW9kZSwgdmlld2VyU3RhdGUgPSBfYS52aWV3ZXJTdGF0ZSwgb25Eb2N1bWVudExvYWQgPSBfYS5vbkRvY3VtZW50TG9hZCwgb25PcGVuRmlsZSA9IF9hLm9uT3BlbkZpbGUsIG9uUGFnZUNoYW5nZSA9IF9hLm9uUGFnZUNoYW5nZSwgb25Sb3RhdGUgPSBfYS5vblJvdGF0ZSwgb25Sb3RhdGVQYWdlID0gX2Eub25Sb3RhdGVQYWdlLCBvblpvb20gPSBfYS5vblpvb207XG4gICAgdmFyIG51bVBhZ2VzID0gZG9jLm51bVBhZ2VzO1xuICAgIHZhciBkb2NJZCA9IGRvYy5sb2FkaW5nVGFzay5kb2NJZDtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChMb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciB0aGVtZUNvbnRleHQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbiAgICB2YXIgaXNSdGwgPSB0aGVtZUNvbnRleHQuZGlyZWN0aW9uID09PSBleHBvcnRzLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIHBhZ2VzUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKDApLCBjdXJyZW50UGFnZSA9IF9iWzBdLCBzZXRDdXJyZW50UGFnZSA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoMCksIHJvdGF0aW9uID0gX2NbMF0sIHNldFJvdGF0aW9uID0gX2NbMV07XG4gICAgdmFyIF9kID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIHBhZ2VzUm90YXRpb25DaGFuZ2VkID0gX2RbMF0sIHNldFBhZ2VzUm90YXRpb25DaGFuZ2VkID0gX2RbMV07XG4gICAgdmFyIF9lID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShuZXcgTWFwKCkpLCBwYWdlc1JvdGF0aW9uID0gX2VbMF0sIHNldFBhZ2VzUm90YXRpb24gPSBfZVsxXTtcbiAgICB2YXIgX2YgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHNjcm9sbE1vZGUpLCBjdXJyZW50U2Nyb2xsTW9kZSA9IF9mWzBdLCBzZXRDdXJyZW50U2Nyb2xsTW9kZSA9IF9mWzFdO1xuICAgIHZhciBzdGF0ZVJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHZpZXdlclN0YXRlKTtcbiAgICB2YXIgX2cgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHBhZ2VTaXplLnNjYWxlKSwgc2NhbGUgPSBfZ1swXSwgc2V0U2NhbGUgPSBfZ1sxXTtcbiAgICB2YXIga2VlcFNwZWNpYWxab29tTGV2ZWxSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZih0eXBlb2YgZGVmYXVsdFNjYWxlID09PSAnc3RyaW5nJyA/IGRlZmF1bHRTY2FsZSA6IG51bGwpO1xuICAgIHZhciBfaCA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoLTEpLCByZW5kZXJQYWdlSW5kZXggPSBfaFswXSwgc2V0UmVuZGVyUGFnZUluZGV4ID0gX2hbMV07XG4gICAgdmFyIF9qID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgwKSwgcmVuZGVyUXVldWVLZXkgPSBfalswXSwgc2V0UmVuZGVyUXVldWVLZXkgPSBfalsxXTtcbiAgICB2YXIgcmVuZGVyUXVldWUgPSB1c2VSZW5kZXJRdWV1ZSh7IGRvYzogZG9jIH0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyUGFnZXNDYWNoZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtkb2NJZF0pO1xuICAgIHZhciBlc3RpbWF0ZVNpemUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpemVzID0gW3BhZ2VTaXplLnBhZ2VIZWlnaHQsIHBhZ2VTaXplLnBhZ2VXaWR0aF07XG4gICAgICAgIHZhciByZWN0ID0gTWF0aC5hYnMocm90YXRpb24pICUgMTgwID09PSAwXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNpemVzWzBdLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBzaXplc1sxXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGhlaWdodDogc2l6ZXNbMV0sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHNpemVzWzBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKiBzY2FsZSxcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoICogc2NhbGUsXG4gICAgICAgIH07XG4gICAgfSwgW3JvdGF0aW9uLCBzY2FsZV0pO1xuICAgIHZhciBzZXRTdGFydFJhbmdlID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhcnRJbmRleCkgeyByZXR1cm4gTWF0aC5tYXgoc3RhcnRJbmRleCAtIE5VTV9PVkVSU0NBTl9QQUdFUywgMCk7IH0sIFtdKTtcbiAgICB2YXIgc2V0RW5kUmFuZ2UgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbmRJbmRleCkgeyByZXR1cm4gTWF0aC5taW4oZW5kSW5kZXggKyBOVU1fT1ZFUlNDQU5fUEFHRVMsIG51bVBhZ2VzIC0gMSk7IH0sIFtudW1QYWdlc10pO1xuICAgIHZhciB0cmFuc2Zvcm1TaXplID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoc2l6ZSkgeyByZXR1cm4gKHtcbiAgICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodCArIFBBR0VfUEFERElORyxcbiAgICAgICAgd2lkdGg6IHNpemUud2lkdGggKyBQQUdFX1BBRERJTkcsXG4gICAgfSk7IH0sIFtdKTtcbiAgICB2YXIgdmlydHVhbGl6ZXIgPSB1c2VWaXJ0dWFsKHtcbiAgICAgICAgZXN0aW1hdGVTaXplOiBlc3RpbWF0ZVNpemUsXG4gICAgICAgIGlzUnRsOiBpc1J0bCxcbiAgICAgICAgbnVtYmVyT2ZJdGVtczogbnVtUGFnZXMsXG4gICAgICAgIHBhcmVudFJlZjogcGFnZXNSZWYsXG4gICAgICAgIHNjcm9sbE1vZGU6IGN1cnJlbnRTY3JvbGxNb2RlLFxuICAgICAgICBzZXRTdGFydFJhbmdlOiBzZXRTdGFydFJhbmdlLFxuICAgICAgICBzZXRFbmRSYW5nZTogc2V0RW5kUmFuZ2UsXG4gICAgICAgIHRyYW5zZm9ybVNpemU6IHRyYW5zZm9ybVNpemUsXG4gICAgfSk7XG4gICAgdmFyIGhhbmRsZVBhZ2VzUmVzaXplID0gdXNlRGVib3VuY2VDYWxsYmFjayhmdW5jdGlvbiAoXykge1xuICAgICAgICBpZiAoa2VlcFNwZWNpYWxab29tTGV2ZWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgc2V0UmVuZGVyUGFnZUluZGV4KC0xKTtcbiAgICAgICAgICAgIHpvb20oa2VlcFNwZWNpYWxab29tTGV2ZWxSZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9LCAyMDApO1xuICAgIHVzZVRyYWNrUmVzaXplKHtcbiAgICAgICAgdGFyZ2V0UmVmOiBwYWdlc1JlZixcbiAgICAgICAgb25SZXNpemU6IGhhbmRsZVBhZ2VzUmVzaXplLFxuICAgIH0pO1xuICAgIHZhciBwYWdlV2lkdGggPSBwYWdlU2l6ZS5wYWdlV2lkdGgsIHBhZ2VIZWlnaHQgPSBwYWdlU2l6ZS5wYWdlSGVpZ2h0O1xuICAgIHZhciBzZXRWaWV3ZXJTdGF0ZSA9IGZ1bmN0aW9uICh2aWV3ZXJTdGF0ZSkge1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSB2aWV3ZXJTdGF0ZTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4ub25WaWV3ZXJTdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gcGx1Z2luLm9uVmlld2VyU3RhdGVDaGFuZ2UobmV3U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGVSZWYuY3VycmVudCA9IG5ld1N0YXRlO1xuICAgIH07XG4gICAgdmFyIGdldFBhZ2VzQ29udGFpbmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcGFnZXNSZWYuY3VycmVudDsgfTtcbiAgICB2YXIgZ2V0Vmlld2VyU3RhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0ZVJlZi5jdXJyZW50OyB9O1xuICAgIHZhciBqdW1wVG9EZXN0aW5hdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0LCBsZWZ0T2Zmc2V0LCBzY2FsZVRvKSB7XG4gICAgICAgIHZhciBwYWdlc0NvbnRhaW5lciA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBzdGF0ZVJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXBhZ2VzQ29udGFpbmVyIHx8ICFjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnZXRQYWdlKGRvYywgcGFnZUluZGV4KS50aGVuKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IDEgfSk7XG4gICAgICAgICAgICB2YXIgdG9wID0gMDtcbiAgICAgICAgICAgIHZhciBib3R0b20gPSAodHlwZW9mIGJvdHRvbU9mZnNldCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gYm90dG9tT2Zmc2V0KHZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHQpXG4gICAgICAgICAgICAgICAgOiBib3R0b21PZmZzZXQpIHx8IDA7XG4gICAgICAgICAgICB2YXIgbGVmdCA9ICh0eXBlb2YgbGVmdE9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IGxlZnRPZmZzZXQodmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodCkgOiBsZWZ0T2Zmc2V0KSB8fCAwO1xuICAgICAgICAgICAgdmFyIHVwZGF0ZVNjYWxlID0gY3VycmVudFN0YXRlLnNjYWxlO1xuICAgICAgICAgICAgc3dpdGNoIChzY2FsZVRvKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBleHBvcnRzLlNwZWNpYWxab29tTGV2ZWwuUGFnZUZpdDpcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHpvb20oZXhwb3J0cy5TcGVjaWFsWm9vbUxldmVsLlBhZ2VGaXQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGV4cG9ydHMuU3BlY2lhbFpvb21MZXZlbC5QYWdlV2lkdGg6XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjYWxlID0gY2FsY3VsYXRlU2NhbGUocGFnZXNDb250YWluZXIsIHBhZ2VIZWlnaHQsIHBhZ2VXaWR0aCwgZXhwb3J0cy5TcGVjaWFsWm9vbUxldmVsLlBhZ2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9ICh2aWV3cG9ydC5oZWlnaHQgLSBib3R0b20pICogdXBkYXRlU2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBsZWZ0ICogdXBkYXRlU2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHpvb20odXBkYXRlU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB2YXIgYm91bmRpbmdSZWN0ID0gdmlld3BvcnQuY29udmVydFRvVmlld3BvcnRQb2ludChsZWZ0LCBib3R0b20pO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgoYm91bmRpbmdSZWN0WzBdICogY3VycmVudFN0YXRlLnNjYWxlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgoYm91bmRpbmdSZWN0WzFdICogY3VycmVudFN0YXRlLnNjYWxlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZS5zY3JvbGxNb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBleHBvcnRzLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbGl6ZXIuc2Nyb2xsVG9JdGVtKHBhZ2VJbmRleCwgeyBsZWZ0OiBsZWZ0LCB0b3A6IDAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLlZlcnRpY2FsOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZpcnR1YWxpemVyLnNjcm9sbFRvSXRlbShwYWdlSW5kZXgsIHsgbGVmdDogMCwgdG9wOiB0b3AgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIGp1bXBUb1BhZ2UgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgaWYgKDAgPD0gcGFnZUluZGV4ICYmIHBhZ2VJbmRleCA8IG51bVBhZ2VzKSB7XG4gICAgICAgICAgICB2aXJ0dWFsaXplci5zY3JvbGxUb0l0ZW0ocGFnZUluZGV4LCB7IGxlZnQ6IDAsIHRvcDogMCB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICB2YXIgb3BlbkZpbGUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIGlmIChnZXRGaWxlRXh0KGZpbGUubmFtZSkudG9Mb3dlckNhc2UoKSAhPT0gJ3BkZicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoYnl0ZXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgb25PcGVuRmlsZShmaWxlLm5hbWUsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9LCBbb25PcGVuRmlsZV0pO1xuICAgIHZhciByb3RhdGUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIGRlZ3JlZXMgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gLTkwIDogOTA7XG4gICAgICAgIHZhciBjdXJyZW50Um90YXRpb24gPSBzdGF0ZVJlZi5jdXJyZW50LnJvdGF0aW9uO1xuICAgICAgICB2YXIgdXBkYXRlUm90YXRpb24gPSBjdXJyZW50Um90YXRpb24gPT09IDM2MCB8fCBjdXJyZW50Um90YXRpb24gPT09IC0zNjAgPyBkZWdyZWVzIDogY3VycmVudFJvdGF0aW9uICsgZGVncmVlcztcbiAgICAgICAgcmVuZGVyUXVldWUubWFya05vdFJlbmRlcmVkKCk7XG4gICAgICAgIHNldFJvdGF0aW9uKHVwZGF0ZVJvdGF0aW9uKTtcbiAgICAgICAgc2V0Vmlld2VyU3RhdGUoX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlUmVmLmN1cnJlbnQpLCB7IHJvdGF0aW9uOiB1cGRhdGVSb3RhdGlvbiB9KSk7XG4gICAgICAgIG9uUm90YXRlKHsgZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGRvYzogZG9jLCByb3RhdGlvbjogdXBkYXRlUm90YXRpb24gfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciByb3RhdGVQYWdlID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocGFnZUluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIGRlZ3JlZXMgPSBkaXJlY3Rpb24gPT09IGV4cG9ydHMuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gLTkwIDogOTA7XG4gICAgICAgIHZhciByb3RhdGlvbnMgPSBzdGF0ZVJlZi5jdXJyZW50LnBhZ2VzUm90YXRpb247XG4gICAgICAgIHZhciBjdXJyZW50UGFnZVJvdGF0aW9uID0gcm90YXRpb25zLmhhcyhwYWdlSW5kZXgpID8gcm90YXRpb25zLmdldChwYWdlSW5kZXgpIDogMDtcbiAgICAgICAgdmFyIGZpbmFsUm90YXRpb24gPSBjdXJyZW50UGFnZVJvdGF0aW9uICsgZGVncmVlcztcbiAgICAgICAgdmFyIHVwZGF0ZVJvdGF0aW9ucyA9IHJvdGF0aW9ucy5zZXQocGFnZUluZGV4LCBmaW5hbFJvdGF0aW9uKTtcbiAgICAgICAgc2V0UGFnZXNSb3RhdGlvbih1cGRhdGVSb3RhdGlvbnMpO1xuICAgICAgICBzZXRQYWdlc1JvdGF0aW9uQ2hhbmdlZChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuICF2YWx1ZTsgfSk7XG4gICAgICAgIHNldFZpZXdlclN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZVJlZi5jdXJyZW50KSwgeyBwYWdlc1JvdGF0aW9uOiB1cGRhdGVSb3RhdGlvbnMsIHJvdGF0ZWRQYWdlOiBwYWdlSW5kZXggfSkpO1xuICAgICAgICBvblJvdGF0ZVBhZ2UoeyBkaXJlY3Rpb246IGRpcmVjdGlvbiwgZG9jOiBkb2MsIHBhZ2VJbmRleDogcGFnZUluZGV4LCByb3RhdGlvbjogZmluYWxSb3RhdGlvbiB9KTtcbiAgICAgICAgcmVuZGVyUXVldWUubWFya1JlbmRlcmluZyhwYWdlSW5kZXgpO1xuICAgICAgICBzZXRSZW5kZXJQYWdlSW5kZXgocGFnZUluZGV4KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIHN3aXRjaFNjcm9sbE1vZGUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzY3JvbGxNb2RlKSB7XG4gICAgICAgIHNldFZpZXdlclN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZVJlZi5jdXJyZW50KSwgeyBzY3JvbGxNb2RlOiBzY3JvbGxNb2RlIH0pKTtcbiAgICAgICAgc2V0Q3VycmVudFNjcm9sbE1vZGUoc2Nyb2xsTW9kZSk7XG4gICAgfSwgW10pO1xuICAgIHZhciB6b29tID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAobmV3U2NhbGUpIHtcbiAgICAgICAgdmFyIHBhZ2VzRWxlID0gcGFnZXNSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIHVwZGF0ZVNjYWxlID0gcGFnZXNFbGVcbiAgICAgICAgICAgID8gdHlwZW9mIG5ld1NjYWxlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU2NhbGUocGFnZXNFbGUsIHBhZ2VIZWlnaHQsIHBhZ2VXaWR0aCwgbmV3U2NhbGUpXG4gICAgICAgICAgICAgICAgOiBuZXdTY2FsZVxuICAgICAgICAgICAgOiAxO1xuICAgICAgICBrZWVwU3BlY2lhbFpvb21MZXZlbFJlZi5jdXJyZW50ID0gdHlwZW9mIG5ld1NjYWxlID09PSAnc3RyaW5nJyA/IG5ld1NjYWxlIDogbnVsbDtcbiAgICAgICAgaWYgKHVwZGF0ZVNjYWxlID09PSBzdGF0ZVJlZi5jdXJyZW50LnNjYWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0UmVuZGVyUXVldWVLZXkoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4ga2V5ICsgMTsgfSk7XG4gICAgICAgIHJlbmRlclF1ZXVlLm1hcmtOb3RSZW5kZXJlZCgpO1xuICAgICAgICBwYWdlc0VsZS5zY3JvbGxUb3AgPSAocGFnZXNFbGUuc2Nyb2xsVG9wICogdXBkYXRlU2NhbGUpIC8gc3RhdGVSZWYuY3VycmVudC5zY2FsZTtcbiAgICAgICAgcGFnZXNFbGUuc2Nyb2xsTGVmdCA9IChwYWdlc0VsZS5zY3JvbGxMZWZ0ICogdXBkYXRlU2NhbGUpIC8gc3RhdGVSZWYuY3VycmVudC5zY2FsZTtcbiAgICAgICAgc2V0U2NhbGUodXBkYXRlU2NhbGUpO1xuICAgICAgICBvblpvb20oeyBkb2M6IGRvYywgc2NhbGU6IHVwZGF0ZVNjYWxlIH0pO1xuICAgICAgICBzZXRWaWV3ZXJTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdGVSZWYuY3VycmVudCksIHsgc2NhbGU6IHVwZGF0ZVNjYWxlIH0pKTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGx1Z2luTWV0aG9kcyA9IHtcbiAgICAgICAgICAgIGdldFBhZ2VzQ29udGFpbmVyOiBnZXRQYWdlc0NvbnRhaW5lcixcbiAgICAgICAgICAgIGdldFZpZXdlclN0YXRlOiBnZXRWaWV3ZXJTdGF0ZSxcbiAgICAgICAgICAgIGp1bXBUb0Rlc3RpbmF0aW9uOiBqdW1wVG9EZXN0aW5hdGlvbixcbiAgICAgICAgICAgIGp1bXBUb1BhZ2U6IGp1bXBUb1BhZ2UsXG4gICAgICAgICAgICBvcGVuRmlsZTogb3BlbkZpbGUsXG4gICAgICAgICAgICByb3RhdGU6IHJvdGF0ZSxcbiAgICAgICAgICAgIHJvdGF0ZVBhZ2U6IHJvdGF0ZVBhZ2UsXG4gICAgICAgICAgICBzZXRWaWV3ZXJTdGF0ZTogc2V0Vmlld2VyU3RhdGUsXG4gICAgICAgICAgICBzd2l0Y2hTY3JvbGxNb2RlOiBzd2l0Y2hTY3JvbGxNb2RlLFxuICAgICAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgfTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4uaW5zdGFsbCkge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKHBsdWdpbk1ldGhvZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi51bmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnVuaW5zdGFsbChwbHVnaW5NZXRob2RzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZG9jSWRdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uRG9jdW1lbnRMb2FkKHsgZG9jOiBkb2MsIGZpbGU6IGN1cnJlbnRGaWxlIH0pO1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgcGx1Z2luLm9uRG9jdW1lbnRMb2FkICYmIHBsdWdpbi5vbkRvY3VtZW50TG9hZCh7IGRvYzogZG9jLCBmaWxlOiBjdXJyZW50RmlsZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbml0aWFsUGFnZSkge1xuICAgICAgICAgICAganVtcFRvUGFnZShpbml0aWFsUGFnZSk7XG4gICAgICAgIH1cbiAgICB9LCBbZG9jSWRdKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxhdGVzdFBhZ2UgPSBzdGF0ZVJlZi5jdXJyZW50LnBhZ2VJbmRleDtcbiAgICAgICAgaWYgKGxhdGVzdFBhZ2UgPiAtMSkge1xuICAgICAgICAgICAgdmlydHVhbGl6ZXIuc2Nyb2xsVG9JdGVtKGxhdGVzdFBhZ2UsIHsgbGVmdDogMCwgdG9wOiAwIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRTY3JvbGxNb2RlXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnRSYW5nZSA9IHZpcnR1YWxpemVyLnN0YXJ0UmFuZ2UsIGVuZFJhbmdlID0gdmlydHVhbGl6ZXIuZW5kUmFuZ2UsIG1heFZpc2JpbGl0eUluZGV4ID0gdmlydHVhbGl6ZXIubWF4VmlzYmlsaXR5SW5kZXgsIHZpcnR1YWxJdGVtcyA9IHZpcnR1YWxpemVyLnZpcnR1YWxJdGVtcztcbiAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gbWF4VmlzYmlsaXR5SW5kZXg7XG4gICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgaWYgKHN0YXRlUmVmLmN1cnJlbnQucGFnZUluZGV4ICE9PSBjdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgb25QYWdlQ2hhbmdlKHsgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLCBkb2M6IGRvYyB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWaWV3ZXJTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdGVSZWYuY3VycmVudCksIHsgcGFnZUluZGV4OiBjdXJyZW50UGFnZSB9KSk7XG4gICAgICAgIHJlbmRlclF1ZXVlLnNldFJhbmdlKHN0YXJ0UmFuZ2UsIGVuZFJhbmdlKTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB2aXJ0dWFsSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5pbmRleCA9PT0gaTsgfSk7XG4gICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclF1ZXVlLnNldFZpc2liaWxpdHkoaSwgaXRlbS52aXNpYmlsaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0UmFuZ2U7IGkgPD0gZW5kUmFuZ2U7IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJOZXh0UGFnZSgpO1xuICAgIH0sIFtcbiAgICAgICAgdmlydHVhbGl6ZXIuc3RhcnRSYW5nZSxcbiAgICAgICAgdmlydHVhbGl6ZXIuZW5kUmFuZ2UsXG4gICAgICAgIHZpcnR1YWxpemVyLm1heFZpc2JpbGl0eUluZGV4LFxuICAgICAgICBwYWdlc1JvdGF0aW9uQ2hhbmdlZCxcbiAgICAgICAgcm90YXRpb24sXG4gICAgICAgIHNjYWxlLFxuICAgIF0pO1xuICAgIHZhciBoYW5kbGVQYWdlUmVuZGVyQ29tcGxldGVkID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIHJlbmRlclF1ZXVlLm1hcmtSZW5kZXJlZChwYWdlSW5kZXgpO1xuICAgICAgICByZW5kZXJOZXh0UGFnZSgpO1xuICAgIH0sIFtyZW5kZXJRdWV1ZUtleV0pO1xuICAgIHZhciByZW5kZXJOZXh0UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRQYWdlID0gcmVuZGVyUXVldWUuZ2V0SGlnaGVzdFByaW9yaXR5UGFnZSgpO1xuICAgICAgICBpZiAobmV4dFBhZ2UgPiAtMSAmJiByZW5kZXJRdWV1ZS5pc0luUmFuZ2UobmV4dFBhZ2UpKSB7XG4gICAgICAgICAgICByZW5kZXJRdWV1ZS5tYXJrUmVuZGVyaW5nKG5leHRQYWdlKTtcbiAgICAgICAgICAgIHNldFJlbmRlclBhZ2VJbmRleChuZXh0UGFnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBleGVjdXRlTmFtZWRBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1BhZ2UgPSBjdXJyZW50UGFnZSAtIDE7XG4gICAgICAgIHZhciBuZXh0UGFnZSA9IGN1cnJlbnRQYWdlICsgMTtcbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ0ZpcnN0UGFnZSc6XG4gICAgICAgICAgICAgICAganVtcFRvUGFnZSgwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xhc3RQYWdlJzpcbiAgICAgICAgICAgICAgICBqdW1wVG9QYWdlKG51bVBhZ2VzIC0gMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdOZXh0UGFnZSc6XG4gICAgICAgICAgICAgICAgbmV4dFBhZ2UgPCBudW1QYWdlcyAmJiBqdW1wVG9QYWdlKG5leHRQYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1ByZXZQYWdlJzpcbiAgICAgICAgICAgICAgICBwcmV2aW91c1BhZ2UgPj0gMCAmJiBqdW1wVG9QYWdlKHByZXZpb3VzUGFnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciByZW5kZXJWaWV3ZXIgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhZ2VMYWJlbCA9IGwxMG4gJiYgbDEwbi5jb3JlID8gbDEwbi5jb3JlLnBhZ2VMYWJlbCA6ICdQYWdlIHt7cGFnZUluZGV4fX0nO1xuICAgICAgICB2YXIgc2xvdCA9IHtcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgJ2RhdGEtdGVzdGlkJzogJ2NvcmVfX2lubmVyLWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpLFxuICAgICAgICAgICAgc3ViU2xvdDoge1xuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXRlc3RpZCc6ICdjb3JlX19pbm5lci1wYWdlcycsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2lubmVyLXBhZ2VzJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9faW5uZXItcGFnZXMtLWhvcml6b250YWwnOiBjdXJyZW50U2Nyb2xsTW9kZSA9PT0gZXhwb3J0cy5TY3JvbGxNb2RlLkhvcml6b250YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2lubmVyLXBhZ2VzLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9faW5uZXItcGFnZXMtLXZlcnRpY2FsJzogY3VycmVudFNjcm9sbE1vZGUgPT09IGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9faW5uZXItcGFnZXMtLXdyYXBwZWQnOiBjdXJyZW50U2Nyb2xsTW9kZSA9PT0gZXhwb3J0cy5TY3JvbGxNb2RlLldyYXBwZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICByZWY6IHBhZ2VzUmVmLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB2aXJ0dWFsaXplci5nZXRDb250YWluZXJTdHlsZXMoKSB9LCB2aXJ0dWFsaXplci52aXJ0dWFsSXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJhcmlhLWxhYmVsXCI6IHBhZ2VMYWJlbC5yZXBsYWNlKCd7e3BhZ2VJbmRleH19JywgXCJcIi5jb25jYXQoaXRlbS5pbmRleCArIDEpKSwgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19pbm5lci1wYWdlXCIsIGtleTogaXRlbS5pbmRleCwgcm9sZTogXCJyZWdpb25cIiwgc3R5bGU6IHZpcnR1YWxpemVyLmdldEl0ZW1TdHlsZXMoaXRlbSkgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFBhZ2VMYXllciwgeyBkb2M6IGRvYywgaGVpZ2h0OiBwYWdlSGVpZ2h0LCBtZWFzdXJlUmVmOiBpdGVtLm1lYXN1cmVSZWYsIHBhZ2VJbmRleDogaXRlbS5pbmRleCwgcGFnZVJvdGF0aW9uOiBwYWdlc1JvdGF0aW9uLmhhcyhpdGVtLmluZGV4KSA/IHBhZ2VzUm90YXRpb24uZ2V0KGl0ZW0uaW5kZXgpIDogMCwgcGx1Z2luczogcGx1Z2lucywgcmVuZGVyUGFnZTogcmVuZGVyUGFnZSwgcmVuZGVyUXVldWVLZXk6IHJlbmRlclF1ZXVlS2V5LCByb3RhdGlvbjogcm90YXRpb24sIHNjYWxlOiBzY2FsZSwgc2hvdWxkUmVuZGVyOiByZW5kZXJQYWdlSW5kZXggPT09IGl0ZW0uaW5kZXgsIHdpZHRoOiBwYWdlV2lkdGgsIG9uRXhlY3V0ZU5hbWVkQWN0aW9uOiBleGVjdXRlTmFtZWRBY3Rpb24sIG9uSnVtcFRvRGVzdDoganVtcFRvRGVzdGluYXRpb24sIG9uUmVuZGVyQ29tcGxldGVkOiBoYW5kbGVQYWdlUmVuZGVyQ29tcGxldGVkLCBvblJvdGF0ZVBhZ2U6IHJvdGF0ZVBhZ2UgfSkpKTsgfSkpKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLnJlbmRlclZpZXdlcikge1xuICAgICAgICAgICAgICAgIHNsb3QgPSBwbHVnaW4ucmVuZGVyVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyUmVmOiBjb250YWluZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgIGRvYzogZG9jLFxuICAgICAgICAgICAgICAgICAgICBwYWdlSGVpZ2h0OiBwYWdlSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBwYWdlV2lkdGg6IHBhZ2VXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZXNSb3RhdGlvbjogcGFnZXNSb3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzbG90OiBzbG90LFxuICAgICAgICAgICAgICAgICAgICB0aGVtZUNvbnRleHQ6IHRoZW1lQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAganVtcFRvUGFnZToganVtcFRvUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgb3BlbkZpbGU6IG9wZW5GaWxlLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGU6IHJvdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlUGFnZTogcm90YXRlUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoU2Nyb2xsTW9kZTogc3dpdGNoU2Nyb2xsTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzbG90O1xuICAgIH0sIFtwbHVnaW5zLCB2aXJ0dWFsaXplcl0pO1xuICAgIHZhciByZW5kZXJTbG90ID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoc2xvdCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgc2xvdC5hdHRycywgeyBzdHlsZTogc2xvdC5hdHRycyAmJiBzbG90LmF0dHJzLnN0eWxlID8gc2xvdC5hdHRycy5zdHlsZSA6IHt9IH0pLFxuICAgICAgICBzbG90LmNoaWxkcmVuLFxuICAgICAgICBzbG90LnN1YlNsb3QgJiYgcmVuZGVyU2xvdChzbG90LnN1YlNsb3QpKSk7IH0sIFtdKTtcbiAgICByZXR1cm4gcmVuZGVyU2xvdChyZW5kZXJWaWV3ZXIoKSk7XG59O1xuXG52YXIgTEVWRUxTID0gW1xuICAgIDAuMSwgMC4yLCAwLjMsIDAuNCwgMC41LCAwLjYsIDAuNywgMC44LCAwLjksIDEsIDEuMSwgMS4zLCAxLjUsIDEuNywgMS45LCAyLjEsIDIuNCwgMi43LCAzLjAsIDMuMywgMy43LCA0LjEsIDQuNixcbiAgICA1LjEsIDUuNywgNi4zLCA3LjAsIDcuNywgOC41LCA5LjQsIDEwLFxuXTtcbnZhciBkZWNyZWFzZSA9IGZ1bmN0aW9uIChjdXJyZW50TGV2ZWwpIHtcbiAgICB2YXIgZm91bmQgPSBMRVZFTFMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtID49IGN1cnJlbnRMZXZlbDsgfSk7XG4gICAgcmV0dXJuIGZvdW5kID09PSAtMSB8fCBmb3VuZCA9PT0gMCA/IGN1cnJlbnRMZXZlbCA6IExFVkVMU1tmb3VuZCAtIDFdO1xufTtcblxudmFyIFJFU0VSVkVfSEVJR0hUID0gNDU7XG52YXIgUkVTRVJWRV9XSURUSCA9IDQ1O1xudmFyIFBhZ2VTaXplQ2FsY3VsYXRvciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkZWZhdWx0U2NhbGUgPSBfYS5kZWZhdWx0U2NhbGUsIGRvYyA9IF9hLmRvYywgcmVuZGVyID0gX2EucmVuZGVyLCBzY3JvbGxNb2RlID0gX2Euc2Nyb2xsTW9kZTtcbiAgICB2YXIgcGFnZXNSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigpO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoe1xuICAgICAgICBwYWdlSGVpZ2h0OiAwLFxuICAgICAgICBwYWdlV2lkdGg6IDAsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgIH0pLCBwYWdlU2l6ZSA9IF9iWzBdLCBzZXRQYWdlU2l6ZSA9IF9iWzFdO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2V0UGFnZShkb2MsIDApLnRoZW4oZnVuY3Rpb24gKHBkZlBhZ2UpIHtcbiAgICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHBkZlBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMSB9KTtcbiAgICAgICAgICAgIHZhciB3ID0gdmlld3BvcnQud2lkdGg7XG4gICAgICAgICAgICB2YXIgaCA9IHZpZXdwb3J0LmhlaWdodDtcbiAgICAgICAgICAgIHZhciBwYWdlc0VsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoIXBhZ2VzRWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhcmVudEVsZSA9IHBhZ2VzRWxlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgc2NhbGVXaWR0aCA9IChwYXJlbnRFbGUuY2xpZW50V2lkdGggLSBSRVNFUlZFX1dJRFRIKSAvIHc7XG4gICAgICAgICAgICB2YXIgc2NhbGVIZWlnaHQgPSAocGFyZW50RWxlLmNsaWVudEhlaWdodCAtIFJFU0VSVkVfSEVJR0hUKSAvIGg7XG4gICAgICAgICAgICB2YXIgc2NhbGVkID0gc2NhbGVXaWR0aDtcbiAgICAgICAgICAgIHN3aXRjaCAoc2Nyb2xsTW9kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5TY3JvbGxNb2RlLkhvcml6b250YWw6XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlZCA9IE1hdGgubWluKHNjYWxlV2lkdGgsIHNjYWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBleHBvcnRzLlNjcm9sbE1vZGUuVmVydGljYWw6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkID0gc2NhbGVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSBkZWZhdWx0U2NhbGVcbiAgICAgICAgICAgICAgICA/IHR5cGVvZiBkZWZhdWx0U2NhbGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU2NhbGUocGFyZW50RWxlLCBoLCB3LCBkZWZhdWx0U2NhbGUpXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFNjYWxlXG4gICAgICAgICAgICAgICAgOiBkZWNyZWFzZShzY2FsZWQpO1xuICAgICAgICAgICAgc2V0UGFnZVNpemUoe1xuICAgICAgICAgICAgICAgIHBhZ2VIZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgcGFnZVdpZHRoOiB3LFxuICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LCBbZG9jXSk7XG4gICAgdmFyIHBhZ2VXaWR0aCA9IHBhZ2VTaXplLnBhZ2VXaWR0aDtcbiAgICByZXR1cm4gcGFnZVdpZHRoID09PSAwID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fcGFnZS1zaXplLWNhbGN1bGF0b3JcIiwgXCJkYXRhLXRlc3RpZFwiOiBcImNvcmVfX3BhZ2Utc2l6ZS1jYWxjdWxhdGluZ1wiLCByZWY6IHBhZ2VzUmVmIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTcGlubmVyLCBudWxsKSkpIDogKHJlbmRlcihwYWdlU2l6ZSkpO1xufTtcblxudmFyIExvYWRpbmdTdGF0dXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvYWRpbmdTdGF0dXMoKSB7XG4gICAgfVxuICAgIHJldHVybiBMb2FkaW5nU3RhdHVzO1xufSgpKTtcblxudmFyIFN1Ym1pdFBhc3N3b3JkO1xuKGZ1bmN0aW9uIChTdWJtaXRQYXNzd29yZCkge1xuICAgIFN1Ym1pdFBhc3N3b3JkW1N1Ym1pdFBhc3N3b3JkW1wiUkVRVUlSRV9QQVNTV09SRFwiXSA9IDBdID0gXCJSRVFVSVJFX1BBU1NXT1JEXCI7XG4gICAgU3VibWl0UGFzc3dvcmRbU3VibWl0UGFzc3dvcmRbXCJXUk9OR19QQVNTV09SRFwiXSA9IDFdID0gXCJXUk9OR19QQVNTV09SRFwiO1xufSkoU3VibWl0UGFzc3dvcmQgfHwgKFN1Ym1pdFBhc3N3b3JkID0ge30pKTtcbnZhciBBc2tGb3JQYXNzd29yZFN0YXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXNrRm9yUGFzc3dvcmRTdGF0ZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc2tGb3JQYXNzd29yZFN0YXRlKHZlcmlmeVBhc3N3b3JkLCBzdWJtaXRQYXNzd29yZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy52ZXJpZnlQYXNzd29yZCA9IHZlcmlmeVBhc3N3b3JkO1xuICAgICAgICBfdGhpcy5zdWJtaXRQYXNzd29yZCA9IHN1Ym1pdFBhc3N3b3JkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBc2tGb3JQYXNzd29yZFN0YXRlO1xufShMb2FkaW5nU3RhdHVzKSk7XG5cbnZhciBBc2tpbmdQYXNzd29yZCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzdWJtaXRQYXNzd29yZCA9IF9hLnN1Ym1pdFBhc3N3b3JkLCB2ZXJpZnlQYXNzd29yZCA9IF9hLnZlcmlmeVBhc3N3b3JkLCBvbkRvY3VtZW50QXNrUGFzc3dvcmQgPSBfYS5vbkRvY3VtZW50QXNrUGFzc3dvcmQ7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKCcnKSwgcGFzc3dvcmQgPSBfYlswXSwgc2V0UGFzc3dvcmQgPSBfYlsxXTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gZXhwb3J0cy5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBzdWJtaXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZCk7IH07XG4gICAgdmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgIHN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvbkRvY3VtZW50QXNrUGFzc3dvcmQpIHtcbiAgICAgICAgICAgIG9uRG9jdW1lbnRBc2tQYXNzd29yZCh7XG4gICAgICAgICAgICAgICAgdmVyaWZ5UGFzc3dvcmQ6IHZlcmlmeVBhc3N3b3JkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLW1lc3NhZ2VcIiB9LFxuICAgICAgICAgICAgICAgIHN1Ym1pdFBhc3N3b3JkID09PSBTdWJtaXRQYXNzd29yZC5SRVFVSVJFX1BBU1NXT1JEICYmXG4gICAgICAgICAgICAgICAgICAgIGwxMG4uY29yZS5hc2tpbmdQYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcXVpcmVQYXNzd29yZFRvT3BlbixcbiAgICAgICAgICAgICAgICBzdWJtaXRQYXNzd29yZCA9PT0gU3VibWl0UGFzc3dvcmQuV1JPTkdfUEFTU1dPUkQgJiZcbiAgICAgICAgICAgICAgICAgICAgbDEwbi5jb3JlLndyb25nUGFzc3dvcmQudHJ5QWdhaW4pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtYm9keVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0JzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1pbnB1dC0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICAgICAgICAgIH0pIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUZXh0Qm94LCB7IHRlc3RJZDogXCJjb3JlX19hc2tpbmctcGFzc3dvcmQtaW5wdXRcIiwgdHlwZTogXCJwYXNzd29yZFwiLCB2YWx1ZTogcGFzc3dvcmQsIG9uQ2hhbmdlOiBzZXRQYXNzd29yZCwgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duIH0pKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbWFyeUJ1dHRvbiwgeyBvbkNsaWNrOiBzdWJtaXQgfSwgbDEwbi5jb3JlLmFza2luZ1Bhc3N3b3JkLnN1Ym1pdCkpKSkpO1xufTtcblxudmFyIENvbXBsZXRlZFN0YXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcGxldGVkU3RhdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcGxldGVkU3RhdGUoZG9jKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRvYyA9IGRvYztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQ29tcGxldGVkU3RhdGU7XG59KExvYWRpbmdTdGF0dXMpKTtcblxudmFyIEZhaWx1cmVTdGF0ZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZhaWx1cmVTdGF0ZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGYWlsdXJlU3RhdGUoZXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRmFpbHVyZVN0YXRlO1xufShMb2FkaW5nU3RhdHVzKSk7XG5cbnZhciBMb2FkaW5nU3RhdGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2FkaW5nU3RhdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTG9hZGluZ1N0YXRlKHBlcmNlbnRhZ2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBlcmNlbnRhZ2VzID0gcGVyY2VudGFnZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIExvYWRpbmdTdGF0ZTtcbn0oTG9hZGluZ1N0YXR1cykpO1xuXG52YXIgRG9jdW1lbnRMb2FkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hhcmFjdGVyTWFwID0gX2EuY2hhcmFjdGVyTWFwLCBmaWxlID0gX2EuZmlsZSwgaHR0cEhlYWRlcnMgPSBfYS5odHRwSGVhZGVycywgcmVuZGVyID0gX2EucmVuZGVyLCByZW5kZXJFcnJvciA9IF9hLnJlbmRlckVycm9yLCByZW5kZXJMb2FkZXIgPSBfYS5yZW5kZXJMb2FkZXIsIHRyYW5zZm9ybUdldERvY3VtZW50UGFyYW1zID0gX2EudHJhbnNmb3JtR2V0RG9jdW1lbnRQYXJhbXMsIHdpdGhDcmVkZW50aWFscyA9IF9hLndpdGhDcmVkZW50aWFscywgb25Eb2N1bWVudEFza1Bhc3N3b3JkID0gX2Eub25Eb2N1bWVudEFza1Bhc3N3b3JkO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBleHBvcnRzLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShuZXcgTG9hZGluZ1N0YXRlKDApKSwgc3RhdHVzID0gX2JbMF0sIHNldFN0YXR1cyA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoMCk7IF9jWzBdOyBfY1sxXTtcbiAgICB2YXIgZG9jUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoJycpO1xuICAgIHZhciBfZCA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUobnVsbCk7IF9kWzBdOyBfZFsxXTtcbiAgICB2YXIgaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKCk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2NSZWYuY3VycmVudCA9ICcnO1xuICAgICAgICBzZXRTdGF0dXMobmV3IExvYWRpbmdTdGF0ZSgwKSk7XG4gICAgICAgIHZhciB3b3JrZXIgPSBuZXcgUGRmSnNBcGlfX25hbWVzcGFjZS5QREZXb3JrZXIoeyBuYW1lOiBcIlBERldvcmtlcl9cIi5jb25jYXQoRGF0ZS5ub3coKSkgfSk7XG4gICAgICAgIHZhciBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGh0dHBIZWFkZXJzOiBodHRwSGVhZGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogd2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgd29ya2VyOiB3b3JrZXIsXG4gICAgICAgIH0sICdzdHJpbmcnID09PSB0eXBlb2YgZmlsZSA/IHsgdXJsOiBmaWxlIH0gOiB7IGRhdGE6IGZpbGUgfSwgY2hhcmFjdGVyTWFwXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBjTWFwVXJsOiBjaGFyYWN0ZXJNYXAudXJsLFxuICAgICAgICAgICAgICAgIGNNYXBQYWNrZWQ6IGNoYXJhY3Rlck1hcC5pc0NvbXByZXNzZWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9KTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVBhcmFtcyA9IHRyYW5zZm9ybUdldERvY3VtZW50UGFyYW1zID8gdHJhbnNmb3JtR2V0RG9jdW1lbnRQYXJhbXMocGFyYW1zKSA6IHBhcmFtcztcbiAgICAgICAgdmFyIGxvYWRpbmdUYXNrID0gUGRmSnNBcGlfX25hbWVzcGFjZS5nZXREb2N1bWVudCh0cmFuc2Zvcm1QYXJhbXMpO1xuICAgICAgICBsb2FkaW5nVGFzay5vblBhc3N3b3JkID0gZnVuY3Rpb24gKHZlcmlmeVBhc3N3b3JkLCByZWFzb24pIHtcbiAgICAgICAgICAgIHN3aXRjaCAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBQZGZKc0FwaV9fbmFtZXNwYWNlLlBhc3N3b3JkUmVzcG9uc2VzLk5FRURfUEFTU1dPUkQ6XG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMobmV3IEFza0ZvclBhc3N3b3JkU3RhdGUodmVyaWZ5UGFzc3dvcmQsIFN1Ym1pdFBhc3N3b3JkLlJFUVVJUkVfUEFTU1dPUkQpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBQZGZKc0FwaV9fbmFtZXNwYWNlLlBhc3N3b3JkUmVzcG9uc2VzLklOQ09SUkVDVF9QQVNTV09SRDpcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyhuZXcgQXNrRm9yUGFzc3dvcmRTdGF0ZSh2ZXJpZnlQYXNzd29yZCwgU3VibWl0UGFzc3dvcmQuV1JPTkdfUEFTU1dPUkQpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRpbmdUYXNrLm9uUHJvZ3Jlc3MgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZWQgPSBwcm9ncmVzcy50b3RhbCA+IDBcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKDEwMCwgKDEwMCAqIHByb2dyZXNzLmxvYWRlZCkgLyBwcm9ncmVzcy50b3RhbClcbiAgICAgICAgICAgICAgICA6IDEwMDtcbiAgICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCAmJiBkb2NSZWYuY3VycmVudCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMobmV3IExvYWRpbmdTdGF0ZShsb2FkZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbG9hZGluZ1Rhc2sucHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGRvY1JlZi5jdXJyZW50ID0gZG9jLmxvYWRpbmdUYXNrLmRvY0lkO1xuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiYgc2V0U3RhdHVzKG5ldyBDb21wbGV0ZWRTdGF0ZShkb2MpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGlzTW91bnRlZC5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgIXdvcmtlci5kZXN0cm95ZWQgJiZcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMobmV3IEZhaWx1cmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlIHx8ICdDYW5ub3QgbG9hZCBkb2N1bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGVyci5uYW1lLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2FkaW5nVGFzay5kZXN0cm95KCk7XG4gICAgICAgICAgICB3b3JrZXIuZGVzdHJveSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtmaWxlXSk7XG4gICAgaWYgKHN0YXR1cyBpbnN0YW5jZW9mIEFza0ZvclBhc3N3b3JkU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQXNraW5nUGFzc3dvcmQsIHsgc3VibWl0UGFzc3dvcmQ6IHN0YXR1cy5zdWJtaXRQYXNzd29yZCwgdmVyaWZ5UGFzc3dvcmQ6IHN0YXR1cy52ZXJpZnlQYXNzd29yZCwgb25Eb2N1bWVudEFza1Bhc3N3b3JkOiBvbkRvY3VtZW50QXNrUGFzc3dvcmQgfSkpO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzIGluc3RhbmNlb2YgQ29tcGxldGVkU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcihzdGF0dXMuZG9jKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyBpbnN0YW5jZW9mIEZhaWx1cmVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gcmVuZGVyRXJyb3IgPyAocmVuZGVyRXJyb3Ioc3RhdHVzLmVycm9yKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LWNvcmVfX2RvYy1lcnJvcic6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3Jwdi1jb3JlX19kb2MtZXJyb3ItLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZG9jLWVycm9yLXRleHRcIiB9LCBzdGF0dXMuZXJyb3IubWVzc2FnZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwiY29yZV9fZG9jLWxvYWRpbmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtY29yZV9fZG9jLWxvYWRpbmcnOiB0cnVlLFxuICAgICAgICAgICAgJ3Jwdi1jb3JlX19kb2MtbG9hZGluZy0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pIH0sIHJlbmRlckxvYWRlciA/IHJlbmRlckxvYWRlcihzdGF0dXMucGVyY2VudGFnZXMpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIG51bGwpKSk7XG59O1xuXG52YXIgaXNEYXJrTW9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzO1xufTtcblxudmFyIHdpdGhUaGVtZSA9IGZ1bmN0aW9uICh0aGVtZSwgb25Td2l0Y2hUaGVtZSkge1xuICAgIHZhciBpbml0aWFsVGhlbWUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gKHRoZW1lID09PSAnYXV0bycgPyAoaXNEYXJrTW9kZSgpID8gJ2RhcmsnIDogJ2xpZ2h0JykgOiB0aGVtZSk7IH0sIFtdKTtcbiAgICB2YXIgX2EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGluaXRpYWxUaGVtZSksIGN1cnJlbnRUaGVtZSA9IF9hWzBdLCBzZXRDdXJyZW50VGhlbWUgPSBfYVsxXTtcbiAgICB2YXIgcHJldlRoZW1lID0gdXNlUHJldmlvdXMoY3VycmVudFRoZW1lKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGVtZSAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lZGlhID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFRoZW1lKGUubWF0Y2hlcyA/ICdkYXJrJyA6ICdsaWdodCcpO1xuICAgICAgICB9O1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZXIpOyB9O1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGhlbWUgIT09IHByZXZUaGVtZSAmJiBvblN3aXRjaFRoZW1lKSB7XG4gICAgICAgICAgICBvblN3aXRjaFRoZW1lKGN1cnJlbnRUaGVtZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudFRoZW1lXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhlbWUgIT09IGN1cnJlbnRUaGVtZSkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFRoZW1lKHRoZW1lKTtcbiAgICAgICAgfVxuICAgIH0sIFt0aGVtZV0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRUaGVtZTogY3VycmVudFRoZW1lLFxuICAgICAgICBzZXRDdXJyZW50VGhlbWU6IHNldEN1cnJlbnRUaGVtZSxcbiAgICB9O1xufTtcblxudmFyIGlzU2FtZVVybCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIHR5cGVBID0gdHlwZW9mIGE7XG4gICAgdmFyIHR5cGVCID0gdHlwZW9mIGI7XG4gICAgaWYgKHR5cGVBID09PSAnc3RyaW5nJyAmJiB0eXBlQiA9PT0gJ3N0cmluZycgJiYgYSA9PT0gYikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVBID09PSAnb2JqZWN0JyAmJiB0eXBlQiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiB2ID09PSBiW2ldOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIFZpZXdlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGFyYWN0ZXJNYXAgPSBfYS5jaGFyYWN0ZXJNYXAsIGRlZmF1bHRTY2FsZSA9IF9hLmRlZmF1bHRTY2FsZSwgZmlsZVVybCA9IF9hLmZpbGVVcmwsIF9iID0gX2EuaHR0cEhlYWRlcnMsIGh0dHBIZWFkZXJzID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2IsIF9jID0gX2EuaW5pdGlhbFBhZ2UsIGluaXRpYWxQYWdlID0gX2MgPT09IHZvaWQgMCA/IDAgOiBfYywgbG9jYWxpemF0aW9uID0gX2EubG9jYWxpemF0aW9uLCBfZCA9IF9hLnBsdWdpbnMsIHBsdWdpbnMgPSBfZCA9PT0gdm9pZCAwID8gW10gOiBfZCwgcmVuZGVyRXJyb3IgPSBfYS5yZW5kZXJFcnJvciwgcmVuZGVyUGFnZSA9IF9hLnJlbmRlclBhZ2UsIHJlbmRlckxvYWRlciA9IF9hLnJlbmRlckxvYWRlciwgX2UgPSBfYS5zY3JvbGxNb2RlLCBzY3JvbGxNb2RlID0gX2UgPT09IHZvaWQgMCA/IGV4cG9ydHMuU2Nyb2xsTW9kZS5WZXJ0aWNhbCA6IF9lLCB0cmFuc2Zvcm1HZXREb2N1bWVudFBhcmFtcyA9IF9hLnRyYW5zZm9ybUdldERvY3VtZW50UGFyYW1zLCBfZiA9IF9hLnRoZW1lLCB0aGVtZSA9IF9mID09PSB2b2lkIDAgPyB7XG4gICAgICAgIGRpcmVjdGlvbjogZXhwb3J0cy5UZXh0RGlyZWN0aW9uLkxlZnRUb1JpZ2h0LFxuICAgICAgICB0aGVtZTogJ2xpZ2h0JyxcbiAgICB9IDogX2YsIF9nID0gX2Eud2l0aENyZWRlbnRpYWxzLCB3aXRoQ3JlZGVudGlhbHMgPSBfZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZywgb25Eb2N1bWVudEFza1Bhc3N3b3JkID0gX2Eub25Eb2N1bWVudEFza1Bhc3N3b3JkLCBfaCA9IF9hLm9uRG9jdW1lbnRMb2FkLCBvbkRvY3VtZW50TG9hZCA9IF9oID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7XG4gICAgfSA6IF9oLCBfaiA9IF9hLm9uUGFnZUNoYW5nZSwgb25QYWdlQ2hhbmdlID0gX2ogPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHtcbiAgICB9IDogX2osIF9rID0gX2Eub25Sb3RhdGUsIG9uUm90YXRlID0gX2sgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHtcbiAgICB9IDogX2ssIF9sID0gX2Eub25Sb3RhdGVQYWdlLCBvblJvdGF0ZVBhZ2UgPSBfbCA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge1xuICAgIH0gOiBfbCwgX20gPSBfYS5vblN3aXRjaFRoZW1lLCBvblN3aXRjaFRoZW1lID0gX20gPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHtcbiAgICB9IDogX20sIF9vID0gX2Eub25ab29tLCBvblpvb20gPSBfbyA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge1xuICAgIH0gOiBfbztcbiAgICB2YXIgX3AgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHtcbiAgICAgICAgZGF0YTogZmlsZVVybCxcbiAgICAgICAgbmFtZTogdHlwZW9mIGZpbGVVcmwgPT09ICdzdHJpbmcnID8gZmlsZVVybCA6ICcnLFxuICAgICAgICBzaG91bGRMb2FkOiBmYWxzZSxcbiAgICB9KSwgZmlsZSA9IF9wWzBdLCBzZXRGaWxlID0gX3BbMV07XG4gICAgdmFyIG9wZW5GaWxlID0gZnVuY3Rpb24gKGZpbGVOYW1lLCBkYXRhKSB7XG4gICAgICAgIHNldEZpbGUoe1xuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIG5hbWU6IGZpbGVOYW1lLFxuICAgICAgICAgICAgc2hvdWxkTG9hZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgX3EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGZhbHNlKSwgdmlzaWJsZSA9IF9xWzBdLCBzZXRWaXNpYmxlID0gX3FbMV07XG4gICAgdmFyIHByZXZGaWxlID0gdXNlUHJldmlvdXMoZmlsZSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzU2FtZVVybChwcmV2RmlsZS5kYXRhLCBmaWxlVXJsKSkge1xuICAgICAgICAgICAgc2V0RmlsZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogZmlsZVVybCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0eXBlb2YgZmlsZVVybCA9PT0gJ3N0cmluZycgPyBmaWxlVXJsIDogJycsXG4gICAgICAgICAgICAgICAgc2hvdWxkTG9hZDogdmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2ZpbGVVcmwsIHZpc2libGVdKTtcbiAgICB2YXIgdmlzaWJpbGl0eUNoYW5nZWQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHNldFZpc2libGUocGFyYW1zLmlzVmlzaWJsZSk7XG4gICAgICAgIGlmIChwYXJhbXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICBzZXRGaWxlKGZ1bmN0aW9uIChjdXJyZW50RmlsZSkgeyByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY3VycmVudEZpbGUsIHsgc2hvdWxkTG9hZDogdHJ1ZSB9KTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjb250YWluZXJSZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcih7XG4gICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZWQ6IHZpc2liaWxpdHlDaGFuZ2VkLFxuICAgIH0pO1xuICAgIHZhciB0aGVtZVByb3BzID0gdHlwZW9mIHRoZW1lID09PSAnc3RyaW5nJyA/IHsgZGlyZWN0aW9uOiBleHBvcnRzLlRleHREaXJlY3Rpb24uTGVmdFRvUmlnaHQsIHRoZW1lOiB0aGVtZSB9IDogdGhlbWU7XG4gICAgdmFyIF9yID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShsb2NhbGl6YXRpb24gfHwgRGVmYXVsdExvY2FsaXphdGlvbiksIGwxMG4gPSBfclswXSwgc2V0TDEwbiA9IF9yWzFdO1xuICAgIHZhciBsb2NhbGl6YXRpb25Db250ZXh0ID0geyBsMTBuOiBsMTBuLCBzZXRMMTBuOiBzZXRMMTBuIH07XG4gICAgdmFyIHRoZW1lQ29udGV4dCA9IE9iamVjdC5hc3NpZ24oe30sIHsgZGlyZWN0aW9uOiB0aGVtZVByb3BzLmRpcmVjdGlvbiB9LCB3aXRoVGhlbWUodGhlbWVQcm9wcy50aGVtZSB8fCAnbGlnaHQnLCBvblN3aXRjaFRoZW1lKSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobG9jYWxpemF0aW9uKSB7XG4gICAgICAgICAgICBzZXRMMTBuKGxvY2FsaXphdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCBbbG9jYWxpemF0aW9uXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTG9jYWxpemF0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogbG9jYWxpemF0aW9uQ29udGV4dCB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGhlbWVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB0aGVtZUNvbnRleHQgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmLCBjbGFzc05hbWU6IFwicnB2LWNvcmVfX3ZpZXdlciBycHYtY29yZV9fdmlld2VyLS1cIi5jb25jYXQodGhlbWVDb250ZXh0LmN1cnJlbnRUaGVtZSksIFwiZGF0YS10ZXN0aWRcIjogXCJjb3JlX192aWV3ZXJcIiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgfSB9LCBmaWxlLnNob3VsZExvYWQgJiYgKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb2N1bWVudExvYWRlciwgeyBjaGFyYWN0ZXJNYXA6IGNoYXJhY3Rlck1hcCwgZmlsZTogZmlsZS5kYXRhLCBodHRwSGVhZGVyczogaHR0cEhlYWRlcnMsIHJlbmRlcjogZnVuY3Rpb24gKGRvYykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQYWdlU2l6ZUNhbGN1bGF0b3IsIHsgZGVmYXVsdFNjYWxlOiBkZWZhdWx0U2NhbGUsIGRvYzogZG9jLCByZW5kZXI6IGZ1bmN0aW9uIChwcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChJbm5lciwgeyBjdXJyZW50RmlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZpbGUuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBkZWZhdWx0U2NhbGU6IGRlZmF1bHRTY2FsZSwgZG9jOiBkb2MsIGluaXRpYWxQYWdlOiBpbml0aWFsUGFnZSwgcGFnZVNpemU6IHBzLCBwbHVnaW5zOiBwbHVnaW5zLCByZW5kZXJQYWdlOiByZW5kZXJQYWdlLCBzY3JvbGxNb2RlOiBzY3JvbGxNb2RlLCB2aWV3ZXJTdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlSGVpZ2h0OiBwcy5wYWdlSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VXaWR0aDogcHMucGFnZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VzUm90YXRpb246IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogcHMuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsTW9kZTogc2Nyb2xsTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9uRG9jdW1lbnRMb2FkOiBvbkRvY3VtZW50TG9hZCwgb25PcGVuRmlsZTogb3BlbkZpbGUsIG9uUGFnZUNoYW5nZTogb25QYWdlQ2hhbmdlLCBvblJvdGF0ZTogb25Sb3RhdGUsIG9uUm90YXRlUGFnZTogb25Sb3RhdGVQYWdlLCBvblpvb206IG9uWm9vbSB9KSk7IH0sIHNjcm9sbE1vZGU6IHNjcm9sbE1vZGUgfSkpOyB9LCByZW5kZXJFcnJvcjogcmVuZGVyRXJyb3IsIHJlbmRlckxvYWRlcjogcmVuZGVyTG9hZGVyLCB0cmFuc2Zvcm1HZXREb2N1bWVudFBhcmFtczogdHJhbnNmb3JtR2V0RG9jdW1lbnRQYXJhbXMsIHdpdGhDcmVkZW50aWFsczogd2l0aENyZWRlbnRpYWxzLCBvbkRvY3VtZW50QXNrUGFzc3dvcmQ6IG9uRG9jdW1lbnRBc2tQYXNzd29yZCB9KSkpKSkpO1xufTtcblxudmFyIFdvcmtlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCB3b3JrZXJVcmwgPSBfYS53b3JrZXJVcmw7XG4gICAgUGRmSnNBcGlfX25hbWVzcGFjZS5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IHdvcmtlclVybDtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn07XG5cbmV4cG9ydHMuQnV0dG9uID0gQnV0dG9uO1xuZXhwb3J0cy5JY29uID0gSWNvbjtcbmV4cG9ydHMuTGF6eVJlbmRlciA9IExhenlSZW5kZXI7XG5leHBvcnRzLkxvY2FsaXphdGlvbkNvbnRleHQgPSBMb2NhbGl6YXRpb25Db250ZXh0O1xuZXhwb3J0cy5NZW51ID0gTWVudTtcbmV4cG9ydHMuTWVudURpdmlkZXIgPSBNZW51RGl2aWRlcjtcbmV4cG9ydHMuTWVudUl0ZW0gPSBNZW51SXRlbTtcbmV4cG9ydHMuTWluaW1hbEJ1dHRvbiA9IE1pbmltYWxCdXR0b247XG5leHBvcnRzLk1vZGFsID0gTW9kYWw7XG5leHBvcnRzLlBvcG92ZXIgPSBQb3BvdmVyO1xuZXhwb3J0cy5QcmltYXJ5QnV0dG9uID0gUHJpbWFyeUJ1dHRvbjtcbmV4cG9ydHMuUHJvZ3Jlc3NCYXIgPSBQcm9ncmVzc0JhcjtcbmV4cG9ydHMuU2VwYXJhdG9yID0gU2VwYXJhdG9yO1xuZXhwb3J0cy5TcGlubmVyID0gU3Bpbm5lcjtcbmV4cG9ydHMuU3BsaXR0ZXIgPSBTcGxpdHRlcjtcbmV4cG9ydHMuVGV4dEJveCA9IFRleHRCb3g7XG5leHBvcnRzLlRoZW1lQ29udGV4dCA9IFRoZW1lQ29udGV4dDtcbmV4cG9ydHMuVG9vbHRpcCA9IFRvb2x0aXA7XG5leHBvcnRzLlZpZXdlciA9IFZpZXdlcjtcbmV4cG9ydHMuV29ya2VyID0gV29ya2VyO1xuZXhwb3J0cy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcbmV4cG9ydHMuY3JlYXRlU3RvcmUgPSBjcmVhdGVTdG9yZTtcbmV4cG9ydHMuZ2V0RGVzdGluYXRpb24gPSBnZXREZXN0aW5hdGlvbjtcbmV4cG9ydHMuZ2V0UGFnZSA9IGdldFBhZ2U7XG5leHBvcnRzLmlzTWFjID0gaXNNYWM7XG5leHBvcnRzLnVzZUludGVyc2VjdGlvbk9ic2VydmVyID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG5leHBvcnRzLnVzZUlzTW91bnRlZCA9IHVzZUlzTW91bnRlZDtcbmV4cG9ydHMudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q7XG5leHBvcnRzLnVzZVJlbmRlclF1ZXVlID0gdXNlUmVuZGVyUXVldWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/core/lib/cjs/core.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/core/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/core/lib/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/core.js */ \"./node_modules/@react-pdf-viewer/core/lib/cjs/core.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLGtIQUF5QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvaW5kZXguanM/NzUxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvY29yZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9jb3JlLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/core/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar attachment = __webpack_require__(/*! @react-pdf-viewer/attachment */ \"./node_modules/@react-pdf-viewer/attachment/lib/index.js\");\nvar bookmark = __webpack_require__(/*! @react-pdf-viewer/bookmark */ \"./node_modules/@react-pdf-viewer/bookmark/lib/index.js\");\nvar thumbnail = __webpack_require__(/*! @react-pdf-viewer/thumbnail */ \"./node_modules/@react-pdf-viewer/thumbnail/lib/index.js\");\nvar toolbar = __webpack_require__(/*! @react-pdf-viewer/toolbar */ \"./node_modules/@react-pdf-viewer/toolbar/lib/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar BookmarkIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\\n            c0.552,0,1,0.448,1,1L11.5,10.5z\\n            M14.5,6.499h6\\n            M14.5,10.499h6\\n            M3.5,14.499h17\\n            M3.5,18.499h16.497\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar FileIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9\" }))); };\n\nvar ThumbnailIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\" }))); };\n\nvar TOOLTIP_OFFSET_LTR = { left: 8, top: 0 };\nvar TOOLTIP_OFFSET_RTL = { left: -8, top: 0 };\nvar Sidebar = function (_a) {\n    var attachmentTabContent = _a.attachmentTabContent, bookmarkTabContent = _a.bookmarkTabContent, store = _a.store, thumbnailTabContent = _a.thumbnailTabContent, tabs = _a.tabs;\n    var containerRef = React__namespace.useRef();\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var _b = React__namespace.useState(false), opened = _b[0], setOpened = _b[1];\n    var _c = React__namespace.useState(store.get('currentTab') || 0), currentTab = _c[0], setCurrentTab = _c[1];\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var resizeConstrain = function (size) { return size.firstHalfPercentage >= 20 && size.firstHalfPercentage <= 80; };\n    var defaultTabs = [\n        {\n            content: thumbnailTabContent,\n            icon: React__namespace.createElement(ThumbnailIcon, null),\n            title: l10n && l10n.defaultLayout\n                ? l10n.defaultLayout.thumbnail\n                : 'Thumbnail',\n        },\n        {\n            content: bookmarkTabContent,\n            icon: React__namespace.createElement(BookmarkIcon, null),\n            title: l10n && l10n.defaultLayout ? l10n.defaultLayout.bookmark : 'Bookmark',\n        },\n        {\n            content: attachmentTabContent,\n            icon: React__namespace.createElement(FileIcon, null),\n            title: l10n && l10n.defaultLayout\n                ? l10n.defaultLayout.attachment\n                : 'Attachment',\n        },\n    ];\n    var listTabs = tabs ? tabs(defaultTabs) : defaultTabs;\n    var toggleTab = function (index) {\n        if (currentTab === index) {\n            setOpened(function (isOpened) { return !isOpened; });\n            var container = containerRef.current;\n            if (container) {\n                var width = container.style.width;\n                if (width) {\n                    container.style.removeProperty('width');\n                }\n            }\n        }\n        else {\n            switchToTab(index);\n        }\n    };\n    var switchToTab = function (index) {\n        setOpened(true);\n        setCurrentTab(index);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('currentTab', switchToTab);\n        return function () {\n            store.unsubscribe('currentTab', switchToTab);\n        };\n    }, []);\n    if (listTabs.length === 0) {\n        return React__namespace.createElement(React__namespace.Fragment, null);\n    }\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { \"data-testid\": \"default-layout__sidebar\", className: core.classNames({\n                'rpv-default-layout__sidebar': true,\n                'rpv-default-layout__sidebar--opened': opened,\n                'rpv-default-layout__sidebar--ltr': !isRtl,\n                'rpv-default-layout__sidebar--rtl': isRtl,\n            }), ref: containerRef },\n            React__namespace.createElement(\"div\", { className: \"rpv-default-layout__sidebar-tabs\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-default-layout__sidebar-headers\", role: \"tablist\", \"aria-orientation\": \"vertical\" }, listTabs.map(function (tab, index) { return (React__namespace.createElement(\"div\", { \"aria-controls\": \"rpv-default-layout__sidebar-content\", \"aria-selected\": currentTab === index, key: index, className: \"rpv-default-layout__sidebar-header\", id: \"rpv-default-layout__sidebar-tab-\".concat(index), role: \"tab\" },\n                    React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"default-layout-sidebar-tab-\".concat(index), position: isRtl ? core.Position.LeftCenter : core.Position.RightCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: tab.title, isSelected: currentTab === index, onClick: function () { return toggleTab(index); } }, tab.icon), content: function () { return tab.title; }, offset: isRtl ? TOOLTIP_OFFSET_RTL : TOOLTIP_OFFSET_LTR }))); })),\n                React__namespace.createElement(\"div\", { \"aria-labelledby\": \"rpv-default-layout__sidebar-tab-\".concat(currentTab), id: \"rpv-default-layout__sidebar-content\", className: core.classNames({\n                        'rpv-default-layout__sidebar-content': true,\n                        'rpv-default-layout__sidebar-content--opened': opened,\n                        'rpv-default-layout__sidebar-content--ltr': !isRtl,\n                        'rpv-default-layout__sidebar-content--rtl': isRtl,\n                    }), role: \"tabpanel\", tabIndex: -1 }, listTabs[currentTab].content))),\n        opened && React__namespace.createElement(core.Splitter, { constrain: resizeConstrain })));\n};\n\nvar defaultLayoutPlugin = function (props) {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            currentTab: 0,\n        });\n    }, []);\n    var attachmentPluginInstance = attachment.attachmentPlugin();\n    var bookmarkPluginInstance = bookmark.bookmarkPlugin();\n    var thumbnailPluginInstance = thumbnail.thumbnailPlugin(props ? props.thumbnailPlugin : {});\n    var toolbarPluginInstance = toolbar.toolbarPlugin(props ? props.toolbarPlugin : {});\n    var Attachments = attachmentPluginInstance.Attachments;\n    var Bookmarks = bookmarkPluginInstance.Bookmarks;\n    var Thumbnails = thumbnailPluginInstance.Thumbnails;\n    var Toolbar = toolbarPluginInstance.Toolbar;\n    var sidebarTabs = props ? props.sidebarTabs : function (defaultTabs) { return defaultTabs; };\n    var plugins = [attachmentPluginInstance, bookmarkPluginInstance, thumbnailPluginInstance, toolbarPluginInstance];\n    return {\n        attachmentPluginInstance: attachmentPluginInstance,\n        bookmarkPluginInstance: bookmarkPluginInstance,\n        thumbnailPluginInstance: thumbnailPluginInstance,\n        toolbarPluginInstance: toolbarPluginInstance,\n        activateTab: function (index) {\n            store.update('currentTab', index);\n        },\n        install: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.install) {\n                    plugin.install(pluginFunctions);\n                }\n            });\n        },\n        renderPageLayer: function (renderProps) { return (React__namespace.createElement(React__namespace.Fragment, null, plugins.map(function (plugin, idx) {\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer(renderProps))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx },\n                React__namespace.createElement(React__namespace.Fragment, null)));\n        }))); },\n        renderViewer: function (renderProps) {\n            var slot = renderProps.slot;\n            plugins.forEach(function (plugin) {\n                if (plugin.renderViewer) {\n                    slot = plugin.renderViewer(__assign(__assign({}, renderProps), { slot: slot }));\n                }\n            });\n            var mergeSubSlot = slot.subSlot && slot.subSlot.attrs\n                ? {\n                    className: slot.subSlot.attrs.className,\n                    'data-testid': slot.subSlot.attrs['data-testid'],\n                    ref: slot.subSlot.attrs.ref,\n                    style: slot.subSlot.attrs.style,\n                }\n                : {};\n            slot.children = (React__namespace.createElement(\"div\", { className: \"rpv-default-layout__container\" },\n                React__namespace.createElement(\"div\", { \"data-testid\": \"default-layout__main\", className: core.classNames({\n                        'rpv-default-layout__main': true,\n                        'rpv-default-layout__main--rtl': renderProps.themeContext.direction === core.TextDirection.RightToLeft,\n                    }) },\n                    React__namespace.createElement(Sidebar, { attachmentTabContent: React__namespace.createElement(Attachments, null), bookmarkTabContent: React__namespace.createElement(Bookmarks, null), store: store, thumbnailTabContent: React__namespace.createElement(Thumbnails, null), tabs: sidebarTabs }),\n                    React__namespace.createElement(\"div\", { className: \"rpv-default-layout__body\", \"data-testid\": \"default-layout__body\" },\n                        React__namespace.createElement(\"div\", { className: \"rpv-default-layout__toolbar\" }, props && props.renderToolbar ? props.renderToolbar(Toolbar) : React__namespace.createElement(Toolbar, null)),\n                        React__namespace.createElement(\"div\", __assign({}, mergeSubSlot), slot.subSlot.children))),\n                slot.children));\n            slot.subSlot.attrs = {};\n            slot.subSlot.children = React__namespace.createElement(React__namespace.Fragment, null);\n            return slot;\n        },\n        uninstall: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.uninstall) {\n                    plugin.uninstall(pluginFunctions);\n                }\n            });\n        },\n        onDocumentLoad: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onDocumentLoad) {\n                    plugin.onDocumentLoad(props);\n                }\n            });\n        },\n        onAnnotationLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onAnnotationLayerRender) {\n                    plugin.onAnnotationLayerRender(props);\n                }\n            });\n        },\n        onTextLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onTextLayerRender) {\n                    plugin.onTextLayerRender(props);\n                }\n            });\n        },\n        onViewerStateChange: function (viewerState) {\n            var newState = viewerState;\n            plugins.forEach(function (plugin) {\n                if (plugin.onViewerStateChange) {\n                    newState = plugin.onViewerStateChange(newState);\n                }\n            });\n            return newState;\n        },\n    };\n};\n\nexports.BookmarkIcon = BookmarkIcon;\nexports.FileIcon = FileIcon;\nexports.ThumbnailIcon = ThumbnailIcon;\nexports.defaultLayoutPlugin = defaultLayoutPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZGVmYXVsdC1sYXlvdXQvbGliL2Nqcy9kZWZhdWx0LWxheW91dC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPO0FBQzNCLGlCQUFpQixtQkFBTyxDQUFDLDhGQUE4QjtBQUN2RCxlQUFlLG1CQUFPLENBQUMsMEZBQTRCO0FBQ25ELGdCQUFnQixtQkFBTyxDQUFDLDRGQUE2QjtBQUNyRCxjQUFjLG1CQUFPLENBQUMsd0ZBQTJCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMscVpBQXFaOztBQUVsYztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLG9EQUFvRCxVQUFVO0FBQzNGLDZDQUE2Qyw0VEFBNFQ7O0FBRXpXLGtDQUFrQyxvREFBb0QsVUFBVTtBQUNoRyw2Q0FBNkMsbWRBQW1kOztBQUVoZ0IsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtQkFBbUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsb0RBQW9ELCtDQUErQztBQUNuRyx3REFBd0QsbUdBQW1HLHVDQUF1QyxnREFBZ0QsK05BQStOO0FBQ2pkLG1FQUFtRSxzTUFBc00sK0VBQStFLDRCQUE0QixvQ0FBb0MsbUJBQW1CLDJEQUEyRCxNQUFNO0FBQzVlLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtQ0FBbUM7QUFDeEQsa0VBQWtFLDRCQUE0QjtBQUM5Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhGQUE4RjtBQUM5RixzRkFBc0Y7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxrREFBa0Q7QUFDbEQseUdBQXlHLFVBQVUsdUdBQXVHLFVBQVU7QUFDcE87QUFDQSxTQUFTLE1BQU07QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxrQkFBa0IsWUFBWTtBQUNqRztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDRDQUE0QztBQUNqSCx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBLHFCQUFxQixHQUFHO0FBQ3hCLDhEQUE4RCxzUEFBc1A7QUFDcFQsNERBQTRELDhFQUE4RTtBQUMxSSxnRUFBZ0UsMENBQTBDO0FBQzFHLHlFQUF5RTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQSxvQkFBb0I7QUFDcEIsZ0JBQWdCO0FBQ2hCLHFCQUFxQjtBQUNyQiwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9janMvZGVmYXVsdC1sYXlvdXQuanM/NDg0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBhdHRhY2htZW50ID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudCcpO1xudmFyIGJvb2ttYXJrID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvYm9va21hcmsnKTtcbnZhciB0aHVtYm5haWwgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci90aHVtYm5haWwnKTtcbnZhciB0b29sYmFyID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhcicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgQm9va21hcmtJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNSwxLjVoMTFjMC41NTIsMCwxLDAuNDQ4LDEsMXYyMGMwLDAuNTUyLTAuNDQ4LDEtMSwxaC0yMWMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtMjBjMC0wLjU1MiwwLjQ0OC0xLDEtMWgzXFxuICAgICAgICAgICAgTTExLjUsMTAuNWMwLDAuNTUtMC4zLDAuNjYxLTAuNjU5LDAuMjQ4TDgsNy41bC0yLjg0NCwzLjI0NmMtMC4zNjMsMC40MTQtMC42NTksMC4zLTAuNjU5LTAuMjQ3di05YzAtMC41NTIsMC40NDgtMSwxLTFoNVxcbiAgICAgICAgICAgIGMwLjU1MiwwLDEsMC40NDgsMSwxTDExLjUsMTAuNXpcXG4gICAgICAgICAgICBNMTQuNSw2LjQ5OWg2XFxuICAgICAgICAgICAgTTE0LjUsMTAuNDk5aDZcXG4gICAgICAgICAgICBNMy41LDE0LjQ5OWgxN1xcbiAgICAgICAgICAgIE0zLjUsMTguNDk5aDE2LjQ5N1wiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIEZpbGVJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNy42MTgsMTUuMzQ1bDguNjY2LTguNjY2YzAuNzgtMC44MTIsMi4wNzEtMC44MzgsMi44ODMtMC4wNThzMC44MzgsMi4wNzEsMC4wNTgsMi44ODNcXG4gICAgICAgICAgICBjLTAuMDE5LDAuMDItMC4wMzgsMC4wMzktMC4wNTgsMC4wNThMNy40NjEsMjEuMzA1Yy0xLjU5MywxLjU5My00LjE3NSwxLjU5Mi01Ljc2Nywwcy0xLjU5Mi00LjE3NSwwLTUuNzY3YzAsMCwwLDAsMCwwXFxuICAgICAgICAgICAgTDEzLjkyOCwzLjMwNWMyLjE4OS0yLjE5LDUuNzM5LTIuMTksNy45MjktMC4wMDFzMi4xOSw1LjczOSwwLDcuOTI5bDAsMEwxMy4xOTIsMTkuOVwiIH0pKSk7IH07XG5cbnZhciBUaHVtYm5haWxJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAuNSw5LjVjMCwwLjU1Mi0wLjQ0OCwxLTEsMWgtOGMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtOGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDhjMC41NTIsMCwxLDAuNDQ4LDEsMVY5LjV6XFxuICAgICAgICAgICAgTTIzLjUsOS41YzAsMC41NTItMC40NDgsMS0xLDFoLThjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LThjMC0wLjU1MiwwLjQ0OC0xLDEtMWg4YzAuNTUyLDAsMSwwLjQ0OCwxLDFWOS41elxcbiAgICAgICAgICAgIE0xMC41LDIyLjUgYzAsMC41NTItMC40NDgsMS0xLDFoLThjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LThjMC0wLjU1MiwwLjQ0OC0xLDEtMWg4YzAuNTUyLDAsMSwwLjQ0OCwxLDFWMjIuNXpcXG4gICAgICAgICAgICBNMjMuNSwyMi41YzAsMC41NTItMC40NDgsMS0xLDEgaC04Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi04YzAtMC41NTIsMC40NDgtMSwxLTFoOGMwLjU1MiwwLDEsMC40NDgsMSwxVjIyLjV6XCIgfSkpKTsgfTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUX0xUUiA9IHsgbGVmdDogOCwgdG9wOiAwIH07XG52YXIgVE9PTFRJUF9PRkZTRVRfUlRMID0geyBsZWZ0OiAtOCwgdG9wOiAwIH07XG52YXIgU2lkZWJhciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhdHRhY2htZW50VGFiQ29udGVudCA9IF9hLmF0dGFjaG1lbnRUYWJDb250ZW50LCBib29rbWFya1RhYkNvbnRlbnQgPSBfYS5ib29rbWFya1RhYkNvbnRlbnQsIHN0b3JlID0gX2Euc3RvcmUsIHRodW1ibmFpbFRhYkNvbnRlbnQgPSBfYS50aHVtYm5haWxUYWJDb250ZW50LCB0YWJzID0gX2EudGFicztcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIG9wZW5lZCA9IF9iWzBdLCBzZXRPcGVuZWQgPSBfYlsxXTtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnY3VycmVudFRhYicpIHx8IDApLCBjdXJyZW50VGFiID0gX2NbMF0sIHNldEN1cnJlbnRUYWIgPSBfY1sxXTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIHJlc2l6ZUNvbnN0cmFpbiA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBzaXplLmZpcnN0SGFsZlBlcmNlbnRhZ2UgPj0gMjAgJiYgc2l6ZS5maXJzdEhhbGZQZXJjZW50YWdlIDw9IDgwOyB9O1xuICAgIHZhciBkZWZhdWx0VGFicyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogdGh1bWJuYWlsVGFiQ29udGVudCxcbiAgICAgICAgICAgIGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxJY29uLCBudWxsKSxcbiAgICAgICAgICAgIHRpdGxlOiBsMTBuICYmIGwxMG4uZGVmYXVsdExheW91dFxuICAgICAgICAgICAgICAgID8gbDEwbi5kZWZhdWx0TGF5b3V0LnRodW1ibmFpbFxuICAgICAgICAgICAgICAgIDogJ1RodW1ibmFpbCcsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGJvb2ttYXJrVGFiQ29udGVudCxcbiAgICAgICAgICAgIGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0ljb24sIG51bGwpLFxuICAgICAgICAgICAgdGl0bGU6IGwxMG4gJiYgbDEwbi5kZWZhdWx0TGF5b3V0ID8gbDEwbi5kZWZhdWx0TGF5b3V0LmJvb2ttYXJrIDogJ0Jvb2ttYXJrJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogYXR0YWNobWVudFRhYkNvbnRlbnQsXG4gICAgICAgICAgICBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRmlsZUljb24sIG51bGwpLFxuICAgICAgICAgICAgdGl0bGU6IGwxMG4gJiYgbDEwbi5kZWZhdWx0TGF5b3V0XG4gICAgICAgICAgICAgICAgPyBsMTBuLmRlZmF1bHRMYXlvdXQuYXR0YWNobWVudFxuICAgICAgICAgICAgICAgIDogJ0F0dGFjaG1lbnQnLFxuICAgICAgICB9LFxuICAgIF07XG4gICAgdmFyIGxpc3RUYWJzID0gdGFicyA/IHRhYnMoZGVmYXVsdFRhYnMpIDogZGVmYXVsdFRhYnM7XG4gICAgdmFyIHRvZ2dsZVRhYiA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoY3VycmVudFRhYiA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHNldE9wZW5lZChmdW5jdGlvbiAoaXNPcGVuZWQpIHsgcmV0dXJuICFpc09wZW5lZDsgfSk7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gY29udGFpbmVyLnN0eWxlLndpZHRoO1xuICAgICAgICAgICAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3dpZHRoJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoVG9UYWIoaW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3dpdGNoVG9UYWIgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgc2V0T3BlbmVkKHRydWUpO1xuICAgICAgICBzZXRDdXJyZW50VGFiKGluZGV4KTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdjdXJyZW50VGFiJywgc3dpdGNoVG9UYWIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2N1cnJlbnRUYWInLCBzd2l0Y2hUb1RhYik7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGlmIChsaXN0VGFicy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcImRlZmF1bHQtbGF5b3V0X19zaWRlYmFyXCIsIGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1vcGVuZWQnOiBvcGVuZWQsXG4gICAgICAgICAgICAgICAgJ3Jwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tbHRyJzogIWlzUnRsLFxuICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgfSksIHJlZjogY29udGFpbmVyUmVmIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLXRhYnNcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItaGVhZGVyc1wiLCByb2xlOiBcInRhYmxpc3RcIiwgXCJhcmlhLW9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIiB9LCBsaXN0VGFicy5tYXAoZnVuY3Rpb24gKHRhYiwgaW5kZXgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImFyaWEtY29udHJvbHNcIjogXCJycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudFwiLCBcImFyaWEtc2VsZWN0ZWRcIjogY3VycmVudFRhYiA9PT0gaW5kZXgsIGtleTogaW5kZXgsIGNsYXNzTmFtZTogXCJycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItaGVhZGVyXCIsIGlkOiBcInJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci10YWItXCIuY29uY2F0KGluZGV4KSwgcm9sZTogXCJ0YWJcIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJkZWZhdWx0LWxheW91dC1zaWRlYmFyLXRhYi1cIi5jb25jYXQoaW5kZXgpLCBwb3NpdGlvbjogaXNSdGwgPyBjb3JlLlBvc2l0aW9uLkxlZnRDZW50ZXIgOiBjb3JlLlBvc2l0aW9uLlJpZ2h0Q2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiB0YWIudGl0bGUsIGlzU2VsZWN0ZWQ6IGN1cnJlbnRUYWIgPT09IGluZGV4LCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b2dnbGVUYWIoaW5kZXgpOyB9IH0sIHRhYi5pY29uKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFiLnRpdGxlOyB9LCBvZmZzZXQ6IGlzUnRsID8gVE9PTFRJUF9PRkZTRVRfUlRMIDogVE9PTFRJUF9PRkZTRVRfTFRSIH0pKSk7IH0pKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImFyaWEtbGFiZWxsZWRieVwiOiBcInJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci10YWItXCIuY29uY2F0KGN1cnJlbnRUYWIpLCBpZDogXCJycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudFwiLCBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQnOiBvcGVuZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLWx0cic6ICFpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICAgICAgICAgIH0pLCByb2xlOiBcInRhYnBhbmVsXCIsIHRhYkluZGV4OiAtMSB9LCBsaXN0VGFic1tjdXJyZW50VGFiXS5jb250ZW50KSkpLFxuICAgICAgICBvcGVuZWQgJiYgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3BsaXR0ZXIsIHsgY29uc3RyYWluOiByZXNpemVDb25zdHJhaW4gfSkpKTtcbn07XG5cbnZhciBkZWZhdWx0TGF5b3V0UGx1Z2luID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoe1xuICAgICAgICAgICAgY3VycmVudFRhYjogMCxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBhdHRhY2htZW50UGx1Z2luSW5zdGFuY2UgPSBhdHRhY2htZW50LmF0dGFjaG1lbnRQbHVnaW4oKTtcbiAgICB2YXIgYm9va21hcmtQbHVnaW5JbnN0YW5jZSA9IGJvb2ttYXJrLmJvb2ttYXJrUGx1Z2luKCk7XG4gICAgdmFyIHRodW1ibmFpbFBsdWdpbkluc3RhbmNlID0gdGh1bWJuYWlsLnRodW1ibmFpbFBsdWdpbihwcm9wcyA/IHByb3BzLnRodW1ibmFpbFBsdWdpbiA6IHt9KTtcbiAgICB2YXIgdG9vbGJhclBsdWdpbkluc3RhbmNlID0gdG9vbGJhci50b29sYmFyUGx1Z2luKHByb3BzID8gcHJvcHMudG9vbGJhclBsdWdpbiA6IHt9KTtcbiAgICB2YXIgQXR0YWNobWVudHMgPSBhdHRhY2htZW50UGx1Z2luSW5zdGFuY2UuQXR0YWNobWVudHM7XG4gICAgdmFyIEJvb2ttYXJrcyA9IGJvb2ttYXJrUGx1Z2luSW5zdGFuY2UuQm9va21hcmtzO1xuICAgIHZhciBUaHVtYm5haWxzID0gdGh1bWJuYWlsUGx1Z2luSW5zdGFuY2UuVGh1bWJuYWlscztcbiAgICB2YXIgVG9vbGJhciA9IHRvb2xiYXJQbHVnaW5JbnN0YW5jZS5Ub29sYmFyO1xuICAgIHZhciBzaWRlYmFyVGFicyA9IHByb3BzID8gcHJvcHMuc2lkZWJhclRhYnMgOiBmdW5jdGlvbiAoZGVmYXVsdFRhYnMpIHsgcmV0dXJuIGRlZmF1bHRUYWJzOyB9O1xuICAgIHZhciBwbHVnaW5zID0gW2F0dGFjaG1lbnRQbHVnaW5JbnN0YW5jZSwgYm9va21hcmtQbHVnaW5JbnN0YW5jZSwgdGh1bWJuYWlsUGx1Z2luSW5zdGFuY2UsIHRvb2xiYXJQbHVnaW5JbnN0YW5jZV07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXR0YWNobWVudFBsdWdpbkluc3RhbmNlOiBhdHRhY2htZW50UGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIGJvb2ttYXJrUGx1Z2luSW5zdGFuY2U6IGJvb2ttYXJrUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHRodW1ibmFpbFBsdWdpbkluc3RhbmNlOiB0aHVtYm5haWxQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgdG9vbGJhclBsdWdpbkluc3RhbmNlOiB0b29sYmFyUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIGFjdGl2YXRlVGFiOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnY3VycmVudFRhYicsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwocGx1Z2luRnVuY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyUGFnZUxheWVyOiBmdW5jdGlvbiAocmVuZGVyUHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgcGx1Z2lucy5tYXAoZnVuY3Rpb24gKHBsdWdpbiwgaWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luLnJlbmRlclBhZ2VMYXllciA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgeyBrZXk6IGlkeCB9LCBwbHVnaW4ucmVuZGVyUGFnZUxheWVyKHJlbmRlclByb3BzKSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCB7IGtleTogaWR4IH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpKSk7XG4gICAgICAgIH0pKSk7IH0sXG4gICAgICAgIHJlbmRlclZpZXdlcjogZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7XG4gICAgICAgICAgICB2YXIgc2xvdCA9IHJlbmRlclByb3BzLnNsb3Q7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ucmVuZGVyVmlld2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsb3QgPSBwbHVnaW4ucmVuZGVyVmlld2VyKF9fYXNzaWduKF9fYXNzaWduKHt9LCByZW5kZXJQcm9wcyksIHsgc2xvdDogc2xvdCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbWVyZ2VTdWJTbG90ID0gc2xvdC5zdWJTbG90ICYmIHNsb3Quc3ViU2xvdC5hdHRyc1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHNsb3Quc3ViU2xvdC5hdHRycy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXRlc3RpZCc6IHNsb3Quc3ViU2xvdC5hdHRyc1snZGF0YS10ZXN0aWQnXSxcbiAgICAgICAgICAgICAgICAgICAgcmVmOiBzbG90LnN1YlNsb3QuYXR0cnMucmVmLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogc2xvdC5zdWJTbG90LmF0dHJzLnN0eWxlLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgc2xvdC5jaGlsZHJlbiA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWRlZmF1bHQtbGF5b3V0X19jb250YWluZXJcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJkZWZhdWx0LWxheW91dF9fbWFpblwiLCBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19tYWluJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX21haW4tLXJ0bCc6IHJlbmRlclByb3BzLnRoZW1lQ29udGV4dC5kaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNpZGViYXIsIHsgYXR0YWNobWVudFRhYkNvbnRlbnQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBdHRhY2htZW50cywgbnVsbCksIGJvb2ttYXJrVGFiQ29udGVudDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEJvb2ttYXJrcywgbnVsbCksIHN0b3JlOiBzdG9yZSwgdGh1bWJuYWlsVGFiQ29udGVudDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHMsIG51bGwpLCB0YWJzOiBzaWRlYmFyVGFicyB9KSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1kZWZhdWx0LWxheW91dF9fYm9keVwiLCBcImRhdGEtdGVzdGlkXCI6IFwiZGVmYXVsdC1sYXlvdXRfX2JvZHlcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1kZWZhdWx0LWxheW91dF9fdG9vbGJhclwiIH0sIHByb3BzICYmIHByb3BzLnJlbmRlclRvb2xiYXIgPyBwcm9wcy5yZW5kZXJUb29sYmFyKFRvb2xiYXIpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRvb2xiYXIsIG51bGwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgbWVyZ2VTdWJTbG90KSwgc2xvdC5zdWJTbG90LmNoaWxkcmVuKSkpLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKTtcbiAgICAgICAgICAgIHNsb3Quc3ViU2xvdC5hdHRycyA9IHt9O1xuICAgICAgICAgICAgc2xvdC5zdWJTbG90LmNoaWxkcmVuID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHVuaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLnVuaW5zdGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4udW5pbnN0YWxsKHBsdWdpbkZ1bmN0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5vbkRvY3VtZW50TG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ub25Eb2N1bWVudExvYWQocHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkFubm90YXRpb25MYXllclJlbmRlcjogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25Bbm5vdGF0aW9uTGF5ZXJSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uQW5ub3RhdGlvbkxheWVyUmVuZGVyKHByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25UZXh0TGF5ZXJSZW5kZXI6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uVGV4dExheWVyUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5vblRleHRMYXllclJlbmRlcihwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVmlld2VyU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uICh2aWV3ZXJTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gdmlld2VyU3RhdGU7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25WaWV3ZXJTdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHBsdWdpbi5vblZpZXdlclN0YXRlQ2hhbmdlKG5ld1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuZXhwb3J0cy5Cb29rbWFya0ljb24gPSBCb29rbWFya0ljb247XG5leHBvcnRzLkZpbGVJY29uID0gRmlsZUljb247XG5leHBvcnRzLlRodW1ibmFpbEljb24gPSBUaHVtYm5haWxJY29uO1xuZXhwb3J0cy5kZWZhdWx0TGF5b3V0UGx1Z2luID0gZGVmYXVsdExheW91dFBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/default-layout/lib/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/default-layout/lib/index.js ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/default-layout.js */ \"./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZGVmYXVsdC1sYXlvdXQvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxnSkFBbUQ7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9pbmRleC5qcz80NDdkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9kZWZhdWx0LWxheW91dC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9kZWZhdWx0LWxheW91dC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/default-layout/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar ExitFullScreenIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5 23.499L11.5 14.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M7.5 18.499L11.5 14.499 15.5 18.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M11.5 1.499L11.5 10.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M7.5 6.499L11.5 10.499 15.5 6.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M20.5 12.499L1.5 12.499\" }))); };\n\nvar FullScreenIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.5 12L23.5 12\" }),\n    React__namespace.createElement(\"path\", { d: \"M11.5 1L11.5 23\" }),\n    React__namespace.createElement(\"path\", { d: \"M8.5 4L11.5 1 14.5 4\" }),\n    React__namespace.createElement(\"path\", { d: \"M20.5 9L23.5 12 20.5 15\" }),\n    React__namespace.createElement(\"path\", { d: \"M3.5 15L0.5 12 3.5 9\" }),\n    React__namespace.createElement(\"path\", { d: \"M14.5 20L11.5 23 8.5 20\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar Api;\n(function (Api) {\n    Api[Api[\"ExitFullScreen\"] = 0] = \"ExitFullScreen\";\n    Api[Api[\"FullScreenChange\"] = 1] = \"FullScreenChange\";\n    Api[Api[\"FullScreenElement\"] = 2] = \"FullScreenElement\";\n    Api[Api[\"FullScreenEnabled\"] = 3] = \"FullScreenEnabled\";\n    Api[Api[\"RequestFullScreen\"] = 4] = \"RequestFullScreen\";\n})(Api || (Api = {}));\nvar defaultVendor = {\n    ExitFullScreen: 'exitFullscreen',\n    FullScreenChange: 'fullscreenchange',\n    FullScreenElement: 'fullscreenElement',\n    FullScreenEnabled: 'fullscreenEnabled',\n    RequestFullScreen: 'requestFullscreen',\n};\nvar webkitVendor = {\n    ExitFullScreen: 'webkitExitFullscreen',\n    FullScreenChange: 'webkitfullscreenchange',\n    FullScreenElement: 'webkitFullscreenElement',\n    FullScreenEnabled: 'webkitFullscreenEnabled',\n    RequestFullScreen: 'webkitRequestFullscreen',\n};\nvar msVendor = {\n    ExitFullScreen: 'msExitFullscreen',\n    FullScreenChange: 'msFullscreenChange',\n    FullScreenElement: 'msFullscreenElement',\n    FullScreenEnabled: 'msFullscreenEnabled',\n    RequestFullScreen: 'msRequestFullscreen',\n};\nvar isBrowser = typeof window !== 'undefined';\nvar vendor = isBrowser\n    ? (Api.FullScreenEnabled in document && defaultVendor) ||\n        (webkitVendor.FullScreenEnabled in document && webkitVendor) ||\n        (msVendor.FullScreenEnabled in document && msVendor) ||\n        defaultVendor\n    : defaultVendor;\nvar isFullScreenEnabled = function () {\n    return isBrowser && vendor.FullScreenEnabled in document && document[vendor.FullScreenEnabled] === true;\n};\nvar addFullScreenChangeListener = function (handler) {\n    if (isBrowser) {\n        document.addEventListener(vendor.FullScreenChange, handler);\n    }\n};\nvar exitFullScreenMode = function (element) {\n    return isBrowser\n        ?\n            element[vendor.ExitFullScreen]()\n        : Promise.resolve({});\n};\nvar getFullScreenElement = function () {\n    return isBrowser ? document[vendor.FullScreenElement] : null;\n};\nvar requestFullScreen = function (element) {\n    if (isBrowser) {\n        element[vendor.RequestFullScreen]();\n    }\n};\n\nvar TOOLTIP_OFFSET$1 = { left: 0, top: 8 };\nvar EnterFullScreenButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.fullScreen ? l10n.fullScreen.enterFullScreen : 'Full screen';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+Ctrl+F' : 'F11') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"full-screen-enter\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, isDisabled: !isFullScreenEnabled(), testId: \"full-screen__enter-button\", onClick: onClick },\n            React__namespace.createElement(FullScreenIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$1 }));\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ExitFullScreenButtonWithTooltip = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var exitFullScreenLabel = l10n && l10n.fullScreen ? l10n.fullScreen.exitFullScreen : 'Exit full screen';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"full-screen-exit\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: \"Esc\", ariaLabel: exitFullScreenLabel, testId: \"full-screen__exit-button-with-tooltip\", onClick: onClick },\n            React__namespace.createElement(ExitFullScreenIcon, null)), content: function () { return exitFullScreenLabel; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar useEnterFullScreen = function (getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen) {\n    var _a = React__namespace.useState(false), isFullScreen = _a[0], setFullScreen = _a[1];\n    var pagesRef = React__namespace.useRef(store.get('getPagesContainer') ? store.get('getPagesContainer')() : null);\n    var closeOtherFullScreen = function () {\n        var pagesEle = pagesRef.current;\n        if (!pagesEle) {\n            return Promise.resolve();\n        }\n        var ele = getFullScreenElement();\n        return ele && ele !== getFullScreenTarget(pagesEle) ? exitFullScreenMode(ele) : Promise.resolve();\n    };\n    var enterFullScreen = function () {\n        if (!isFullScreenEnabled()) {\n            return;\n        }\n        var pagesEle = pagesRef.current;\n        if (!pagesEle) {\n            return;\n        }\n        closeOtherFullScreen().then(function () {\n            requestFullScreen(getFullScreenTarget(pagesEle));\n        });\n    };\n    var onFullScreenChange = function () {\n        var ele = getFullScreenElement();\n        var pagesEle = pagesRef.current;\n        var isFullScreenMode = ele === getFullScreenTarget(pagesEle);\n        store.update('isFullScreen', isFullScreenMode);\n        isFullScreenMode\n            ? pagesEle.classList.add('rpv-full-screen__pages')\n            : pagesEle.classList.remove('rpv-full-screen__pages');\n        var zoom = store.get('zoom');\n        if (zoom) {\n            isFullScreenMode ? onEnterFullScreen(zoom) : onExitFullScreen(zoom);\n        }\n    };\n    var handlePagesContainer = function (getPagesContainer) {\n        pagesRef.current = getPagesContainer();\n        addFullScreenChangeListener(onFullScreenChange);\n    };\n    var handleFullScreen = function (fullScreen) {\n        setFullScreen(fullScreen);\n    };\n    var exitFullScreen = function () {\n        setFullScreen(false);\n        var getPagesContainer = store.get('getPagesContainer');\n        if (!getPagesContainer) {\n            return;\n        }\n        var pagesEle = getPagesContainer();\n        if (!pagesEle) {\n            return;\n        }\n        var ele = getFullScreenElement();\n        if (ele && ele === getFullScreenTarget(pagesEle)) {\n            exitFullScreenMode(document);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('isFullScreen', handleFullScreen);\n        store.subscribe('getPagesContainer', handlePagesContainer);\n        return function () {\n            store.unsubscribe('getPagesContainer', handlePagesContainer);\n            store.unsubscribe('isFullScreen', handleFullScreen);\n        };\n    }, []);\n    return {\n        enterFullScreen: enterFullScreen,\n        exitFullScreen: exitFullScreen,\n        isFullScreen: isFullScreen,\n    };\n};\n\nvar EnterFullScreen = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, getFullScreenTarget = _a.getFullScreenTarget, store = _a.store, onEnterFullScreen = _a.onEnterFullScreen, onExitFullScreen = _a.onExitFullScreen;\n    var _b = useEnterFullScreen(getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen), enterFullScreen = _b.enterFullScreen, exitFullScreen = _b.exitFullScreen, isFullScreen = _b.isFullScreen;\n    var defaultChildren = function (props) {\n        return isFullScreen ? (React__namespace.createElement(ExitFullScreenButtonWithTooltip, { onClick: props.onClick })) : (React__namespace.createElement(EnterFullScreenButton, { enableShortcuts: enableShortcuts, onClick: props.onClick }));\n    };\n    var render = children || defaultChildren;\n    return render({\n        onClick: isFullScreen ? exitFullScreen : enterFullScreen,\n    });\n};\n\nvar EnterFullScreenMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.fullScreen ? l10n.fullScreen.enterFullScreen : 'Full screen';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(FullScreenIcon, null), isDisabled: !isFullScreenEnabled(), testId: \"full-screen__enter-menu\", onClick: onClick }, label));\n};\n\nvar ExitFullScreenButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var exitFullScreenLabel = l10n && l10n.fullScreen ? l10n.fullScreen.exitFullScreen : 'Exit full screen';\n    return (React__namespace.createElement(\"div\", { className: core.classNames({\n            'rpv-full-screen__exit-button': true,\n            'rpv-full-screen__exit-button--ltr': !isRtl,\n            'rpv-full-screen__exit-button--rtl': isRtl,\n        }) },\n        React__namespace.createElement(core.MinimalButton, { ariaLabel: exitFullScreenLabel, testId: \"full-screen__exit-button\", onClick: onClick },\n            React__namespace.createElement(ExitFullScreenIcon, null))));\n};\n\nvar ExitFullScreen = function (_a) {\n    var children = _a.children, getFullScreenTarget = _a.getFullScreenTarget, store = _a.store, onEnterFullScreen = _a.onEnterFullScreen, onExitFullScreen = _a.onExitFullScreen;\n    var _b = useEnterFullScreen(getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen), enterFullScreen = _b.enterFullScreen, exitFullScreen = _b.exitFullScreen, isFullScreen = _b.isFullScreen;\n    var defaultChildren = function (props) { return React__namespace.createElement(ExitFullScreenButton, { onClick: props.onClick }); };\n    var render = children || defaultChildren;\n    return (isFullScreen &&\n        render({\n            onClick: isFullScreen ? exitFullScreen : enterFullScreen,\n        }));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, getFullScreenTarget = _a.getFullScreenTarget, store = _a.store, onEnterFullScreen = _a.onEnterFullScreen, onExitFullScreen = _a.onExitFullScreen;\n    var enterFullScreen = useEnterFullScreen(getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen).enterFullScreen;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey) {\n            return;\n        }\n        var areShortcutsPressed = core.isMac() ? e.metaKey && e.ctrlKey && e.key === 'f' : e.key === 'F11';\n        if (!areShortcutsPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        e.preventDefault();\n        enterFullScreen();\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar fullScreenPlugin = function (props) {\n    var defaultFullScreenTarget = function (ele) { return ele; };\n    var getFullScreenTarget = (props === null || props === void 0 ? void 0 : props.getFullScreenTarget) || defaultFullScreenTarget;\n    var fullScreenPluginProps = React__namespace.useMemo(function () {\n        return Object.assign({}, { enableShortcuts: true, onEnterFullScreen: function () { }, onExitFullScreen: function () { } }, props);\n    }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var EnterFullScreenDecorator = function (props) { return (React__namespace.createElement(EnterFullScreen, __assign({}, props, { enableShortcuts: fullScreenPluginProps.enableShortcuts, getFullScreenTarget: getFullScreenTarget, store: store, onEnterFullScreen: fullScreenPluginProps.onEnterFullScreen, onExitFullScreen: fullScreenPluginProps.onExitFullScreen }))); };\n    var EnterFullScreenButtonDecorator = function () { return (React__namespace.createElement(EnterFullScreenDecorator, null, function (renderProps) { return (React__namespace.createElement(EnterFullScreenButton, __assign({ enableShortcuts: fullScreenPluginProps.enableShortcuts }, renderProps))); })); };\n    var EnterFullScreenMenuItemDecorator = function (props) { return (React__namespace.createElement(EnterFullScreenDecorator, null, function (p) { return (React__namespace.createElement(EnterFullScreenMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var ExitFullScreenDecorator = function () { return (React__namespace.createElement(ExitFullScreen, { getFullScreenTarget: getFullScreenTarget, store: store, onEnterFullScreen: fullScreenPluginProps.onEnterFullScreen, onExitFullScreen: fullScreenPluginProps.onExitFullScreen }, props === null || props === void 0 ? void 0 : props.renderExitFullScreenButton)); };\n    var renderViewer = function (props) {\n        var currentSlot = props.slot;\n        if (currentSlot.subSlot) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                fullScreenPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, getFullScreenTarget: getFullScreenTarget, store: store, onEnterFullScreen: fullScreenPluginProps.onEnterFullScreen, onExitFullScreen: fullScreenPluginProps.onExitFullScreen })),\n                React__namespace.createElement(ExitFullScreenDecorator, null),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('getPagesContainer', pluginFunctions.getPagesContainer);\n            store.update('zoom', pluginFunctions.zoom);\n        },\n        renderViewer: renderViewer,\n        EnterFullScreen: EnterFullScreenDecorator,\n        EnterFullScreenButton: EnterFullScreenButtonDecorator,\n        EnterFullScreenMenuItem: EnterFullScreenMenuItemDecorator,\n    };\n};\n\nexports.ExitFullScreenIcon = ExitFullScreenIcon;\nexports.FullScreenIcon = FullScreenIcon;\nexports.fullScreenPlugin = fullScreenPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZnVsbC1zY3JlZW4vbGliL2Nqcy9mdWxsLXNjcmVlbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHVDQUF1QyxvREFBb0QsVUFBVTtBQUNyRyw2Q0FBNkMsK0JBQStCO0FBQzVFLDZDQUE2QywwQ0FBMEM7QUFDdkYsNkNBQTZDLDhCQUE4QjtBQUMzRSw2Q0FBNkMsd0NBQXdDO0FBQ3JGLDZDQUE2Qyw4QkFBOEI7O0FBRTNFLG1DQUFtQyxvREFBb0QsVUFBVTtBQUNqRyw2Q0FBNkMsc0JBQXNCO0FBQ25FLDZDQUE2QyxzQkFBc0I7QUFDbkUsNkNBQTZDLDJCQUEyQjtBQUN4RSw2Q0FBNkMsOEJBQThCO0FBQzNFLDZDQUE2QywyQkFBMkI7QUFDeEUsNkNBQTZDLDhCQUE4Qjs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQkFBa0I7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDRJQUE0SSxpSkFBaUo7QUFDeFYsMEZBQTBGLGVBQWUsNEJBQTRCO0FBQ3JJOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwySUFBMkksNEhBQTRIO0FBQ2xVLDhGQUE4Riw2QkFBNkIsMEJBQTBCO0FBQ3JKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsd0JBQXdCLDhEQUE4RCwwREFBMEQ7QUFDalA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQscUpBQXFKO0FBQ2pOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUc7QUFDWiw2REFBNkQsc0ZBQXNGO0FBQ25KO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDhEQUE4RCx3QkFBd0I7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBLCtCQUErQixJQUFJLHlEQUF5RCxxQ0FBcUM7QUFDakksS0FBSztBQUNMLHVEQUF1RCwwQkFBMEIsSUFBSTtBQUNyRixzREFBc0QsbUVBQW1FLFdBQVcsc09BQXNPO0FBQzFXLHVEQUF1RCxnR0FBZ0cseUVBQXlFLHdEQUF3RCxtQkFBbUI7QUFDM1MsOERBQThELHNGQUFzRixrRUFBa0U7QUFDdE47QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQixnREFBZ0QseURBQXlELDhLQUE4SztBQUN2UjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRHQUE0RyxnTkFBZ047QUFDNVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUIsc0JBQXNCO0FBQ3RCLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZnVsbC1zY3JlZW4vbGliL2Nqcy9mdWxsLXNjcmVlbi5qcz9kODNhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgRXhpdEZ1bGxTY3JlZW5JY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNSAyMy40OTlMMTEuNSAxNC40OTlcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNy41IDE4LjQ5OUwxMS41IDE0LjQ5OSAxNS41IDE4LjQ5OVwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDEuNDk5TDExLjUgMTAuNDk5XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTcuNSA2LjQ5OUwxMS41IDEwLjQ5OSAxNS41IDYuNDk5XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIwLjUgMTIuNDk5TDEuNSAxMi40OTlcIiB9KSkpOyB9O1xuXG52YXIgRnVsbFNjcmVlbkljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjUgMTJMMjMuNSAxMlwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDFMMTEuNSAyM1wiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk04LjUgNEwxMS41IDEgMTQuNSA0XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIwLjUgOUwyMy41IDEyIDIwLjUgMTVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMy41IDE1TDAuNSAxMiAzLjUgOVwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNC41IDIwTDExLjUgMjMgOC41IDIwXCIgfSkpKTsgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgQXBpO1xuKGZ1bmN0aW9uIChBcGkpIHtcbiAgICBBcGlbQXBpW1wiRXhpdEZ1bGxTY3JlZW5cIl0gPSAwXSA9IFwiRXhpdEZ1bGxTY3JlZW5cIjtcbiAgICBBcGlbQXBpW1wiRnVsbFNjcmVlbkNoYW5nZVwiXSA9IDFdID0gXCJGdWxsU2NyZWVuQ2hhbmdlXCI7XG4gICAgQXBpW0FwaVtcIkZ1bGxTY3JlZW5FbGVtZW50XCJdID0gMl0gPSBcIkZ1bGxTY3JlZW5FbGVtZW50XCI7XG4gICAgQXBpW0FwaVtcIkZ1bGxTY3JlZW5FbmFibGVkXCJdID0gM10gPSBcIkZ1bGxTY3JlZW5FbmFibGVkXCI7XG4gICAgQXBpW0FwaVtcIlJlcXVlc3RGdWxsU2NyZWVuXCJdID0gNF0gPSBcIlJlcXVlc3RGdWxsU2NyZWVuXCI7XG59KShBcGkgfHwgKEFwaSA9IHt9KSk7XG52YXIgZGVmYXVsdFZlbmRvciA9IHtcbiAgICBFeGl0RnVsbFNjcmVlbjogJ2V4aXRGdWxsc2NyZWVuJyxcbiAgICBGdWxsU2NyZWVuQ2hhbmdlOiAnZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgRnVsbFNjcmVlbkVsZW1lbnQ6ICdmdWxsc2NyZWVuRWxlbWVudCcsXG4gICAgRnVsbFNjcmVlbkVuYWJsZWQ6ICdmdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgUmVxdWVzdEZ1bGxTY3JlZW46ICdyZXF1ZXN0RnVsbHNjcmVlbicsXG59O1xudmFyIHdlYmtpdFZlbmRvciA9IHtcbiAgICBFeGl0RnVsbFNjcmVlbjogJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJyxcbiAgICBGdWxsU2NyZWVuQ2hhbmdlOiAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgRnVsbFNjcmVlbkVsZW1lbnQ6ICd3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCcsXG4gICAgRnVsbFNjcmVlbkVuYWJsZWQ6ICd3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgUmVxdWVzdEZ1bGxTY3JlZW46ICd3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbicsXG59O1xudmFyIG1zVmVuZG9yID0ge1xuICAgIEV4aXRGdWxsU2NyZWVuOiAnbXNFeGl0RnVsbHNjcmVlbicsXG4gICAgRnVsbFNjcmVlbkNoYW5nZTogJ21zRnVsbHNjcmVlbkNoYW5nZScsXG4gICAgRnVsbFNjcmVlbkVsZW1lbnQ6ICdtc0Z1bGxzY3JlZW5FbGVtZW50JyxcbiAgICBGdWxsU2NyZWVuRW5hYmxlZDogJ21zRnVsbHNjcmVlbkVuYWJsZWQnLFxuICAgIFJlcXVlc3RGdWxsU2NyZWVuOiAnbXNSZXF1ZXN0RnVsbHNjcmVlbicsXG59O1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xudmFyIHZlbmRvciA9IGlzQnJvd3NlclxuICAgID8gKEFwaS5GdWxsU2NyZWVuRW5hYmxlZCBpbiBkb2N1bWVudCAmJiBkZWZhdWx0VmVuZG9yKSB8fFxuICAgICAgICAod2Via2l0VmVuZG9yLkZ1bGxTY3JlZW5FbmFibGVkIGluIGRvY3VtZW50ICYmIHdlYmtpdFZlbmRvcikgfHxcbiAgICAgICAgKG1zVmVuZG9yLkZ1bGxTY3JlZW5FbmFibGVkIGluIGRvY3VtZW50ICYmIG1zVmVuZG9yKSB8fFxuICAgICAgICBkZWZhdWx0VmVuZG9yXG4gICAgOiBkZWZhdWx0VmVuZG9yO1xudmFyIGlzRnVsbFNjcmVlbkVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzQnJvd3NlciAmJiB2ZW5kb3IuRnVsbFNjcmVlbkVuYWJsZWQgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnRbdmVuZG9yLkZ1bGxTY3JlZW5FbmFibGVkXSA9PT0gdHJ1ZTtcbn07XG52YXIgYWRkRnVsbFNjcmVlbkNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodmVuZG9yLkZ1bGxTY3JlZW5DaGFuZ2UsIGhhbmRsZXIpO1xuICAgIH1cbn07XG52YXIgZXhpdEZ1bGxTY3JlZW5Nb2RlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gaXNCcm93c2VyXG4gICAgICAgID9cbiAgICAgICAgICAgIGVsZW1lbnRbdmVuZG9yLkV4aXRGdWxsU2NyZWVuXSgpXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKHt9KTtcbn07XG52YXIgZ2V0RnVsbFNjcmVlbkVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzQnJvd3NlciA/IGRvY3VtZW50W3ZlbmRvci5GdWxsU2NyZWVuRWxlbWVudF0gOiBudWxsO1xufTtcbnZhciByZXF1ZXN0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICBlbGVtZW50W3ZlbmRvci5SZXF1ZXN0RnVsbFNjcmVlbl0oKTtcbiAgICB9XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQkMSA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgRW50ZXJGdWxsU2NyZWVuQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGVuYWJsZVNob3J0Y3V0cyA9IF9hLmVuYWJsZVNob3J0Y3V0cywgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5mdWxsU2NyZWVuID8gbDEwbi5mdWxsU2NyZWVuLmVudGVyRnVsbFNjcmVlbiA6ICdGdWxsIHNjcmVlbic7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErQ3RybCtGJyA6ICdGMTEnKSA6ICcnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiZnVsbC1zY3JlZW4tZW50ZXJcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUtleVNob3J0Y3V0czogYXJpYUtleVNob3J0Y3V0cywgYXJpYUxhYmVsOiBsYWJlbCwgaXNEaXNhYmxlZDogIWlzRnVsbFNjcmVlbkVuYWJsZWQoKSwgdGVzdElkOiBcImZ1bGwtc2NyZWVuX19lbnRlci1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEZ1bGxTY3JlZW5JY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUJDEgfSkpO1xufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBFeGl0RnVsbFNjcmVlbkJ1dHRvbldpdGhUb29sdGlwID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZXhpdEZ1bGxTY3JlZW5MYWJlbCA9IGwxMG4gJiYgbDEwbi5mdWxsU2NyZWVuID8gbDEwbi5mdWxsU2NyZWVuLmV4aXRGdWxsU2NyZWVuIDogJ0V4aXQgZnVsbCBzY3JlZW4nO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiZnVsbC1zY3JlZW4tZXhpdFwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhS2V5U2hvcnRjdXRzOiBcIkVzY1wiLCBhcmlhTGFiZWw6IGV4aXRGdWxsU2NyZWVuTGFiZWwsIHRlc3RJZDogXCJmdWxsLXNjcmVlbl9fZXhpdC1idXR0b24td2l0aC10b29sdGlwXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFeGl0RnVsbFNjcmVlbkljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhpdEZ1bGxTY3JlZW5MYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgdXNlRW50ZXJGdWxsU2NyZWVuID0gZnVuY3Rpb24gKGdldEZ1bGxTY3JlZW5UYXJnZXQsIHN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbiwgb25FeGl0RnVsbFNjcmVlbikge1xuICAgIHZhciBfYSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpLCBpc0Z1bGxTY3JlZW4gPSBfYVswXSwgc2V0RnVsbFNjcmVlbiA9IF9hWzFdO1xuICAgIHZhciBwYWdlc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHN0b3JlLmdldCgnZ2V0UGFnZXNDb250YWluZXInKSA/IHN0b3JlLmdldCgnZ2V0UGFnZXNDb250YWluZXInKSgpIDogbnVsbCk7XG4gICAgdmFyIGNsb3NlT3RoZXJGdWxsU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFnZXNFbGUgPSBwYWdlc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXBhZ2VzRWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZSA9IGdldEZ1bGxTY3JlZW5FbGVtZW50KCk7XG4gICAgICAgIHJldHVybiBlbGUgJiYgZWxlICE9PSBnZXRGdWxsU2NyZWVuVGFyZ2V0KHBhZ2VzRWxlKSA/IGV4aXRGdWxsU2NyZWVuTW9kZShlbGUpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICB2YXIgZW50ZXJGdWxsU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzRnVsbFNjcmVlbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYWdlc0VsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghcGFnZXNFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZU90aGVyRnVsbFNjcmVlbigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVxdWVzdEZ1bGxTY3JlZW4oZ2V0RnVsbFNjcmVlblRhcmdldChwYWdlc0VsZSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBvbkZ1bGxTY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGUgPSBnZXRGdWxsU2NyZWVuRWxlbWVudCgpO1xuICAgICAgICB2YXIgcGFnZXNFbGUgPSBwYWdlc1JlZi5jdXJyZW50O1xuICAgICAgICB2YXIgaXNGdWxsU2NyZWVuTW9kZSA9IGVsZSA9PT0gZ2V0RnVsbFNjcmVlblRhcmdldChwYWdlc0VsZSk7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgnaXNGdWxsU2NyZWVuJywgaXNGdWxsU2NyZWVuTW9kZSk7XG4gICAgICAgIGlzRnVsbFNjcmVlbk1vZGVcbiAgICAgICAgICAgID8gcGFnZXNFbGUuY2xhc3NMaXN0LmFkZCgncnB2LWZ1bGwtc2NyZWVuX19wYWdlcycpXG4gICAgICAgICAgICA6IHBhZ2VzRWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1mdWxsLXNjcmVlbl9fcGFnZXMnKTtcbiAgICAgICAgdmFyIHpvb20gPSBzdG9yZS5nZXQoJ3pvb20nKTtcbiAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbk1vZGUgPyBvbkVudGVyRnVsbFNjcmVlbih6b29tKSA6IG9uRXhpdEZ1bGxTY3JlZW4oem9vbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlc0NvbnRhaW5lciA9IGZ1bmN0aW9uIChnZXRQYWdlc0NvbnRhaW5lcikge1xuICAgICAgICBwYWdlc1JlZi5jdXJyZW50ID0gZ2V0UGFnZXNDb250YWluZXIoKTtcbiAgICAgICAgYWRkRnVsbFNjcmVlbkNoYW5nZUxpc3RlbmVyKG9uRnVsbFNjcmVlbkNoYW5nZSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlRnVsbFNjcmVlbiA9IGZ1bmN0aW9uIChmdWxsU2NyZWVuKSB7XG4gICAgICAgIHNldEZ1bGxTY3JlZW4oZnVsbFNjcmVlbik7XG4gICAgfTtcbiAgICB2YXIgZXhpdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldEZ1bGxTY3JlZW4oZmFsc2UpO1xuICAgICAgICB2YXIgZ2V0UGFnZXNDb250YWluZXIgPSBzdG9yZS5nZXQoJ2dldFBhZ2VzQ29udGFpbmVyJyk7XG4gICAgICAgIGlmICghZ2V0UGFnZXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFnZXNFbGUgPSBnZXRQYWdlc0NvbnRhaW5lcigpO1xuICAgICAgICBpZiAoIXBhZ2VzRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZSA9IGdldEZ1bGxTY3JlZW5FbGVtZW50KCk7XG4gICAgICAgIGlmIChlbGUgJiYgZWxlID09PSBnZXRGdWxsU2NyZWVuVGFyZ2V0KHBhZ2VzRWxlKSkge1xuICAgICAgICAgICAgZXhpdEZ1bGxTY3JlZW5Nb2RlKGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2lzRnVsbFNjcmVlbicsIGhhbmRsZUZ1bGxTY3JlZW4pO1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2dldFBhZ2VzQ29udGFpbmVyJywgaGFuZGxlUGFnZXNDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2dldFBhZ2VzQ29udGFpbmVyJywgaGFuZGxlUGFnZXNDb250YWluZXIpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2lzRnVsbFNjcmVlbicsIGhhbmRsZUZ1bGxTY3JlZW4pO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBlbnRlckZ1bGxTY3JlZW46IGVudGVyRnVsbFNjcmVlbixcbiAgICAgICAgZXhpdEZ1bGxTY3JlZW46IGV4aXRGdWxsU2NyZWVuLFxuICAgICAgICBpc0Z1bGxTY3JlZW46IGlzRnVsbFNjcmVlbixcbiAgICB9O1xufTtcblxudmFyIEVudGVyRnVsbFNjcmVlbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIGdldEZ1bGxTY3JlZW5UYXJnZXQgPSBfYS5nZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZSA9IF9hLnN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbiA9IF9hLm9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuID0gX2Eub25FeGl0RnVsbFNjcmVlbjtcbiAgICB2YXIgX2IgPSB1c2VFbnRlckZ1bGxTY3JlZW4oZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmUsIG9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuKSwgZW50ZXJGdWxsU2NyZWVuID0gX2IuZW50ZXJGdWxsU2NyZWVuLCBleGl0RnVsbFNjcmVlbiA9IF9iLmV4aXRGdWxsU2NyZWVuLCBpc0Z1bGxTY3JlZW4gPSBfYi5pc0Z1bGxTY3JlZW47XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gaXNGdWxsU2NyZWVuID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFeGl0RnVsbFNjcmVlbkJ1dHRvbldpdGhUb29sdGlwLCB7IG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFbnRlckZ1bGxTY3JlZW5CdXR0b24sIHsgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpO1xuICAgIH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgb25DbGljazogaXNGdWxsU2NyZWVuID8gZXhpdEZ1bGxTY3JlZW4gOiBlbnRlckZ1bGxTY3JlZW4sXG4gICAgfSk7XG59O1xuXG52YXIgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5mdWxsU2NyZWVuID8gbDEwbi5mdWxsU2NyZWVuLmVudGVyRnVsbFNjcmVlbiA6ICdGdWxsIHNjcmVlbic7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRnVsbFNjcmVlbkljb24sIG51bGwpLCBpc0Rpc2FibGVkOiAhaXNGdWxsU2NyZWVuRW5hYmxlZCgpLCB0ZXN0SWQ6IFwiZnVsbC1zY3JlZW5fX2VudGVyLW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIEV4aXRGdWxsU2NyZWVuQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIGV4aXRGdWxsU2NyZWVuTGFiZWwgPSBsMTBuICYmIGwxMG4uZnVsbFNjcmVlbiA/IGwxMG4uZnVsbFNjcmVlbi5leGl0RnVsbFNjcmVlbiA6ICdFeGl0IGZ1bGwgc2NyZWVuJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAncnB2LWZ1bGwtc2NyZWVuX19leGl0LWJ1dHRvbi0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBleGl0RnVsbFNjcmVlbkxhYmVsLCB0ZXN0SWQ6IFwiZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFeGl0RnVsbFNjcmVlbkljb24sIG51bGwpKSkpO1xufTtcblxudmFyIEV4aXRGdWxsU2NyZWVuID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGdldEZ1bGxTY3JlZW5UYXJnZXQgPSBfYS5nZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZSA9IF9hLnN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbiA9IF9hLm9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuID0gX2Eub25FeGl0RnVsbFNjcmVlbjtcbiAgICB2YXIgX2IgPSB1c2VFbnRlckZ1bGxTY3JlZW4oZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmUsIG9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuKSwgZW50ZXJGdWxsU2NyZWVuID0gX2IuZW50ZXJGdWxsU2NyZWVuLCBleGl0RnVsbFNjcmVlbiA9IF9iLmV4aXRGdWxsU2NyZWVuLCBpc0Z1bGxTY3JlZW4gPSBfYi5pc0Z1bGxTY3JlZW47XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEV4aXRGdWxsU2NyZWVuQnV0dG9uLCB7IG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gKGlzRnVsbFNjcmVlbiAmJlxuICAgICAgICByZW5kZXIoe1xuICAgICAgICAgICAgb25DbGljazogaXNGdWxsU2NyZWVuID8gZXhpdEZ1bGxTY3JlZW4gOiBlbnRlckZ1bGxTY3JlZW4sXG4gICAgICAgIH0pKTtcbn07XG5cbnZhciBTaG9ydGN1dEhhbmRsZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gX2EuY29udGFpbmVyUmVmLCBnZXRGdWxsU2NyZWVuVGFyZ2V0ID0gX2EuZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmUgPSBfYS5zdG9yZSwgb25FbnRlckZ1bGxTY3JlZW4gPSBfYS5vbkVudGVyRnVsbFNjcmVlbiwgb25FeGl0RnVsbFNjcmVlbiA9IF9hLm9uRXhpdEZ1bGxTY3JlZW47XG4gICAgdmFyIGVudGVyRnVsbFNjcmVlbiA9IHVzZUVudGVyRnVsbFNjcmVlbihnZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZSwgb25FbnRlckZ1bGxTY3JlZW4sIG9uRXhpdEZ1bGxTY3JlZW4pLmVudGVyRnVsbFNjcmVlbjtcbiAgICB2YXIga2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmVTaG9ydGN1dHNQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5ICYmIGUuY3RybEtleSAmJiBlLmtleSA9PT0gJ2YnIDogZS5rZXkgPT09ICdGMTEnO1xuICAgICAgICBpZiAoIWFyZVNob3J0Y3V0c1ByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGVudGVyRnVsbFNjcmVlbigpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRhaW5lclJlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbn07XG5cbnZhciBmdWxsU2NyZWVuUGx1Z2luID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGRlZmF1bHRGdWxsU2NyZWVuVGFyZ2V0ID0gZnVuY3Rpb24gKGVsZSkgeyByZXR1cm4gZWxlOyB9O1xuICAgIHZhciBnZXRGdWxsU2NyZWVuVGFyZ2V0ID0gKHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5nZXRGdWxsU2NyZWVuVGFyZ2V0KSB8fCBkZWZhdWx0RnVsbFNjcmVlblRhcmdldDtcbiAgICB2YXIgZnVsbFNjcmVlblBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlLCBvbkVudGVyRnVsbFNjcmVlbjogZnVuY3Rpb24gKCkgeyB9LCBvbkV4aXRGdWxsU2NyZWVuOiBmdW5jdGlvbiAoKSB7IH0gfSwgcHJvcHMpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgRW50ZXJGdWxsU2NyZWVuRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbiwgX19hc3NpZ24oe30sIHByb3BzLCB7IGVuYWJsZVNob3J0Y3V0czogZnVsbFNjcmVlblBsdWdpblByb3BzLmVuYWJsZVNob3J0Y3V0cywgZ2V0RnVsbFNjcmVlblRhcmdldDogZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmU6IHN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbjogZnVsbFNjcmVlblBsdWdpblByb3BzLm9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuOiBmdWxsU2NyZWVuUGx1Z2luUHJvcHMub25FeGl0RnVsbFNjcmVlbiB9KSkpOyB9O1xuICAgIHZhciBFbnRlckZ1bGxTY3JlZW5CdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbkRlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbkJ1dHRvbiwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IGZ1bGxTY3JlZW5QbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgfSwgcmVuZGVyUHJvcHMpKSk7IH0pKTsgfTtcbiAgICB2YXIgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRW50ZXJGdWxsU2NyZWVuRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFbnRlckZ1bGxTY3JlZW5NZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgRXhpdEZ1bGxTY3JlZW5EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEV4aXRGdWxsU2NyZWVuLCB7IGdldEZ1bGxTY3JlZW5UYXJnZXQ6IGdldEZ1bGxTY3JlZW5UYXJnZXQsIHN0b3JlOiBzdG9yZSwgb25FbnRlckZ1bGxTY3JlZW46IGZ1bGxTY3JlZW5QbHVnaW5Qcm9wcy5vbkVudGVyRnVsbFNjcmVlbiwgb25FeGl0RnVsbFNjcmVlbjogZnVsbFNjcmVlblBsdWdpblByb3BzLm9uRXhpdEZ1bGxTY3JlZW4gfSwgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLnJlbmRlckV4aXRGdWxsU2NyZWVuQnV0dG9uKSk7IH07XG4gICAgdmFyIHJlbmRlclZpZXdlciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgY3VycmVudFNsb3QgPSBwcm9wcy5zbG90O1xuICAgICAgICBpZiAoY3VycmVudFNsb3Quc3ViU2xvdCkge1xuICAgICAgICAgICAgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbiA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBmdWxsU2NyZWVuUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRIYW5kbGVyLCB7IGNvbnRhaW5lclJlZjogcHJvcHMuY29udGFpbmVyUmVmLCBnZXRGdWxsU2NyZWVuVGFyZ2V0OiBnZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZTogc3RvcmUsIG9uRW50ZXJGdWxsU2NyZWVuOiBmdWxsU2NyZWVuUGx1Z2luUHJvcHMub25FbnRlckZ1bGxTY3JlZW4sIG9uRXhpdEZ1bGxTY3JlZW46IGZ1bGxTY3JlZW5QbHVnaW5Qcm9wcy5vbkV4aXRGdWxsU2NyZWVuIH0pKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRXhpdEZ1bGxTY3JlZW5EZWNvcmF0b3IsIG51bGwpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbG90LnN1YlNsb3QuY2hpbGRyZW4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFNsb3Q7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2dldFBhZ2VzQ29udGFpbmVyJywgcGx1Z2luRnVuY3Rpb25zLmdldFBhZ2VzQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnem9vbScsIHBsdWdpbkZ1bmN0aW9ucy56b29tKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVmlld2VyOiByZW5kZXJWaWV3ZXIsXG4gICAgICAgIEVudGVyRnVsbFNjcmVlbjogRW50ZXJGdWxsU2NyZWVuRGVjb3JhdG9yLFxuICAgICAgICBFbnRlckZ1bGxTY3JlZW5CdXR0b246IEVudGVyRnVsbFNjcmVlbkJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW06IEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkV4aXRGdWxsU2NyZWVuSWNvbiA9IEV4aXRGdWxsU2NyZWVuSWNvbjtcbmV4cG9ydHMuRnVsbFNjcmVlbkljb24gPSBGdWxsU2NyZWVuSWNvbjtcbmV4cG9ydHMuZnVsbFNjcmVlblBsdWdpbiA9IGZ1bGxTY3JlZW5QbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/full-screen/lib/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/full-screen/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/full-screen.js */ \"./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZnVsbC1zY3JlZW4vbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSx1SUFBZ0Q7QUFDcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2Z1bGwtc2NyZWVuL2xpYi9pbmRleC5qcz83MTg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9mdWxsLXNjcmVlbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9mdWxsLXNjcmVlbi5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/full-screen/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownloadIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5 19.5L11.5 5\" }),\n    React__namespace.createElement(\"path\", { d: \"M17 14L11.5 19.5 6 14\" }),\n    React__namespace.createElement(\"path\", { d: \"M17.5.5h5a1,1,0,0,1,1,1v21a1,1,0,0,1-1,1h-5\" }),\n    React__namespace.createElement(\"path\", { d: \"M6.5.5h-5a1,1,0,0,0-1,1v21a1,1,0,0,0,1,1h5\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar DownloadButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.download ? l10n.download.download : 'Download';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"get-file\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"get-file__download-button\", onClick: onClick },\n            React__namespace.createElement(DownloadIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar isChromeIOS = function () { return /iphone|ipod|ipad/i.test(navigator.userAgent) && /CriOS/i.test(navigator.userAgent); };\nvar isSafariIOS = function () { return /iphone|ipod|ipad/i.test(navigator.userAgent) && !/CriOS/i.test(navigator.userAgent); };\nvar encodeUint8Array = function (data) {\n    return btoa(Array(data.length)\n        .fill('')\n        .map(function (_, i) { return String.fromCharCode(data[i]); })\n        .join(''));\n};\nvar download = function (url, saveAs) {\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = url;\n    link.setAttribute('download', saveAs);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n};\nvar downloadBlob = function (data, saveAs, mimeType) {\n    var blobUrl = URL.createObjectURL(new Blob([data], { type: mimeType }));\n    download(blobUrl, saveAs);\n    if (blobUrl) {\n        URL.revokeObjectURL(blobUrl);\n    }\n    return;\n};\nvar downloadFile = function (doc, saveAs) {\n    doc.getData().then(function (data) {\n        isSafariIOS()\n            ?\n                downloadBlob(data, saveAs, 'application/octet-stream')\n            : isChromeIOS()\n                ? download(\"data:application/pdf;base64,\".concat(encodeUint8Array(data)), saveAs)\n                : downloadBlob(data, saveAs, 'application/pdf');\n    });\n};\n\nvar Download = function (_a) {\n    var children = _a.children, fileNameGenerator = _a.fileNameGenerator, store = _a.store;\n    var _b = React__namespace.useState(store.get('file')), currentFile = _b[0], setCurrentFile = _b[1];\n    var _c = React__namespace.useState(store.get('doc')), currentDocument = _c[0], setCurrentDocument = _c[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDocument(doc);\n    };\n    var handleFileChanged = function (file) {\n        setCurrentFile(file);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        store.subscribe('file', handleFileChanged);\n        return function () {\n            store.subscribe('doc', handleDocumentChanged);\n            store.unsubscribe('file', handleFileChanged);\n        };\n    }, []);\n    var download = function () {\n        if (currentDocument && currentFile) {\n            downloadFile(currentDocument, fileNameGenerator(currentFile));\n        }\n    };\n    var defaultChildren = function (props) { return React__namespace.createElement(DownloadButton, { onClick: props.onClick }); };\n    var render = children || defaultChildren;\n    return render({\n        onClick: download,\n    });\n};\n\nvar DownloadMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.download ? l10n.download.download : 'Download';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(DownloadIcon, null), testId: \"get-file__download-menu\", onClick: onClick }, label));\n};\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar getFilePlugin = function (props) {\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var defaultFileNameGenerator = function (file) { return (file.name ? getFileName(file.name) : 'document.pdf'); };\n    var DownloadDecorator = function (downloadProps) { return (React__namespace.createElement(Download, __assign({}, downloadProps, { fileNameGenerator: props ? props.fileNameGenerator || defaultFileNameGenerator : defaultFileNameGenerator, store: store }))); };\n    var DownloadButtonDecorator = function () { return (React__namespace.createElement(DownloadDecorator, null, function (props) { return React__namespace.createElement(DownloadButton, __assign({}, props)); })); };\n    var DownloadMenuItemDecorator = function (props) { return (React__namespace.createElement(DownloadDecorator, null, function (p) { return (React__namespace.createElement(DownloadMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    return {\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n            store.update('file', props.file);\n        },\n        Download: DownloadDecorator,\n        DownloadButton: DownloadButtonDecorator,\n        DownloadMenuItem: DownloadMenuItemDecorator,\n    };\n};\n\nexports.DownloadIcon = DownloadIcon;\nexports.getFilePlugin = getFilePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZ2V0LWZpbGUvbGliL2Nqcy9nZXQtZmlsZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMsd0JBQXdCO0FBQ3JFLDZDQUE2Qyw0QkFBNEI7QUFDekUsNkNBQTZDLGtEQUFrRDtBQUMvRiw2Q0FBNkMsaURBQWlEOztBQUU5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG1JQUFtSSx5RUFBeUU7QUFDdlEsd0ZBQXdGLGVBQWUsMEJBQTBCO0FBQ2pJOztBQUVBLGdDQUFnQztBQUNoQyxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNDQUFzQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsd0RBQXdELHdCQUF3QjtBQUM3SDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsK0dBQStHO0FBQzNLOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdURBQXVELDBCQUEwQixJQUFJO0FBQ3JGLHFEQUFxRDtBQUNyRCx1REFBdUQsNERBQTRELG1CQUFtQix5SEFBeUg7QUFDL1AsZ0RBQWdELG1GQUFtRixpRUFBaUUsWUFBWTtBQUNoTix1REFBdUQsK0VBQStFLDJEQUEyRDtBQUNqTTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZ2V0LWZpbGUvbGliL2Nqcy9nZXQtZmlsZS5qcz83OGFhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgRG93bmxvYWRJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNSAxOS41TDExLjUgNVwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNyAxNEwxMS41IDE5LjUgNiAxNFwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNy41LjVoNWExLDEsMCwwLDEsMSwxdjIxYTEsMSwwLDAsMS0xLDFoLTVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNi41LjVoLTVhMSwxLDAsMCwwLTEsMXYyMWExLDEsMCwwLDAsMSwxaDVcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgRG93bmxvYWRCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5kb3dubG9hZCA/IGwxMG4uZG93bmxvYWQuZG93bmxvYWQgOiAnRG93bmxvYWQnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiZ2V0LWZpbGVcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBcImdldC1maWxlX19kb3dubG9hZC1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgaXNDaHJvbWVJT1MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAvaXBob25lfGlwb2R8aXBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgL0NyaU9TL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsgfTtcbnZhciBpc1NhZmFyaUlPUyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIC9pcGhvbmV8aXBvZHxpcGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL0NyaU9TL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsgfTtcbnZhciBlbmNvZGVVaW50OEFycmF5ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICByZXR1cm4gYnRvYShBcnJheShkYXRhLmxlbmd0aClcbiAgICAgICAgLmZpbGwoJycpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKF8sIGkpIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVtpXSk7IH0pXG4gICAgICAgIC5qb2luKCcnKSk7XG59O1xudmFyIGRvd25sb2FkID0gZnVuY3Rpb24gKHVybCwgc2F2ZUFzKSB7XG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBzYXZlQXMpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG59O1xudmFyIGRvd25sb2FkQmxvYiA9IGZ1bmN0aW9uIChkYXRhLCBzYXZlQXMsIG1pbWVUeXBlKSB7XG4gICAgdmFyIGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiBtaW1lVHlwZSB9KSk7XG4gICAgZG93bmxvYWQoYmxvYlVybCwgc2F2ZUFzKTtcbiAgICBpZiAoYmxvYlVybCkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2JVcmwpO1xuICAgIH1cbiAgICByZXR1cm47XG59O1xudmFyIGRvd25sb2FkRmlsZSA9IGZ1bmN0aW9uIChkb2MsIHNhdmVBcykge1xuICAgIGRvYy5nZXREYXRhKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpc1NhZmFyaUlPUygpXG4gICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgZG93bmxvYWRCbG9iKGRhdGEsIHNhdmVBcywgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpXG4gICAgICAgICAgICA6IGlzQ2hyb21lSU9TKClcbiAgICAgICAgICAgICAgICA/IGRvd25sb2FkKFwiZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LFwiLmNvbmNhdChlbmNvZGVVaW50OEFycmF5KGRhdGEpKSwgc2F2ZUFzKVxuICAgICAgICAgICAgICAgIDogZG93bmxvYWRCbG9iKGRhdGEsIHNhdmVBcywgJ2FwcGxpY2F0aW9uL3BkZicpO1xuICAgIH0pO1xufTtcblxudmFyIERvd25sb2FkID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGZpbGVOYW1lR2VuZXJhdG9yID0gX2EuZmlsZU5hbWVHZW5lcmF0b3IsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2ZpbGUnKSksIGN1cnJlbnRGaWxlID0gX2JbMF0sIHNldEN1cnJlbnRGaWxlID0gX2JbMV07XG4gICAgdmFyIF9jID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvY3VtZW50ID0gX2NbMF0sIHNldEN1cnJlbnREb2N1bWVudCA9IF9jWzFdO1xuICAgIHZhciBoYW5kbGVEb2N1bWVudENoYW5nZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHNldEN1cnJlbnREb2N1bWVudChkb2MpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUZpbGVDaGFuZ2VkID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgc2V0Q3VycmVudEZpbGUoZmlsZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdmaWxlJywgaGFuZGxlRmlsZUNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2ZpbGUnLCBoYW5kbGVGaWxlQ2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHZhciBkb3dubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGN1cnJlbnREb2N1bWVudCAmJiBjdXJyZW50RmlsZSkge1xuICAgICAgICAgICAgZG93bmxvYWRGaWxlKGN1cnJlbnREb2N1bWVudCwgZmlsZU5hbWVHZW5lcmF0b3IoY3VycmVudEZpbGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkQnV0dG9uLCB7IG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgb25DbGljazogZG93bmxvYWQsXG4gICAgfSk7XG59O1xuXG52YXIgRG93bmxvYWRNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLmRvd25sb2FkID8gbDEwbi5kb3dubG9hZC5kb3dubG9hZCA6ICdEb3dubG9hZCc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bmxvYWRJY29uLCBudWxsKSwgdGVzdElkOiBcImdldC1maWxlX19kb3dubG9hZC1tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciBnZXRGaWxlTmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgc3RyID0gdXJsLnNwbGl0KCcvJykucG9wKCk7XG4gICAgcmV0dXJuIHN0ciA/IHN0ci5zcGxpdCgnIycpWzBdLnNwbGl0KCc/JylbMF0gOiB1cmw7XG59O1xuXG52YXIgZ2V0RmlsZVBsdWdpbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKHt9KTsgfSwgW10pO1xuICAgIHZhciBkZWZhdWx0RmlsZU5hbWVHZW5lcmF0b3IgPSBmdW5jdGlvbiAoZmlsZSkgeyByZXR1cm4gKGZpbGUubmFtZSA/IGdldEZpbGVOYW1lKGZpbGUubmFtZSkgOiAnZG9jdW1lbnQucGRmJyk7IH07XG4gICAgdmFyIERvd25sb2FkRGVjb3JhdG9yID0gZnVuY3Rpb24gKGRvd25sb2FkUHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bmxvYWQsIF9fYXNzaWduKHt9LCBkb3dubG9hZFByb3BzLCB7IGZpbGVOYW1lR2VuZXJhdG9yOiBwcm9wcyA/IHByb3BzLmZpbGVOYW1lR2VuZXJhdG9yIHx8IGRlZmF1bHRGaWxlTmFtZUdlbmVyYXRvciA6IGRlZmF1bHRGaWxlTmFtZUdlbmVyYXRvciwgc3RvcmU6IHN0b3JlIH0pKSk7IH07XG4gICAgdmFyIERvd25sb2FkQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3dubG9hZERlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bmxvYWRCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9KSk7IH07XG4gICAgdmFyIERvd25sb2FkTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bmxvYWREZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkTWVudUl0ZW0sIHsgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb25Eb2N1bWVudExvYWQ6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdkb2MnLCBwcm9wcy5kb2MpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdmaWxlJywgcHJvcHMuZmlsZSk7XG4gICAgICAgIH0sXG4gICAgICAgIERvd25sb2FkOiBEb3dubG9hZERlY29yYXRvcixcbiAgICAgICAgRG93bmxvYWRCdXR0b246IERvd25sb2FkQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBEb3dubG9hZE1lbnVJdGVtOiBEb3dubG9hZE1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkRvd25sb2FkSWNvbiA9IERvd25sb2FkSWNvbjtcbmV4cG9ydHMuZ2V0RmlsZVBsdWdpbiA9IGdldEZpbGVQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/get-file/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/get-file/lib/index.js ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/get-file.js */ \"./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZ2V0LWZpbGUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSw4SEFBNkM7QUFDakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2dldC1maWxlL2xpYi9pbmRleC5qcz83YjBjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9nZXQtZmlsZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9nZXQtZmlsZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/get-file/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/open/lib/cjs/open.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/open/lib/cjs/open.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar OpenFileIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M12.5 4.5L12.5 19.5\" }),\n    React__namespace.createElement(\"path\", { d: \"M18 10L12.5 4.5 7 10\" }),\n    React__namespace.createElement(\"path\", { d: \"M17.5.5h5a1,1,0,0,1,1,1v21a1,1,0,0,1-1,1h-5\" }),\n    React__namespace.createElement(\"path\", { d: \"M6.5.5h-5a1,1,0,0,0-1,1v21a1,1,0,0,0,1,1h5\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar useTriggerOpen = function (store) {\n    var inputRef = React__namespace.useRef();\n    var openFile = function () {\n        var inputEle = inputRef.current;\n        if (inputEle) {\n            inputEle.click();\n            if (store.get('triggerOpenFile')) {\n                store.update('triggerOpenFile', false);\n            }\n        }\n    };\n    var handleOpenFileTriggered = function (trigger) {\n        if (trigger) {\n            openFile();\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('triggerOpenFile', handleOpenFileTriggered);\n        return function () {\n            store.unsubscribe('triggerOpenFile', handleOpenFileTriggered);\n        };\n    }, []);\n    return {\n        inputRef: inputRef,\n        openFile: openFile,\n    };\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar OpenButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, store = _a.store, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.open ? l10n.open.openFile : 'Open file';\n    var _b = useTriggerOpen(store), inputRef = _b.inputRef, openFile = _b.openFile;\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+O' : 'Ctrl+O') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"open\", position: core.Position.BottomCenter, target: React__namespace.createElement(\"div\", { className: \"rpv-open__input-wrapper\" },\n            React__namespace.createElement(\"input\", { ref: inputRef, className: \"rpv-open__input\", multiple: false, tabIndex: -1, title: \"\", type: \"file\", onChange: onClick }),\n            React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"open__button\", onClick: openFile },\n                React__namespace.createElement(OpenFileIcon, null))), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar Open = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var handleOpenFiles = function (e) {\n        var files = e.target.files;\n        if (!files || !files.length) {\n            return;\n        }\n        var openFile = store.get('openFile');\n        if (openFile) {\n            openFile(files[0]);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(OpenButton, { enableShortcuts: enableShortcuts, store: store, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        onClick: handleOpenFiles,\n    });\n};\n\nvar OpenMenuItem = function (_a) {\n    var store = _a.store, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.open ? l10n.open.openFile : 'Open file';\n    var _b = useTriggerOpen(store), inputRef = _b.inputRef, openFile = _b.openFile;\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(OpenFileIcon, null), testId: \"open__menu\", onClick: openFile },\n        React__namespace.createElement(\"div\", { className: \"rpv-open__input-wrapper\" },\n            React__namespace.createElement(\"input\", { ref: inputRef, className: \"rpv-open__input\", multiple: false, tabIndex: -1, title: \"\", type: \"file\", onChange: onClick }),\n            label)));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey || e.key !== 'o') {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        e.preventDefault();\n        store.update('triggerOpenFile', true);\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar openPlugin = function (props) {\n    var openPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var OpenDecorator = function (props) { return (React__namespace.createElement(Open, __assign({ enableShortcuts: openPluginProps.enableShortcuts }, props, { store: store }))); };\n    var OpenButtonDecorator = function () { return React__namespace.createElement(OpenDecorator, null); };\n    var OpenMenuItemDecorator = function () { return (React__namespace.createElement(OpenDecorator, null, function (p) { return React__namespace.createElement(OpenMenuItem, { store: store, onClick: p.onClick }); })); };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                openPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, store: store })),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('openFile', pluginFunctions.openFile);\n        },\n        renderViewer: renderViewer,\n        Open: OpenDecorator,\n        OpenButton: OpenButtonDecorator,\n        OpenMenuItem: OpenMenuItemDecorator,\n    };\n};\n\nexports.OpenFileIcon = OpenFileIcon;\nexports.openPlugin = openPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvY2pzL29wZW4uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQ0FBaUMsb0RBQW9ELFVBQVU7QUFDL0YsNkNBQTZDLDBCQUEwQjtBQUN2RSw2Q0FBNkMsMkJBQTJCO0FBQ3hFLDZDQUE2QyxrREFBa0Q7QUFDL0YsNkNBQTZDLGlEQUFpRDs7QUFFOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsa0hBQWtILHNDQUFzQztBQUNuTixzREFBc0Qsd0hBQXdIO0FBQzlLLGlFQUFpRSxpR0FBaUc7QUFDbEssNkZBQTZGLGVBQWUsMEJBQTBCO0FBQ3RJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxxREFBcUQsd0VBQXdFO0FBQzFLO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG1HQUFtRztBQUMvSixnREFBZ0Qsc0NBQXNDO0FBQ3RGLHNEQUFzRCx3SEFBd0g7QUFDOUs7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxpRUFBaUUsdUJBQXVCLElBQUksdUJBQXVCLFdBQVc7QUFDOUgsdURBQXVELDBCQUEwQixJQUFJO0FBQ3JGLDJDQUEyQyx3REFBd0Qsa0RBQWtELFdBQVcsY0FBYztBQUM5Syw0Q0FBNEM7QUFDNUMsOENBQThDLDJFQUEyRSxzREFBc0Qsa0NBQWtDLElBQUk7QUFDck47QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBc0csZ0RBQWdEO0FBQ3RKO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQjtBQUNwQixrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL29wZW4vbGliL2Nqcy9vcGVuLmpzPzgxMmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBPcGVuRmlsZUljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMi41IDQuNUwxMi41IDE5LjVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTggMTBMMTIuNSA0LjUgNyAxMFwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNy41LjVoNWExLDEsMCwwLDEsMSwxdjIxYTEsMSwwLDAsMS0xLDFoLTVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNi41LjVoLTVhMSwxLDAsMCwwLTEsMXYyMWExLDEsMCwwLDAsMSwxaDVcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciB1c2VUcmlnZ2VyT3BlbiA9IGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHZhciBpbnB1dFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIG9wZW5GaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXRFbGUgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoaW5wdXRFbGUpIHtcbiAgICAgICAgICAgIGlucHV0RWxlLmNsaWNrKCk7XG4gICAgICAgICAgICBpZiAoc3RvcmUuZ2V0KCd0cmlnZ2VyT3BlbkZpbGUnKSkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgndHJpZ2dlck9wZW5GaWxlJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlT3BlbkZpbGVUcmlnZ2VyZWQgPSBmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICBpZiAodHJpZ2dlcikge1xuICAgICAgICAgICAgb3BlbkZpbGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ3RyaWdnZXJPcGVuRmlsZScsIGhhbmRsZU9wZW5GaWxlVHJpZ2dlcmVkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCd0cmlnZ2VyT3BlbkZpbGUnLCBoYW5kbGVPcGVuRmlsZVRyaWdnZXJlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0UmVmOiBpbnB1dFJlZixcbiAgICAgICAgb3BlbkZpbGU6IG9wZW5GaWxlLFxuICAgIH07XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLm9wZW4gPyBsMTBuLm9wZW4ub3BlbkZpbGUgOiAnT3BlbiBmaWxlJztcbiAgICB2YXIgX2IgPSB1c2VUcmlnZ2VyT3BlbihzdG9yZSksIGlucHV0UmVmID0gX2IuaW5wdXRSZWYsIG9wZW5GaWxlID0gX2Iub3BlbkZpbGU7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErTycgOiAnQ3RybCtPJykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcIm9wZW5cIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtb3Blbl9faW5wdXQtd3JhcHBlclwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHJlZjogaW5wdXRSZWYsIGNsYXNzTmFtZTogXCJycHYtb3Blbl9faW5wdXRcIiwgbXVsdGlwbGU6IGZhbHNlLCB0YWJJbmRleDogLTEsIHRpdGxlOiBcIlwiLCB0eXBlOiBcImZpbGVcIiwgb25DaGFuZ2U6IG9uQ2xpY2sgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFLZXlTaG9ydGN1dHM6IGFyaWFLZXlTaG9ydGN1dHMsIGFyaWFMYWJlbDogbGFiZWwsIHRlc3RJZDogXCJvcGVuX19idXR0b25cIiwgb25DbGljazogb3BlbkZpbGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3BlbkZpbGVJY29uLCBudWxsKSkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgT3BlbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGhhbmRsZU9wZW5GaWxlcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzO1xuICAgICAgICBpZiAoIWZpbGVzIHx8ICFmaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3BlbkZpbGUgPSBzdG9yZS5nZXQoJ29wZW5GaWxlJyk7XG4gICAgICAgIGlmIChvcGVuRmlsZSkge1xuICAgICAgICAgICAgb3BlbkZpbGUoZmlsZXNbMF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW5CdXR0b24sIHsgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsIHN0b3JlOiBzdG9yZSwgb25DbGljazogcHJvcHMub25DbGljayB9KSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgb25DbGljazogaGFuZGxlT3BlbkZpbGVzLFxuICAgIH0pO1xufTtcblxudmFyIE9wZW5NZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzdG9yZSA9IF9hLnN0b3JlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLm9wZW4gPyBsMTBuLm9wZW4ub3BlbkZpbGUgOiAnT3BlbiBmaWxlJztcbiAgICB2YXIgX2IgPSB1c2VUcmlnZ2VyT3BlbihzdG9yZSksIGlucHV0UmVmID0gX2IuaW5wdXRSZWYsIG9wZW5GaWxlID0gX2Iub3BlbkZpbGU7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3BlbkZpbGVJY29uLCBudWxsKSwgdGVzdElkOiBcIm9wZW5fX21lbnVcIiwgb25DbGljazogb3BlbkZpbGUgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1vcGVuX19pbnB1dC13cmFwcGVyXCIgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgcmVmOiBpbnB1dFJlZiwgY2xhc3NOYW1lOiBcInJwdi1vcGVuX19pbnB1dFwiLCBtdWx0aXBsZTogZmFsc2UsIHRhYkluZGV4OiAtMSwgdGl0bGU6IFwiXCIsIHR5cGU6IFwiZmlsZVwiLCBvbkNoYW5nZTogb25DbGljayB9KSxcbiAgICAgICAgICAgIGxhYmVsKSkpO1xufTtcblxudmFyIFNob3J0Y3V0SGFuZGxlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb250YWluZXJSZWYgPSBfYS5jb250YWluZXJSZWYsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkgfHwgZS5rZXkgIT09ICdvJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5O1xuICAgICAgICBpZiAoIWlzQ29tbWFuZFByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgndHJpZ2dlck9wZW5GaWxlJywgdHJ1ZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY29udGFpbmVyUmVmLmN1cnJlbnRdKTtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xufTtcblxudmFyIG9wZW5QbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgb3BlblBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlIH0sIHByb3BzKTsgfSwgW10pO1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKHt9KTsgfSwgW10pO1xuICAgIHZhciBPcGVuRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW4sIF9fYXNzaWduKHsgZW5hYmxlU2hvcnRjdXRzOiBvcGVuUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzIH0sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBPcGVuQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW5EZWNvcmF0b3IsIG51bGwpOyB9O1xuICAgIHZhciBPcGVuTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW5EZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3Blbk1lbnVJdGVtLCB7IHN0b3JlOiBzdG9yZSwgb25DbGljazogcC5vbkNsaWNrIH0pOyB9KSk7IH07XG4gICAgdmFyIHJlbmRlclZpZXdlciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgc2xvdCA9IHByb3BzLnNsb3Q7XG4gICAgICAgIHZhciB1cGRhdGVTbG90ID0ge1xuICAgICAgICAgICAgY2hpbGRyZW46IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBvcGVuUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRIYW5kbGVyLCB7IGNvbnRhaW5lclJlZjogcHJvcHMuY29udGFpbmVyUmVmLCBzdG9yZTogc3RvcmUgfSkpLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzbG90KSwgdXBkYXRlU2xvdCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ29wZW5GaWxlJywgcGx1Z2luRnVuY3Rpb25zLm9wZW5GaWxlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVmlld2VyOiByZW5kZXJWaWV3ZXIsXG4gICAgICAgIE9wZW46IE9wZW5EZWNvcmF0b3IsXG4gICAgICAgIE9wZW5CdXR0b246IE9wZW5CdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIE9wZW5NZW51SXRlbTogT3Blbk1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLk9wZW5GaWxlSWNvbiA9IE9wZW5GaWxlSWNvbjtcbmV4cG9ydHMub3BlblBsdWdpbiA9IG9wZW5QbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/open/lib/cjs/open.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/open/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/open/lib/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/open.js */ \"./node_modules/@react-pdf-viewer/open/lib/cjs/open.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLGtIQUF5QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvaW5kZXguanM/YjhiZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvb3Blbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9vcGVuLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/open/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\\n            C1.96,3.016,2.138,2.966,2.32,2.966z\" }))); };\n\nvar NextIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\\n            L23.541,5.627\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar useCurrentPage = function (store) {\n    var _a = React__namespace.useState(store.get('currentPage') || 0), currentPage = _a[0], setCurrentPage = _a[1];\n    var handleCurrentPageChanged = function (currentPageIndex) {\n        setCurrentPage(currentPageIndex);\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        store.subscribe('currentPage', handleCurrentPageChanged);\n        return function () {\n            store.unsubscribe('currentPage', handleCurrentPageChanged);\n        };\n    }, []);\n    return { currentPage: currentPage };\n};\n\nvar useNumberOfPages = function (store) {\n    var _a = React__namespace.useState(store.get('numberOfPages') || 0), numberOfPages = _a[0], setNumberOfPages = _a[1];\n    var handleNumberOfPages = function (total) {\n        setNumberOfPages(total);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('numberOfPages', handleNumberOfPages);\n        return function () {\n            store.unsubscribe('numberOfPages', handleNumberOfPages);\n        };\n    }, []);\n    return { numberOfPages: numberOfPages };\n};\n\nvar CurrentPageInput = function (_a) {\n    var store = _a.store;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var _b = React__namespace.useState('1'), editingPage = _b[0], setEditingPage = _b[1];\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    React__namespace.useEffect(function () { return setEditingPage(\"\".concat(currentPage + 1)); }, [currentPage]);\n    var gotoNextPage = function () {\n        var nextPage = currentPage + 1;\n        if (nextPage < numberOfPages) {\n            setEditingPage(\"\".concat(nextPage + 1));\n            jumpTo(nextPage);\n        }\n    };\n    var gotoPreviousPage = function () {\n        var previousPage = currentPage - 1;\n        if (previousPage >= 0) {\n            setEditingPage(\"\".concat(previousPage + 1));\n            jumpTo(previousPage);\n        }\n    };\n    var jumpTo = function (page) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(page);\n        }\n    };\n    var jump = function () {\n        var newPage = parseInt(editingPage, 10);\n        editingPage === '' || newPage < 1 || newPage > numberOfPages\n            ? setEditingPage(\"\".concat(currentPage + 1))\n            : jumpTo(newPage - 1);\n    };\n    var keydownPage = function (e) {\n        switch (e.key) {\n            case 'ArrowUp':\n                gotoPreviousPage();\n                break;\n            case 'ArrowDown':\n                gotoNextPage();\n                break;\n            case 'Enter':\n                jump();\n                break;\n        }\n    };\n    var label = l10n && l10n.pageNavigation\n        ? l10n.pageNavigation.enterPageNumber\n        : 'Enter a page number';\n    return (React__namespace.createElement(\"span\", { className: \"rpv-page-navigation__current-page-input\" },\n        React__namespace.createElement(core.TextBox, { ariaLabel: label, testId: \"page-navigation__current-page-input\", type: \"text\", value: editingPage, onChange: setEditingPage, onKeyDown: keydownPage })));\n};\n\nvar FetchLabels = function (_a) {\n    var children = _a.children, doc = _a.doc;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        labels: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPageLabels().then(function (result) {\n            isMounted.current && setStatus({ loading: false, labels: result || [] });\n        });\n    }, [doc.loadingTask.docId]);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : children(status.labels);\n};\n\nvar useDocument = function (store) {\n    var _a = React__namespace.useState(store.get('doc')), currentDoc = _a[0], setCurrentDoc = _a[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc;\n};\n\nvar CurrentPageLabel = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentDoc = useDocument(store);\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    var defaultChildren = function (props) { return React__namespace.createElement(React__namespace.Fragment, null, props.currentPage + 1); };\n    var render = children || defaultChildren;\n    return currentDoc ? (React__namespace.createElement(FetchLabels, { doc: currentDoc }, function (labels) {\n        var pageLabel = labels.length === numberOfPages && numberOfPages > 0 ? labels[currentPage] : '';\n        return render({\n            currentPage: currentPage,\n            numberOfPages: numberOfPages,\n            pageLabel: pageLabel,\n        });\n    })) : (React__namespace.createElement(React__namespace.Fragment, null));\n};\n\nvar UpArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\\n            C22.143,20.984,21.965,21.034,21.783,21.034z\" }))); };\n\nvar TOOLTIP_OFFSET$3 = { left: 0, top: 8 };\nvar GoToFirstPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToFirstPage : 'First page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-first\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__first-button\", onClick: onClick },\n            React__namespace.createElement(UpArrowIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$3 }));\n};\n\nvar GoToFirstPage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentPage = useCurrentPage(store).currentPage;\n    var goToFirstPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(0);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToFirstPageButton, { isDisabled: props.isDisabled, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage === 0,\n        onClick: goToFirstPage,\n    });\n};\n\nvar GoToFirstPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToFirstPage : 'First page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(UpArrowIcon, null), isDisabled: isDisabled, testId: \"page-navigation__first-menu\", onClick: onClick }, label));\n};\n\nvar TOOLTIP_OFFSET$2 = { left: 0, top: 8 };\nvar GoToLastPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToLastPage : 'Last page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-last\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__last-button\", onClick: onClick },\n            React__namespace.createElement(DownArrowIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$2 }));\n};\n\nvar GoToLastPage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    var goToLastPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(numberOfPages - 1);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToLastPageButton, { isDisabled: props.isDisabled, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage + 1 >= numberOfPages,\n        onClick: goToLastPage,\n    });\n};\n\nvar GoToLastPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToLastPage : 'Last page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(DownArrowIcon, null), isDisabled: isDisabled, testId: \"page-navigation__last-menu\", onClick: onClick }, label));\n};\n\nvar TOOLTIP_OFFSET$1 = { left: 0, top: 8 };\nvar GoToNextPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToNextPage : 'Next page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-next\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__next-button\", onClick: onClick },\n            React__namespace.createElement(NextIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$1 }));\n};\n\nvar GoToNextPage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    var goToNextPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(currentPage + 1);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToNextPageButton, { onClick: props.onClick, isDisabled: props.isDisabled })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage + 1 >= numberOfPages,\n        onClick: goToNextPage,\n    });\n};\n\nvar GoToNextPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToNextPage : 'Next page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(NextIcon, null), isDisabled: isDisabled, testId: \"page-navigation__next-menu\", onClick: onClick }, label));\n};\n\nvar PreviousIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\\n            L0.535,18.373\" }))); };\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar GoToPreviousPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation\n        ? l10n.pageNavigation.goToPreviousPage\n        : 'Previous page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-previous\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__previous-button\", onClick: onClick },\n            React__namespace.createElement(PreviousIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar GoToPreviousPage = function (_a) {\n    var store = _a.store, children = _a.children;\n    var currentPage = useCurrentPage(store).currentPage;\n    var goToPreviousPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(currentPage - 1);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToPreviousPageButton, { isDisabled: props.isDisabled, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage <= 0,\n        onClick: goToPreviousPage,\n    });\n};\n\nvar GoToPreviousPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation\n        ? l10n.pageNavigation.goToPreviousPage\n        : 'Previous page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(PreviousIcon, null), isDisabled: isDisabled, testId: \"page-navigation__previous-menu\", onClick: onClick }, label));\n};\n\nvar NumberOfPages = function (_a) {\n    var children = _a.children, store = _a.store;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    return children ? children({ numberOfPages: numberOfPages }) : React__namespace.createElement(React__namespace.Fragment, null, numberOfPages);\n};\n\nvar pageNavigationPlugin = function () {\n    var store = React__namespace.useMemo(function () { return core.createStore(); }, []);\n    var CurrentPageInputDecorator = function () { return React__namespace.createElement(CurrentPageInput, { store: store }); };\n    var CurrentPageLabelDecorator = function (props) { return React__namespace.createElement(CurrentPageLabel, __assign({}, props, { store: store })); };\n    var GoToFirstPageDecorator = function (props) { return React__namespace.createElement(GoToFirstPage, __assign({}, props, { store: store })); };\n    var GoToFirstPageButtonDecorator = function () { return (React__namespace.createElement(GoToFirstPageDecorator, null, function (props) { return React__namespace.createElement(GoToFirstPageButton, __assign({}, props)); })); };\n    var GoToFirstPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToFirstPageDecorator, null, function (p) { return (React__namespace.createElement(GoToFirstPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var GoToLastPageDecorator = function (props) { return React__namespace.createElement(GoToLastPage, __assign({}, props, { store: store })); };\n    var GoToLastPageButtonDecorator = function () { return (React__namespace.createElement(GoToLastPageDecorator, null, function (props) { return React__namespace.createElement(GoToLastPageButton, __assign({}, props)); })); };\n    var GoToLastPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToLastPageDecorator, null, function (p) { return (React__namespace.createElement(GoToLastPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var GoToNextPageDecorator = function (props) { return React__namespace.createElement(GoToNextPage, __assign({}, props, { store: store })); };\n    var GoToNextPageButtonDecorator = function () { return (React__namespace.createElement(GoToNextPageDecorator, null, function (props) { return React__namespace.createElement(GoToNextPageButton, __assign({}, props)); })); };\n    var GoToNextPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToNextPageDecorator, null, function (p) { return (React__namespace.createElement(GoToNextPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var GoToPreviousPageDecorator = function (props) { return React__namespace.createElement(GoToPreviousPage, __assign({}, props, { store: store })); };\n    var GoToPreviousPageButtonDecorator = function () { return (React__namespace.createElement(GoToPreviousPageDecorator, null, function (props) { return React__namespace.createElement(GoToPreviousPageButton, __assign({}, props)); })); };\n    var GoToPreviousPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToPreviousPageDecorator, null, function (p) { return (React__namespace.createElement(GoToPreviousPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var NumberOfPagesDecorator = function (props) { return React__namespace.createElement(NumberOfPages, __assign({}, props, { store: store })); };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n            store.update('numberOfPages', props.doc.numPages);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('currentPage', viewerState.pageIndex);\n            return viewerState;\n        },\n        jumpToPage: function (pageIndex) {\n            var jumpTo = store.get('jumpToPage');\n            if (jumpTo) {\n                jumpTo(pageIndex);\n            }\n        },\n        CurrentPageInput: CurrentPageInputDecorator,\n        CurrentPageLabel: CurrentPageLabelDecorator,\n        GoToFirstPage: GoToFirstPageDecorator,\n        GoToFirstPageButton: GoToFirstPageButtonDecorator,\n        GoToFirstPageMenuItem: GoToFirstPageMenuItemDecorator,\n        GoToLastPage: GoToLastPageDecorator,\n        GoToLastPageButton: GoToLastPageButtonDecorator,\n        GoToLastPageMenuItem: GoToLastPageMenuItemDecorator,\n        GoToNextPage: GoToNextPageDecorator,\n        GoToNextPageButton: GoToNextPageButtonDecorator,\n        GoToNextPageMenuItem: GoToNextPageMenuItemDecorator,\n        GoToPreviousPage: GoToPreviousPageDecorator,\n        GoToPreviousPageButton: GoToPreviousPageButtonDecorator,\n        GoToPreviousPageMenuItem: GoToPreviousPageMenuItemDecorator,\n        NumberOfPages: NumberOfPagesDecorator,\n    };\n};\n\nexports.DownArrowIcon = DownArrowIcon;\nexports.NextIcon = NextIcon;\nexports.PreviousIcon = PreviousIcon;\nexports.UpArrowIcon = UpArrowIcon;\nexports.pageNavigationPlugin = pageNavigationPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcGFnZS1uYXZpZ2F0aW9uL2xpYi9janMvcGFnZS1uYXZpZ2F0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0NBQWtDLG9EQUFvRCxVQUFVO0FBQ2hHLDZDQUE2Qyx3UkFBd1I7O0FBRXJVLDZCQUE2QixvREFBb0QsVUFBVTtBQUMzRiw2Q0FBNkMsaUlBQWlJOztBQUU5SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsb0RBQW9EO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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REFBMkQsbUZBQW1GLCtEQUErRDtBQUM3TTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLG1EQUFtRCwrREFBK0QsV0FBVyxjQUFjO0FBQzNJLG9EQUFvRCx1RkFBdUYscUVBQXFFLFlBQVk7QUFDNU4sMkRBQTJELG1GQUFtRiwrREFBK0Q7QUFDN007QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQix1REFBdUQsbUVBQW1FLFdBQVcsY0FBYztBQUNuSix3REFBd0QsMkZBQTJGLHlFQUF5RSxZQUFZO0FBQ3hPLCtEQUErRCx1RkFBdUYsbUVBQW1FO0FBQ3pOO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsb0RBQW9ELGdFQUFnRSxXQUFXLGNBQWM7QUFDN0k7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQjtBQUNyQixnQkFBZ0I7QUFDaEIsb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQiw0QkFBNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3BhZ2UtbmF2aWdhdGlvbi9saWIvY2pzL3BhZ2UtbmF2aWdhdGlvbi5qcz8yZWQ1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgRG93bkFycm93SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIuMzIsMi45NjZoMTkuNDUyYzAuNTUyLDAuMDAxLDEsMC40NDksMC45OTksMS4wMDFjMCwwLjE4Mi0wLjA1LDAuMzYtMC4xNDQsMC41MTZMMTIuOSwyMC41NTJcXG4gICAgICAgICAgICBjLTAuMjg2LDAuNDcyLTAuOTAxLDAuNjI0LTEuMzczLDAuMzM4Yy0wLjEzOC0wLjA4NC0wLjI1NC0wLjItMC4zMzgtMC4zMzhMMS40NjUsNC40ODNDMS4xNzksNC4wMSwxLjMzMSwzLjM5NiwxLjgwNCwzLjExXFxuICAgICAgICAgICAgQzEuOTYsMy4wMTYsMi4xMzgsMi45NjYsMi4zMiwyLjk2NnpcIiB9KSkpOyB9O1xuXG52YXIgTmV4dEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjU0MSw1LjYyN0wxMS42NjYsMTguMmMwLjE4MywwLjIwNywwLjQ5OSwwLjIyNiwwLjcwNiwwLjA0M2MwLjAxNS0wLjAxNCwwLjAzLTAuMDI4LDAuMDQzLTAuMDQzXFxuICAgICAgICAgICAgTDIzLjU0MSw1LjYyN1wiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIHVzZUN1cnJlbnRQYWdlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2N1cnJlbnRQYWdlJykgfHwgMCksIGN1cnJlbnRQYWdlID0gX2FbMF0sIHNldEN1cnJlbnRQYWdlID0gX2FbMV07XG4gICAgdmFyIGhhbmRsZUN1cnJlbnRQYWdlQ2hhbmdlZCA9IGZ1bmN0aW9uIChjdXJyZW50UGFnZUluZGV4KSB7XG4gICAgICAgIHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlSW5kZXgpO1xuICAgIH07XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdjdXJyZW50UGFnZScsIGhhbmRsZUN1cnJlbnRQYWdlQ2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnY3VycmVudFBhZ2UnLCBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UgfTtcbn07XG5cbnZhciB1c2VOdW1iZXJPZlBhZ2VzID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ251bWJlck9mUGFnZXMnKSB8fCAwKSwgbnVtYmVyT2ZQYWdlcyA9IF9hWzBdLCBzZXROdW1iZXJPZlBhZ2VzID0gX2FbMV07XG4gICAgdmFyIGhhbmRsZU51bWJlck9mUGFnZXMgPSBmdW5jdGlvbiAodG90YWwpIHtcbiAgICAgICAgc2V0TnVtYmVyT2ZQYWdlcyh0b3RhbCk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnbnVtYmVyT2ZQYWdlcycsIGhhbmRsZU51bWJlck9mUGFnZXMpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ251bWJlck9mUGFnZXMnLCBoYW5kbGVOdW1iZXJPZlBhZ2VzKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHsgbnVtYmVyT2ZQYWdlczogbnVtYmVyT2ZQYWdlcyB9O1xufTtcblxudmFyIEN1cnJlbnRQYWdlSW5wdXQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnMScpLCBlZGl0aW5nUGFnZSA9IF9iWzBdLCBzZXRFZGl0aW5nUGFnZSA9IF9iWzFdO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHVzZUN1cnJlbnRQYWdlKHN0b3JlKS5jdXJyZW50UGFnZTtcbiAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IHVzZU51bWJlck9mUGFnZXMoc3RvcmUpLm51bWJlck9mUGFnZXM7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0RWRpdGluZ1BhZ2UoXCJcIi5jb25jYXQoY3VycmVudFBhZ2UgKyAxKSk7IH0sIFtjdXJyZW50UGFnZV0pO1xuICAgIHZhciBnb3RvTmV4dFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0UGFnZSA9IGN1cnJlbnRQYWdlICsgMTtcbiAgICAgICAgaWYgKG5leHRQYWdlIDwgbnVtYmVyT2ZQYWdlcykge1xuICAgICAgICAgICAgc2V0RWRpdGluZ1BhZ2UoXCJcIi5jb25jYXQobmV4dFBhZ2UgKyAxKSk7XG4gICAgICAgICAgICBqdW1wVG8obmV4dFBhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ290b1ByZXZpb3VzUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzUGFnZSA9IGN1cnJlbnRQYWdlIC0gMTtcbiAgICAgICAgaWYgKHByZXZpb3VzUGFnZSA+PSAwKSB7XG4gICAgICAgICAgICBzZXRFZGl0aW5nUGFnZShcIlwiLmNvbmNhdChwcmV2aW91c1BhZ2UgKyAxKSk7XG4gICAgICAgICAgICBqdW1wVG8ocHJldmlvdXNQYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGp1bXBUbyA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlKSB7XG4gICAgICAgICAgICBqdW1wVG9QYWdlKHBhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIganVtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld1BhZ2UgPSBwYXJzZUludChlZGl0aW5nUGFnZSwgMTApO1xuICAgICAgICBlZGl0aW5nUGFnZSA9PT0gJycgfHwgbmV3UGFnZSA8IDEgfHwgbmV3UGFnZSA+IG51bWJlck9mUGFnZXNcbiAgICAgICAgICAgID8gc2V0RWRpdGluZ1BhZ2UoXCJcIi5jb25jYXQoY3VycmVudFBhZ2UgKyAxKSlcbiAgICAgICAgICAgIDoganVtcFRvKG5ld1BhZ2UgLSAxKTtcbiAgICB9O1xuICAgIHZhciBrZXlkb3duUGFnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgIGdvdG9QcmV2aW91c1BhZ2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgZ290b05leHRQYWdlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFbnRlcic6XG4gICAgICAgICAgICAgICAganVtcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucGFnZU5hdmlnYXRpb25cbiAgICAgICAgPyBsMTBuLnBhZ2VOYXZpZ2F0aW9uLmVudGVyUGFnZU51bWJlclxuICAgICAgICA6ICdFbnRlciBhIHBhZ2UgbnVtYmVyJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicnB2LXBhZ2UtbmF2aWdhdGlvbl9fY3VycmVudC1wYWdlLWlucHV0XCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVGV4dEJveCwgeyBhcmlhTGFiZWw6IGxhYmVsLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19jdXJyZW50LXBhZ2UtaW5wdXRcIiwgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlOiBlZGl0aW5nUGFnZSwgb25DaGFuZ2U6IHNldEVkaXRpbmdQYWdlLCBvbktleURvd246IGtleWRvd25QYWdlIH0pKSk7XG59O1xuXG52YXIgRmV0Y2hMYWJlbHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZG9jID0gX2EuZG9jO1xuICAgIHZhciBpc01vdW50ZWQgPSBjb3JlLnVzZUlzTW91bnRlZCgpO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoe1xuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBsYWJlbHM6IFtdLFxuICAgIH0pLCBzdGF0dXMgPSBfYlswXSwgc2V0U3RhdHVzID0gX2JbMV07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2MuZ2V0UGFnZUxhYmVscygpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiYgc2V0U3RhdHVzKHsgbG9hZGluZzogZmFsc2UsIGxhYmVsczogcmVzdWx0IHx8IFtdIH0pO1xuICAgICAgICB9KTtcbiAgICB9LCBbZG9jLmxvYWRpbmdUYXNrLmRvY0lkXSk7XG4gICAgcmV0dXJuIHN0YXR1cy5sb2FkaW5nID8gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpIDogY2hpbGRyZW4oc3RhdHVzLmxhYmVscyk7XG59O1xuXG52YXIgdXNlRG9jdW1lbnQgPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgX2EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnZG9jJykpLCBjdXJyZW50RG9jID0gX2FbMF0sIHNldEN1cnJlbnREb2MgPSBfYVsxXTtcbiAgICB2YXIgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBzZXRDdXJyZW50RG9jKGRvYyk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gY3VycmVudERvYztcbn07XG5cbnZhciBDdXJyZW50UGFnZUxhYmVsID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGN1cnJlbnREb2MgPSB1c2VEb2N1bWVudChzdG9yZSk7XG4gICAgdmFyIGN1cnJlbnRQYWdlID0gdXNlQ3VycmVudFBhZ2Uoc3RvcmUpLmN1cnJlbnRQYWdlO1xuICAgIHZhciBudW1iZXJPZlBhZ2VzID0gdXNlTnVtYmVyT2ZQYWdlcyhzdG9yZSkubnVtYmVyT2ZQYWdlcztcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgcHJvcHMuY3VycmVudFBhZ2UgKyAxKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiBjdXJyZW50RG9jID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChGZXRjaExhYmVscywgeyBkb2M6IGN1cnJlbnREb2MgfSwgZnVuY3Rpb24gKGxhYmVscykge1xuICAgICAgICB2YXIgcGFnZUxhYmVsID0gbGFiZWxzLmxlbmd0aCA9PT0gbnVtYmVyT2ZQYWdlcyAmJiBudW1iZXJPZlBhZ2VzID4gMCA/IGxhYmVsc1tjdXJyZW50UGFnZV0gOiAnJztcbiAgICAgICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsXG4gICAgICAgICAgICBudW1iZXJPZlBhZ2VzOiBudW1iZXJPZlBhZ2VzLFxuICAgICAgICAgICAgcGFnZUxhYmVsOiBwYWdlTGFiZWwsXG4gICAgICAgIH0pO1xuICAgIH0pKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCkpO1xufTtcblxudmFyIFVwQXJyb3dJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjEuNzgzLDIxLjAzNEgyLjMzMmMtMC41NTIsMC0xLTAuNDQ4LTEtMWMwLTAuMTgyLDAuMDUtMC4zNjEsMC4xNDQtMC41MTdMMTEuMiwzLjQ0OFxcbiAgICAgICAgICAgIGMwLjI4Ni0wLjQ3MiwwLjkwMS0wLjYyNCwxLjM3My0wLjMzOGMwLjEzOCwwLjA4NCwwLjI1NCwwLjIsMC4zMzgsMC4zMzhsOS43MjYsMTYuMDY5YzAuMjg2LDAuNDczLDAuMTM0LDEuMDg3LTAuMzM5LDEuMzczXFxuICAgICAgICAgICAgQzIyLjE0MywyMC45ODQsMjEuOTY1LDIxLjAzNCwyMS43ODMsMjEuMDM0elwiIH0pKSk7IH07XG5cbnZhciBUT09MVElQX09GRlNFVCQzID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBHb1RvRmlyc3RQYWdlQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBfYS5pc0Rpc2FibGVkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5nb1RvRmlyc3RQYWdlIDogJ0ZpcnN0IHBhZ2UnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwicGFnZS1uYXZpZ2F0aW9uLWZpcnN0XCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogbGFiZWwsIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsIHRlc3RJZDogXCJwYWdlLW5hdmlnYXRpb25fX2ZpcnN0LWJ1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVXBBcnJvd0ljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQkMyB9KSk7XG59O1xuXG52YXIgR29Ub0ZpcnN0UGFnZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHVzZUN1cnJlbnRQYWdlKHN0b3JlKS5jdXJyZW50UGFnZTtcbiAgICB2YXIgZ29Ub0ZpcnN0UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0ZpcnN0UGFnZUJ1dHRvbiwgeyBpc0Rpc2FibGVkOiBwcm9wcy5pc0Rpc2FibGVkLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc0Rpc2FibGVkOiBjdXJyZW50UGFnZSA9PT0gMCxcbiAgICAgICAgb25DbGljazogZ29Ub0ZpcnN0UGFnZSxcbiAgICB9KTtcbn07XG5cbnZhciBHb1RvRmlyc3RQYWdlTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IF9hLmlzRGlzYWJsZWQsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucGFnZU5hdmlnYXRpb24gPyBsMTBuLnBhZ2VOYXZpZ2F0aW9uLmdvVG9GaXJzdFBhZ2UgOiAnRmlyc3QgcGFnZSc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVXBBcnJvd0ljb24sIG51bGwpLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19maXJzdC1tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCQyID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBHb1RvTGFzdFBhZ2VCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IF9hLmlzRGlzYWJsZWQsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucGFnZU5hdmlnYXRpb24gPyBsMTBuLnBhZ2VOYXZpZ2F0aW9uLmdvVG9MYXN0UGFnZSA6ICdMYXN0IHBhZ2UnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwicGFnZS1uYXZpZ2F0aW9uLWxhc3RcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCwgdGVzdElkOiBcInBhZ2UtbmF2aWdhdGlvbl9fbGFzdC1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25BcnJvd0ljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQkMiB9KSk7XG59O1xuXG52YXIgR29Ub0xhc3RQYWdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGN1cnJlbnRQYWdlID0gdXNlQ3VycmVudFBhZ2Uoc3RvcmUpLmN1cnJlbnRQYWdlO1xuICAgIHZhciBudW1iZXJPZlBhZ2VzID0gdXNlTnVtYmVyT2ZQYWdlcyhzdG9yZSkubnVtYmVyT2ZQYWdlcztcbiAgICB2YXIgZ29Ub0xhc3RQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIganVtcFRvUGFnZSA9IHN0b3JlLmdldCgnanVtcFRvUGFnZScpO1xuICAgICAgICBpZiAoanVtcFRvUGFnZSkge1xuICAgICAgICAgICAganVtcFRvUGFnZShudW1iZXJPZlBhZ2VzIC0gMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0xhc3RQYWdlQnV0dG9uLCB7IGlzRGlzYWJsZWQ6IHByb3BzLmlzRGlzYWJsZWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIGlzRGlzYWJsZWQ6IGN1cnJlbnRQYWdlICsgMSA+PSBudW1iZXJPZlBhZ2VzLFxuICAgICAgICBvbkNsaWNrOiBnb1RvTGFzdFBhZ2UsXG4gICAgfSk7XG59O1xuXG52YXIgR29Ub0xhc3RQYWdlTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IF9hLmlzRGlzYWJsZWQsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucGFnZU5hdmlnYXRpb24gPyBsMTBuLnBhZ2VOYXZpZ2F0aW9uLmdvVG9MYXN0UGFnZSA6ICdMYXN0IHBhZ2UnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25BcnJvd0ljb24sIG51bGwpLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19sYXN0LW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUJDEgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIEdvVG9OZXh0UGFnZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0Rpc2FibGVkID0gX2EuaXNEaXNhYmxlZCwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5wYWdlTmF2aWdhdGlvbiA/IGwxMG4ucGFnZU5hdmlnYXRpb24uZ29Ub05leHRQYWdlIDogJ05leHQgcGFnZSc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJwYWdlLW5hdmlnYXRpb24tbmV4dFwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IGxhYmVsLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19uZXh0LWJ1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTmV4dEljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQkMSB9KSk7XG59O1xuXG52YXIgR29Ub05leHRQYWdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGN1cnJlbnRQYWdlID0gdXNlQ3VycmVudFBhZ2Uoc3RvcmUpLmN1cnJlbnRQYWdlO1xuICAgIHZhciBudW1iZXJPZlBhZ2VzID0gdXNlTnVtYmVyT2ZQYWdlcyhzdG9yZSkubnVtYmVyT2ZQYWdlcztcbiAgICB2YXIgZ29Ub05leHRQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIganVtcFRvUGFnZSA9IHN0b3JlLmdldCgnanVtcFRvUGFnZScpO1xuICAgICAgICBpZiAoanVtcFRvUGFnZSkge1xuICAgICAgICAgICAganVtcFRvUGFnZShjdXJyZW50UGFnZSArIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZUJ1dHRvbiwgeyBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLCBpc0Rpc2FibGVkOiBwcm9wcy5pc0Rpc2FibGVkIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc0Rpc2FibGVkOiBjdXJyZW50UGFnZSArIDEgPj0gbnVtYmVyT2ZQYWdlcyxcbiAgICAgICAgb25DbGljazogZ29Ub05leHRQYWdlLFxuICAgIH0pO1xufTtcblxudmFyIEdvVG9OZXh0UGFnZU1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBfYS5pc0Rpc2FibGVkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5nb1RvTmV4dFBhZ2UgOiAnTmV4dCBwYWdlJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVJdGVtLCB7IGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChOZXh0SWNvbiwgbnVsbCksIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsIHRlc3RJZDogXCJwYWdlLW5hdmlnYXRpb25fX25leHQtbWVudVwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgUHJldmlvdXNJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjMuNTM1LDE4LjM3M0wxMi40MDksNS44Yy0wLjE4My0wLjIwNy0wLjQ5OS0wLjIyNi0wLjcwNi0wLjA0M0MxMS42ODgsNS43NywxMS42NzQsNS43ODUsMTEuNjYsNS44XFxuICAgICAgICAgICAgTDAuNTM1LDE4LjM3M1wiIH0pKSk7IH07XG5cbnZhciBUT09MVElQX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0Rpc2FibGVkID0gX2EuaXNEaXNhYmxlZCwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5wYWdlTmF2aWdhdGlvblxuICAgICAgICA/IGwxMG4ucGFnZU5hdmlnYXRpb24uZ29Ub1ByZXZpb3VzUGFnZVxuICAgICAgICA6ICdQcmV2aW91cyBwYWdlJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInBhZ2UtbmF2aWdhdGlvbi1wcmV2aW91c1wiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IGxhYmVsLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19wcmV2aW91cy1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByZXZpb3VzSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgR29Ub1ByZXZpb3VzUGFnZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzdG9yZSA9IF9hLnN0b3JlLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHVzZUN1cnJlbnRQYWdlKHN0b3JlKS5jdXJyZW50UGFnZTtcbiAgICB2YXIgZ29Ub1ByZXZpb3VzUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UoY3VycmVudFBhZ2UgLSAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvUHJldmlvdXNQYWdlQnV0dG9uLCB7IGlzRGlzYWJsZWQ6IHByb3BzLmlzRGlzYWJsZWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIGlzRGlzYWJsZWQ6IGN1cnJlbnRQYWdlIDw9IDAsXG4gICAgICAgIG9uQ2xpY2s6IGdvVG9QcmV2aW91c1BhZ2UsXG4gICAgfSk7XG59O1xuXG52YXIgR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBfYS5pc0Rpc2FibGVkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uXG4gICAgICAgID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5nb1RvUHJldmlvdXNQYWdlXG4gICAgICAgIDogJ1ByZXZpb3VzIHBhZ2UnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByZXZpb3VzSWNvbiwgbnVsbCksIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsIHRlc3RJZDogXCJwYWdlLW5hdmlnYXRpb25fX3ByZXZpb3VzLW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIE51bWJlck9mUGFnZXMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IHVzZU51bWJlck9mUGFnZXMoc3RvcmUpLm51bWJlck9mUGFnZXM7XG4gICAgcmV0dXJuIGNoaWxkcmVuID8gY2hpbGRyZW4oeyBudW1iZXJPZlBhZ2VzOiBudW1iZXJPZlBhZ2VzIH0pIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsIG51bWJlck9mUGFnZXMpO1xufTtcblxudmFyIHBhZ2VOYXZpZ2F0aW9uUGx1Z2luID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKCk7IH0sIFtdKTtcbiAgICB2YXIgQ3VycmVudFBhZ2VJbnB1dERlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDdXJyZW50UGFnZUlucHV0LCB7IHN0b3JlOiBzdG9yZSB9KTsgfTtcbiAgICB2YXIgQ3VycmVudFBhZ2VMYWJlbERlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEN1cnJlbnRQYWdlTGFiZWwsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBHb1RvRmlyc3RQYWdlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0ZpcnN0UGFnZSwgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSk7IH07XG4gICAgdmFyIEdvVG9GaXJzdFBhZ2VCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9GaXJzdFBhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9GaXJzdFBhZ2VCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9KSk7IH07XG4gICAgdmFyIEdvVG9GaXJzdFBhZ2VNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvRmlyc3RQYWdlRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvRmlyc3RQYWdlTWVudUl0ZW0sIHsgaXNEaXNhYmxlZDogcC5pc0Rpc2FibGVkLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgR29Ub0xhc3RQYWdlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0xhc3RQYWdlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgR29Ub0xhc3RQYWdlQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTGFzdFBhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9MYXN0UGFnZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgR29Ub0xhc3RQYWdlTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0xhc3RQYWdlRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTGFzdFBhZ2VNZW51SXRlbSwgeyBpc0Rpc2FibGVkOiBwLmlzRGlzYWJsZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBHb1RvTmV4dFBhZ2VEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2UsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBHb1RvTmV4dFBhZ2VCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub05leHRQYWdlQnV0dG9uLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfSkpOyB9O1xuICAgIHZhciBHb1RvTmV4dFBhZ2VNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZU1lbnVJdGVtLCB7IGlzRGlzYWJsZWQ6IHAuaXNEaXNhYmxlZCwgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgdmFyIEdvVG9QcmV2aW91c1BhZ2VEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvUHJldmlvdXNQYWdlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub1ByZXZpb3VzUGFnZURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9QcmV2aW91c1BhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSwgeyBpc0Rpc2FibGVkOiBwLmlzRGlzYWJsZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBOdW1iZXJPZlBhZ2VzRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTnVtYmVyT2ZQYWdlcywgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSk7IH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdqdW1wVG9QYWdlJywgcGx1Z2luRnVuY3Rpb25zLmp1bXBUb1BhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBvbkRvY3VtZW50TG9hZDogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2RvYycsIHByb3BzLmRvYyk7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ251bWJlck9mUGFnZXMnLCBwcm9wcy5kb2MubnVtUGFnZXMpO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnY3VycmVudFBhZ2UnLCB2aWV3ZXJTdGF0ZS5wYWdlSW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIHZpZXdlclN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBqdW1wVG9QYWdlOiBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgICAgICB2YXIganVtcFRvID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgICAgICBpZiAoanVtcFRvKSB7XG4gICAgICAgICAgICAgICAganVtcFRvKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEN1cnJlbnRQYWdlSW5wdXQ6IEN1cnJlbnRQYWdlSW5wdXREZWNvcmF0b3IsXG4gICAgICAgIEN1cnJlbnRQYWdlTGFiZWw6IEN1cnJlbnRQYWdlTGFiZWxEZWNvcmF0b3IsXG4gICAgICAgIEdvVG9GaXJzdFBhZ2U6IEdvVG9GaXJzdFBhZ2VEZWNvcmF0b3IsXG4gICAgICAgIEdvVG9GaXJzdFBhZ2VCdXR0b246IEdvVG9GaXJzdFBhZ2VCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIEdvVG9GaXJzdFBhZ2VNZW51SXRlbTogR29Ub0ZpcnN0UGFnZU1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBHb1RvTGFzdFBhZ2U6IEdvVG9MYXN0UGFnZURlY29yYXRvcixcbiAgICAgICAgR29Ub0xhc3RQYWdlQnV0dG9uOiBHb1RvTGFzdFBhZ2VCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIEdvVG9MYXN0UGFnZU1lbnVJdGVtOiBHb1RvTGFzdFBhZ2VNZW51SXRlbURlY29yYXRvcixcbiAgICAgICAgR29Ub05leHRQYWdlOiBHb1RvTmV4dFBhZ2VEZWNvcmF0b3IsXG4gICAgICAgIEdvVG9OZXh0UGFnZUJ1dHRvbjogR29Ub05leHRQYWdlQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBHb1RvTmV4dFBhZ2VNZW51SXRlbTogR29Ub05leHRQYWdlTWVudUl0ZW1EZWNvcmF0b3IsXG4gICAgICAgIEdvVG9QcmV2aW91c1BhZ2U6IEdvVG9QcmV2aW91c1BhZ2VEZWNvcmF0b3IsXG4gICAgICAgIEdvVG9QcmV2aW91c1BhZ2VCdXR0b246IEdvVG9QcmV2aW91c1BhZ2VCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbTogR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBOdW1iZXJPZlBhZ2VzOiBOdW1iZXJPZlBhZ2VzRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkRvd25BcnJvd0ljb24gPSBEb3duQXJyb3dJY29uO1xuZXhwb3J0cy5OZXh0SWNvbiA9IE5leHRJY29uO1xuZXhwb3J0cy5QcmV2aW91c0ljb24gPSBQcmV2aW91c0ljb247XG5leHBvcnRzLlVwQXJyb3dJY29uID0gVXBBcnJvd0ljb247XG5leHBvcnRzLnBhZ2VOYXZpZ2F0aW9uUGx1Z2luID0gcGFnZU5hdmlnYXRpb25QbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/page-navigation/lib/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/page-navigation/lib/index.js ***!
  \*********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/page-navigation.js */ \"./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcGFnZS1uYXZpZ2F0aW9uL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksbUpBQW9EO0FBQ3hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9wYWdlLW5hdmlnYXRpb24vbGliL2luZGV4LmpzPzk3MWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3BhZ2UtbmF2aWdhdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wYWdlLW5hdmlnYXRpb24uanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/page-navigation/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/print/lib/cjs/print.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/print/lib/cjs/print.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar reactDom = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar PrintIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\\n            M3.5,8.499\\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\\n            M14.5,0.499v4h4\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar PrintButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.print ? l10n.print.print : 'Print';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+P' : 'Ctrl+P') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"print\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"print__button\", onClick: onClick },\n            React__namespace.createElement(PrintIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar PrintStatus;\n(function (PrintStatus) {\n    PrintStatus[\"CheckingPermission\"] = \"CheckingPermission\";\n    PrintStatus[\"Inactive\"] = \"Inactive\";\n    PrintStatus[\"Preparing\"] = \"Preparing\";\n    PrintStatus[\"Cancelled\"] = \"Cancelled\";\n    PrintStatus[\"Ready\"] = \"Ready\";\n})(PrintStatus || (PrintStatus = {}));\n\nvar Print = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var print = function () {\n        store.update('printStatus', PrintStatus.CheckingPermission);\n    };\n    var render = children || PrintButton;\n    return render({\n        enableShortcuts: enableShortcuts,\n        onClick: print,\n    });\n};\n\nvar PERMISSION_PRINT = 4;\nvar PERMISSION_PRINT_HIGHT_QUALITY = 2048;\nvar CheckPrintPermission = function (_a) {\n    var doc = _a.doc, store = _a.store;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var _b = React__namespace.useState(true), isAllowed = _b[0], setIsAllowed = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPermissions().then(function (permissions) {\n            var canPrint = permissions === null ||\n                permissions.includes(PERMISSION_PRINT) ||\n                permissions.includes(PERMISSION_PRINT_HIGHT_QUALITY);\n            canPrint ? store.update('printStatus', PrintStatus.Preparing) : setIsAllowed(false);\n        });\n    }, []);\n    return isAllowed ? (React__namespace.createElement(React__namespace.Fragment, null)) : (React__namespace.createElement(core.Modal, { ariaControlsSuffix: \"print-permission\", closeOnClickOutside: false, closeOnEscape: false, content: function (toggle) {\n            var close = function () {\n                toggle();\n                store.update('printStatus', PrintStatus.Cancelled);\n            };\n            return (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(\"div\", { className: \"rpv-print__permission-body\" }, l10n && l10n.print\n                    ? l10n.print.disallowPrint\n                    : 'The document does not allow to print'),\n                React__namespace.createElement(\"div\", { className: \"rpv-print__permission-footer\" },\n                    React__namespace.createElement(core.Button, { onClick: close }, l10n && l10n.print ? l10n.print.close : 'Close'))));\n        }, isOpened: true }));\n};\n\nvar PrintProgress = function (_a) {\n    var numLoadedPages = _a.numLoadedPages, numPages = _a.numPages, onCancel = _a.onCancel;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var progress = Math.floor((numLoadedPages * 100) / numPages);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-print__progress\" },\n        React__namespace.createElement(\"div\", { className: core.classNames({\n                'rpv-print__progress-body': true,\n                'rpv-print__progress-body--rtl': isRtl,\n            }) },\n            React__namespace.createElement(\"div\", { className: \"rpv-print__progress-message\" }, l10n && l10n.print\n                ? l10n.print.preparingDocument\n                : 'Preparing document ...'),\n            React__namespace.createElement(\"div\", { className: \"rpv-print__progress-bar\" },\n                React__namespace.createElement(core.ProgressBar, { progress: progress })),\n            React__namespace.createElement(core.Button, { onClick: onCancel }, l10n && l10n.print ? l10n.print.cancel : 'Cancel'))));\n};\n\nvar PageThumbnail = function (_a) {\n    var canvas = _a.canvas, page = _a.page, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, rotation = _a.rotation, onLoad = _a.onLoad;\n    var renderTask = React__namespace.useRef();\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    React__namespace.useEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var printUnit = 150 / 72;\n        canvas.height = Math.floor(pageHeight * printUnit);\n        canvas.width = Math.floor(pageWidth * printUnit);\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.save();\n        canvasContext.fillStyle = 'rgb(255, 255, 255)';\n        canvasContext.fillRect(0, 0, canvas.width, canvas.height);\n        canvasContext.restore();\n        var viewport = page.getViewport({ rotation: rotation, scale: 1 });\n        renderTask.current = page.render({\n            canvasContext: canvasContext,\n            intent: 'print',\n            transform: [printUnit, 0, 0, printUnit, 0, 0],\n            viewport: viewport,\n        });\n        renderTask.current.promise.then(function () {\n            'toBlob' in canvas\n                ? canvas.toBlob(function (blob) {\n                    setSrc(URL.createObjectURL(blob));\n                })\n                : setSrc(canvas.toDataURL());\n        }, function () {\n        });\n    }, []);\n    return (src && (React__namespace.createElement(\"div\", { className: \"rpv-print__page\" },\n        React__namespace.createElement(\"img\", { src: src, onLoad: function () { return onLoad(); } }))));\n};\n\nvar PageThumbnailContainer = function (_a) {\n    var canvas = _a.canvas, doc = _a.doc, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageWidth = _a.pageWidth, rotation = _a.rotation, onLoad = _a.onLoad;\n    var _b = React__namespace.useState({\n        height: pageHeight,\n        page: null,\n        viewportRotation: 0,\n        width: pageWidth,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var page = pageSize.page, height = pageSize.height, width = pageSize.width;\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    React__namespace.useEffect(function () {\n        core.getPage(doc, pageIndex).then(function (pdfPage) {\n            var viewport = pdfPage.getViewport({ scale: 1 });\n            setPageSize({\n                height: viewport.height,\n                page: pdfPage,\n                viewportRotation: viewport.rotation,\n                width: viewport.width,\n            });\n        });\n    }, []);\n    var rotationNumber = (pageSize.viewportRotation + rotation + pageRotation) % 360;\n    return (page && (React__namespace.createElement(PageThumbnail, { canvas: canvas, page: page, pageHeight: isVertical ? height : width, pageWidth: isVertical ? width : height, rotation: rotationNumber, onLoad: onLoad })));\n};\n\nvar PrintZone = function (_a) {\n    var doc = _a.doc, numLoadedPages = _a.numLoadedPages, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, printStatus = _a.printStatus, rotation = _a.rotation, onCancel = _a.onCancel, onLoad = _a.onLoad;\n    var canvas = React__namespace.useMemo(function () { return document.createElement('canvas'); }, []);\n    var container = React__namespace.useMemo(function () {\n        var zoneEle = document.querySelector('.rpv-print__zone');\n        if (zoneEle) {\n            return zoneEle;\n        }\n        var div = document.createElement('div');\n        div.classList.add('rpv-print__zone');\n        document.body.appendChild(div);\n        return div;\n    }, []);\n    React__namespace.useEffect(function () {\n        if (printStatus === PrintStatus.Ready) {\n            document.documentElement.classList.add('rpv-print__html-printing');\n            document.body.classList.add('rpv-print__body-printing');\n            window.print();\n        }\n        var handler = function () {\n            if (printStatus === PrintStatus.Ready) {\n                document.documentElement.classList.remove('rpv-print__html-printing');\n                document.body.classList.remove('rpv-print__body-printing');\n                var zones = document.querySelectorAll('.rpv-print__zone');\n                if (zones) {\n                    zones.forEach(function (zoneEle) {\n                        zoneEle.parentElement.removeChild(zoneEle);\n                    });\n                }\n                canvas.height = 0;\n                canvas.width = 0;\n                document.removeEventListener('mousemove', handler);\n                onCancel();\n            }\n        };\n        document.addEventListener('mousemove', handler);\n        return function () { return document.removeEventListener('mousemove', handler); };\n    }, [printStatus]);\n    return reactDom.createPortal(React__namespace.createElement(React__namespace.Fragment, null,\n        Array(Math.min(numLoadedPages + 1, doc.numPages))\n            .fill(0)\n            .map(function (_, index) { return (React__namespace.createElement(PageThumbnailContainer, { key: index, canvas: canvas, doc: doc, pageHeight: pageHeight, pageIndex: index, pageRotation: pagesRotation.has(index) ? pagesRotation.get(index) : 0, pageWidth: pageWidth, rotation: rotation, onLoad: onLoad })); }),\n        React__namespace.createElement(\"style\", { dangerouslySetInnerHTML: {\n                __html: \"@page { size: \".concat(pageWidth, \"pt \").concat(pageHeight, \"pt }\"),\n            } })), container);\n};\n\nvar PrintContainer = function (_a) {\n    var doc = _a.doc, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, rotation = _a.rotation, store = _a.store;\n    var _b = React__namespace.useState(PrintStatus.Inactive), printStatus = _b[0], setPrintStatus = _b[1];\n    var _c = React__namespace.useState(0), numLoadedPagesForPrint = _c[0], setNumLoadedPagesForPrint = _c[1];\n    var cancelPrinting = function () {\n        setNumLoadedPagesForPrint(0);\n        setPrintStatus(PrintStatus.Inactive);\n    };\n    var handlePrintStatus = function (status) { return setPrintStatus(status); };\n    var onLoadPage = function () {\n        var total = numLoadedPagesForPrint + 1;\n        if (total <= doc.numPages) {\n            setNumLoadedPagesForPrint(total);\n            total === doc.numPages && setPrintStatus(PrintStatus.Ready);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('printStatus', handlePrintStatus);\n        return function () {\n            store.unsubscribe('printStatus', handlePrintStatus);\n        };\n    }, []);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        printStatus === PrintStatus.CheckingPermission && React__namespace.createElement(CheckPrintPermission, { doc: doc, store: store }),\n        printStatus === PrintStatus.Preparing && (React__namespace.createElement(PrintProgress, { numLoadedPages: numLoadedPagesForPrint, numPages: doc.numPages, onCancel: cancelPrinting })),\n        (printStatus === PrintStatus.Preparing || printStatus === PrintStatus.Ready) &&\n            numLoadedPagesForPrint <= doc.numPages && (React__namespace.createElement(PrintZone, { doc: doc, numLoadedPages: numLoadedPagesForPrint, pagesRotation: pagesRotation, pageHeight: pageHeight, pageWidth: pageWidth, printStatus: printStatus, rotation: rotation, onCancel: cancelPrinting, onLoad: onLoadPage }))));\n};\n\nvar PrintMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.print ? l10n.print.print : 'Print';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(PrintIcon, null), testId: \"print__menu\", onClick: onClick }, label));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey || e.key !== 'p') {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        e.preventDefault();\n        store.update('printStatus', PrintStatus.Preparing);\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar printPlugin = function (props) {\n    var printPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            printStatus: PrintStatus.Inactive,\n        });\n    }, []);\n    var PrintDecorator = function (props) { return (React__namespace.createElement(Print, __assign({ enableShortcuts: printPluginProps.enableShortcuts }, props, { store: store }))); };\n    var PrintButtonDecorator = function () { return React__namespace.createElement(PrintDecorator, null, function (props) { return React__namespace.createElement(PrintButton, __assign({}, props)); }); };\n    var PrintMenuItemDecorator = function (props) { return (React__namespace.createElement(PrintDecorator, null, function (p) { return (React__namespace.createElement(PrintMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                printPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, store: store })),\n                React__namespace.createElement(PrintContainer, { doc: props.doc, pagesRotation: props.pagesRotation, pageHeight: props.pageHeight, pageWidth: props.pageWidth, rotation: props.rotation, store: store }),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        renderViewer: renderViewer,\n        Print: PrintDecorator,\n        PrintButton: PrintButtonDecorator,\n        PrintMenuItem: PrintMenuItemDecorator,\n    };\n};\n\nexports.PrintIcon = PrintIcon;\nexports.printPlugin = printPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJpbnQvbGliL2Nqcy9wcmludC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPO0FBQzNCLGVBQWUsbUJBQU8sQ0FBQyxvREFBVzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw4QkFBOEIsb0RBQW9ELFVBQVU7QUFDNUYsNkNBQTZDLGtoQkFBa2hCOztBQUUvakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGdJQUFnSSxpR0FBaUc7QUFDNVIscUZBQXFGLGVBQWUsMEJBQTBCO0FBQzlIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0M7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLHlJQUF5STtBQUN6STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHlDQUF5QztBQUNqRztBQUNBO0FBQ0Esd0RBQXdELDJDQUEyQztBQUNuRyxrRUFBa0UsZ0JBQWdCO0FBQ2xGLFNBQVMsa0JBQWtCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQ0FBa0M7QUFDdEYsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsb0RBQW9ELDBDQUEwQztBQUM5RjtBQUNBO0FBQ0Esb0RBQW9ELHNDQUFzQztBQUMxRixtRUFBbUUsb0JBQW9CO0FBQ3ZGLDBEQUEwRCxtQkFBbUI7QUFDN0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw4QkFBOEI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVCxTQUFTO0FBQ1QsS0FBSztBQUNMLDREQUE0RCw4QkFBOEI7QUFDMUYsZ0RBQWdELGdDQUFnQyxvQkFBb0I7QUFDcEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsVUFBVTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxxRUFBcUUsdUpBQXVKO0FBQzVOOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsMENBQTBDO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxpRUFBaUUsaU5BQWlOLEtBQUs7QUFDOVQsa0RBQWtEO0FBQ2xELGlDQUFpQyx5REFBeUQ7QUFDMUYsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUhBQWlILHdCQUF3QjtBQUN6SSxrR0FBa0csMEZBQTBGO0FBQzVMO0FBQ0EsbUdBQW1HLDBOQUEwTjtBQUM3VDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnR0FBZ0c7QUFDNUo7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0Esa0VBQWtFLHVCQUF1QixJQUFJLHVCQUF1QixXQUFXO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsNENBQTRDLHlEQUF5RCxtREFBbUQsV0FBVyxjQUFjO0FBQ2pMLDZDQUE2QywrRUFBK0UsOERBQThELFlBQVk7QUFDdE0sb0RBQW9ELDRFQUE0RSx3REFBd0Q7QUFDeEw7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxnREFBZ0Q7QUFDdkosaUVBQWlFLHNKQUFzSjtBQUN2TjtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCO0FBQ2pCLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJpbnQvbGliL2Nqcy9wcmludC5qcz84MDFhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIHJlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBQcmludEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk03LjUsMTkuNDk5aDkgTTcuNSwxNi40OTloOSBNNS41LDE2LjVoLTNjLTEuMTAzLTAuMDAzLTEuOTk3LTAuODk3LTItMnYtNmMwLjAwMy0xLjEwMywwLjg5Ny0xLjk5NywyLTJoMTlcXG4gICAgICAgICAgICBjMS4xMDMsMC4wMDMsMS45OTcsMC44OTcsMiwydjZjLTAuMDAzLDEuMTAzLTAuODk3LDEuOTk3LTIsMmgtM1xcbiAgICAgICAgICAgIE01LjUsNC41di00aDkuNTg2YzAuMjY1LDAsMC41MiwwLjEwNSwwLjcwNywwLjI5M2wyLjQxNCwyLjQxNFxcbiAgICAgICAgICAgIEMxOC4zOTUsMy4zOTQsMTguNSwzLjY0OSwxOC41LDMuOTE0VjQuNVxcbiAgICAgICAgICAgIE0xOC41LDIyLjVjMCwwLjU1Mi0wLjQ0OCwxLTEsMWgtMTFjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTloMTNWMjIuNXpcXG4gICAgICAgICAgICBNMy41LDguNDk5XFxuICAgICAgICAgICAgYzAuNTUyLDAsMSwwLjQ0OCwxLDFzLTAuNDQ4LDEtMSwxcy0xLTAuNDQ4LTEtMVMyLjk0OCw4LjQ5OSwzLjUsOC40OTl6XFxuICAgICAgICAgICAgTTE0LjUsMC40OTl2NGg0XCIgfSkpKTsgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFByaW50QnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGVuYWJsZVNob3J0Y3V0cyA9IF9hLmVuYWJsZVNob3J0Y3V0cywgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5wcmludCA/IGwxMG4ucHJpbnQucHJpbnQgOiAnUHJpbnQnO1xuICAgIHZhciBhcmlhS2V5U2hvcnRjdXRzID0gZW5hYmxlU2hvcnRjdXRzID8gKGNvcmUuaXNNYWMoKSA/ICdNZXRhK1AnIDogJ0N0cmwrUCcpIDogJyc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJwcmludFwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhS2V5U2hvcnRjdXRzOiBhcmlhS2V5U2hvcnRjdXRzLCBhcmlhTGFiZWw6IGxhYmVsLCB0ZXN0SWQ6IFwicHJpbnRfX2J1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbnRJY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUIH0pKTtcbn07XG5cbnZhciBQcmludFN0YXR1cztcbihmdW5jdGlvbiAoUHJpbnRTdGF0dXMpIHtcbiAgICBQcmludFN0YXR1c1tcIkNoZWNraW5nUGVybWlzc2lvblwiXSA9IFwiQ2hlY2tpbmdQZXJtaXNzaW9uXCI7XG4gICAgUHJpbnRTdGF0dXNbXCJJbmFjdGl2ZVwiXSA9IFwiSW5hY3RpdmVcIjtcbiAgICBQcmludFN0YXR1c1tcIlByZXBhcmluZ1wiXSA9IFwiUHJlcGFyaW5nXCI7XG4gICAgUHJpbnRTdGF0dXNbXCJDYW5jZWxsZWRcIl0gPSBcIkNhbmNlbGxlZFwiO1xuICAgIFByaW50U3RhdHVzW1wiUmVhZHlcIl0gPSBcIlJlYWR5XCI7XG59KShQcmludFN0YXR1cyB8fCAoUHJpbnRTdGF0dXMgPSB7fSkpO1xuXG52YXIgUHJpbnQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBwcmludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUudXBkYXRlKCdwcmludFN0YXR1cycsIFByaW50U3RhdHVzLkNoZWNraW5nUGVybWlzc2lvbik7XG4gICAgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgUHJpbnRCdXR0b247XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIGVuYWJsZVNob3J0Y3V0czogZW5hYmxlU2hvcnRjdXRzLFxuICAgICAgICBvbkNsaWNrOiBwcmludCxcbiAgICB9KTtcbn07XG5cbnZhciBQRVJNSVNTSU9OX1BSSU5UID0gNDtcbnZhciBQRVJNSVNTSU9OX1BSSU5UX0hJR0hUX1FVQUxJVFkgPSAyMDQ4O1xudmFyIENoZWNrUHJpbnRQZXJtaXNzaW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh0cnVlKSwgaXNBbGxvd2VkID0gX2JbMF0sIHNldElzQWxsb3dlZCA9IF9iWzFdO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jLmdldFBlcm1pc3Npb25zKCkudGhlbihmdW5jdGlvbiAocGVybWlzc2lvbnMpIHtcbiAgICAgICAgICAgIHZhciBjYW5QcmludCA9IHBlcm1pc3Npb25zID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnMuaW5jbHVkZXMoUEVSTUlTU0lPTl9QUklOVCkgfHxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucy5pbmNsdWRlcyhQRVJNSVNTSU9OX1BSSU5UX0hJR0hUX1FVQUxJVFkpO1xuICAgICAgICAgICAgY2FuUHJpbnQgPyBzdG9yZS51cGRhdGUoJ3ByaW50U3RhdHVzJywgUHJpbnRTdGF0dXMuUHJlcGFyaW5nKSA6IHNldElzQWxsb3dlZChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gaXNBbGxvd2VkID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTW9kYWwsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInByaW50LXBlcm1pc3Npb25cIiwgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UsIGNsb3NlT25Fc2NhcGU6IGZhbHNlLCBjb250ZW50OiBmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgICAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdwcmludFN0YXR1cycsIFByaW50U3RhdHVzLkNhbmNlbGxlZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByaW50X19wZXJtaXNzaW9uLWJvZHlcIiB9LCBsMTBuICYmIGwxMG4ucHJpbnRcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByaW50LmRpc2FsbG93UHJpbnRcbiAgICAgICAgICAgICAgICAgICAgOiAnVGhlIGRvY3VtZW50IGRvZXMgbm90IGFsbG93IHRvIHByaW50JyksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcmludF9fcGVybWlzc2lvbi1mb290ZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5CdXR0b24sIHsgb25DbGljazogY2xvc2UgfSwgbDEwbiAmJiBsMTBuLnByaW50ID8gbDEwbi5wcmludC5jbG9zZSA6ICdDbG9zZScpKSkpO1xuICAgICAgICB9LCBpc09wZW5lZDogdHJ1ZSB9KSk7XG59O1xuXG52YXIgUHJpbnRQcm9ncmVzcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBudW1Mb2FkZWRQYWdlcyA9IF9hLm51bUxvYWRlZFBhZ2VzLCBudW1QYWdlcyA9IF9hLm51bVBhZ2VzLCBvbkNhbmNlbCA9IF9hLm9uQ2FuY2VsO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIHByb2dyZXNzID0gTWF0aC5mbG9vcigobnVtTG9hZGVkUGFnZXMgKiAxMDApIC8gbnVtUGFnZXMpO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcmludF9fcHJvZ3Jlc3NcIiB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgJ3Jwdi1wcmludF9fcHJvZ3Jlc3MtYm9keSc6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3Jwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICB9KSB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcmludF9fcHJvZ3Jlc3MtbWVzc2FnZVwiIH0sIGwxMG4gJiYgbDEwbi5wcmludFxuICAgICAgICAgICAgICAgID8gbDEwbi5wcmludC5wcmVwYXJpbmdEb2N1bWVudFxuICAgICAgICAgICAgICAgIDogJ1ByZXBhcmluZyBkb2N1bWVudCAuLi4nKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJpbnRfX3Byb2dyZXNzLWJhclwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuUHJvZ3Jlc3NCYXIsIHsgcHJvZ3Jlc3M6IHByb2dyZXNzIH0pKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkJ1dHRvbiwgeyBvbkNsaWNrOiBvbkNhbmNlbCB9LCBsMTBuICYmIGwxMG4ucHJpbnQgPyBsMTBuLnByaW50LmNhbmNlbCA6ICdDYW5jZWwnKSkpKTtcbn07XG5cbnZhciBQYWdlVGh1bWJuYWlsID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNhbnZhcyA9IF9hLmNhbnZhcywgcGFnZSA9IF9hLnBhZ2UsIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIG9uTG9hZCA9IF9hLm9uTG9hZDtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcmVuZGVyVGFzay5jdXJyZW50O1xuICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgdGFzay5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJpbnRVbml0ID0gMTUwIC8gNzI7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHBhZ2VIZWlnaHQgKiBwcmludFVuaXQpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKHBhZ2VXaWR0aCAqIHByaW50VW5pdCk7XG4gICAgICAgIHZhciBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGNhbnZhc0NvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknO1xuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgcm90YXRpb246IHJvdGF0aW9uLCBzY2FsZTogMSB9KTtcbiAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50ID0gcGFnZS5yZW5kZXIoe1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dDogY2FudmFzQ29udGV4dCxcbiAgICAgICAgICAgIGludGVudDogJ3ByaW50JyxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW3ByaW50VW5pdCwgMCwgMCwgcHJpbnRVbml0LCAwLCAwXSxcbiAgICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbmRlclRhc2suY3VycmVudC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJ3RvQmxvYicgaW4gY2FudmFzXG4gICAgICAgICAgICAgICAgPyBjYW52YXMudG9CbG9iKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNyYyhVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogc2V0U3JjKGNhbnZhcy50b0RhdGFVUkwoKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoc3JjICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByaW50X19wYWdlXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHsgc3JjOiBzcmMsIG9uTG9hZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb25Mb2FkKCk7IH0gfSkpKSk7XG59O1xuXG52YXIgUGFnZVRodW1ibmFpbENvbnRhaW5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjYW52YXMgPSBfYS5jYW52YXMsIGRvYyA9IF9hLmRvYywgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uID0gX2EucGFnZVJvdGF0aW9uLCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIG9uTG9hZCA9IF9hLm9uTG9hZDtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHtcbiAgICAgICAgaGVpZ2h0OiBwYWdlSGVpZ2h0LFxuICAgICAgICBwYWdlOiBudWxsLFxuICAgICAgICB2aWV3cG9ydFJvdGF0aW9uOiAwLFxuICAgICAgICB3aWR0aDogcGFnZVdpZHRoLFxuICAgIH0pLCBwYWdlU2l6ZSA9IF9iWzBdLCBzZXRQYWdlU2l6ZSA9IF9iWzFdO1xuICAgIHZhciBwYWdlID0gcGFnZVNpemUucGFnZSwgaGVpZ2h0ID0gcGFnZVNpemUuaGVpZ2h0LCB3aWR0aCA9IHBhZ2VTaXplLndpZHRoO1xuICAgIHZhciBpc1ZlcnRpY2FsID0gTWF0aC5hYnMocm90YXRpb24gKyBwYWdlUm90YXRpb24pICUgMTgwID09PSAwO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29yZS5nZXRQYWdlKGRvYywgcGFnZUluZGV4KS50aGVuKGZ1bmN0aW9uIChwZGZQYWdlKSB7XG4gICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwZGZQYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IDEgfSk7XG4gICAgICAgICAgICBzZXRQYWdlU2l6ZSh7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgcGFnZTogcGRmUGFnZSxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydFJvdGF0aW9uOiB2aWV3cG9ydC5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICB3aWR0aDogdmlld3BvcnQud2lkdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciByb3RhdGlvbk51bWJlciA9IChwYWdlU2l6ZS52aWV3cG9ydFJvdGF0aW9uICsgcm90YXRpb24gKyBwYWdlUm90YXRpb24pICUgMzYwO1xuICAgIHJldHVybiAocGFnZSAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFBhZ2VUaHVtYm5haWwsIHsgY2FudmFzOiBjYW52YXMsIHBhZ2U6IHBhZ2UsIHBhZ2VIZWlnaHQ6IGlzVmVydGljYWwgPyBoZWlnaHQgOiB3aWR0aCwgcGFnZVdpZHRoOiBpc1ZlcnRpY2FsID8gd2lkdGggOiBoZWlnaHQsIHJvdGF0aW9uOiByb3RhdGlvbk51bWJlciwgb25Mb2FkOiBvbkxvYWQgfSkpKTtcbn07XG5cbnZhciBQcmludFpvbmUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBudW1Mb2FkZWRQYWdlcyA9IF9hLm51bUxvYWRlZFBhZ2VzLCBwYWdlc1JvdGF0aW9uID0gX2EucGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VXaWR0aCA9IF9hLnBhZ2VXaWR0aCwgcHJpbnRTdGF0dXMgPSBfYS5wcmludFN0YXR1cywgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgb25DYW5jZWwgPSBfYS5vbkNhbmNlbCwgb25Mb2FkID0gX2Eub25Mb2FkO1xuICAgIHZhciBjYW52YXMgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7IH0sIFtdKTtcbiAgICB2YXIgY29udGFpbmVyID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHpvbmVFbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucnB2LXByaW50X196b25lJyk7XG4gICAgICAgIGlmICh6b25lRWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gem9uZUVsZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdycHYtcHJpbnRfX3pvbmUnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChwcmludFN0YXR1cyA9PT0gUHJpbnRTdGF0dXMuUmVhZHkpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdycHYtcHJpbnRfX2h0bWwtcHJpbnRpbmcnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncnB2LXByaW50X19ib2R5LXByaW50aW5nJyk7XG4gICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChwcmludFN0YXR1cyA9PT0gUHJpbnRTdGF0dXMuUmVhZHkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXByaW50X19odG1sLXByaW50aW5nJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdycHYtcHJpbnRfX2JvZHktcHJpbnRpbmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgem9uZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucnB2LXByaW50X196b25lJyk7XG4gICAgICAgICAgICAgICAgaWYgKHpvbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmVzLmZvckVhY2goZnVuY3Rpb24gKHpvbmVFbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmVFbGUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh6b25lRWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgb25DYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVyKTsgfTtcbiAgICB9LCBbcHJpbnRTdGF0dXNdKTtcbiAgICByZXR1cm4gcmVhY3REb20uY3JlYXRlUG9ydGFsKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBBcnJheShNYXRoLm1pbihudW1Mb2FkZWRQYWdlcyArIDEsIGRvYy5udW1QYWdlcykpXG4gICAgICAgICAgICAuZmlsbCgwKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUGFnZVRodW1ibmFpbENvbnRhaW5lciwgeyBrZXk6IGluZGV4LCBjYW52YXM6IGNhbnZhcywgZG9jOiBkb2MsIHBhZ2VIZWlnaHQ6IHBhZ2VIZWlnaHQsIHBhZ2VJbmRleDogaW5kZXgsIHBhZ2VSb3RhdGlvbjogcGFnZXNSb3RhdGlvbi5oYXMoaW5kZXgpID8gcGFnZXNSb3RhdGlvbi5nZXQoaW5kZXgpIDogMCwgcGFnZVdpZHRoOiBwYWdlV2lkdGgsIHJvdGF0aW9uOiByb3RhdGlvbiwgb25Mb2FkOiBvbkxvYWQgfSkpOyB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgIF9faHRtbDogXCJAcGFnZSB7IHNpemU6IFwiLmNvbmNhdChwYWdlV2lkdGgsIFwicHQgXCIpLmNvbmNhdChwYWdlSGVpZ2h0LCBcInB0IH1cIiksXG4gICAgICAgICAgICB9IH0pKSwgY29udGFpbmVyKTtcbn07XG5cbnZhciBQcmludENvbnRhaW5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkb2MgPSBfYS5kb2MsIHBhZ2VzUm90YXRpb24gPSBfYS5wYWdlc1JvdGF0aW9uLCBwYWdlSGVpZ2h0ID0gX2EucGFnZUhlaWdodCwgcGFnZVdpZHRoID0gX2EucGFnZVdpZHRoLCByb3RhdGlvbiA9IF9hLnJvdGF0aW9uLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoUHJpbnRTdGF0dXMuSW5hY3RpdmUpLCBwcmludFN0YXR1cyA9IF9iWzBdLCBzZXRQcmludFN0YXR1cyA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoMCksIG51bUxvYWRlZFBhZ2VzRm9yUHJpbnQgPSBfY1swXSwgc2V0TnVtTG9hZGVkUGFnZXNGb3JQcmludCA9IF9jWzFdO1xuICAgIHZhciBjYW5jZWxQcmludGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0TnVtTG9hZGVkUGFnZXNGb3JQcmludCgwKTtcbiAgICAgICAgc2V0UHJpbnRTdGF0dXMoUHJpbnRTdGF0dXMuSW5hY3RpdmUpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVByaW50U3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykgeyByZXR1cm4gc2V0UHJpbnRTdGF0dXMoc3RhdHVzKTsgfTtcbiAgICB2YXIgb25Mb2FkUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gbnVtTG9hZGVkUGFnZXNGb3JQcmludCArIDE7XG4gICAgICAgIGlmICh0b3RhbCA8PSBkb2MubnVtUGFnZXMpIHtcbiAgICAgICAgICAgIHNldE51bUxvYWRlZFBhZ2VzRm9yUHJpbnQodG90YWwpO1xuICAgICAgICAgICAgdG90YWwgPT09IGRvYy5udW1QYWdlcyAmJiBzZXRQcmludFN0YXR1cyhQcmludFN0YXR1cy5SZWFkeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdwcmludFN0YXR1cycsIGhhbmRsZVByaW50U3RhdHVzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdwcmludFN0YXR1cycsIGhhbmRsZVByaW50U3RhdHVzKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgcHJpbnRTdGF0dXMgPT09IFByaW50U3RhdHVzLkNoZWNraW5nUGVybWlzc2lvbiAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQ2hlY2tQcmludFBlcm1pc3Npb24sIHsgZG9jOiBkb2MsIHN0b3JlOiBzdG9yZSB9KSxcbiAgICAgICAgcHJpbnRTdGF0dXMgPT09IFByaW50U3RhdHVzLlByZXBhcmluZyAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50UHJvZ3Jlc3MsIHsgbnVtTG9hZGVkUGFnZXM6IG51bUxvYWRlZFBhZ2VzRm9yUHJpbnQsIG51bVBhZ2VzOiBkb2MubnVtUGFnZXMsIG9uQ2FuY2VsOiBjYW5jZWxQcmludGluZyB9KSksXG4gICAgICAgIChwcmludFN0YXR1cyA9PT0gUHJpbnRTdGF0dXMuUHJlcGFyaW5nIHx8IHByaW50U3RhdHVzID09PSBQcmludFN0YXR1cy5SZWFkeSkgJiZcbiAgICAgICAgICAgIG51bUxvYWRlZFBhZ2VzRm9yUHJpbnQgPD0gZG9jLm51bVBhZ2VzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbnRab25lLCB7IGRvYzogZG9jLCBudW1Mb2FkZWRQYWdlczogbnVtTG9hZGVkUGFnZXNGb3JQcmludCwgcGFnZXNSb3RhdGlvbjogcGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgcGFnZVdpZHRoOiBwYWdlV2lkdGgsIHByaW50U3RhdHVzOiBwcmludFN0YXR1cywgcm90YXRpb246IHJvdGF0aW9uLCBvbkNhbmNlbDogY2FuY2VsUHJpbnRpbmcsIG9uTG9hZDogb25Mb2FkUGFnZSB9KSkpKTtcbn07XG5cbnZhciBQcmludE1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucHJpbnQgPyBsMTBuLnByaW50LnByaW50IDogJ1ByaW50JztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVJdGVtLCB7IGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludEljb24sIG51bGwpLCB0ZXN0SWQ6IFwicHJpbnRfX21lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIFNob3J0Y3V0SGFuZGxlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb250YWluZXJSZWYgPSBfYS5jb250YWluZXJSZWYsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkgfHwgZS5rZXkgIT09ICdwJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5O1xuICAgICAgICBpZiAoIWlzQ29tbWFuZFByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgncHJpbnRTdGF0dXMnLCBQcmludFN0YXR1cy5QcmVwYXJpbmcpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRhaW5lclJlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbn07XG5cbnZhciBwcmludFBsdWdpbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBwcmludFBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlIH0sIHByb3BzKTsgfSwgW10pO1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKHtcbiAgICAgICAgICAgIHByaW50U3RhdHVzOiBQcmludFN0YXR1cy5JbmFjdGl2ZSxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBQcmludERlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludCwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IHByaW50UGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzIH0sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBQcmludEJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludERlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbnRCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9KTsgfTtcbiAgICB2YXIgUHJpbnRNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludERlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbnRNZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyVmlld2VyID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHZhciBzbG90ID0gcHJvcHMuc2xvdDtcbiAgICAgICAgdmFyIHVwZGF0ZVNsb3QgPSB7XG4gICAgICAgICAgICBjaGlsZHJlbjogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgIHByaW50UGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRIYW5kbGVyLCB7IGNvbnRhaW5lclJlZjogcHJvcHMuY29udGFpbmVyUmVmLCBzdG9yZTogc3RvcmUgfSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludENvbnRhaW5lciwgeyBkb2M6IHByb3BzLmRvYywgcGFnZXNSb3RhdGlvbjogcHJvcHMucGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodDogcHJvcHMucGFnZUhlaWdodCwgcGFnZVdpZHRoOiBwcm9wcy5wYWdlV2lkdGgsIHJvdGF0aW9uOiBwcm9wcy5yb3RhdGlvbiwgc3RvcmU6IHN0b3JlIH0pLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzbG90KSwgdXBkYXRlU2xvdCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJWaWV3ZXI6IHJlbmRlclZpZXdlcixcbiAgICAgICAgUHJpbnQ6IFByaW50RGVjb3JhdG9yLFxuICAgICAgICBQcmludEJ1dHRvbjogUHJpbnRCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIFByaW50TWVudUl0ZW06IFByaW50TWVudUl0ZW1EZWNvcmF0b3IsXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuUHJpbnRJY29uID0gUHJpbnRJY29uO1xuZXhwb3J0cy5wcmludFBsdWdpbiA9IHByaW50UGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/print/lib/cjs/print.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/print/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/print/lib/index.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/print.js */ \"./node_modules/@react-pdf-viewer/print/lib/cjs/print.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJpbnQvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxxSEFBMEM7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3ByaW50L2xpYi9pbmRleC5qcz9iMzRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wcmludC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wcmludC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/print/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar InfoIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\\n            M14.5,17.005H13\\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\\n            M11.745,6.504L11.745,6.504\\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar PropertiesLoader = function (_a) {\n    var doc = _a.doc, render = _a.render;\n    var _b = React__namespace.useState(), data = _b[0], setData = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getMetadata()\n            .then(function (meta) {\n            return Promise.resolve(meta);\n        })\n            .then(function (meta) {\n            return doc.getDownloadInfo().then(function (d) {\n                return Promise.resolve({\n                    fileName: meta.contentDispositionFilename || '',\n                    info: meta.info,\n                    length: d.length,\n                });\n            });\n        })\n            .then(function (response) {\n            setData(response);\n        });\n    }, []);\n    return data ? (render(data)) : (React__namespace.createElement(\"div\", { className: \"rpv-properties__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar PropertyItem = function (_a) {\n    var label = _a.label, value = _a.value;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    return (React__namespace.createElement(\"dl\", { className: core.classNames({\n            'rpv-properties__item': true,\n            'rpv-properties__item--rtl': isRtl,\n        }) },\n        React__namespace.createElement(\"dt\", { className: \"rpv-properties__item-label\" },\n            label,\n            \":\"),\n        React__namespace.createElement(\"dd\", { className: \"rpv-properties__item-value\" }, value || '-')));\n};\n\nvar dateRegex = new RegExp('^D:' +\n    '(\\\\d{4})' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '([Z|+|-])?' +\n    '(\\\\d{2})?' +\n    \"'?\" +\n    '(\\\\d{2})?' +\n    \"'?\");\nvar parse = function (value, min, max, defaultValue) {\n    var parsed = parseInt(value, 10);\n    return parsed >= min && parsed <= max ? parsed : defaultValue;\n};\nvar convertDate = function (input) {\n    var matches = dateRegex.exec(input);\n    if (!matches) {\n        return null;\n    }\n    var year = parseInt(matches[1], 10);\n    var month = parse(matches[2], 1, 12, 1) - 1;\n    var day = parse(matches[3], 1, 31, 1);\n    var hour = parse(matches[4], 0, 23, 0);\n    var minute = parse(matches[5], 0, 59, 0);\n    var second = parse(matches[6], 0, 59, 0);\n    var universalTimeRelation = matches[7] || 'Z';\n    var offsetHour = parse(matches[8], 0, 23, 0);\n    var offsetMinute = parse(matches[9], 0, 59, 0);\n    switch (universalTimeRelation) {\n        case '-':\n            hour += offsetHour;\n            minute += offsetMinute;\n            break;\n        case '+':\n            hour -= offsetHour;\n            minute -= offsetMinute;\n            break;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n};\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar getFileSize = function (bytes) {\n    var sufixes = ['B', 'kB', 'MB', 'GB', 'TB'];\n    var i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return \"\".concat((bytes / Math.pow(1024, i)).toFixed(2), \" \").concat(sufixes[i]);\n};\n\nvar PropertiesModal = function (_a) {\n    var doc = _a.doc, fileName = _a.fileName, onToggle = _a.onToggle;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var formatDate = function (input) {\n        var date = convertDate(input);\n        return date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\n    };\n    var renderData = function (data) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.fileName\n                    : 'File name', value: data.fileName || getFileName(fileName) }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.fileSize\n                    : 'File size', value: getFileSize(data.length) })),\n        React__namespace.createElement(core.Separator, null),\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.title : 'Title', value: data.info.Title }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.author : 'Author', value: data.info.Author }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.subject : 'Subject', value: data.info.Subject }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.keywords : 'Keywords', value: data.info.Keywords }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.creator : 'Creator', value: data.info.Creator }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.creationDate\n                    : 'Creation date', value: formatDate(data.info.CreationDate) }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.modificationDate\n                    : 'Modification date', value: formatDate(data.info.ModDate) })),\n        React__namespace.createElement(core.Separator, null),\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.pdfProducer\n                    : 'PDF producer', value: data.info.Producer }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.pdfVersion\n                    : 'PDF version', value: data.info.PDFFormatVersion }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.pageCount\n                    : 'Page count', value: \"\".concat(doc.numPages) })))); };\n    return (React__namespace.createElement(\"div\", { className: \"rpv-properties__modal\" },\n        React__namespace.createElement(PropertiesLoader, { doc: doc, render: renderData }),\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-footer\" },\n            React__namespace.createElement(core.Button, { onClick: onToggle }, l10n && l10n.properties ? l10n.properties.close : 'Close'))));\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ShowPropertiesButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"properties\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"properties__button\", onClick: onClick },\n            React__namespace.createElement(InfoIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar useDocument = function (store) {\n    var _a = React__namespace.useState(store.get('doc')), currentDoc = _a[0], setCurrentDoc = _a[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return { currentDoc: currentDoc };\n};\n\nvar ShowProperties = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentDoc = useDocument(store).currentDoc;\n    var fileName = store.get('fileName') || '';\n    var defaultChildren = function (props) { return React__namespace.createElement(ShowPropertiesButton, __assign({}, props)); };\n    var render = children || defaultChildren;\n    return currentDoc ? (React__namespace.createElement(core.Modal, { ariaControlsSuffix: \"properties\", target: function (toggle) {\n            return render({\n                onClick: toggle,\n            });\n        }, content: function (toggle) { return React__namespace.createElement(PropertiesModal, { doc: currentDoc, fileName: fileName, onToggle: toggle }); }, closeOnClickOutside: true, closeOnEscape: true })) : (React__namespace.createElement(React__namespace.Fragment, null));\n};\n\nvar ShowPropertiesMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(InfoIcon, null), testId: \"properties__menu\", onClick: onClick }, label));\n};\n\nvar propertiesPlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            fileName: '',\n        });\n    }, []);\n    var ShowPropertiesDecorator = function (props) { return React__namespace.createElement(ShowProperties, __assign({}, props, { store: store })); };\n    var ShowPropertiesButtonDecorator = function () { return React__namespace.createElement(ShowProperties, { store: store }); };\n    var ShowPropertiesMenuItemDecorator = function (props) { return (React__namespace.createElement(ShowPropertiesDecorator, null, function (p) { return React__namespace.createElement(ShowPropertiesMenuItem, __assign({}, p)); })); };\n    return {\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('fileName', viewerState.file.name);\n            return viewerState;\n        },\n        ShowProperties: ShowPropertiesDecorator,\n        ShowPropertiesButton: ShowPropertiesButtonDecorator,\n        ShowPropertiesMenuItem: ShowPropertiesMenuItemDecorator,\n    };\n};\n\nexports.InfoIcon = InfoIcon;\nexports.propertiesPlugin = propertiesPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcy9saWIvY2pzL3Byb3BlcnRpZXMuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw2QkFBNkIsb0RBQW9ELFVBQVU7QUFDM0YsNkNBQTZDLHlXQUF5Vzs7QUFFdFo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDRFQUE0RSxxQ0FBcUM7QUFDakg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0EsU0FBUyxHQUFHO0FBQ1osK0NBQStDLHlDQUF5QztBQUN4RjtBQUNBO0FBQ0EsK0NBQStDLHlDQUF5QztBQUN4Rjs7QUFFQTtBQUNBLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaO0FBQ0EsVUFBVSxFQUFFO0FBQ1o7QUFDQSxVQUFVLEVBQUU7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGdEQUFnRCw0Q0FBNEM7QUFDNUYsMkRBQTJEO0FBQzNEO0FBQ0Esa0ZBQWtGO0FBQ2xGLDJEQUEyRDtBQUMzRDtBQUNBLG9FQUFvRTtBQUNwRTtBQUNBLGdEQUFnRCw0Q0FBNEM7QUFDNUYsMkRBQTJELDBGQUEwRjtBQUNySiwyREFBMkQsNkZBQTZGO0FBQ3hKLDJEQUEyRCxnR0FBZ0c7QUFDM0osMkRBQTJELG1HQUFtRztBQUM5SiwyREFBMkQsZ0dBQWdHO0FBQzNKLDJEQUEyRDtBQUMzRDtBQUNBLGtGQUFrRjtBQUNsRiwyREFBMkQ7QUFDM0Q7QUFDQSxpRkFBaUY7QUFDakY7QUFDQSxnREFBZ0QsNENBQTRDO0FBQzVGLDJEQUEyRDtBQUMzRDtBQUNBLGlFQUFpRTtBQUNqRSwyREFBMkQ7QUFDM0Q7QUFDQSx3RUFBd0U7QUFDeEUsMkRBQTJEO0FBQzNEO0FBQ0Esb0VBQW9FO0FBQ3BFLG9EQUFvRCxvQ0FBb0M7QUFDeEYsMkRBQTJELDhCQUE4QjtBQUN6RixnREFBZ0QsMkNBQTJDO0FBQzNGLDBEQUEwRCxtQkFBbUI7QUFDN0U7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHFJQUFxSSxrRUFBa0U7QUFDbFEsb0ZBQW9GLGVBQWUsMEJBQTBCO0FBQzdIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1RUFBdUU7QUFDcEg7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLCtCQUErQix5REFBeUQsdURBQXVELElBQUksa0RBQWtEO0FBQzlNOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9HQUFvRztBQUNoSzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wscURBQXFELGlFQUFpRSxXQUFXLGNBQWM7QUFDL0ksc0RBQXNELHdEQUF3RCxjQUFjO0FBQzVILDZEQUE2RCxxRkFBcUYseUVBQXlFLFFBQVE7QUFDbk87QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQix3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3Byb3BlcnRpZXMvbGliL2Nqcy9wcm9wZXJ0aWVzLmpzPzNiYmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBJbmZvSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyLDEuMDAxYzYuMDc1LDAsMTEsNC45MjUsMTEsMTFzLTQuOTI1LDExLTExLDExcy0xMS00LjkyNS0xMS0xMVM1LjkyNSwxLjAwMSwxMiwxLjAwMXpcXG4gICAgICAgICAgICBNMTQuNSwxNy4wMDVIMTNcXG4gICAgICAgICAgICBjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTYuNWMwLTAuMjc2LTAuMjI0LTAuNS0wLjUtMC41SDEwXFxuICAgICAgICAgICAgTTExLjc0NSw2LjUwNEwxMS43NDUsNi41MDRcXG4gICAgICAgICAgICBNMTEuNzQ1LDYuNWMtMC4xMzgsMC0wLjI1LDAuMTEyLTAuMjUsMC4yNVxcbiAgICAgICAgICAgIFMxMS42MDcsNywxMS43NDUsN3MwLjI1LTAuMTEyLDAuMjUtMC4yNVMxMS44ODMsNi41LDExLjc0NSw2LjVcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBQcm9wZXJ0aWVzTG9hZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgcmVuZGVyID0gX2EucmVuZGVyO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoKSwgZGF0YSA9IF9iWzBdLCBzZXREYXRhID0gX2JbMV07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2MuZ2V0TWV0YWRhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG1ldGEpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobWV0YSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRvYy5nZXREb3dubG9hZEluZm8oKS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBtZXRhLmNvbnRlbnREaXNwb3NpdGlvbkZpbGVuYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBpbmZvOiBtZXRhLmluZm8sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogZC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgc2V0RGF0YShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gZGF0YSA/IChyZW5kZXIoZGF0YSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19fbG9hZGVyXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpKTtcbn07XG5cbnZhciBQcm9wZXJ0eUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbGFiZWwgPSBfYS5sYWJlbCwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkbFwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtcHJvcGVydGllc19faXRlbSc6IHRydWUsXG4gICAgICAgICAgICAncnB2LXByb3BlcnRpZXNfX2l0ZW0tLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkdFwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19faXRlbS1sYWJlbFwiIH0sXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIFwiOlwiKSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGRcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByb3BlcnRpZXNfX2l0ZW0tdmFsdWVcIiB9LCB2YWx1ZSB8fCAnLScpKSk7XG59O1xuXG52YXIgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXkQ6JyArXG4gICAgJyhcXFxcZHs0fSknICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFtafCt8LV0pPycgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgIFwiJz9cIiArXG4gICAgJyhcXFxcZHsyfSk/JyArXG4gICAgXCInP1wiKTtcbnZhciBwYXJzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgbWluLCBtYXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIHJldHVybiBwYXJzZWQgPj0gbWluICYmIHBhcnNlZCA8PSBtYXggPyBwYXJzZWQgOiBkZWZhdWx0VmFsdWU7XG59O1xudmFyIGNvbnZlcnREYXRlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIG1hdGNoZXMgPSBkYXRlUmVnZXguZXhlYyhpbnB1dCk7XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgeWVhciA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKTtcbiAgICB2YXIgbW9udGggPSBwYXJzZShtYXRjaGVzWzJdLCAxLCAxMiwgMSkgLSAxO1xuICAgIHZhciBkYXkgPSBwYXJzZShtYXRjaGVzWzNdLCAxLCAzMSwgMSk7XG4gICAgdmFyIGhvdXIgPSBwYXJzZShtYXRjaGVzWzRdLCAwLCAyMywgMCk7XG4gICAgdmFyIG1pbnV0ZSA9IHBhcnNlKG1hdGNoZXNbNV0sIDAsIDU5LCAwKTtcbiAgICB2YXIgc2Vjb25kID0gcGFyc2UobWF0Y2hlc1s2XSwgMCwgNTksIDApO1xuICAgIHZhciB1bml2ZXJzYWxUaW1lUmVsYXRpb24gPSBtYXRjaGVzWzddIHx8ICdaJztcbiAgICB2YXIgb2Zmc2V0SG91ciA9IHBhcnNlKG1hdGNoZXNbOF0sIDAsIDIzLCAwKTtcbiAgICB2YXIgb2Zmc2V0TWludXRlID0gcGFyc2UobWF0Y2hlc1s5XSwgMCwgNTksIDApO1xuICAgIHN3aXRjaCAodW5pdmVyc2FsVGltZVJlbGF0aW9uKSB7XG4gICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgaG91ciArPSBvZmZzZXRIb3VyO1xuICAgICAgICAgICAgbWludXRlICs9IG9mZnNldE1pbnV0ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgIGhvdXIgLT0gb2Zmc2V0SG91cjtcbiAgICAgICAgICAgIG1pbnV0ZSAtPSBvZmZzZXRNaW51dGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kKSk7XG59O1xuXG52YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgdmFyIHN0ciA9IHVybC5zcGxpdCgnLycpLnBvcCgpO1xuICAgIHJldHVybiBzdHIgPyBzdHIuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdIDogdXJsO1xufTtcblxudmFyIGdldEZpbGVTaXplID0gZnVuY3Rpb24gKGJ5dGVzKSB7XG4gICAgdmFyIHN1Zml4ZXMgPSBbJ0InLCAna0InLCAnTUInLCAnR0InLCAnVEInXTtcbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coMTAyNCkpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdCgoYnl0ZXMgLyBNYXRoLnBvdygxMDI0LCBpKSkudG9GaXhlZCgyKSwgXCIgXCIpLmNvbmNhdChzdWZpeGVzW2ldKTtcbn07XG5cbnZhciBQcm9wZXJ0aWVzTW9kYWwgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBmaWxlTmFtZSA9IF9hLmZpbGVOYW1lLCBvblRvZ2dsZSA9IF9hLm9uVG9nZ2xlO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGNvbnZlcnREYXRlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGRhdGUgPyBcIlwiLmNvbmNhdChkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpLCBcIiwgXCIpLmNvbmNhdChkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpKSA6ICcnO1xuICAgIH07XG4gICAgdmFyIHJlbmRlckRhdGEgPSBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByb3BlcnRpZXNfX21vZGFsLXNlY3Rpb25cIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMuZmlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiAnRmlsZSBuYW1lJywgdmFsdWU6IGRhdGEuZmlsZU5hbWUgfHwgZ2V0RmlsZU5hbWUoZmlsZU5hbWUpIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMuZmlsZVNpemVcbiAgICAgICAgICAgICAgICAgICAgOiAnRmlsZSBzaXplJywgdmFsdWU6IGdldEZpbGVTaXplKGRhdGEubGVuZ3RoKSB9KSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNlcGFyYXRvciwgbnVsbCksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19fbW9kYWwtc2VjdGlvblwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy50aXRsZSA6ICdUaXRsZScsIHZhbHVlOiBkYXRhLmluZm8uVGl0bGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5hdXRob3IgOiAnQXV0aG9yJywgdmFsdWU6IGRhdGEuaW5mby5BdXRob3IgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5zdWJqZWN0IDogJ1N1YmplY3QnLCB2YWx1ZTogZGF0YS5pbmZvLlN1YmplY3QgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5rZXl3b3JkcyA6ICdLZXl3b3JkcycsIHZhbHVlOiBkYXRhLmluZm8uS2V5d29yZHMgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5jcmVhdG9yIDogJ0NyZWF0b3InLCB2YWx1ZTogZGF0YS5pbmZvLkNyZWF0b3IgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICA/IGwxMG4ucHJvcGVydGllcy5jcmVhdGlvbkRhdGVcbiAgICAgICAgICAgICAgICAgICAgOiAnQ3JlYXRpb24gZGF0ZScsIHZhbHVlOiBmb3JtYXREYXRlKGRhdGEuaW5mby5DcmVhdGlvbkRhdGUpIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMubW9kaWZpY2F0aW9uRGF0ZVxuICAgICAgICAgICAgICAgICAgICA6ICdNb2RpZmljYXRpb24gZGF0ZScsIHZhbHVlOiBmb3JtYXREYXRlKGRhdGEuaW5mby5Nb2REYXRlKSB9KSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNlcGFyYXRvciwgbnVsbCksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19fbW9kYWwtc2VjdGlvblwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICA/IGwxMG4ucHJvcGVydGllcy5wZGZQcm9kdWNlclxuICAgICAgICAgICAgICAgICAgICA6ICdQREYgcHJvZHVjZXInLCB2YWx1ZTogZGF0YS5pbmZvLlByb2R1Y2VyIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMucGRmVmVyc2lvblxuICAgICAgICAgICAgICAgICAgICA6ICdQREYgdmVyc2lvbicsIHZhbHVlOiBkYXRhLmluZm8uUERGRm9ybWF0VmVyc2lvbiB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcm9wZXJ0eUl0ZW0sIHsgbGFiZWw6IGwxMG4gJiYgbDEwbi5wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgID8gbDEwbi5wcm9wZXJ0aWVzLnBhZ2VDb3VudFxuICAgICAgICAgICAgICAgICAgICA6ICdQYWdlIGNvdW50JywgdmFsdWU6IFwiXCIuY29uY2F0KGRvYy5udW1QYWdlcykgfSkpKSk7IH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByb3BlcnRpZXNfX21vZGFsXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnRpZXNMb2FkZXIsIHsgZG9jOiBkb2MsIHJlbmRlcjogcmVuZGVyRGF0YSB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcm9wZXJ0aWVzX19tb2RhbC1mb290ZXJcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuQnV0dG9uLCB7IG9uQ2xpY2s6IG9uVG9nZ2xlIH0sIGwxMG4gJiYgbDEwbi5wcm9wZXJ0aWVzID8gbDEwbi5wcm9wZXJ0aWVzLmNsb3NlIDogJ0Nsb3NlJykpKSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFNob3dQcm9wZXJ0aWVzQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5zaG93UHJvcGVydGllcyA6ICdTaG93IHByb3BlcnRpZXMnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwicHJvcGVydGllc1wiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IGxhYmVsLCB0ZXN0SWQ6IFwicHJvcGVydGllc19fYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChJbmZvSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgdXNlRG9jdW1lbnQgPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgX2EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnZG9jJykpLCBjdXJyZW50RG9jID0gX2FbMF0sIHNldEN1cnJlbnREb2MgPSBfYVsxXTtcbiAgICB2YXIgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBzZXRDdXJyZW50RG9jKGRvYyk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBjdXJyZW50RG9jOiBjdXJyZW50RG9jIH07XG59O1xuXG52YXIgU2hvd1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgY3VycmVudERvYyA9IHVzZURvY3VtZW50KHN0b3JlKS5jdXJyZW50RG9jO1xuICAgIHZhciBmaWxlTmFtZSA9IHN0b3JlLmdldCgnZmlsZU5hbWUnKSB8fCAnJztcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXNCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTW9kYWwsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInByb3BlcnRpZXNcIiwgdGFyZ2V0OiBmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiB0b2dnbGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY29udGVudDogZnVuY3Rpb24gKHRvZ2dsZSkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnRpZXNNb2RhbCwgeyBkb2M6IGN1cnJlbnREb2MsIGZpbGVOYW1lOiBmaWxlTmFtZSwgb25Ub2dnbGU6IHRvZ2dsZSB9KTsgfSwgY2xvc2VPbkNsaWNrT3V0c2lkZTogdHJ1ZSwgY2xvc2VPbkVzY2FwZTogdHJ1ZSB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpKTtcbn07XG5cbnZhciBTaG93UHJvcGVydGllc01lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5zaG93UHJvcGVydGllcyA6ICdTaG93IHByb3BlcnRpZXMnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEluZm9JY29uLCBudWxsKSwgdGVzdElkOiBcInByb3BlcnRpZXNfX21lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIHByb3BlcnRpZXNQbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoe1xuICAgICAgICAgICAgZmlsZU5hbWU6ICcnLFxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIFNob3dQcm9wZXJ0aWVzRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXMsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBTaG93UHJvcGVydGllc0J1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93UHJvcGVydGllcywgeyBzdG9yZTogc3RvcmUgfSk7IH07XG4gICAgdmFyIFNob3dQcm9wZXJ0aWVzTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXNEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXNNZW51SXRlbSwgX19hc3NpZ24oe30sIHApKTsgfSkpOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25WaWV3ZXJTdGF0ZUNoYW5nZTogZnVuY3Rpb24gKHZpZXdlclN0YXRlKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2ZpbGVOYW1lJywgdmlld2VyU3RhdGUuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB2aWV3ZXJTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgU2hvd1Byb3BlcnRpZXM6IFNob3dQcm9wZXJ0aWVzRGVjb3JhdG9yLFxuICAgICAgICBTaG93UHJvcGVydGllc0J1dHRvbjogU2hvd1Byb3BlcnRpZXNCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIFNob3dQcm9wZXJ0aWVzTWVudUl0ZW06IFNob3dQcm9wZXJ0aWVzTWVudUl0ZW1EZWNvcmF0b3IsXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuSW5mb0ljb24gPSBJbmZvSWNvbjtcbmV4cG9ydHMucHJvcGVydGllc1BsdWdpbiA9IHByb3BlcnRpZXNQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/properties/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/properties/lib/index.js ***!
  \****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/properties.js */ \"./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcy9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLG9JQUErQztBQUNuRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcy9saWIvaW5kZXguanM/OWI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcHJvcGVydGllcy5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wcm9wZXJ0aWVzLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/properties/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar RotateBackwardIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\\n            M13.5,1.75L10,4.25l3.5,2.5\" }))); };\n\nvar RotateForwardIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\\n            M10.5,1.75l3.5,2.5l-3.5,2.5\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar RotateButton = function (_a) {\n    var direction = _a.direction, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var backwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateBackward : 'Rotate counterclockwise';\n    var forwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateForward : 'Rotate clockwise';\n    var label = direction === core.RotateDirection.Backward ? backwardLabel : forwardLabel;\n    var icon = direction === core.RotateDirection.Backward ? React__namespace.createElement(RotateBackwardIcon, null) : React__namespace.createElement(RotateForwardIcon, null);\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"rotate\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: direction === core.RotateDirection.Backward ? 'rotate__backward-button' : 'rotate__forward-button', onClick: onClick }, icon), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar Rotate = function (_a) {\n    var children = _a.children, direction = _a.direction, store = _a.store;\n    var onClick = function () {\n        var rotate = store.get('rotate');\n        if (rotate) {\n            rotate(direction);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(RotateButton, { direction: props.direction, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        direction: direction,\n        onClick: onClick,\n    });\n};\n\nvar RotateMenuItem = function (_a) {\n    var direction = _a.direction, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var backwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateBackward : 'Rotate counterclockwise';\n    var forwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateForward : 'Rotate clockwise';\n    var label = direction === core.RotateDirection.Backward ? backwardLabel : forwardLabel;\n    var icon = direction === core.RotateDirection.Backward ? React__namespace.createElement(RotateBackwardIcon, null) : React__namespace.createElement(RotateForwardIcon, null);\n    return (React__namespace.createElement(core.MenuItem, { icon: icon, testId: direction === core.RotateDirection.Backward ? 'rotate__backward-menu' : 'rotate__forward-menu', onClick: onClick }, label));\n};\n\nvar RotatePage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var onRotatePage = function (pageIndex, direction) {\n        var rotatePage = store.get('rotatePage');\n        if (rotatePage) {\n            rotatePage(pageIndex, direction);\n        }\n    };\n    return children({\n        onRotatePage: onRotatePage,\n    });\n};\n\nvar rotatePlugin = function () {\n    var store = React__namespace.useMemo(function () { return core.createStore(); }, []);\n    var RotateDecorator = function (props) { return React__namespace.createElement(Rotate, __assign({}, props, { store: store })); };\n    var RotateBackwardButtonDecorator = function () { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Backward }, function (props) { return React__namespace.createElement(RotateButton, __assign({}, props)); })); };\n    var RotateBackwardMenuItemDecorator = function (props) { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Backward }, function (p) { return (React__namespace.createElement(RotateMenuItem, { direction: p.direction, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var RotateForwardButtonDecorator = function () { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Forward }, function (props) { return React__namespace.createElement(RotateButton, __assign({}, props)); })); };\n    var RotateForwardMenuItemDecorator = function (props) { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Forward }, function (p) { return (React__namespace.createElement(RotateMenuItem, { direction: p.direction, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var RotatePageDecorator = function (props) { return React__namespace.createElement(RotatePage, __assign({}, props, { store: store })); };\n    return {\n        install: function (pluginFunctions) {\n            store.update('rotate', pluginFunctions.rotate);\n            store.update('rotatePage', pluginFunctions.rotatePage);\n        },\n        Rotate: RotateDecorator,\n        RotateBackwardButton: RotateBackwardButtonDecorator,\n        RotateBackwardMenuItem: RotateBackwardMenuItemDecorator,\n        RotateForwardButton: RotateForwardButtonDecorator,\n        RotateForwardMenuItem: RotateForwardMenuItemDecorator,\n        RotatePage: RotatePageDecorator,\n    };\n};\n\nexports.RotateBackwardIcon = RotateBackwardIcon;\nexports.RotateForwardIcon = RotateForwardIcon;\nexports.rotatePlugin = rotatePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcm90YXRlL2xpYi9janMvcm90YXRlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsdUNBQXVDLG9EQUFvRCxpQ0FBaUM7QUFDNUgsNkNBQTZDLHdkQUF3ZDs7QUFFcmdCLHNDQUFzQyxvREFBb0QsaUNBQWlDO0FBQzNILDZDQUE2QywrZEFBK2Q7O0FBRTVnQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGlJQUFpSSxnSkFBZ0osZ0NBQWdDLGVBQWUsMEJBQTBCO0FBQ3JaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsdURBQXVELG9EQUFvRDtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxzSUFBc0k7QUFDbE07O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSx1REFBdUQsNEJBQTRCO0FBQ25GLDZDQUE2Qyx5REFBeUQsV0FBVyxjQUFjO0FBQy9ILHNEQUFzRCwwREFBMEQsMENBQTBDLHFCQUFxQiwrREFBK0QsWUFBWTtBQUMxUCw2REFBNkQsMERBQTBELDBDQUEwQyxpQkFBaUIseURBQXlEO0FBQzNPO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIscURBQXFELDBEQUEwRCx5Q0FBeUMscUJBQXFCLCtEQUErRCxZQUFZO0FBQ3hQLDREQUE0RCwwREFBMEQseUNBQXlDLGlCQUFpQix5REFBeUQ7QUFDek87QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQixpREFBaUQsNkRBQTZELFdBQVcsY0FBYztBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9yb3RhdGUvbGliL2Nqcy9yb3RhdGUuanM/N2E0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIFJvdGF0ZUJhY2t3YXJkSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IGlnbm9yZURpcmVjdGlvbjogdHJ1ZSwgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMy40MzQsMTAuNTM3YzAuMTQxLTAuNDM4LDAuMzE2LTAuODY0LDAuNTIzLTEuMjc0XFxuICAgICAgICAgICAgTTMuMDY5LDE0LjQyNUMzLjAyMywxNC4wNTMsMywxMy42NzksMywxMy4zMDUgYzAtMC4yOTEsMC4wMTQtMC41NzksMC4wNDEtMC44NjNcXG4gICAgICAgICAgICBNNC4zODksMTguMTExYy0wLjM0MS0wLjUzOS0wLjYyMy0xLjExMi0wLjg0My0xLjcxMVxcbiAgICAgICAgICAgIE03LjE2MywyMC45IGMtMC41NDMtMC4zNDUtMS4wNDgtMC43NDctMS41MDYtMS4yXFxuICAgICAgICAgICAgTTEwLjk4LDIyLjI0OGMtMC42NS0wLjA3NC0xLjI5LTAuMjE4LTEuOTA5LTAuNDMxXFxuICAgICAgICAgICAgTTEwLDQuMjVoMiBjNC45ODcsMC4wMTUsOS4wMTcsNC4wNjksOS4wMDMsOS4wNTVjLTAuMDEzLDQuNTgxLTMuNDU2LDguNDI2LTguMDA4LDguOTQ1XFxuICAgICAgICAgICAgTTEzLjUsMS43NUwxMCw0LjI1bDMuNSwyLjVcIiB9KSkpOyB9O1xuXG52YXIgUm90YXRlRm9yd2FyZEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBpZ25vcmVEaXJlY3Rpb246IHRydWUsIHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIwLjU2NiwxMC41MzdjLTAuMTQxLTAuNDM4LTAuMzE2LTAuODY0LTAuNTIzLTEuMjc0XFxuICAgICAgICAgICAgTTIwLjkzMSwxNC40MjVDMjAuOTc3LDE0LjA1MywyMSwxMy42NzksMjEsMTMuMzA1IGMwLTAuMjkxLTAuMDE0LTAuNTc5LTAuMDQxLTAuODYzXFxuICAgICAgICAgICAgTTE5LjYxMSwxOC4xMTFjMC4zNDEtMC41MzksMC42MjQtMS4xMTQsMC44NDMtMS43MTNcXG4gICAgICAgICAgICBNMTYuODM3LDIwLjkgYzAuNTQzLTAuMzQ1LDEuMDQ4LTAuNzQ3LDEuNTA2LTEuMlxcbiAgICAgICAgICAgIE0xMy4wMiwyMi4yNDhjMC42NS0wLjA3NCwxLjI5LTAuMjE4LDEuOTA5LTAuNDMxXFxuICAgICAgICAgICAgTTE0LDQuMjVoLTIgYy00Ljk4NywwLjAxNS05LjAxNyw0LjA2OS05LjAwMyw5LjA1NWMwLjAxMyw0LjU4MSwzLjQ1Niw4LjQyNiw4LjAwOCw4Ljk0NVxcbiAgICAgICAgICAgIE0xMC41LDEuNzVsMy41LDIuNWwtMy41LDIuNVwiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBSb3RhdGVCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gX2EuZGlyZWN0aW9uLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGJhY2t3YXJkTGFiZWwgPSBsMTBuICYmIGwxMG4ucm90YXRlID8gbDEwbi5yb3RhdGUucm90YXRlQmFja3dhcmQgOiAnUm90YXRlIGNvdW50ZXJjbG9ja3dpc2UnO1xuICAgIHZhciBmb3J3YXJkTGFiZWwgPSBsMTBuICYmIGwxMG4ucm90YXRlID8gbDEwbi5yb3RhdGUucm90YXRlRm9yd2FyZCA6ICdSb3RhdGUgY2xvY2t3aXNlJztcbiAgICB2YXIgbGFiZWwgPSBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gYmFja3dhcmRMYWJlbCA6IGZvcndhcmRMYWJlbDtcbiAgICB2YXIgaWNvbiA9IGRpcmVjdGlvbiA9PT0gY29yZS5Sb3RhdGVEaXJlY3Rpb24uQmFja3dhcmQgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlQmFja3dhcmRJY29uLCBudWxsKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVGb3J3YXJkSWNvbiwgbnVsbCk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJyb3RhdGVcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gJ3JvdGF0ZV9fYmFja3dhcmQtYnV0dG9uJyA6ICdyb3RhdGVfX2ZvcndhcmQtYnV0dG9uJywgb25DbGljazogb25DbGljayB9LCBpY29uKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQgfSkpO1xufTtcblxudmFyIFJvdGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBkaXJlY3Rpb24gPSBfYS5kaXJlY3Rpb24sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3RhdGUgPSBzdG9yZS5nZXQoJ3JvdGF0ZScpO1xuICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICByb3RhdGUoZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVCdXR0b24sIHsgZGlyZWN0aW9uOiBwcm9wcy5kaXJlY3Rpb24sIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIH0pO1xufTtcblxudmFyIFJvdGF0ZU1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IF9hLmRpcmVjdGlvbiwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBiYWNrd2FyZExhYmVsID0gbDEwbiAmJiBsMTBuLnJvdGF0ZSA/IGwxMG4ucm90YXRlLnJvdGF0ZUJhY2t3YXJkIDogJ1JvdGF0ZSBjb3VudGVyY2xvY2t3aXNlJztcbiAgICB2YXIgZm9yd2FyZExhYmVsID0gbDEwbiAmJiBsMTBuLnJvdGF0ZSA/IGwxMG4ucm90YXRlLnJvdGF0ZUZvcndhcmQgOiAnUm90YXRlIGNsb2Nrd2lzZSc7XG4gICAgdmFyIGxhYmVsID0gZGlyZWN0aW9uID09PSBjb3JlLlJvdGF0ZURpcmVjdGlvbi5CYWNrd2FyZCA/IGJhY2t3YXJkTGFiZWwgOiBmb3J3YXJkTGFiZWw7XG4gICAgdmFyIGljb24gPSBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZUJhY2t3YXJkSWNvbiwgbnVsbCkgOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlRm9yd2FyZEljb24sIG51bGwpO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogaWNvbiwgdGVzdElkOiBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gJ3JvdGF0ZV9fYmFja3dhcmQtbWVudScgOiAncm90YXRlX19mb3J3YXJkLW1lbnUnLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgUm90YXRlUGFnZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBvblJvdGF0ZVBhZ2UgPSBmdW5jdGlvbiAocGFnZUluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIHJvdGF0ZVBhZ2UgPSBzdG9yZS5nZXQoJ3JvdGF0ZVBhZ2UnKTtcbiAgICAgICAgaWYgKHJvdGF0ZVBhZ2UpIHtcbiAgICAgICAgICAgIHJvdGF0ZVBhZ2UocGFnZUluZGV4LCBkaXJlY3Rpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gY2hpbGRyZW4oe1xuICAgICAgICBvblJvdGF0ZVBhZ2U6IG9uUm90YXRlUGFnZSxcbiAgICB9KTtcbn07XG5cbnZhciByb3RhdGVQbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoKTsgfSwgW10pO1xuICAgIHZhciBSb3RhdGVEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGUsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBSb3RhdGVCYWNrd2FyZEJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlRGVjb3JhdG9yLCB7IGRpcmVjdGlvbjogY29yZS5Sb3RhdGVEaXJlY3Rpb24uQmFja3dhcmQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlQnV0dG9uLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfSkpOyB9O1xuICAgIHZhciBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZURlY29yYXRvciwgeyBkaXJlY3Rpb246IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZU1lbnVJdGVtLCB7IGRpcmVjdGlvbjogcC5kaXJlY3Rpb24sIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBSb3RhdGVGb3J3YXJkQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVEZWNvcmF0b3IsIHsgZGlyZWN0aW9uOiBjb3JlLlJvdGF0ZURpcmVjdGlvbi5Gb3J3YXJkIH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgUm90YXRlRm9yd2FyZE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZURlY29yYXRvciwgeyBkaXJlY3Rpb246IGNvcmUuUm90YXRlRGlyZWN0aW9uLkZvcndhcmQgfSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlTWVudUl0ZW0sIHsgZGlyZWN0aW9uOiBwLmRpcmVjdGlvbiwgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgdmFyIFJvdGF0ZVBhZ2VEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVQYWdlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3JvdGF0ZScsIHBsdWdpbkZ1bmN0aW9ucy5yb3RhdGUpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdyb3RhdGVQYWdlJywgcGx1Z2luRnVuY3Rpb25zLnJvdGF0ZVBhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBSb3RhdGU6IFJvdGF0ZURlY29yYXRvcixcbiAgICAgICAgUm90YXRlQmFja3dhcmRCdXR0b246IFJvdGF0ZUJhY2t3YXJkQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtOiBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBSb3RhdGVGb3J3YXJkQnV0dG9uOiBSb3RhdGVGb3J3YXJkQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBSb3RhdGVGb3J3YXJkTWVudUl0ZW06IFJvdGF0ZUZvcndhcmRNZW51SXRlbURlY29yYXRvcixcbiAgICAgICAgUm90YXRlUGFnZTogUm90YXRlUGFnZURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5Sb3RhdGVCYWNrd2FyZEljb24gPSBSb3RhdGVCYWNrd2FyZEljb247XG5leHBvcnRzLlJvdGF0ZUZvcndhcmRJY29uID0gUm90YXRlRm9yd2FyZEljb247XG5leHBvcnRzLnJvdGF0ZVBsdWdpbiA9IHJvdGF0ZVBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/rotate/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/rotate/lib/index.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/rotate.js */ \"./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcm90YXRlL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksd0hBQTJDO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9yb3RhdGUvbGliL2luZGV4LmpzP2RiZmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JvdGF0ZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yb3RhdGUuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/rotate/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar HorizontalScrollingIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar VerticalScrollingIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z\" }))); };\n\nvar WrappedScrollingIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\" }))); };\n\nvar SwitchScrollModeDecorator = function (_a) {\n    var children = _a.children, mode = _a.mode, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = '';\n    var icon = React__namespace.createElement(VerticalScrollingIcon, null);\n    switch (mode) {\n        case core.ScrollMode.Horizontal:\n            label =\n                l10n && l10n.scrollMode\n                    ? l10n.scrollMode.horizontalScrolling\n                    : 'Horizontal scrolling';\n            icon = React__namespace.createElement(HorizontalScrollingIcon, null);\n            break;\n        case core.ScrollMode.Wrapped:\n            label =\n                l10n && l10n.scrollMode\n                    ? l10n.scrollMode.wrappedScrolling\n                    : 'Wrapped scrolling';\n            icon = React__namespace.createElement(WrappedScrollingIcon, null);\n            break;\n        case core.ScrollMode.Vertical:\n        default:\n            label =\n                l10n && l10n.scrollMode\n                    ? l10n.scrollMode.verticalScrolling\n                    : 'Vertical scrolling';\n            icon = React__namespace.createElement(VerticalScrollingIcon, null);\n            break;\n    }\n    return children({ icon: icon, label: label, onClick: onClick });\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar SwitchScrollModeButton = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case core.ScrollMode.Horizontal:\n            testId = 'scroll-mode__horizontal-button';\n            break;\n        case core.ScrollMode.Wrapped:\n            testId = 'scroll-mode__wrapped-button';\n            break;\n        case core.ScrollMode.Vertical:\n        default:\n            testId = 'scroll-mode__vertical-button';\n            break;\n    }\n    return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"scroll-mode-switch\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: props.label, isSelected: isSelected, testId: testId, onClick: props.onClick }, props.icon), content: function () { return props.label; }, offset: TOOLTIP_OFFSET })); }));\n};\n\nvar useScrollMode = function (store) {\n    var _a = React__namespace.useState(store.get('scrollMode') || core.ScrollMode.Vertical), scrollMode = _a[0], setScrollMode = _a[1];\n    var handleScrollModeChanged = function (currentScrollMode) {\n        setScrollMode(currentScrollMode);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('scrollMode', handleScrollModeChanged);\n        return function () {\n            store.unsubscribe('scrollMode', handleScrollModeChanged);\n        };\n    }, []);\n    return { scrollMode: scrollMode };\n};\n\nvar SwitchScrollMode = function (_a) {\n    var children = _a.children, mode = _a.mode, store = _a.store;\n    var scrollMode = useScrollMode(store).scrollMode;\n    var onClick = function () {\n        store.get('switchScrollMode')(mode);\n    };\n    var isSelected = scrollMode === mode;\n    var defaultChildren = function (props) { return (React__namespace.createElement(SwitchScrollModeButton, { isSelected: isSelected, mode: props.mode, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isSelected: isSelected,\n        mode: mode,\n        onClick: onClick,\n    });\n};\n\nvar SwitchScrollModeMenuItem = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case core.ScrollMode.Horizontal:\n            testId = 'scroll-mode__horizontal-menu';\n            break;\n        case core.ScrollMode.Wrapped:\n            testId = 'scroll-mode__wrapped-menu';\n            break;\n        case core.ScrollMode.Vertical:\n        default:\n            testId = 'scroll-mode__vertical-menu';\n            break;\n    }\n    return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.MenuItem, { checked: isSelected, icon: props.icon, testId: testId, onClick: props.onClick }, props.label)); }));\n};\n\nvar scrollModePlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            scrollMode: core.ScrollMode.Vertical,\n            switchScrollMode: function () {\n            },\n        });\n    }, []);\n    var SwitchScrollModeDecorator = function (props) { return React__namespace.createElement(SwitchScrollMode, __assign({}, props, { store: store })); };\n    var SwitchScrollModeButtonDecorator = function (props) { return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchScrollModeButton, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n        } })); })); };\n    var SwitchScrollModeMenuItemDecorator = function (props) { return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchScrollModeMenuItem, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    return {\n        install: function (pluginFunctions) {\n            store.update('switchScrollMode', pluginFunctions.switchScrollMode);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('scrollMode', viewerState.scrollMode);\n            return viewerState;\n        },\n        switchScrollMode: function (mode) {\n            store.get('switchScrollMode')(mode);\n        },\n        SwitchScrollMode: SwitchScrollModeDecorator,\n        SwitchScrollModeButton: SwitchScrollModeButtonDecorator,\n        SwitchScrollModeMenuItem: SwitchScrollModeMenuItemDecorator,\n    };\n};\n\nexports.HorizontalScrollingIcon = HorizontalScrollingIcon;\nexports.VerticalScrollingIcon = VerticalScrollingIcon;\nexports.WrappedScrollingIcon = WrappedScrollingIcon;\nexports.scrollModePlugin = scrollModePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2Nyb2xsLW1vZGUvbGliL2Nqcy9zY3JvbGwtbW9kZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRDQUE0QyxvREFBb0QsVUFBVTtBQUMxRyw2Q0FBNkMsaVdBQWlXOztBQUU5WTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDLG9EQUFvRCxVQUFVO0FBQ3hHLDZDQUE2QyxtV0FBbVc7O0FBRWhaLHlDQUF5QyxvREFBb0QsVUFBVTtBQUN2Ryw2Q0FBNkMsbWRBQW1kOztBQUVoZ0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBNEM7QUFDbEU7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSw4QkFBOEIscUJBQXFCLHVEQUF1RCw2SUFBNkksd0ZBQXdGLHNDQUFzQyxxQkFBcUIsMEJBQTBCLEtBQUs7QUFDamY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGlFQUFpRSxrRUFBa0U7QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsOEJBQThCLHFCQUFxQix3REFBd0QsK0VBQStFLGtCQUFrQjtBQUNwUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsdURBQXVELG1FQUFtRSxXQUFXLGNBQWM7QUFDbkosNkRBQTZELG9FQUFvRSxrQkFBa0IsaUJBQWlCLGlFQUFpRTtBQUNyTztBQUNBLFdBQVcsS0FBSztBQUNoQiwrREFBK0Qsb0VBQW9FLGtCQUFrQixpQkFBaUIsbUVBQW1FO0FBQ3pPO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCO0FBQy9CLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUIsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9zY3JvbGwtbW9kZS9saWIvY2pzL3Njcm9sbC1tb2RlLmpzP2VlMDMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBIb3Jpem9udGFsU2Nyb2xsaW5nSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYuNSwyMS41YzAsMC41NTItMC40NDgsMS0xLDFoLTRjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTIwYzAtMC41NTIsMC40NDgtMSwxLTFoNGMwLjU1MiwwLDEsMC40NDgsMSwxVjIxLjV6XFxuICAgICAgICAgICAgTTE0LjUsMjEuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxaC00Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi0yMGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDRjMC41NTIsMCwxLDAuNDQ4LDEsMVYyMS41elxcbiAgICAgICAgICAgIE0yMi41LDIxLjUgYzAsMC41NTItMC40NDgsMS0xLDFoLTRjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTIwYzAtMC41NTIsMC40NDgtMSwxLTFoNGMwLjU1MiwwLDEsMC40NDgsMSwxVjIxLjV6XCIgfSkpKTsgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgVmVydGljYWxTY3JvbGxpbmdJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjMuNSw1LjVjMCwwLjU1Mi0wLjQ0OCwxLTEsMWgtMjFjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTNjMC0wLjU1MiwwLjQ0OC0xLDEtMWgyMWMwLjU1MiwwLDEsMC40NDgsMSwxVjUuNXpcXG4gICAgICAgICAgICBNMjMuNSwxMy41YzAsMC41NTItMC40NDgsMS0xLDFoLTIxYy0wLjU1MiwwLTEtMC40NDgtMS0xdi0zYzAtMC41NTIsMC40NDgtMSwxLTFoMjFjMC41NTIsMCwxLDAuNDQ4LDEsMVYxMy41elxcbiAgICAgICAgICAgIE0yMy41LDIxLjUgYzAsMC41NTItMC40NDgsMS0xLDFoLTIxYy0wLjU1MiwwLTEtMC40NDgtMS0xdi0zYzAtMC41NTIsMC40NDgtMSwxLTFoMjFjMC41NTIsMCwxLDAuNDQ4LDEsMVYyMS41elwiIH0pKSk7IH07XG5cbnZhciBXcmFwcGVkU2Nyb2xsaW5nSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwLjUsOS41YzAsMC41NTItMC40NDgsMS0xLDFoLThjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LThjMC0wLjU1MiwwLjQ0OC0xLDEtMWg4YzAuNTUyLDAsMSwwLjQ0OCwxLDFWOS41elxcbiAgICAgICAgICAgIE0yMy41LDkuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxaC04Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi04YzAtMC41NTIsMC40NDgtMSwxLTFoOGMwLjU1MiwwLDEsMC40NDgsMSwxVjkuNXpcXG4gICAgICAgICAgICBNMTAuNSwyMi41IGMwLDAuNTUyLTAuNDQ4LDEtMSwxaC04Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi04YzAtMC41NTIsMC40NDgtMSwxLTFoOGMwLjU1MiwwLDEsMC40NDgsMSwxVjIyLjV6XFxuICAgICAgICAgICAgTTIzLjUsMjIuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxIGgtOGMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtOGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDhjMC41NTIsMCwxLDAuNDQ4LDEsMVYyMi41elwiIH0pKSk7IH07XG5cbnZhciBTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG1vZGUgPSBfYS5tb2RlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gJyc7XG4gICAgdmFyIGljb24gPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVmVydGljYWxTY3JvbGxpbmdJY29uLCBudWxsKTtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIGxhYmVsID1cbiAgICAgICAgICAgICAgICBsMTBuICYmIGwxMG4uc2Nyb2xsTW9kZVxuICAgICAgICAgICAgICAgICAgICA/IGwxMG4uc2Nyb2xsTW9kZS5ob3Jpem9udGFsU2Nyb2xsaW5nXG4gICAgICAgICAgICAgICAgICAgIDogJ0hvcml6b250YWwgc2Nyb2xsaW5nJztcbiAgICAgICAgICAgIGljb24gPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSG9yaXpvbnRhbFNjcm9sbGluZ0ljb24sIG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZS5TY3JvbGxNb2RlLldyYXBwZWQ6XG4gICAgICAgICAgICBsYWJlbCA9XG4gICAgICAgICAgICAgICAgbDEwbiAmJiBsMTBuLnNjcm9sbE1vZGVcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnNjcm9sbE1vZGUud3JhcHBlZFNjcm9sbGluZ1xuICAgICAgICAgICAgICAgICAgICA6ICdXcmFwcGVkIHNjcm9sbGluZyc7XG4gICAgICAgICAgICBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFdyYXBwZWRTY3JvbGxpbmdJY29uLCBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvcmUuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxhYmVsID1cbiAgICAgICAgICAgICAgICBsMTBuICYmIGwxMG4uc2Nyb2xsTW9kZVxuICAgICAgICAgICAgICAgICAgICA/IGwxMG4uc2Nyb2xsTW9kZS52ZXJ0aWNhbFNjcm9sbGluZ1xuICAgICAgICAgICAgICAgICAgICA6ICdWZXJ0aWNhbCBzY3JvbGxpbmcnO1xuICAgICAgICAgICAgaWNvbiA9IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChWZXJ0aWNhbFNjcm9sbGluZ0ljb24sIG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlbih7IGljb246IGljb24sIGxhYmVsOiBsYWJlbCwgb25DbGljazogb25DbGljayB9KTtcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgU3dpdGNoU2Nyb2xsTW9kZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gX2EuaXNTZWxlY3RlZCwgbW9kZSA9IF9hLm1vZGUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciB0ZXN0SWQgPSAnJztcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzY3JvbGwtbW9kZV9faG9yaXpvbnRhbC1idXR0b24nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZS5TY3JvbGxNb2RlLldyYXBwZWQ6XG4gICAgICAgICAgICB0ZXN0SWQgPSAnc2Nyb2xsLW1vZGVfX3dyYXBwZWQtYnV0dG9uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvcmUuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzY3JvbGwtbW9kZV9fdmVydGljYWwtYnV0dG9uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yLCB7IG1vZGU6IG1vZGUsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwic2Nyb2xsLW1vZGUtc3dpdGNoXCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogcHJvcHMubGFiZWwsIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsIHRlc3RJZDogdGVzdElkLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sIHByb3BzLmljb24pLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wcy5sYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7IH0pKTtcbn07XG5cbnZhciB1c2VTY3JvbGxNb2RlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ3Njcm9sbE1vZGUnKSB8fCBjb3JlLlNjcm9sbE1vZGUuVmVydGljYWwpLCBzY3JvbGxNb2RlID0gX2FbMF0sIHNldFNjcm9sbE1vZGUgPSBfYVsxXTtcbiAgICB2YXIgaGFuZGxlU2Nyb2xsTW9kZUNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFNjcm9sbE1vZGUpIHtcbiAgICAgICAgc2V0U2Nyb2xsTW9kZShjdXJyZW50U2Nyb2xsTW9kZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnc2Nyb2xsTW9kZScsIGhhbmRsZVNjcm9sbE1vZGVDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdzY3JvbGxNb2RlJywgaGFuZGxlU2Nyb2xsTW9kZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBzY3JvbGxNb2RlOiBzY3JvbGxNb2RlIH07XG59O1xuXG52YXIgU3dpdGNoU2Nyb2xsTW9kZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBtb2RlID0gX2EubW9kZSwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgc2Nyb2xsTW9kZSA9IHVzZVNjcm9sbE1vZGUoc3RvcmUpLnNjcm9sbE1vZGU7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLmdldCgnc3dpdGNoU2Nyb2xsTW9kZScpKG1vZGUpO1xuICAgIH07XG4gICAgdmFyIGlzU2VsZWN0ZWQgPSBzY3JvbGxNb2RlID09PSBtb2RlO1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZUJ1dHRvbiwgeyBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLCBtb2RlOiBwcm9wcy5tb2RlLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIH0pO1xufTtcblxudmFyIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gX2EuaXNTZWxlY3RlZCwgbW9kZSA9IF9hLm1vZGUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciB0ZXN0SWQgPSAnJztcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzY3JvbGwtbW9kZV9faG9yaXpvbnRhbC1tZW51JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvcmUuU2Nyb2xsTW9kZS5XcmFwcGVkOlxuICAgICAgICAgICAgdGVzdElkID0gJ3Njcm9sbC1tb2RlX193cmFwcGVkLW1lbnUnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZS5TY3JvbGxNb2RlLlZlcnRpY2FsOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGVzdElkID0gJ3Njcm9sbC1tb2RlX192ZXJ0aWNhbC1tZW51JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yLCB7IG1vZGU6IG1vZGUsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgY2hlY2tlZDogaXNTZWxlY3RlZCwgaWNvbjogcHJvcHMuaWNvbiwgdGVzdElkOiB0ZXN0SWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSwgcHJvcHMubGFiZWwpKTsgfSkpO1xufTtcblxudmFyIHNjcm9sbE1vZGVQbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoe1xuICAgICAgICAgICAgc2Nyb2xsTW9kZTogY29yZS5TY3JvbGxNb2RlLlZlcnRpY2FsLFxuICAgICAgICAgICAgc3dpdGNoU2Nyb2xsTW9kZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZSwgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSk7IH07XG4gICAgdmFyIFN3aXRjaFNjcm9sbE1vZGVCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZURlY29yYXRvciwgeyBtb2RlOiBwcm9wcy5tb2RlIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVCdXR0b24sIHsgaXNTZWxlY3RlZDogcC5pc1NlbGVjdGVkLCBtb2RlOiBwLm1vZGUsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBTd2l0Y2hTY3JvbGxNb2RlTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZURlY29yYXRvciwgeyBtb2RlOiBwcm9wcy5tb2RlIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSwgeyBpc1NlbGVjdGVkOiBwLmlzU2VsZWN0ZWQsIG1vZGU6IHAubW9kZSwgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdzd2l0Y2hTY3JvbGxNb2RlJywgcGx1Z2luRnVuY3Rpb25zLnN3aXRjaFNjcm9sbE1vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnc2Nyb2xsTW9kZScsIHZpZXdlclN0YXRlLnNjcm9sbE1vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHZpZXdlclN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzd2l0Y2hTY3JvbGxNb2RlOiBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgICAgICAgc3RvcmUuZ2V0KCdzd2l0Y2hTY3JvbGxNb2RlJykobW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIFN3aXRjaFNjcm9sbE1vZGU6IFN3aXRjaFNjcm9sbE1vZGVEZWNvcmF0b3IsXG4gICAgICAgIFN3aXRjaFNjcm9sbE1vZGVCdXR0b246IFN3aXRjaFNjcm9sbE1vZGVCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbTogU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkhvcml6b250YWxTY3JvbGxpbmdJY29uID0gSG9yaXpvbnRhbFNjcm9sbGluZ0ljb247XG5leHBvcnRzLlZlcnRpY2FsU2Nyb2xsaW5nSWNvbiA9IFZlcnRpY2FsU2Nyb2xsaW5nSWNvbjtcbmV4cG9ydHMuV3JhcHBlZFNjcm9sbGluZ0ljb24gPSBXcmFwcGVkU2Nyb2xsaW5nSWNvbjtcbmV4cG9ydHMuc2Nyb2xsTW9kZVBsdWdpbiA9IHNjcm9sbE1vZGVQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/scroll-mode.js */ \"./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2Nyb2xsLW1vZGUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSx1SUFBZ0Q7QUFDcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3Njcm9sbC1tb2RlL2xpYi9pbmRleC5qcz80NjM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY3JvbGwtbW9kZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY3JvbGwtbW9kZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/search/lib/cjs/search.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/search/lib/cjs/search.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar NextIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\\n            L23.541,5.627\" }))); };\n\nvar PreviousIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\\n            L0.535,18.373\" }))); };\n\nvar SearchIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\\n            M23.5,23.5\\n            l-5.929-5.929\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar EMPTY_KEYWORD_REGEXP = {\n    keyword: '',\n    regExp: new RegExp(' '),\n    wholeWords: false,\n};\n\nvar escapeRegExp = function (input) { return input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); };\nvar normalizeFlagKeyword = function (flagKeyword) {\n    var source = flagKeyword.wholeWords ? \" \".concat(flagKeyword.keyword, \" \") : flagKeyword.keyword;\n    var flags = flagKeyword.matchCase ? 'g' : 'gi';\n    return {\n        keyword: flagKeyword.keyword,\n        regExp: new RegExp(escapeRegExp(source), flags),\n        wholeWords: flagKeyword.wholeWords || false,\n    };\n};\nvar normalizeSingleKeyword = function (keyword, matchCase, wholeWords) {\n    if (keyword instanceof RegExp) {\n        return {\n            keyword: keyword.source,\n            regExp: keyword,\n            wholeWords: wholeWords || false,\n        };\n    }\n    if (typeof keyword === 'string') {\n        return keyword === ''\n            ? EMPTY_KEYWORD_REGEXP\n            : normalizeFlagKeyword({\n                keyword: keyword,\n                matchCase: matchCase || false,\n                wholeWords: wholeWords || false,\n            });\n    }\n    if (typeof matchCase !== 'undefined') {\n        keyword.matchCase = matchCase;\n    }\n    if (typeof wholeWords !== 'undefined') {\n        keyword.wholeWords = wholeWords;\n    }\n    return normalizeFlagKeyword(keyword);\n};\n\nvar useDocument = function (store) {\n    var currentDocRef = React__namespace.useRef(store.get('doc'));\n    var handleDocumentChanged = function (doc) {\n        currentDocRef.current = doc;\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDocRef;\n};\n\nvar useSearch = function (store) {\n    var currentDocRef = useDocument(store);\n    var _a = React__namespace.useState([]), keywords = _a[0], setKeywords = _a[1];\n    var _b = React__namespace.useState([]), found = _b[0], setFound = _b[1];\n    var _c = React__namespace.useState(0), currentMatch = _c[0], setCurrentMatch = _c[1];\n    var _d = React__namespace.useState(false), matchCase = _d[0], setMatchCase = _d[1];\n    var textContents = React__namespace.useRef([]);\n    var _e = React__namespace.useState(false), wholeWords = _e[0], setWholeWords = _e[1];\n    var defaultTargetPageFilter = function () { return true; };\n    var targetPageFilter = React__namespace.useCallback(function () { return store.get('targetPageFilter') || defaultTargetPageFilter; }, [store.get('targetPageFilter')]);\n    var changeMatchCase = function (isChecked) {\n        setMatchCase(isChecked);\n        if (keywords.length > 0) {\n            searchFor(keywords, isChecked, wholeWords);\n        }\n    };\n    var changeWholeWords = function (isChecked) {\n        setWholeWords(isChecked);\n        if (keywords.length > 0) {\n            searchFor(keywords, matchCase, isChecked);\n        }\n    };\n    var jumpToMatch = function (index) {\n        var numMatches = found.length;\n        if (keywords.length === 0 || numMatches === 0) {\n            return null;\n        }\n        var normalizedIndex = index === numMatches + 1 ? 1 : Math.max(1, Math.min(numMatches, index));\n        setCurrentMatch(normalizedIndex);\n        return jumpToGivenMatch(found[normalizedIndex - 1]);\n    };\n    var jumpToPreviousMatch = function () { return jumpToMatch(currentMatch - 1); };\n    var jumpToNextMatch = function () { return jumpToMatch(currentMatch + 1); };\n    var clearKeyword = function () {\n        store.update('keyword', [EMPTY_KEYWORD_REGEXP]);\n        setKeyword('');\n        setCurrentMatch(0);\n        setFound([]);\n        setMatchCase(false);\n        setWholeWords(false);\n    };\n    var search = function () { return searchFor(keywords, matchCase, wholeWords); };\n    var setKeyword = function (keyword) { return setKeywords(keyword === '' ? [] : [keyword]); };\n    var setTargetPages = function (targetPageFilter) {\n        store.update('targetPageFilter', targetPageFilter);\n    };\n    var getTextContents = function () {\n        var currentDoc = currentDocRef.current;\n        if (!currentDoc) {\n            return Promise.resolve([]);\n        }\n        var promises = Array(currentDoc.numPages)\n            .fill(0)\n            .map(function (_, pageIndex) {\n            return core.getPage(currentDoc, pageIndex)\n                .then(function (page) {\n                return page.getTextContent();\n            })\n                .then(function (content) {\n                var pageContent = content.items.map(function (item) { return item.str || ''; }).join('');\n                return Promise.resolve({\n                    pageContent: pageContent,\n                    pageIndex: pageIndex,\n                });\n            });\n        });\n        return Promise.all(promises).then(function (data) {\n            data.sort(function (a, b) { return a.pageIndex - b.pageIndex; });\n            return Promise.resolve(data.map(function (item) { return item.pageContent; }));\n        });\n    };\n    var jumpToGivenMatch = function (match) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(match.pageIndex);\n        }\n        store.update('matchPosition', {\n            matchIndex: match.matchIndex,\n            pageIndex: match.pageIndex,\n        });\n        return match;\n    };\n    var getKeywordSource = function (keyword) {\n        if (keyword instanceof RegExp) {\n            return keyword.source;\n        }\n        if (typeof keyword === 'string') {\n            return keyword;\n        }\n        return keyword.keyword;\n    };\n    var searchFor = function (keywordParam, matchCaseParam, wholeWordsParam) {\n        var currentDoc = currentDocRef.current;\n        if (!currentDoc) {\n            return Promise.resolve([]);\n        }\n        var numPages = currentDoc.numPages;\n        var keywords = keywordParam.map(function (k) { return normalizeSingleKeyword(k, matchCaseParam, wholeWordsParam); });\n        store.update('keyword', keywords);\n        setCurrentMatch(0);\n        setFound([]);\n        return new Promise(function (resolve, _) {\n            var getTextPromise = textContents.current.length === 0\n                ? getTextContents().then(function (response) {\n                    textContents.current = response;\n                    return Promise.resolve(response);\n                })\n                : Promise.resolve(textContents.current);\n            getTextPromise.then(function (response) {\n                var arr = [];\n                response.forEach(function (pageText, pageIndex) {\n                    if (targetPageFilter()({ pageIndex: pageIndex, numPages: numPages })) {\n                        keywords.forEach(function (keyword) {\n                            var matchIndex = 0;\n                            var matches;\n                            while ((matches = keyword.regExp.exec(pageText)) !== null) {\n                                arr.push({\n                                    keyword: keyword.regExp,\n                                    matchIndex: matchIndex,\n                                    pageIndex: pageIndex,\n                                    pageText: pageText,\n                                    startIndex: matches.index,\n                                    endIndex: keyword.regExp.lastIndex,\n                                });\n                                matchIndex++;\n                            }\n                        });\n                    }\n                });\n                setFound(arr);\n                if (arr.length > 0) {\n                    setCurrentMatch(1);\n                    jumpToGivenMatch(arr[0]);\n                }\n                resolve(arr);\n            });\n        });\n    };\n    React__namespace.useEffect(function () {\n        textContents.current = [];\n    }, [currentDocRef.current]);\n    return {\n        clearKeyword: clearKeyword,\n        changeMatchCase: changeMatchCase,\n        changeWholeWords: changeWholeWords,\n        currentMatch: currentMatch,\n        jumpToMatch: jumpToMatch,\n        jumpToNextMatch: jumpToNextMatch,\n        jumpToPreviousMatch: jumpToPreviousMatch,\n        keywords: keywords,\n        matchCase: matchCase,\n        numberOfMatches: found.length,\n        wholeWords: wholeWords,\n        search: search,\n        searchFor: searchFor,\n        setKeywords: setKeywords,\n        keyword: keywords.length === 0 ? '' : getKeywordSource(keywords[0]),\n        setKeyword: setKeyword,\n        setTargetPages: setTargetPages,\n    };\n};\n\nvar Search = function (_a) {\n    var children = _a.children, store = _a.store;\n    var result = useSearch(store);\n    return children(__assign({}, result));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var _b = React__namespace.useState(true), isMouseInside = _b[0], setMouseInside = _b[1];\n    var handleMouseEnter = function () { return setMouseInside(true); };\n    var handleMouseLeave = function () { return setMouseInside(false); };\n    var handleKeydown = function (e) {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        if (e.shiftKey || e.altKey || e.key !== 'f') {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey && !e.ctrlKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        if (isMouseInside || (document.activeElement && containerEle.contains(document.activeElement))) {\n            e.preventDefault();\n            store.update('areShortcutsPressed', true);\n        }\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', handleKeydown);\n        containerEle.addEventListener('mouseenter', handleMouseEnter);\n        containerEle.addEventListener('mouseleave', handleMouseLeave);\n        return function () {\n            document.removeEventListener('keydown', handleKeydown);\n            containerEle.removeEventListener('mouseenter', handleMouseEnter);\n            containerEle.removeEventListener('mouseleave', handleMouseLeave);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar PORTAL_OFFSET$1 = { left: 0, top: 8 };\nvar SearchPopover = function (_a) {\n    var store = _a.store, onToggle = _a.onToggle;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var _b = React__namespace.useState(false), isQuerying = _b[0], setIsQuerying = _b[1];\n    var _c = React__namespace.useState(false), searchDone = _c[0], setSearchDone = _c[1];\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _d = useSearch(store), clearKeyword = _d.clearKeyword, changeMatchCase = _d.changeMatchCase, changeWholeWords = _d.changeWholeWords, currentMatch = _d.currentMatch, jumpToNextMatch = _d.jumpToNextMatch, jumpToPreviousMatch = _d.jumpToPreviousMatch, keyword = _d.keyword, matchCase = _d.matchCase, numberOfMatches = _d.numberOfMatches, wholeWords = _d.wholeWords, search = _d.search, setKeyword = _d.setKeyword;\n    var onKeydownSearch = function (e) {\n        if (e.key === 'Enter' && keyword) {\n            if (searchDone) {\n                jumpToNextMatch();\n            }\n            else {\n                setIsQuerying(true);\n                search().then(function (_) {\n                    setIsQuerying(false);\n                    setSearchDone(true);\n                });\n            }\n        }\n    };\n    var onChangeMatchCase = function (e) {\n        setSearchDone(false);\n        changeMatchCase(e.target.checked);\n    };\n    var onChangeWholeWords = function (e) {\n        setSearchDone(false);\n        changeWholeWords(e.target.checked);\n    };\n    var onClose = function () {\n        onToggle();\n        clearKeyword();\n    };\n    var onChangeKeyword = function (value) {\n        setSearchDone(false);\n        setKeyword(value);\n    };\n    var searchLabel = l10n && l10n.search ? l10n.search.enterToSearch : 'Enter to search';\n    var previousMatchLabel = l10n && l10n.search ? l10n.search.previousMatch : 'Previous match';\n    var nextMatchLabel = l10n && l10n.search ? l10n.search.nextMatch : 'Next match';\n    return (React__namespace.createElement(\"div\", { className: \"rpv-search__popover\" },\n        React__namespace.createElement(\"div\", { className: \"rpv-search__popover-input-counter\" },\n            React__namespace.createElement(core.TextBox, { ariaLabel: searchLabel, autoFocus: true, placeholder: searchLabel, type: \"text\", value: keyword, onChange: onChangeKeyword, onKeyDown: onKeydownSearch }),\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-search__popover-counter': true,\n                    'rpv-search__popover-counter--ltr': !isRtl,\n                    'rpv-search__popover-counter--rtl': isRtl,\n                }) },\n                isQuerying && React__namespace.createElement(core.Spinner, { testId: \"search__popover-searching\", size: \"1rem\" }),\n                !isQuerying && (React__namespace.createElement(\"span\", { \"data-testid\": \"search__popover-num-matches\" },\n                    currentMatch,\n                    \"/\",\n                    numberOfMatches)))),\n        React__namespace.createElement(\"label\", { className: \"rpv-search__popover-label\" },\n            React__namespace.createElement(\"input\", { className: \"rpv-search__popover-label-checkbox\", checked: matchCase, type: \"checkbox\", onChange: onChangeMatchCase }),\n            ' ',\n            l10n && l10n.search ? l10n.search.matchCase : 'Match case'),\n        React__namespace.createElement(\"label\", { className: \"rpv-search__popover-label\" },\n            React__namespace.createElement(\"input\", { className: \"rpv-search__popover-label-checkbox\", checked: wholeWords, type: \"checkbox\", onChange: onChangeWholeWords }),\n            ' ',\n            l10n && l10n.search ? l10n.search.wholeWords : 'Whole words'),\n        React__namespace.createElement(\"div\", { className: \"rpv-search__popover-footer\" },\n            React__namespace.createElement(\"div\", { className: \"rpv-search__popover-footer-item\" },\n                React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"search-previous-match\", position: isRtl ? core.Position.BottomRight : core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: previousMatchLabel, isDisabled: currentMatch <= 1, onClick: jumpToPreviousMatch },\n                        React__namespace.createElement(PreviousIcon, null)), content: function () { return previousMatchLabel; }, offset: PORTAL_OFFSET$1 })),\n            React__namespace.createElement(\"div\", { className: \"rpv-search__popover-footer-item\" },\n                React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"search-next-match\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: nextMatchLabel, isDisabled: currentMatch > numberOfMatches - 1, onClick: jumpToNextMatch },\n                        React__namespace.createElement(NextIcon, null)), content: function () { return nextMatchLabel; }, offset: PORTAL_OFFSET$1 })),\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-search__popover-footer-button': true,\n                    'rpv-search__popover-footer-button--ltr': !isRtl,\n                    'rpv-search__popover-footer-button--rtl': isRtl,\n                }) },\n                React__namespace.createElement(core.Button, { onClick: onClose }, l10n && l10n.search ? l10n.search.close : 'Close')))));\n};\n\nvar ShowSearchPopoverDecorator = function (_a) {\n    var children = _a.children, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.search ? l10n.search.search : 'Search';\n    var icon = React__namespace.createElement(SearchIcon, null);\n    return children({ icon: icon, label: label, onClick: onClick });\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ShowSearchPopoverButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, store = _a.store, onClick = _a.onClick;\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+F' : 'Ctrl+F') : '';\n    var handleShortcutsPressed = function (areShortcutsPressed) {\n        if (areShortcutsPressed) {\n            onClick();\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('areShortcutsPressed', handleShortcutsPressed);\n        return function () {\n            store.unsubscribe('areShortcutsPressed', handleShortcutsPressed);\n        };\n    }, []);\n    return (React__namespace.createElement(ShowSearchPopoverDecorator, { onClick: onClick }, function (p) { return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"search-popover\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: p.label, testId: \"search__popover-button\", onClick: onClick }, p.icon), content: function () { return p.label; }, offset: TOOLTIP_OFFSET })); }));\n};\n\nvar PORTAL_OFFSET = { left: 0, top: 8 };\nvar ShowSearchPopover = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var portalPosition = direction === core.TextDirection.RightToLeft ? core.Position.BottomRight : core.Position.BottomLeft;\n    var defaultChildren = function (props) { return (React__namespace.createElement(ShowSearchPopoverButton, __assign({ enableShortcuts: enableShortcuts, store: store }, props))); };\n    var render = children || defaultChildren;\n    return (React__namespace.createElement(core.Popover, { ariaControlsSuffix: \"search\", lockScroll: false, position: portalPosition, target: function (toggle) {\n            return render({\n                onClick: toggle,\n            });\n        }, content: function (toggle) { return React__namespace.createElement(SearchPopover, { store: store, onToggle: toggle }); }, offset: PORTAL_OFFSET, closeOnClickOutside: false, closeOnEscape: true }));\n};\n\nvar calculateOffset = function (children, parent) {\n    var top = children.offsetTop;\n    var left = children.offsetLeft;\n    var p = children.parentElement;\n    while (p && p !== parent) {\n        top += p.offsetTop;\n        left += p.offsetLeft;\n        p = p.parentElement;\n    }\n    return {\n        left: left,\n        top: top,\n    };\n};\n\nvar removeNode = function (ele) {\n    var parent = ele.parentNode;\n    if (parent) {\n        parent.removeChild(ele);\n    }\n};\nvar replaceNode = function (replacementNode, node) {\n    removeNode(replacementNode);\n    var parent = node.parentNode;\n    if (parent) {\n        parent.insertBefore(replacementNode, node);\n    }\n    removeNode(node);\n};\nvar unwrap = function (ele) {\n    var parent = ele.parentNode;\n    if (!parent) {\n        return;\n    }\n    var range = document.createRange();\n    range.selectNodeContents(ele);\n    replaceNode(range.extractContents(), ele);\n    parent.normalize();\n};\n\nvar percentToNumber = function (input) { return parseFloat(input.slice(0, -1)); };\nvar sortHighlightElements = function (a, b) {\n    var aTop = percentToNumber(a.style.top);\n    var aLeft = percentToNumber(a.style.left);\n    var bTop = percentToNumber(b.style.top);\n    var bLeft = percentToNumber(b.style.left);\n    if (aTop < bTop) {\n        return -1;\n    }\n    if (aTop > bTop) {\n        return 1;\n    }\n    if (aLeft < bLeft) {\n        return -1;\n    }\n    if (aLeft > bLeft) {\n        return 1;\n    }\n    return 0;\n};\nvar Tracker = function (_a) {\n    var numPages = _a.numPages, pageIndex = _a.pageIndex, store = _a.store, onHighlightKeyword = _a.onHighlightKeyword;\n    var _b = React__namespace.useState(store.get('matchPosition')), matchPosition = _b[0], setMatchPosition = _b[1];\n    var _c = React__namespace.useState(store.get('keyword') || [EMPTY_KEYWORD_REGEXP]), keywordRegexp = _c[0], setKeywordRegexp = _c[1];\n    var _d = React__namespace.useState({\n        pageIndex: pageIndex,\n        scale: 1,\n        status: core.LayerRenderStatus.PreRender,\n    }), renderStatus = _d[0], setRenderStatus = _d[1];\n    var currentMatchRef = React__namespace.useRef(null);\n    var characterIndexesRef = React__namespace.useRef([]);\n    var defaultTargetPageFilter = function () { return true; };\n    var targetPageFilter = React__namespace.useCallback(function () { return store.get('targetPageFilter') || defaultTargetPageFilter; }, [store.get('targetPageFilter')]);\n    var unhighlightAll = function (containerEle) {\n        var highlightNodes = containerEle.querySelectorAll('span.rpv-search__highlight');\n        var total = highlightNodes.length;\n        for (var i = 0; i < total; i++) {\n            highlightNodes[i].parentElement.removeChild(highlightNodes[i]);\n        }\n    };\n    var highlight = function (keywordStr, keyword, containerEle, span, charIndexSpan) {\n        var range = document.createRange();\n        var firstChild = span.firstChild;\n        if (!firstChild) {\n            return;\n        }\n        var startOffset = charIndexSpan[0].charIndexInSpan;\n        var endOffset = charIndexSpan.length === 1 ? startOffset : charIndexSpan[charIndexSpan.length - 1].charIndexInSpan;\n        range.setStart(firstChild, startOffset);\n        range.setEnd(firstChild, endOffset + 1);\n        var wrapper = document.createElement('span');\n        range.surroundContents(wrapper);\n        var wrapperRect = wrapper.getBoundingClientRect();\n        var containerRect = containerEle.getBoundingClientRect();\n        var highlightEle = document.createElement('span');\n        containerEle.insertBefore(highlightEle, containerEle.firstChild);\n        highlightEle.style.left = \"\".concat((100 * (wrapperRect.left - containerRect.left)) / containerRect.width, \"%\");\n        highlightEle.style.top = \"\".concat((100 * (wrapperRect.top - containerRect.top)) / containerRect.height, \"%\");\n        highlightEle.style.width = \"\".concat((100 * wrapperRect.width) / containerRect.width, \"%\");\n        highlightEle.style.height = \"\".concat((100 * wrapperRect.height) / containerRect.height, \"%\");\n        highlightEle.classList.add('rpv-search__highlight');\n        highlightEle.setAttribute('title', keywordStr.trim());\n        unwrap(wrapper);\n        if (onHighlightKeyword) {\n            onHighlightKeyword({\n                highlightEle: highlightEle,\n                keyword: keyword,\n            });\n        }\n    };\n    var highlightAll = function (containerEle) {\n        var charIndexes = characterIndexesRef.current;\n        if (charIndexes.length === 0) {\n            return;\n        }\n        var spans = [].slice.call(containerEle.querySelectorAll('.rpv-core__text-layer-text'));\n        var fullText = charIndexes.map(function (item) { return item.char; }).join('');\n        keywordRegexp.forEach(function (keyword) {\n            var keywordStr = keyword.keyword;\n            if (!keywordStr.trim()) {\n                return;\n            }\n            var cloneKeyword = keyword.regExp.flags.indexOf('g') === -1\n                ? new RegExp(keyword.regExp, \"\".concat(keyword.regExp.flags, \"g\"))\n                : keyword.regExp;\n            var match;\n            var matches = [];\n            while ((match = cloneKeyword.exec(fullText)) !== null) {\n                matches.push({\n                    keyword: cloneKeyword,\n                    startIndex: match.index,\n                    endIndex: cloneKeyword.lastIndex,\n                });\n            }\n            matches\n                .map(function (item) { return ({\n                keyword: item.keyword,\n                indexes: charIndexes.slice(item.startIndex, item.endIndex),\n            }); })\n                .forEach(function (item) {\n                var spanIndexes = item.indexes.reduce(function (acc, item) {\n                    acc[item.spanIndex] = (acc[item.spanIndex] || []).concat([item]);\n                    return acc;\n                }, {});\n                Object.values(spanIndexes).forEach(function (charIndexSpan) {\n                    if (charIndexSpan.length !== 1 || charIndexSpan[0].char.trim() !== '') {\n                        var normalizedCharSpan = keyword.wholeWords ? charIndexSpan.slice(1, -1) : charIndexSpan;\n                        highlight(keywordStr, item.keyword, containerEle, spans[normalizedCharSpan[0].spanIndex], normalizedCharSpan);\n                    }\n                });\n            });\n        });\n        var highlightEles = [].slice.call(containerEle.querySelectorAll('.rpv-search__highlight'));\n        highlightEles.sort(sortHighlightElements).forEach(function (ele, i) {\n            ele.setAttribute('data-index', \"\".concat(i));\n        });\n    };\n    var handleKeywordChanged = function (keyword) {\n        if (keyword && keyword.length > 0) {\n            setKeywordRegexp(keyword);\n        }\n    };\n    var handleMatchPositionChanged = function (currentPosition) { return setMatchPosition(currentPosition); };\n    var handleRenderStatusChanged = function (status) {\n        if (!status.has(pageIndex)) {\n            return;\n        }\n        var currentStatus = status.get(pageIndex);\n        if (currentStatus) {\n            setRenderStatus({\n                ele: currentStatus.ele,\n                pageIndex: pageIndex,\n                scale: currentStatus.scale,\n                status: currentStatus.status,\n            });\n        }\n    };\n    var isEmptyKeyword = function () {\n        return keywordRegexp.length === 0 || (keywordRegexp.length === 1 && keywordRegexp[0].keyword.trim() === '');\n    };\n    React__namespace.useEffect(function () {\n        if (isEmptyKeyword() ||\n            renderStatus.status !== core.LayerRenderStatus.DidRender ||\n            characterIndexesRef.current.length) {\n            return;\n        }\n        var containerEle = renderStatus.ele;\n        var spans = [].slice.call(containerEle.querySelectorAll('.rpv-core__text-layer-text'));\n        var charIndexes = spans\n            .map(function (span) { return span.textContent; })\n            .reduce(function (prev, curr, index) {\n            return prev.concat(curr.split('').map(function (c, i) { return ({\n                char: c,\n                charIndexInSpan: i,\n                spanIndex: index,\n            }); }));\n        }, [\n            {\n                char: '',\n                charIndexInSpan: 0,\n                spanIndex: 0,\n            },\n        ])\n            .slice(1);\n        characterIndexesRef.current = charIndexes;\n    }, [keywordRegexp, renderStatus.status]);\n    React__namespace.useEffect(function () {\n        if (isEmptyKeyword() ||\n            !renderStatus.ele ||\n            renderStatus.status !== core.LayerRenderStatus.DidRender ||\n            !targetPageFilter()({ pageIndex: pageIndex, numPages: numPages })) {\n            return;\n        }\n        var containerEle = renderStatus.ele;\n        unhighlightAll(containerEle);\n        highlightAll(containerEle);\n        scrollToMatch();\n    }, [keywordRegexp, matchPosition, renderStatus.status, characterIndexesRef.current]);\n    React__namespace.useEffect(function () {\n        if (isEmptyKeyword() && renderStatus.ele && renderStatus.status === core.LayerRenderStatus.DidRender) {\n            unhighlightAll(renderStatus.ele);\n        }\n    }, [keywordRegexp, renderStatus.status]);\n    var scrollToMatch = function () {\n        if (matchPosition.pageIndex !== pageIndex ||\n            !renderStatus.ele ||\n            renderStatus.status !== core.LayerRenderStatus.DidRender) {\n            return;\n        }\n        var container = renderStatus.ele;\n        var highlightEle = container.querySelector(\".rpv-search__highlight[data-index=\\\"\".concat(matchPosition.matchIndex, \"\\\"]\"));\n        if (!highlightEle) {\n            return;\n        }\n        var _a = calculateOffset(highlightEle, container), left = _a.left, top = _a.top;\n        var jump = store.get('jumpToDestination');\n        if (jump) {\n            jump(pageIndex, (container.getBoundingClientRect().height - top) / renderStatus.scale, left / renderStatus.scale, renderStatus.scale);\n            if (currentMatchRef.current) {\n                currentMatchRef.current.classList.remove('rpv-search__highlight--current');\n            }\n            currentMatchRef.current = highlightEle;\n            highlightEle.classList.add('rpv-search__highlight--current');\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('keyword', handleKeywordChanged);\n        store.subscribe('matchPosition', handleMatchPositionChanged);\n        store.subscribe('renderStatus', handleRenderStatusChanged);\n        return function () {\n            store.unsubscribe('keyword', handleKeywordChanged);\n            store.unsubscribe('matchPosition', handleMatchPositionChanged);\n            store.unsubscribe('renderStatus', handleRenderStatusChanged);\n        };\n    }, []);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar normalizeKeywords = function (keyword) {\n    return Array.isArray(keyword) ? keyword.map(function (k) { return normalizeSingleKeyword(k); }) : [normalizeSingleKeyword(keyword)];\n};\nvar searchPlugin = function (props) {\n    var searchPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true, onHighlightKeyword: function () { } }, props); }, []);\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            matchPosition: {\n                matchIndex: -1,\n                pageIndex: -1,\n            },\n            renderStatus: new Map(),\n            keyword: props && props.keyword ? normalizeKeywords(props.keyword) : [EMPTY_KEYWORD_REGEXP],\n        });\n    }, []);\n    var _a = useSearch(store), clearKeyword = _a.clearKeyword, jumpToMatch = _a.jumpToMatch, jumpToNextMatch = _a.jumpToNextMatch, jumpToPreviousMatch = _a.jumpToPreviousMatch, searchFor = _a.searchFor, setKeywords = _a.setKeywords, setTargetPages = _a.setTargetPages;\n    var SearchDecorator = function (props) { return React__namespace.createElement(Search, __assign({}, props, { store: store })); };\n    var ShowSearchPopoverDecorator = function (props) { return (React__namespace.createElement(ShowSearchPopover, __assign({ enableShortcuts: searchPluginProps.enableShortcuts }, props, { store: store }))); };\n    var ShowSearchPopoverButtonDecorator = function () { return (React__namespace.createElement(ShowSearchPopoverDecorator, null, function (props) { return (React__namespace.createElement(ShowSearchPopoverButton, __assign({ enableShortcuts: searchPluginProps.enableShortcuts, store: store }, props))); })); };\n    var renderViewer = function (renderViewerProps) {\n        var currentSlot = renderViewerProps.slot;\n        if (currentSlot.subSlot) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                searchPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: renderViewerProps.containerRef, store: store })),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    var renderPageLayer = function (renderProps) { return (React__namespace.createElement(Tracker, { key: renderProps.pageIndex, numPages: renderProps.doc.numPages, pageIndex: renderProps.pageIndex, store: store, onHighlightKeyword: searchPluginProps.onHighlightKeyword })); };\n    return {\n        install: function (pluginFunctions) {\n            var keyword = props && props.keyword ? normalizeKeywords(props.keyword) : [EMPTY_KEYWORD_REGEXP];\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n            store.update('keyword', keyword);\n        },\n        renderPageLayer: renderPageLayer,\n        renderViewer: renderViewer,\n        uninstall: function (props) {\n            var renderStatus = store.get('renderStatus');\n            if (renderStatus) {\n                renderStatus.clear();\n            }\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        onTextLayerRender: function (props) {\n            var renderStatus = store.get('renderStatus');\n            if (renderStatus) {\n                renderStatus = renderStatus.set(props.pageIndex, props);\n                store.update('renderStatus', renderStatus);\n            }\n        },\n        Search: SearchDecorator,\n        ShowSearchPopover: ShowSearchPopoverDecorator,\n        ShowSearchPopoverButton: ShowSearchPopoverButtonDecorator,\n        clearHighlights: function () {\n            clearKeyword();\n        },\n        highlight: function (keyword) {\n            var keywords = Array.isArray(keyword) ? keyword : [keyword];\n            setKeywords(keywords);\n            return searchFor(keywords);\n        },\n        jumpToMatch: jumpToMatch,\n        jumpToNextMatch: jumpToNextMatch,\n        jumpToPreviousMatch: jumpToPreviousMatch,\n        setTargetPages: setTargetPages,\n    };\n};\n\nexports.NextIcon = NextIcon;\nexports.PreviousIcon = PreviousIcon;\nexports.SearchIcon = SearchIcon;\nexports.searchPlugin = searchPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VhcmNoL2xpYi9janMvc2VhcmNoLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLG9EQUFvRCxVQUFVO0FBQzNGLDZDQUE2QyxpSUFBaUk7O0FBRTlLLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMsbUlBQW1JOztBQUVoTCwrQkFBK0Isb0RBQW9ELGlDQUFpQztBQUNwSCw2Q0FBNkMsOElBQThJOztBQUUzTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0MsK0JBQStCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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L0ByZWFjdC1wZGYtdmlld2VyL3NlYXJjaC9saWIvY2pzL3NlYXJjaC5qcz9iMWQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgTmV4dEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjU0MSw1LjYyN0wxMS42NjYsMTguMmMwLjE4MywwLjIwNywwLjQ5OSwwLjIyNiwwLjcwNiwwLjA0M2MwLjAxNS0wLjAxNCwwLjAzLTAuMDI4LDAuMDQzLTAuMDQzXFxuICAgICAgICAgICAgTDIzLjU0MSw1LjYyN1wiIH0pKSk7IH07XG5cbnZhciBQcmV2aW91c0ljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMy41MzUsMTguMzczTDEyLjQwOSw1LjhjLTAuMTgzLTAuMjA3LTAuNDk5LTAuMjI2LTAuNzA2LTAuMDQzQzExLjY4OCw1Ljc3LDExLjY3NCw1Ljc4NSwxMS42Niw1LjhcXG4gICAgICAgICAgICBMMC41MzUsMTguMzczXCIgfSkpKTsgfTtcblxudmFyIFNlYXJjaEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBpZ25vcmVEaXJlY3Rpb246IHRydWUsIHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwLjUsMC41YzUuNTIzLDAsMTAsNC40NzcsMTAsMTBzLTQuNDc3LDEwLTEwLDEwcy0xMC00LjQ3Ny0xMC0xMFM0Ljk3NywwLjUsMTAuNSwwLjV6XFxuICAgICAgICAgICAgTTIzLjUsMjMuNVxcbiAgICAgICAgICAgIGwtNS45MjktNS45MjlcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBFTVBUWV9LRVlXT1JEX1JFR0VYUCA9IHtcbiAgICBrZXl3b3JkOiAnJyxcbiAgICByZWdFeHA6IG5ldyBSZWdFeHAoJyAnKSxcbiAgICB3aG9sZVdvcmRzOiBmYWxzZSxcbn07XG5cbnZhciBlc2NhcGVSZWdFeHAgPSBmdW5jdGlvbiAoaW5wdXQpIHsgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7IH07XG52YXIgbm9ybWFsaXplRmxhZ0tleXdvcmQgPSBmdW5jdGlvbiAoZmxhZ0tleXdvcmQpIHtcbiAgICB2YXIgc291cmNlID0gZmxhZ0tleXdvcmQud2hvbGVXb3JkcyA/IFwiIFwiLmNvbmNhdChmbGFnS2V5d29yZC5rZXl3b3JkLCBcIiBcIikgOiBmbGFnS2V5d29yZC5rZXl3b3JkO1xuICAgIHZhciBmbGFncyA9IGZsYWdLZXl3b3JkLm1hdGNoQ2FzZSA/ICdnJyA6ICdnaSc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2V5d29yZDogZmxhZ0tleXdvcmQua2V5d29yZCxcbiAgICAgICAgcmVnRXhwOiBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4cChzb3VyY2UpLCBmbGFncyksXG4gICAgICAgIHdob2xlV29yZHM6IGZsYWdLZXl3b3JkLndob2xlV29yZHMgfHwgZmFsc2UsXG4gICAgfTtcbn07XG52YXIgbm9ybWFsaXplU2luZ2xlS2V5d29yZCA9IGZ1bmN0aW9uIChrZXl3b3JkLCBtYXRjaENhc2UsIHdob2xlV29yZHMpIHtcbiAgICBpZiAoa2V5d29yZCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5d29yZDoga2V5d29yZC5zb3VyY2UsXG4gICAgICAgICAgICByZWdFeHA6IGtleXdvcmQsXG4gICAgICAgICAgICB3aG9sZVdvcmRzOiB3aG9sZVdvcmRzIHx8IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGtleXdvcmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBrZXl3b3JkID09PSAnJ1xuICAgICAgICAgICAgPyBFTVBUWV9LRVlXT1JEX1JFR0VYUFxuICAgICAgICAgICAgOiBub3JtYWxpemVGbGFnS2V5d29yZCh7XG4gICAgICAgICAgICAgICAga2V5d29yZDoga2V5d29yZCxcbiAgICAgICAgICAgICAgICBtYXRjaENhc2U6IG1hdGNoQ2FzZSB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICB3aG9sZVdvcmRzOiB3aG9sZVdvcmRzIHx8IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbWF0Y2hDYXNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBrZXl3b3JkLm1hdGNoQ2FzZSA9IG1hdGNoQ2FzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aG9sZVdvcmRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBrZXl3b3JkLndob2xlV29yZHMgPSB3aG9sZVdvcmRzO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplRmxhZ0tleXdvcmQoa2V5d29yZCk7XG59O1xuXG52YXIgdXNlRG9jdW1lbnQgPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgY3VycmVudERvY1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHN0b3JlLmdldCgnZG9jJykpO1xuICAgIHZhciBoYW5kbGVEb2N1bWVudENoYW5nZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGN1cnJlbnREb2NSZWYuY3VycmVudCA9IGRvYztcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBjdXJyZW50RG9jUmVmO1xufTtcblxudmFyIHVzZVNlYXJjaCA9IGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHZhciBjdXJyZW50RG9jUmVmID0gdXNlRG9jdW1lbnQoc3RvcmUpO1xuICAgIHZhciBfYSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoW10pLCBrZXl3b3JkcyA9IF9hWzBdLCBzZXRLZXl3b3JkcyA9IF9hWzFdO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoW10pLCBmb3VuZCA9IF9iWzBdLCBzZXRGb3VuZCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoMCksIGN1cnJlbnRNYXRjaCA9IF9jWzBdLCBzZXRDdXJyZW50TWF0Y2ggPSBfY1sxXTtcbiAgICB2YXIgX2QgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGZhbHNlKSwgbWF0Y2hDYXNlID0gX2RbMF0sIHNldE1hdGNoQ2FzZSA9IF9kWzFdO1xuICAgIHZhciB0ZXh0Q29udGVudHMgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihbXSk7XG4gICAgdmFyIF9lID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIHdob2xlV29yZHMgPSBfZVswXSwgc2V0V2hvbGVXb3JkcyA9IF9lWzFdO1xuICAgIHZhciBkZWZhdWx0VGFyZ2V0UGFnZUZpbHRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgdmFyIHRhcmdldFBhZ2VGaWx0ZXIgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0b3JlLmdldCgndGFyZ2V0UGFnZUZpbHRlcicpIHx8IGRlZmF1bHRUYXJnZXRQYWdlRmlsdGVyOyB9LCBbc3RvcmUuZ2V0KCd0YXJnZXRQYWdlRmlsdGVyJyldKTtcbiAgICB2YXIgY2hhbmdlTWF0Y2hDYXNlID0gZnVuY3Rpb24gKGlzQ2hlY2tlZCkge1xuICAgICAgICBzZXRNYXRjaENhc2UoaXNDaGVja2VkKTtcbiAgICAgICAgaWYgKGtleXdvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlYXJjaEZvcihrZXl3b3JkcywgaXNDaGVja2VkLCB3aG9sZVdvcmRzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGNoYW5nZVdob2xlV29yZHMgPSBmdW5jdGlvbiAoaXNDaGVja2VkKSB7XG4gICAgICAgIHNldFdob2xlV29yZHMoaXNDaGVja2VkKTtcbiAgICAgICAgaWYgKGtleXdvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlYXJjaEZvcihrZXl3b3JkcywgbWF0Y2hDYXNlLCBpc0NoZWNrZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIganVtcFRvTWF0Y2ggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIG51bU1hdGNoZXMgPSBmb3VuZC5sZW5ndGg7XG4gICAgICAgIGlmIChrZXl3b3Jkcy5sZW5ndGggPT09IDAgfHwgbnVtTWF0Y2hlcyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbmRleCA9IGluZGV4ID09PSBudW1NYXRjaGVzICsgMSA/IDEgOiBNYXRoLm1heCgxLCBNYXRoLm1pbihudW1NYXRjaGVzLCBpbmRleCkpO1xuICAgICAgICBzZXRDdXJyZW50TWF0Y2gobm9ybWFsaXplZEluZGV4KTtcbiAgICAgICAgcmV0dXJuIGp1bXBUb0dpdmVuTWF0Y2goZm91bmRbbm9ybWFsaXplZEluZGV4IC0gMV0pO1xuICAgIH07XG4gICAgdmFyIGp1bXBUb1ByZXZpb3VzTWF0Y2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiBqdW1wVG9NYXRjaChjdXJyZW50TWF0Y2ggLSAxKTsgfTtcbiAgICB2YXIganVtcFRvTmV4dE1hdGNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4ganVtcFRvTWF0Y2goY3VycmVudE1hdGNoICsgMSk7IH07XG4gICAgdmFyIGNsZWFyS2V5d29yZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUudXBkYXRlKCdrZXl3b3JkJywgW0VNUFRZX0tFWVdPUkRfUkVHRVhQXSk7XG4gICAgICAgIHNldEtleXdvcmQoJycpO1xuICAgICAgICBzZXRDdXJyZW50TWF0Y2goMCk7XG4gICAgICAgIHNldEZvdW5kKFtdKTtcbiAgICAgICAgc2V0TWF0Y2hDYXNlKGZhbHNlKTtcbiAgICAgICAgc2V0V2hvbGVXb3JkcyhmYWxzZSk7XG4gICAgfTtcbiAgICB2YXIgc2VhcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VhcmNoRm9yKGtleXdvcmRzLCBtYXRjaENhc2UsIHdob2xlV29yZHMpOyB9O1xuICAgIHZhciBzZXRLZXl3b3JkID0gZnVuY3Rpb24gKGtleXdvcmQpIHsgcmV0dXJuIHNldEtleXdvcmRzKGtleXdvcmQgPT09ICcnID8gW10gOiBba2V5d29yZF0pOyB9O1xuICAgIHZhciBzZXRUYXJnZXRQYWdlcyA9IGZ1bmN0aW9uICh0YXJnZXRQYWdlRmlsdGVyKSB7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgndGFyZ2V0UGFnZUZpbHRlcicsIHRhcmdldFBhZ2VGaWx0ZXIpO1xuICAgIH07XG4gICAgdmFyIGdldFRleHRDb250ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnREb2MgPSBjdXJyZW50RG9jUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY3VycmVudERvYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb21pc2VzID0gQXJyYXkoY3VycmVudERvYy5udW1QYWdlcylcbiAgICAgICAgICAgIC5maWxsKDApXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfLCBwYWdlSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3JlLmdldFBhZ2UoY3VycmVudERvYywgcGFnZUluZGV4KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2UuZ2V0VGV4dENvbnRlbnQoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZUNvbnRlbnQgPSBjb250ZW50Lml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5zdHIgfHwgJyc7IH0pLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBwYWdlQ29udGVudDogcGFnZUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5wYWdlSW5kZXggLSBiLnBhZ2VJbmRleDsgfSk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnBhZ2VDb250ZW50OyB9KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGp1bXBUb0dpdmVuTWF0Y2ggPSBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UobWF0Y2gucGFnZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yZS51cGRhdGUoJ21hdGNoUG9zaXRpb24nLCB7XG4gICAgICAgICAgICBtYXRjaEluZGV4OiBtYXRjaC5tYXRjaEluZGV4LFxuICAgICAgICAgICAgcGFnZUluZGV4OiBtYXRjaC5wYWdlSW5kZXgsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfTtcbiAgICB2YXIgZ2V0S2V5d29yZFNvdXJjZSA9IGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gICAgICAgIGlmIChrZXl3b3JkIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5d29yZC5zb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBrZXl3b3JkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGtleXdvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleXdvcmQua2V5d29yZDtcbiAgICB9O1xuICAgIHZhciBzZWFyY2hGb3IgPSBmdW5jdGlvbiAoa2V5d29yZFBhcmFtLCBtYXRjaENhc2VQYXJhbSwgd2hvbGVXb3Jkc1BhcmFtKSB7XG4gICAgICAgIHZhciBjdXJyZW50RG9jID0gY3VycmVudERvY1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWN1cnJlbnREb2MpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBudW1QYWdlcyA9IGN1cnJlbnREb2MubnVtUGFnZXM7XG4gICAgICAgIHZhciBrZXl3b3JkcyA9IGtleXdvcmRQYXJhbS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG5vcm1hbGl6ZVNpbmdsZUtleXdvcmQoaywgbWF0Y2hDYXNlUGFyYW0sIHdob2xlV29yZHNQYXJhbSk7IH0pO1xuICAgICAgICBzdG9yZS51cGRhdGUoJ2tleXdvcmQnLCBrZXl3b3Jkcyk7XG4gICAgICAgIHNldEN1cnJlbnRNYXRjaCgwKTtcbiAgICAgICAgc2V0Rm91bmQoW10pO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIF8pIHtcbiAgICAgICAgICAgIHZhciBnZXRUZXh0UHJvbWlzZSA9IHRleHRDb250ZW50cy5jdXJyZW50Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gZ2V0VGV4dENvbnRlbnRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnRzLmN1cnJlbnQgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSh0ZXh0Q29udGVudHMuY3VycmVudCk7XG4gICAgICAgICAgICBnZXRUZXh0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlVGV4dCwgcGFnZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQYWdlRmlsdGVyKCkoeyBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgbnVtUGFnZXM6IG51bVBhZ2VzIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2hlcyA9IGtleXdvcmQucmVnRXhwLmV4ZWMocGFnZVRleHQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkOiBrZXl3b3JkLnJlZ0V4cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXg6IG1hdGNoSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VUZXh0OiBwYWdlVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXg6IG1hdGNoZXMuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDoga2V5d29yZC5yZWdFeHAubGFzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0Rm91bmQoYXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudE1hdGNoKDEpO1xuICAgICAgICAgICAgICAgICAgICBqdW1wVG9HaXZlbk1hdGNoKGFyclswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoYXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGV4dENvbnRlbnRzLmN1cnJlbnQgPSBbXTtcbiAgICB9LCBbY3VycmVudERvY1JlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xlYXJLZXl3b3JkOiBjbGVhcktleXdvcmQsXG4gICAgICAgIGNoYW5nZU1hdGNoQ2FzZTogY2hhbmdlTWF0Y2hDYXNlLFxuICAgICAgICBjaGFuZ2VXaG9sZVdvcmRzOiBjaGFuZ2VXaG9sZVdvcmRzLFxuICAgICAgICBjdXJyZW50TWF0Y2g6IGN1cnJlbnRNYXRjaCxcbiAgICAgICAganVtcFRvTWF0Y2g6IGp1bXBUb01hdGNoLFxuICAgICAgICBqdW1wVG9OZXh0TWF0Y2g6IGp1bXBUb05leHRNYXRjaCxcbiAgICAgICAganVtcFRvUHJldmlvdXNNYXRjaDoganVtcFRvUHJldmlvdXNNYXRjaCxcbiAgICAgICAga2V5d29yZHM6IGtleXdvcmRzLFxuICAgICAgICBtYXRjaENhc2U6IG1hdGNoQ2FzZSxcbiAgICAgICAgbnVtYmVyT2ZNYXRjaGVzOiBmb3VuZC5sZW5ndGgsXG4gICAgICAgIHdob2xlV29yZHM6IHdob2xlV29yZHMsXG4gICAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgICBzZWFyY2hGb3I6IHNlYXJjaEZvcixcbiAgICAgICAgc2V0S2V5d29yZHM6IHNldEtleXdvcmRzLFxuICAgICAgICBrZXl3b3JkOiBrZXl3b3Jkcy5sZW5ndGggPT09IDAgPyAnJyA6IGdldEtleXdvcmRTb3VyY2Uoa2V5d29yZHNbMF0pLFxuICAgICAgICBzZXRLZXl3b3JkOiBzZXRLZXl3b3JkLFxuICAgICAgICBzZXRUYXJnZXRQYWdlczogc2V0VGFyZ2V0UGFnZXMsXG4gICAgfTtcbn07XG5cbnZhciBTZWFyY2ggPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgcmVzdWx0ID0gdXNlU2VhcmNoKHN0b3JlKTtcbiAgICByZXR1cm4gY2hpbGRyZW4oX19hc3NpZ24oe30sIHJlc3VsdCkpO1xufTtcblxudmFyIFNob3J0Y3V0SGFuZGxlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb250YWluZXJSZWYgPSBfYS5jb250YWluZXJSZWYsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh0cnVlKSwgaXNNb3VzZUluc2lkZSA9IF9iWzBdLCBzZXRNb3VzZUluc2lkZSA9IF9iWzFdO1xuICAgIHZhciBoYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0TW91c2VJbnNpZGUodHJ1ZSk7IH07XG4gICAgdmFyIGhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRNb3VzZUluc2lkZShmYWxzZSk7IH07XG4gICAgdmFyIGhhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkgfHwgZS5rZXkgIT09ICdmJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5ICYmICFlLmN0cmxLZXkgOiBlLmN0cmxLZXk7XG4gICAgICAgIGlmICghaXNDb21tYW5kUHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vdXNlSW5zaWRlIHx8IChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGNvbnRhaW5lckVsZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnYXJlU2hvcnRjdXRzUHJlc3NlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XG4gICAgICAgIGNvbnRhaW5lckVsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgaGFuZGxlTW91c2VFbnRlcik7XG4gICAgICAgIGNvbnRhaW5lckVsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XG4gICAgICAgICAgICBjb250YWluZXJFbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGhhbmRsZU1vdXNlRW50ZXIpO1xuICAgICAgICAgICAgY29udGFpbmVyRWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoYW5kbGVNb3VzZUxlYXZlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY29udGFpbmVyUmVmLmN1cnJlbnRdKTtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xufTtcblxudmFyIFBPUlRBTF9PRkZTRVQkMSA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgU2VhcmNoUG9wb3ZlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzdG9yZSA9IF9hLnN0b3JlLCBvblRvZ2dsZSA9IF9hLm9uVG9nZ2xlO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIGlzUXVlcnlpbmcgPSBfYlswXSwgc2V0SXNRdWVyeWluZyA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpLCBzZWFyY2hEb25lID0gX2NbMF0sIHNldFNlYXJjaERvbmUgPSBfY1sxXTtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgX2QgPSB1c2VTZWFyY2goc3RvcmUpLCBjbGVhcktleXdvcmQgPSBfZC5jbGVhcktleXdvcmQsIGNoYW5nZU1hdGNoQ2FzZSA9IF9kLmNoYW5nZU1hdGNoQ2FzZSwgY2hhbmdlV2hvbGVXb3JkcyA9IF9kLmNoYW5nZVdob2xlV29yZHMsIGN1cnJlbnRNYXRjaCA9IF9kLmN1cnJlbnRNYXRjaCwganVtcFRvTmV4dE1hdGNoID0gX2QuanVtcFRvTmV4dE1hdGNoLCBqdW1wVG9QcmV2aW91c01hdGNoID0gX2QuanVtcFRvUHJldmlvdXNNYXRjaCwga2V5d29yZCA9IF9kLmtleXdvcmQsIG1hdGNoQ2FzZSA9IF9kLm1hdGNoQ2FzZSwgbnVtYmVyT2ZNYXRjaGVzID0gX2QubnVtYmVyT2ZNYXRjaGVzLCB3aG9sZVdvcmRzID0gX2Qud2hvbGVXb3Jkcywgc2VhcmNoID0gX2Quc2VhcmNoLCBzZXRLZXl3b3JkID0gX2Quc2V0S2V5d29yZDtcbiAgICB2YXIgb25LZXlkb3duU2VhcmNoID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIGtleXdvcmQpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hEb25lKSB7XG4gICAgICAgICAgICAgICAganVtcFRvTmV4dE1hdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRJc1F1ZXJ5aW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNlYXJjaCgpLnRoZW4oZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNRdWVyeWluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaERvbmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvbkNoYW5nZU1hdGNoQ2FzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHNldFNlYXJjaERvbmUoZmFsc2UpO1xuICAgICAgICBjaGFuZ2VNYXRjaENhc2UoZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgfTtcbiAgICB2YXIgb25DaGFuZ2VXaG9sZVdvcmRzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc2V0U2VhcmNoRG9uZShmYWxzZSk7XG4gICAgICAgIGNoYW5nZVdob2xlV29yZHMoZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgfTtcbiAgICB2YXIgb25DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25Ub2dnbGUoKTtcbiAgICAgICAgY2xlYXJLZXl3b3JkKCk7XG4gICAgfTtcbiAgICB2YXIgb25DaGFuZ2VLZXl3b3JkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNldFNlYXJjaERvbmUoZmFsc2UpO1xuICAgICAgICBzZXRLZXl3b3JkKHZhbHVlKTtcbiAgICB9O1xuICAgIHZhciBzZWFyY2hMYWJlbCA9IGwxMG4gJiYgbDEwbi5zZWFyY2ggPyBsMTBuLnNlYXJjaC5lbnRlclRvU2VhcmNoIDogJ0VudGVyIHRvIHNlYXJjaCc7XG4gICAgdmFyIHByZXZpb3VzTWF0Y2hMYWJlbCA9IGwxMG4gJiYgbDEwbi5zZWFyY2ggPyBsMTBuLnNlYXJjaC5wcmV2aW91c01hdGNoIDogJ1ByZXZpb3VzIG1hdGNoJztcbiAgICB2YXIgbmV4dE1hdGNoTGFiZWwgPSBsMTBuICYmIGwxMG4uc2VhcmNoID8gbDEwbi5zZWFyY2gubmV4dE1hdGNoIDogJ05leHQgbWF0Y2gnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1zZWFyY2hfX3BvcG92ZXJcIiB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1pbnB1dC1jb3VudGVyXCIgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRleHRCb3gsIHsgYXJpYUxhYmVsOiBzZWFyY2hMYWJlbCwgYXV0b0ZvY3VzOiB0cnVlLCBwbGFjZWhvbGRlcjogc2VhcmNoTGFiZWwsIHR5cGU6IFwidGV4dFwiLCB2YWx1ZToga2V5d29yZCwgb25DaGFuZ2U6IG9uQ2hhbmdlS2V5d29yZCwgb25LZXlEb3duOiBvbktleWRvd25TZWFyY2ggfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICdycHYtc2VhcmNoX19wb3BvdmVyLWNvdW50ZXInOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAncnB2LXNlYXJjaF9fcG9wb3Zlci1jb3VudGVyLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgICAgICdycHYtc2VhcmNoX19wb3BvdmVyLWNvdW50ZXItLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgICAgIH0pIH0sXG4gICAgICAgICAgICAgICAgaXNRdWVyeWluZyAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5TcGlubmVyLCB7IHRlc3RJZDogXCJzZWFyY2hfX3BvcG92ZXItc2VhcmNoaW5nXCIsIHNpemU6IFwiMXJlbVwiIH0pLFxuICAgICAgICAgICAgICAgICFpc1F1ZXJ5aW5nICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcInNlYXJjaF9fcG9wb3Zlci1udW0tbWF0Y2hlc1wiIH0sXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgXCIvXCIsXG4gICAgICAgICAgICAgICAgICAgIG51bWJlck9mTWF0Y2hlcykpKSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1zZWFyY2hfX3BvcG92ZXItbGFiZWxcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1sYWJlbC1jaGVja2JveFwiLCBjaGVja2VkOiBtYXRjaENhc2UsIHR5cGU6IFwiY2hlY2tib3hcIiwgb25DaGFuZ2U6IG9uQ2hhbmdlTWF0Y2hDYXNlIH0pLFxuICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgbDEwbiAmJiBsMTBuLnNlYXJjaCA/IGwxMG4uc2VhcmNoLm1hdGNoQ2FzZSA6ICdNYXRjaCBjYXNlJyksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1zZWFyY2hfX3BvcG92ZXItbGFiZWxcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1sYWJlbC1jaGVja2JveFwiLCBjaGVja2VkOiB3aG9sZVdvcmRzLCB0eXBlOiBcImNoZWNrYm94XCIsIG9uQ2hhbmdlOiBvbkNoYW5nZVdob2xlV29yZHMgfSksXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBsMTBuICYmIGwxMG4uc2VhcmNoID8gbDEwbi5zZWFyY2gud2hvbGVXb3JkcyA6ICdXaG9sZSB3b3JkcycpLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXJcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1zZWFyY2hfX3BvcG92ZXItZm9vdGVyLWl0ZW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInNlYXJjaC1wcmV2aW91cy1tYXRjaFwiLCBwb3NpdGlvbjogaXNSdGwgPyBjb3JlLlBvc2l0aW9uLkJvdHRvbVJpZ2h0IDogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IHByZXZpb3VzTWF0Y2hMYWJlbCwgaXNEaXNhYmxlZDogY3VycmVudE1hdGNoIDw9IDEsIG9uQ2xpY2s6IGp1bXBUb1ByZXZpb3VzTWF0Y2ggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmV2aW91c0ljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJldmlvdXNNYXRjaExhYmVsOyB9LCBvZmZzZXQ6IFBPUlRBTF9PRkZTRVQkMSB9KSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXItaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwic2VhcmNoLW5leHQtbWF0Y2hcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBuZXh0TWF0Y2hMYWJlbCwgaXNEaXNhYmxlZDogY3VycmVudE1hdGNoID4gbnVtYmVyT2ZNYXRjaGVzIC0gMSwgb25DbGljazoganVtcFRvTmV4dE1hdGNoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTmV4dEljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV4dE1hdGNoTGFiZWw7IH0sIG9mZnNldDogUE9SVEFMX09GRlNFVCQxIH0pKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi1zZWFyY2hfX3BvcG92ZXItZm9vdGVyLWJ1dHRvbic6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICdycHYtc2VhcmNoX19wb3BvdmVyLWZvb3Rlci1idXR0b24tLWx0cic6ICFpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi1zZWFyY2hfX3BvcG92ZXItZm9vdGVyLWJ1dHRvbi0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5CdXR0b24sIHsgb25DbGljazogb25DbG9zZSB9LCBsMTBuICYmIGwxMG4uc2VhcmNoID8gbDEwbi5zZWFyY2guY2xvc2UgOiAnQ2xvc2UnKSkpKSk7XG59O1xuXG52YXIgU2hvd1NlYXJjaFBvcG92ZXJEZWNvcmF0b3IgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5zZWFyY2ggPyBsMTBuLnNlYXJjaC5zZWFyY2ggOiAnU2VhcmNoJztcbiAgICB2YXIgaWNvbiA9IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTZWFyY2hJY29uLCBudWxsKTtcbiAgICByZXR1cm4gY2hpbGRyZW4oeyBpY29uOiBpY29uLCBsYWJlbDogbGFiZWwsIG9uQ2xpY2s6IG9uQ2xpY2sgfSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFNob3dTZWFyY2hQb3BvdmVyQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGVuYWJsZVNob3J0Y3V0cyA9IF9hLmVuYWJsZVNob3J0Y3V0cywgc3RvcmUgPSBfYS5zdG9yZSwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErRicgOiAnQ3RybCtGJykgOiAnJztcbiAgICB2YXIgaGFuZGxlU2hvcnRjdXRzUHJlc3NlZCA9IGZ1bmN0aW9uIChhcmVTaG9ydGN1dHNQcmVzc2VkKSB7XG4gICAgICAgIGlmIChhcmVTaG9ydGN1dHNQcmVzc2VkKSB7XG4gICAgICAgICAgICBvbkNsaWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdhcmVTaG9ydGN1dHNQcmVzc2VkJywgaGFuZGxlU2hvcnRjdXRzUHJlc3NlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnYXJlU2hvcnRjdXRzUHJlc3NlZCcsIGhhbmRsZVNob3J0Y3V0c1ByZXNzZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93U2VhcmNoUG9wb3ZlckRlY29yYXRvciwgeyBvbkNsaWNrOiBvbkNsaWNrIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwic2VhcmNoLXBvcG92ZXJcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUtleVNob3J0Y3V0czogYXJpYUtleVNob3J0Y3V0cywgYXJpYUxhYmVsOiBwLmxhYmVsLCB0ZXN0SWQ6IFwic2VhcmNoX19wb3BvdmVyLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIHAuaWNvbiksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHAubGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQgfSkpOyB9KSk7XG59O1xuXG52YXIgUE9SVEFMX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgU2hvd1NlYXJjaFBvcG92ZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgcG9ydGFsUG9zaXRpb24gPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdCA/IGNvcmUuUG9zaXRpb24uQm90dG9tUmlnaHQgOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUxlZnQ7XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93U2VhcmNoUG9wb3ZlckJ1dHRvbiwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IGVuYWJsZVNob3J0Y3V0cywgc3RvcmU6IHN0b3JlIH0sIHByb3BzKSkpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Qb3BvdmVyLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJzZWFyY2hcIiwgbG9ja1Njcm9sbDogZmFsc2UsIHBvc2l0aW9uOiBwb3J0YWxQb3NpdGlvbiwgdGFyZ2V0OiBmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiB0b2dnbGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY29udGVudDogZnVuY3Rpb24gKHRvZ2dsZSkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNlYXJjaFBvcG92ZXIsIHsgc3RvcmU6IHN0b3JlLCBvblRvZ2dsZTogdG9nZ2xlIH0pOyB9LCBvZmZzZXQ6IFBPUlRBTF9PRkZTRVQsIGNsb3NlT25DbGlja091dHNpZGU6IGZhbHNlLCBjbG9zZU9uRXNjYXBlOiB0cnVlIH0pKTtcbn07XG5cbnZhciBjYWxjdWxhdGVPZmZzZXQgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHBhcmVudCkge1xuICAgIHZhciB0b3AgPSBjaGlsZHJlbi5vZmZzZXRUb3A7XG4gICAgdmFyIGxlZnQgPSBjaGlsZHJlbi5vZmZzZXRMZWZ0O1xuICAgIHZhciBwID0gY2hpbGRyZW4ucGFyZW50RWxlbWVudDtcbiAgICB3aGlsZSAocCAmJiBwICE9PSBwYXJlbnQpIHtcbiAgICAgICAgdG9wICs9IHAub2Zmc2V0VG9wO1xuICAgICAgICBsZWZ0ICs9IHAub2Zmc2V0TGVmdDtcbiAgICAgICAgcCA9IHAucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgfTtcbn07XG5cbnZhciByZW1vdmVOb2RlID0gZnVuY3Rpb24gKGVsZSkge1xuICAgIHZhciBwYXJlbnQgPSBlbGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGUpO1xuICAgIH1cbn07XG52YXIgcmVwbGFjZU5vZGUgPSBmdW5jdGlvbiAocmVwbGFjZW1lbnROb2RlLCBub2RlKSB7XG4gICAgcmVtb3ZlTm9kZShyZXBsYWNlbWVudE5vZGUpO1xuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHJlcGxhY2VtZW50Tm9kZSwgbm9kZSk7XG4gICAgfVxuICAgIHJlbW92ZU5vZGUobm9kZSk7XG59O1xudmFyIHVud3JhcCA9IGZ1bmN0aW9uIChlbGUpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGUpO1xuICAgIHJlcGxhY2VOb2RlKHJhbmdlLmV4dHJhY3RDb250ZW50cygpLCBlbGUpO1xuICAgIHBhcmVudC5ub3JtYWxpemUoKTtcbn07XG5cbnZhciBwZXJjZW50VG9OdW1iZXIgPSBmdW5jdGlvbiAoaW5wdXQpIHsgcmV0dXJuIHBhcnNlRmxvYXQoaW5wdXQuc2xpY2UoMCwgLTEpKTsgfTtcbnZhciBzb3J0SGlnaGxpZ2h0RWxlbWVudHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBhVG9wID0gcGVyY2VudFRvTnVtYmVyKGEuc3R5bGUudG9wKTtcbiAgICB2YXIgYUxlZnQgPSBwZXJjZW50VG9OdW1iZXIoYS5zdHlsZS5sZWZ0KTtcbiAgICB2YXIgYlRvcCA9IHBlcmNlbnRUb051bWJlcihiLnN0eWxlLnRvcCk7XG4gICAgdmFyIGJMZWZ0ID0gcGVyY2VudFRvTnVtYmVyKGIuc3R5bGUubGVmdCk7XG4gICAgaWYgKGFUb3AgPCBiVG9wKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKGFUb3AgPiBiVG9wKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoYUxlZnQgPCBiTGVmdCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhTGVmdCA+IGJMZWZ0KSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG52YXIgVHJhY2tlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBudW1QYWdlcyA9IF9hLm51bVBhZ2VzLCBwYWdlSW5kZXggPSBfYS5wYWdlSW5kZXgsIHN0b3JlID0gX2Euc3RvcmUsIG9uSGlnaGxpZ2h0S2V5d29yZCA9IF9hLm9uSGlnaGxpZ2h0S2V5d29yZDtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnbWF0Y2hQb3NpdGlvbicpKSwgbWF0Y2hQb3NpdGlvbiA9IF9iWzBdLCBzZXRNYXRjaFBvc2l0aW9uID0gX2JbMV07XG4gICAgdmFyIF9jID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2tleXdvcmQnKSB8fCBbRU1QVFlfS0VZV09SRF9SRUdFWFBdKSwga2V5d29yZFJlZ2V4cCA9IF9jWzBdLCBzZXRLZXl3b3JkUmVnZXhwID0gX2NbMV07XG4gICAgdmFyIF9kID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgc3RhdHVzOiBjb3JlLkxheWVyUmVuZGVyU3RhdHVzLlByZVJlbmRlcixcbiAgICB9KSwgcmVuZGVyU3RhdHVzID0gX2RbMF0sIHNldFJlbmRlclN0YXR1cyA9IF9kWzFdO1xuICAgIHZhciBjdXJyZW50TWF0Y2hSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgICB2YXIgY2hhcmFjdGVySW5kZXhlc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKFtdKTtcbiAgICB2YXIgZGVmYXVsdFRhcmdldFBhZ2VGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICAgIHZhciB0YXJnZXRQYWdlRmlsdGVyID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXQoJ3RhcmdldFBhZ2VGaWx0ZXInKSB8fCBkZWZhdWx0VGFyZ2V0UGFnZUZpbHRlcjsgfSwgW3N0b3JlLmdldCgndGFyZ2V0UGFnZUZpbHRlcicpXSk7XG4gICAgdmFyIHVuaGlnaGxpZ2h0QWxsID0gZnVuY3Rpb24gKGNvbnRhaW5lckVsZSkge1xuICAgICAgICB2YXIgaGlnaGxpZ2h0Tm9kZXMgPSBjb250YWluZXJFbGUucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5ycHYtc2VhcmNoX19oaWdobGlnaHQnKTtcbiAgICAgICAgdmFyIHRvdGFsID0gaGlnaGxpZ2h0Tm9kZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodE5vZGVzW2ldLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaGlnaGxpZ2h0Tm9kZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGtleXdvcmRTdHIsIGtleXdvcmQsIGNvbnRhaW5lckVsZSwgc3BhbiwgY2hhckluZGV4U3Bhbikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IHNwYW4uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKCFmaXJzdENoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0T2Zmc2V0ID0gY2hhckluZGV4U3BhblswXS5jaGFySW5kZXhJblNwYW47XG4gICAgICAgIHZhciBlbmRPZmZzZXQgPSBjaGFySW5kZXhTcGFuLmxlbmd0aCA9PT0gMSA/IHN0YXJ0T2Zmc2V0IDogY2hhckluZGV4U3BhbltjaGFySW5kZXhTcGFuLmxlbmd0aCAtIDFdLmNoYXJJbmRleEluU3BhbjtcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoZmlyc3RDaGlsZCwgc3RhcnRPZmZzZXQpO1xuICAgICAgICByYW5nZS5zZXRFbmQoZmlyc3RDaGlsZCwgZW5kT2Zmc2V0ICsgMSk7XG4gICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICByYW5nZS5zdXJyb3VuZENvbnRlbnRzKHdyYXBwZXIpO1xuICAgICAgICB2YXIgd3JhcHBlclJlY3QgPSB3cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lckVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGhpZ2hsaWdodEVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY29udGFpbmVyRWxlLmluc2VydEJlZm9yZShoaWdobGlnaHRFbGUsIGNvbnRhaW5lckVsZS5maXJzdENoaWxkKTtcbiAgICAgICAgaGlnaGxpZ2h0RWxlLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdCgoMTAwICogKHdyYXBwZXJSZWN0LmxlZnQgLSBjb250YWluZXJSZWN0LmxlZnQpKSAvIGNvbnRhaW5lclJlY3Qud2lkdGgsIFwiJVwiKTtcbiAgICAgICAgaGlnaGxpZ2h0RWxlLnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KCgxMDAgKiAod3JhcHBlclJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3ApKSAvIGNvbnRhaW5lclJlY3QuaGVpZ2h0LCBcIiVcIik7XG4gICAgICAgIGhpZ2hsaWdodEVsZS5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KCgxMDAgKiB3cmFwcGVyUmVjdC53aWR0aCkgLyBjb250YWluZXJSZWN0LndpZHRoLCBcIiVcIik7XG4gICAgICAgIGhpZ2hsaWdodEVsZS5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdCgoMTAwICogd3JhcHBlclJlY3QuaGVpZ2h0KSAvIGNvbnRhaW5lclJlY3QuaGVpZ2h0LCBcIiVcIik7XG4gICAgICAgIGhpZ2hsaWdodEVsZS5jbGFzc0xpc3QuYWRkKCdycHYtc2VhcmNoX19oaWdobGlnaHQnKTtcbiAgICAgICAgaGlnaGxpZ2h0RWxlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBrZXl3b3JkU3RyLnRyaW0oKSk7XG4gICAgICAgIHVud3JhcCh3cmFwcGVyKTtcbiAgICAgICAgaWYgKG9uSGlnaGxpZ2h0S2V5d29yZCkge1xuICAgICAgICAgICAgb25IaWdobGlnaHRLZXl3b3JkKHtcbiAgICAgICAgICAgICAgICBoaWdobGlnaHRFbGU6IGhpZ2hsaWdodEVsZSxcbiAgICAgICAgICAgICAgICBrZXl3b3JkOiBrZXl3b3JkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBoaWdobGlnaHRBbGwgPSBmdW5jdGlvbiAoY29udGFpbmVyRWxlKSB7XG4gICAgICAgIHZhciBjaGFySW5kZXhlcyA9IGNoYXJhY3RlckluZGV4ZXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNoYXJJbmRleGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzcGFucyA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0JykpO1xuICAgICAgICB2YXIgZnVsbFRleHQgPSBjaGFySW5kZXhlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uY2hhcjsgfSkuam9pbignJyk7XG4gICAgICAgIGtleXdvcmRSZWdleHAuZm9yRWFjaChmdW5jdGlvbiAoa2V5d29yZCkge1xuICAgICAgICAgICAgdmFyIGtleXdvcmRTdHIgPSBrZXl3b3JkLmtleXdvcmQ7XG4gICAgICAgICAgICBpZiAoIWtleXdvcmRTdHIudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNsb25lS2V5d29yZCA9IGtleXdvcmQucmVnRXhwLmZsYWdzLmluZGV4T2YoJ2cnKSA9PT0gLTFcbiAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoa2V5d29yZC5yZWdFeHAsIFwiXCIuY29uY2F0KGtleXdvcmQucmVnRXhwLmZsYWdzLCBcImdcIikpXG4gICAgICAgICAgICAgICAgOiBrZXl3b3JkLnJlZ0V4cDtcbiAgICAgICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gY2xvbmVLZXl3b3JkLmV4ZWMoZnVsbFRleHQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6IGNsb25lS2V5d29yZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleDogbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGVuZEluZGV4OiBjbG9uZUtleXdvcmQubGFzdEluZGV4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2hlc1xuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAga2V5d29yZDogaXRlbS5rZXl3b3JkLFxuICAgICAgICAgICAgICAgIGluZGV4ZXM6IGNoYXJJbmRleGVzLnNsaWNlKGl0ZW0uc3RhcnRJbmRleCwgaXRlbS5lbmRJbmRleCksXG4gICAgICAgICAgICB9KTsgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzcGFuSW5kZXhlcyA9IGl0ZW0uaW5kZXhlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBhY2NbaXRlbS5zcGFuSW5kZXhdID0gKGFjY1tpdGVtLnNwYW5JbmRleF0gfHwgW10pLmNvbmNhdChbaXRlbV0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKHNwYW5JbmRleGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFySW5kZXhTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFySW5kZXhTcGFuLmxlbmd0aCAhPT0gMSB8fCBjaGFySW5kZXhTcGFuWzBdLmNoYXIudHJpbSgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRDaGFyU3BhbiA9IGtleXdvcmQud2hvbGVXb3JkcyA/IGNoYXJJbmRleFNwYW4uc2xpY2UoMSwgLTEpIDogY2hhckluZGV4U3BhbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodChrZXl3b3JkU3RyLCBpdGVtLmtleXdvcmQsIGNvbnRhaW5lckVsZSwgc3BhbnNbbm9ybWFsaXplZENoYXJTcGFuWzBdLnNwYW5JbmRleF0sIG5vcm1hbGl6ZWRDaGFyU3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGhpZ2hsaWdodEVsZXMgPSBbXS5zbGljZS5jYWxsKGNvbnRhaW5lckVsZS5xdWVyeVNlbGVjdG9yQWxsKCcucnB2LXNlYXJjaF9faGlnaGxpZ2h0JykpO1xuICAgICAgICBoaWdobGlnaHRFbGVzLnNvcnQoc29ydEhpZ2hsaWdodEVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGUsIGkpIHtcbiAgICAgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBcIlwiLmNvbmNhdChpKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUtleXdvcmRDaGFuZ2VkID0gZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICAgICAgaWYgKGtleXdvcmQgJiYga2V5d29yZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRLZXl3b3JkUmVnZXhwKGtleXdvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlTWF0Y2hQb3NpdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFBvc2l0aW9uKSB7IHJldHVybiBzZXRNYXRjaFBvc2l0aW9uKGN1cnJlbnRQb3NpdGlvbik7IH07XG4gICAgdmFyIGhhbmRsZVJlbmRlclN0YXR1c0NoYW5nZWQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIGlmICghc3RhdHVzLmhhcyhwYWdlSW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0dXMgPSBzdGF0dXMuZ2V0KHBhZ2VJbmRleCk7XG4gICAgICAgIGlmIChjdXJyZW50U3RhdHVzKSB7XG4gICAgICAgICAgICBzZXRSZW5kZXJTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGVsZTogY3VycmVudFN0YXR1cy5lbGUsXG4gICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgc2NhbGU6IGN1cnJlbnRTdGF0dXMuc2NhbGUsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjdXJyZW50U3RhdHVzLnN0YXR1cyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaXNFbXB0eUtleXdvcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBrZXl3b3JkUmVnZXhwLmxlbmd0aCA9PT0gMCB8fCAoa2V5d29yZFJlZ2V4cC5sZW5ndGggPT09IDEgJiYga2V5d29yZFJlZ2V4cFswXS5rZXl3b3JkLnRyaW0oKSA9PT0gJycpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNFbXB0eUtleXdvcmQoKSB8fFxuICAgICAgICAgICAgcmVuZGVyU3RhdHVzLnN0YXR1cyAhPT0gY29yZS5MYXllclJlbmRlclN0YXR1cy5EaWRSZW5kZXIgfHxcbiAgICAgICAgICAgIGNoYXJhY3RlckluZGV4ZXNSZWYuY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gcmVuZGVyU3RhdHVzLmVsZTtcbiAgICAgICAgdmFyIHNwYW5zID0gW10uc2xpY2UuY2FsbChjb250YWluZXJFbGUucXVlcnlTZWxlY3RvckFsbCgnLnJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQnKSk7XG4gICAgICAgIHZhciBjaGFySW5kZXhlcyA9IHNwYW5zXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzcGFuKSB7IHJldHVybiBzcGFuLnRleHRDb250ZW50OyB9KVxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyciwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmNvbmNhdChjdXJyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGMsIGkpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgY2hhcjogYyxcbiAgICAgICAgICAgICAgICBjaGFySW5kZXhJblNwYW46IGksXG4gICAgICAgICAgICAgICAgc3BhbkluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIH0pOyB9KSk7XG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGFyOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFySW5kZXhJblNwYW46IDAsXG4gICAgICAgICAgICAgICAgc3BhbkluZGV4OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSlcbiAgICAgICAgICAgIC5zbGljZSgxKTtcbiAgICAgICAgY2hhcmFjdGVySW5kZXhlc1JlZi5jdXJyZW50ID0gY2hhckluZGV4ZXM7XG4gICAgfSwgW2tleXdvcmRSZWdleHAsIHJlbmRlclN0YXR1cy5zdGF0dXNdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0VtcHR5S2V5d29yZCgpIHx8XG4gICAgICAgICAgICAhcmVuZGVyU3RhdHVzLmVsZSB8fFxuICAgICAgICAgICAgcmVuZGVyU3RhdHVzLnN0YXR1cyAhPT0gY29yZS5MYXllclJlbmRlclN0YXR1cy5EaWRSZW5kZXIgfHxcbiAgICAgICAgICAgICF0YXJnZXRQYWdlRmlsdGVyKCkoeyBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgbnVtUGFnZXM6IG51bVBhZ2VzIH0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IHJlbmRlclN0YXR1cy5lbGU7XG4gICAgICAgIHVuaGlnaGxpZ2h0QWxsKGNvbnRhaW5lckVsZSk7XG4gICAgICAgIGhpZ2hsaWdodEFsbChjb250YWluZXJFbGUpO1xuICAgICAgICBzY3JvbGxUb01hdGNoKCk7XG4gICAgfSwgW2tleXdvcmRSZWdleHAsIG1hdGNoUG9zaXRpb24sIHJlbmRlclN0YXR1cy5zdGF0dXMsIGNoYXJhY3RlckluZGV4ZXNSZWYuY3VycmVudF0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzRW1wdHlLZXl3b3JkKCkgJiYgcmVuZGVyU3RhdHVzLmVsZSAmJiByZW5kZXJTdGF0dXMuc3RhdHVzID09PSBjb3JlLkxheWVyUmVuZGVyU3RhdHVzLkRpZFJlbmRlcikge1xuICAgICAgICAgICAgdW5oaWdobGlnaHRBbGwocmVuZGVyU3RhdHVzLmVsZSk7XG4gICAgICAgIH1cbiAgICB9LCBba2V5d29yZFJlZ2V4cCwgcmVuZGVyU3RhdHVzLnN0YXR1c10pO1xuICAgIHZhciBzY3JvbGxUb01hdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobWF0Y2hQb3NpdGlvbi5wYWdlSW5kZXggIT09IHBhZ2VJbmRleCB8fFxuICAgICAgICAgICAgIXJlbmRlclN0YXR1cy5lbGUgfHxcbiAgICAgICAgICAgIHJlbmRlclN0YXR1cy5zdGF0dXMgIT09IGNvcmUuTGF5ZXJSZW5kZXJTdGF0dXMuRGlkUmVuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHJlbmRlclN0YXR1cy5lbGU7XG4gICAgICAgIHZhciBoaWdobGlnaHRFbGUgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5ycHYtc2VhcmNoX19oaWdobGlnaHRbZGF0YS1pbmRleD1cXFwiXCIuY29uY2F0KG1hdGNoUG9zaXRpb24ubWF0Y2hJbmRleCwgXCJcXFwiXVwiKSk7XG4gICAgICAgIGlmICghaGlnaGxpZ2h0RWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gY2FsY3VsYXRlT2Zmc2V0KGhpZ2hsaWdodEVsZSwgY29udGFpbmVyKSwgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcDtcbiAgICAgICAgdmFyIGp1bXAgPSBzdG9yZS5nZXQoJ2p1bXBUb0Rlc3RpbmF0aW9uJyk7XG4gICAgICAgIGlmIChqdW1wKSB7XG4gICAgICAgICAgICBqdW1wKHBhZ2VJbmRleCwgKGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLSB0b3ApIC8gcmVuZGVyU3RhdHVzLnNjYWxlLCBsZWZ0IC8gcmVuZGVyU3RhdHVzLnNjYWxlLCByZW5kZXJTdGF0dXMuc2NhbGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRNYXRjaFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE1hdGNoUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXNlYXJjaF9faGlnaGxpZ2h0LS1jdXJyZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50TWF0Y2hSZWYuY3VycmVudCA9IGhpZ2hsaWdodEVsZTtcbiAgICAgICAgICAgIGhpZ2hsaWdodEVsZS5jbGFzc0xpc3QuYWRkKCdycHYtc2VhcmNoX19oaWdobGlnaHQtLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2tleXdvcmQnLCBoYW5kbGVLZXl3b3JkQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnbWF0Y2hQb3NpdGlvbicsIGhhbmRsZU1hdGNoUG9zaXRpb25DaGFuZ2VkKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdyZW5kZXJTdGF0dXMnLCBoYW5kbGVSZW5kZXJTdGF0dXNDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdrZXl3b3JkJywgaGFuZGxlS2V5d29yZENoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ21hdGNoUG9zaXRpb24nLCBoYW5kbGVNYXRjaFBvc2l0aW9uQ2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncmVuZGVyU3RhdHVzJywgaGFuZGxlUmVuZGVyU3RhdHVzQ2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCk7XG59O1xuXG52YXIgbm9ybWFsaXplS2V5d29yZHMgPSBmdW5jdGlvbiAoa2V5d29yZCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXdvcmQpID8ga2V5d29yZC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG5vcm1hbGl6ZVNpbmdsZUtleXdvcmQoayk7IH0pIDogW25vcm1hbGl6ZVNpbmdsZUtleXdvcmQoa2V5d29yZCldO1xufTtcbnZhciBzZWFyY2hQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgc2VhcmNoUGx1Z2luUHJvcHMgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgeyBlbmFibGVTaG9ydGN1dHM6IHRydWUsIG9uSGlnaGxpZ2h0S2V5d29yZDogZnVuY3Rpb24gKCkgeyB9IH0sIHByb3BzKTsgfSwgW10pO1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKHtcbiAgICAgICAgICAgIG1hdGNoUG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICBtYXRjaEluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IC0xLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlclN0YXR1czogbmV3IE1hcCgpLFxuICAgICAgICAgICAga2V5d29yZDogcHJvcHMgJiYgcHJvcHMua2V5d29yZCA/IG5vcm1hbGl6ZUtleXdvcmRzKHByb3BzLmtleXdvcmQpIDogW0VNUFRZX0tFWVdPUkRfUkVHRVhQXSxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBfYSA9IHVzZVNlYXJjaChzdG9yZSksIGNsZWFyS2V5d29yZCA9IF9hLmNsZWFyS2V5d29yZCwganVtcFRvTWF0Y2ggPSBfYS5qdW1wVG9NYXRjaCwganVtcFRvTmV4dE1hdGNoID0gX2EuanVtcFRvTmV4dE1hdGNoLCBqdW1wVG9QcmV2aW91c01hdGNoID0gX2EuanVtcFRvUHJldmlvdXNNYXRjaCwgc2VhcmNoRm9yID0gX2Euc2VhcmNoRm9yLCBzZXRLZXl3b3JkcyA9IF9hLnNldEtleXdvcmRzLCBzZXRUYXJnZXRQYWdlcyA9IF9hLnNldFRhcmdldFBhZ2VzO1xuICAgIHZhciBTZWFyY2hEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTZWFyY2gsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBTaG93U2VhcmNoUG9wb3ZlckRlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93U2VhcmNoUG9wb3ZlciwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IHNlYXJjaFBsdWdpblByb3BzLmVuYWJsZVNob3J0Y3V0cyB9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpKTsgfTtcbiAgICB2YXIgU2hvd1NlYXJjaFBvcG92ZXJCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3dTZWFyY2hQb3BvdmVyRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1NlYXJjaFBvcG92ZXJCdXR0b24sIF9fYXNzaWduKHsgZW5hYmxlU2hvcnRjdXRzOiBzZWFyY2hQbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMsIHN0b3JlOiBzdG9yZSB9LCBwcm9wcykpKTsgfSkpOyB9O1xuICAgIHZhciByZW5kZXJWaWV3ZXIgPSBmdW5jdGlvbiAocmVuZGVyVmlld2VyUHJvcHMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG90ID0gcmVuZGVyVmlld2VyUHJvcHMuc2xvdDtcbiAgICAgICAgaWYgKGN1cnJlbnRTbG90LnN1YlNsb3QpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTbG90LnN1YlNsb3QuY2hpbGRyZW4gPSAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgc2VhcmNoUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRIYW5kbGVyLCB7IGNvbnRhaW5lclJlZjogcmVuZGVyVmlld2VyUHJvcHMuY29udGFpbmVyUmVmLCBzdG9yZTogc3RvcmUgfSkpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbG90LnN1YlNsb3QuY2hpbGRyZW4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFNsb3Q7XG4gICAgfTtcbiAgICB2YXIgcmVuZGVyUGFnZUxheWVyID0gZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRyYWNrZXIsIHsga2V5OiByZW5kZXJQcm9wcy5wYWdlSW5kZXgsIG51bVBhZ2VzOiByZW5kZXJQcm9wcy5kb2MubnVtUGFnZXMsIHBhZ2VJbmRleDogcmVuZGVyUHJvcHMucGFnZUluZGV4LCBzdG9yZTogc3RvcmUsIG9uSGlnaGxpZ2h0S2V5d29yZDogc2VhcmNoUGx1Z2luUHJvcHMub25IaWdobGlnaHRLZXl3b3JkIH0pKTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICB2YXIga2V5d29yZCA9IHByb3BzICYmIHByb3BzLmtleXdvcmQgPyBub3JtYWxpemVLZXl3b3Jkcyhwcm9wcy5rZXl3b3JkKSA6IFtFTVBUWV9LRVlXT1JEX1JFR0VYUF07XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2p1bXBUb0Rlc3RpbmF0aW9uJywgcGx1Z2luRnVuY3Rpb25zLmp1bXBUb0Rlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnanVtcFRvUGFnZScsIHBsdWdpbkZ1bmN0aW9ucy5qdW1wVG9QYWdlKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgna2V5d29yZCcsIGtleXdvcmQpO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJQYWdlTGF5ZXI6IHJlbmRlclBhZ2VMYXllcixcbiAgICAgICAgcmVuZGVyVmlld2VyOiByZW5kZXJWaWV3ZXIsXG4gICAgICAgIHVuaW5zdGFsbDogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyU3RhdHVzID0gc3RvcmUuZ2V0KCdyZW5kZXJTdGF0dXMnKTtcbiAgICAgICAgICAgIGlmIChyZW5kZXJTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJTdGF0dXMuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Eb2N1bWVudExvYWQ6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdkb2MnLCBwcm9wcy5kb2MpO1xuICAgICAgICB9LFxuICAgICAgICBvblRleHRMYXllclJlbmRlcjogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyU3RhdHVzID0gc3RvcmUuZ2V0KCdyZW5kZXJTdGF0dXMnKTtcbiAgICAgICAgICAgIGlmIChyZW5kZXJTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJTdGF0dXMgPSByZW5kZXJTdGF0dXMuc2V0KHByb3BzLnBhZ2VJbmRleCwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncmVuZGVyU3RhdHVzJywgcmVuZGVyU3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgU2VhcmNoOiBTZWFyY2hEZWNvcmF0b3IsXG4gICAgICAgIFNob3dTZWFyY2hQb3BvdmVyOiBTaG93U2VhcmNoUG9wb3ZlckRlY29yYXRvcixcbiAgICAgICAgU2hvd1NlYXJjaFBvcG92ZXJCdXR0b246IFNob3dTZWFyY2hQb3BvdmVyQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBjbGVhckhpZ2hsaWdodHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyS2V5d29yZCgpO1xuICAgICAgICB9LFxuICAgICAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gICAgICAgICAgICB2YXIga2V5d29yZHMgPSBBcnJheS5pc0FycmF5KGtleXdvcmQpID8ga2V5d29yZCA6IFtrZXl3b3JkXTtcbiAgICAgICAgICAgIHNldEtleXdvcmRzKGtleXdvcmRzKTtcbiAgICAgICAgICAgIHJldHVybiBzZWFyY2hGb3Ioa2V5d29yZHMpO1xuICAgICAgICB9LFxuICAgICAgICBqdW1wVG9NYXRjaDoganVtcFRvTWF0Y2gsXG4gICAgICAgIGp1bXBUb05leHRNYXRjaDoganVtcFRvTmV4dE1hdGNoLFxuICAgICAgICBqdW1wVG9QcmV2aW91c01hdGNoOiBqdW1wVG9QcmV2aW91c01hdGNoLFxuICAgICAgICBzZXRUYXJnZXRQYWdlczogc2V0VGFyZ2V0UGFnZXMsXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuTmV4dEljb24gPSBOZXh0SWNvbjtcbmV4cG9ydHMuUHJldmlvdXNJY29uID0gUHJldmlvdXNJY29uO1xuZXhwb3J0cy5TZWFyY2hJY29uID0gU2VhcmNoSWNvbjtcbmV4cG9ydHMuc2VhcmNoUGx1Z2luID0gc2VhcmNoUGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/search/lib/cjs/search.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/search/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/search/lib/index.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/search.js */ \"./node_modules/@react-pdf-viewer/search/lib/cjs/search.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VhcmNoL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksd0hBQTJDO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9zZWFyY2gvbGliL2luZGV4LmpzP2MzZWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3NlYXJjaC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zZWFyY2guanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/search/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar HandToolIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nexports.SelectionMode = void 0;\n(function (SelectionMode) {\n    SelectionMode[\"Hand\"] = \"Hand\";\n    SelectionMode[\"Text\"] = \"Text\";\n})(exports.SelectionMode || (exports.SelectionMode = {}));\n\nvar TextSelectionIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z\" }))); };\n\nvar SwitchSelectionModeDecorator = function (_a) {\n    var children = _a.children, mode = _a.mode, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = '';\n    var icon = React__namespace.createElement(TextSelectionIcon, null);\n    switch (mode) {\n        case exports.SelectionMode.Hand:\n            label =\n                l10n && l10n.selectionMode ? l10n.selectionMode.handTool : 'Hand tool';\n            icon = React__namespace.createElement(HandToolIcon, null);\n            break;\n        case exports.SelectionMode.Text:\n        default:\n            label =\n                l10n && l10n.selectionMode\n                    ? l10n.selectionMode.textSelectionTool\n                    : 'Text selection tool';\n            icon = React__namespace.createElement(TextSelectionIcon, null);\n            break;\n    }\n    return children({ icon: icon, label: label, onClick: onClick });\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar SwitchSelectionModeButton = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case exports.SelectionMode.Hand:\n            testId = 'selection-mode__hand-button';\n            break;\n        case exports.SelectionMode.Text:\n        default:\n            testId = 'selection-mode__text-button';\n    }\n    return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"selection-mode-switch\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: props.label, isSelected: isSelected, testId: testId, onClick: props.onClick }, props.icon), content: function () { return props.label; }, offset: TOOLTIP_OFFSET })); }));\n};\n\nvar SwitchSelectionMode = function (_a) {\n    var children = _a.children, mode = _a.mode, store = _a.store;\n    var onClick = function () { return store.update('selectionMode', mode); };\n    var isSelected = mode === store.get('selectionMode');\n    var defaultChildren = function (props) { return (React__namespace.createElement(SwitchSelectionModeButton, { isSelected: isSelected, mode: props.mode, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isSelected: isSelected,\n        mode: mode,\n        onClick: onClick,\n    });\n};\n\nvar SwitchSelectionModeMenuItem = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case exports.SelectionMode.Hand:\n            testId = 'selection-mode__hand-menu';\n            break;\n        case exports.SelectionMode.Text:\n        default:\n            testId = 'selection-mode__text-menu';\n    }\n    return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.MenuItem, { checked: isSelected, icon: props.icon, testId: testId, onClick: props.onClick }, props.label)); }));\n};\n\nvar Tracker = function (_a) {\n    var store = _a.store;\n    var pagesRef = React__namespace.useRef(null);\n    var _b = React__namespace.useState(exports.SelectionMode.Text), selectionMode = _b[0], setSelectionMode = _b[1];\n    var pos = React__namespace.useRef({ top: 0, left: 0, x: 0, y: 0 });\n    var onMouseMoveHandler = function (e) {\n        var ele = pagesRef.current;\n        if (!ele) {\n            return;\n        }\n        ele.scrollTop = pos.current.top - (e.clientY - pos.current.y);\n        ele.scrollLeft = pos.current.left - (e.clientX - pos.current.x);\n    };\n    var onMouseUpHandler = function () {\n        var ele = pagesRef.current;\n        if (!ele) {\n            return;\n        }\n        ele.classList.add('rpv-selection-mode__grab');\n        ele.classList.remove('rpv-selection-mode__grabbing');\n        document.removeEventListener('mousemove', onMouseMoveHandler);\n        document.removeEventListener('mouseup', onMouseUpHandler);\n    };\n    var onMouseDownHandler = function (e) {\n        var ele = pagesRef.current;\n        if (!ele || selectionMode === exports.SelectionMode.Text) {\n            return;\n        }\n        ele.classList.remove('rpv-selection-mode__grab');\n        ele.classList.add('rpv-selection-mode__grabbing');\n        e.preventDefault();\n        e.stopPropagation();\n        pos.current = {\n            left: ele.scrollLeft,\n            top: ele.scrollTop,\n            x: e.clientX,\n            y: e.clientY,\n        };\n        document.addEventListener('mousemove', onMouseMoveHandler);\n        document.addEventListener('mouseup', onMouseUpHandler);\n    };\n    var handlePagesContainer = function (getPagesContainer) {\n        pagesRef.current = getPagesContainer();\n    };\n    var handleSelectionModeChanged = function (mode) {\n        setSelectionMode(mode);\n    };\n    React__namespace.useEffect(function () {\n        var ele = pagesRef.current;\n        if (!ele) {\n            return;\n        }\n        selectionMode === exports.SelectionMode.Hand\n            ? ele.classList.add('rpv-selection-mode__grab')\n            : ele.classList.remove('rpv-selection-mode__grab');\n        ele.addEventListener('mousedown', onMouseDownHandler);\n        return function () {\n            ele.removeEventListener('mousedown', onMouseDownHandler);\n        };\n    }, [selectionMode]);\n    React__namespace.useEffect(function () {\n        store.subscribe('getPagesContainer', handlePagesContainer);\n        store.subscribe('selectionMode', handleSelectionModeChanged);\n        return function () {\n            store.unsubscribe('getPagesContainer', handlePagesContainer);\n            store.unsubscribe('selectionMode', handleSelectionModeChanged);\n        };\n    }, []);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar selectionModePlugin = function (props) {\n    var store = React__namespace.useMemo(function () { return core.createStore(); }, []);\n    var SwitchSelectionModeDecorator = function (props) { return (React__namespace.createElement(SwitchSelectionMode, __assign({}, props, { store: store }))); };\n    var SwitchSelectionModeButtonDecorator = function (props) { return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchSelectionModeButton, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n        } })); })); };\n    var SwitchSelectionModeMenuItemDecorator = function (props) { return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchSelectionModeMenuItem, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var renderViewer = function (props) {\n        var currentSlot = props.slot;\n        if (currentSlot.subSlot && currentSlot.subSlot.children) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(Tracker, { store: store }),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('selectionMode', props && props.selectionMode ? props.selectionMode : exports.SelectionMode.Text);\n            store.update('getPagesContainer', pluginFunctions.getPagesContainer);\n        },\n        renderViewer: renderViewer,\n        SwitchSelectionMode: SwitchSelectionModeDecorator,\n        SwitchSelectionModeButton: SwitchSelectionModeButtonDecorator,\n        SwitchSelectionModeMenuItem: SwitchSelectionModeMenuItemDecorator,\n    };\n};\n\nexports.HandToolIcon = HandToolIcon;\nexports.TextSelectionIcon = TextSelectionIcon;\nexports.selectionModePlugin = selectionModePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VsZWN0aW9uLW1vZGUvbGliL2Nqcy9zZWxlY3Rpb24tbW9kZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMscWNBQXFjOztBQUVsZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCLHFCQUFxQixLQUFLOztBQUV2RCxzQ0FBc0Msb0RBQW9ELFVBQVU7QUFDcEcsNkNBQTZDLHdhQUF3YTs7QUFFcmQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBNEM7QUFDbEU7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsOEJBQThCLHFCQUFxQix1REFBdUQsZ0pBQWdKLHdGQUF3RixzQ0FBc0MscUJBQXFCLDBCQUEwQixLQUFLO0FBQ3ZmOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSw2Q0FBNkMsb0VBQW9FLGtFQUFrRTtBQUNuTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsOEJBQThCLHFCQUFxQix3REFBd0QsK0VBQStFLGtCQUFrQjtBQUN2Ujs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw2QkFBNkI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQsNEJBQTRCO0FBQ25GLDBEQUEwRCx1RUFBdUUsV0FBVyxjQUFjO0FBQzFKLGdFQUFnRSx1RUFBdUUsa0JBQWtCLGlCQUFpQixvRUFBb0U7QUFDOU87QUFDQSxXQUFXLEtBQUs7QUFDaEIsa0VBQWtFLHVFQUF1RSxrQkFBa0IsaUJBQWlCLHNFQUFzRTtBQUNsUDtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QiwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3NlbGVjdGlvbi1tb2RlL2xpYi9janMvc2VsZWN0aW9uLW1vZGUuanM/NjRmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIEhhbmRUb29sSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTExLjUsNS41di0yQzExLjUsMi42NzIsMTIuMTcyLDIsMTMsMnMxLjUsMC42NzIsMS41LDEuNXYyIE0xNC41LDExLjV2LTZDMTQuNSw0LjY3MiwxNS4xNzIsNCwxNiw0XFxuICAgICAgICAgICAgYzAuODI4LDAsMS41LDAuNjcyLDEuNSwxLjV2MyBNMTcuNSwxM1Y4LjVDMTcuNSw3LjY3MiwxOC4xNzIsNywxOSw3czEuNSwwLjY3MiwxLjUsMS41djEwYzAsMi43NjEtMi4yMzksNS01LDVoLTMuMzM1XFxuICAgICAgICAgICAgYy0xLjcxMi0wLjAwMS0zLjMwNS0wLjg3Ni00LjIyMy0yLjMyMUM2LjIyLDE4LjQ2Nyw0LjA4MywxNCw0LjA4MywxNGMtMC4zNzgtMC41NDUtMC4yNDItMS4yOTIsMC4zMDMtMS42N1xcbiAgICAgICAgICAgIGMwLjQ0Ni0wLjMwOSwxLjA0NC0wLjI4MSwxLjQ1OCwwLjA3TDguNSwxNS41di0xMEM4LjUsNC42NzIsOS4xNzIsNCwxMCw0czEuNSwwLjY3MiwxLjUsMS41djZcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbmV4cG9ydHMuU2VsZWN0aW9uTW9kZSA9IHZvaWQgMDtcbihmdW5jdGlvbiAoU2VsZWN0aW9uTW9kZSkge1xuICAgIFNlbGVjdGlvbk1vZGVbXCJIYW5kXCJdID0gXCJIYW5kXCI7XG4gICAgU2VsZWN0aW9uTW9kZVtcIlRleHRcIl0gPSBcIlRleHRcIjtcbn0pKGV4cG9ydHMuU2VsZWN0aW9uTW9kZSB8fCAoZXhwb3J0cy5TZWxlY3Rpb25Nb2RlID0ge30pKTtcblxudmFyIFRleHRTZWxlY3Rpb25JY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTMuNjc1LDExLjY3MWwyLjk0MS0yLjk0MWMwLjE5NS0wLjE5NiwwLjE5NS0wLjUxMi0wLjAwMS0wLjcwN0MxNi41NjMsNy45NzEsMTYuNSw3LjkzMSwxNi40Myw3LjkwNlxcbiAgICAgICAgICAgIEw0LjE2OCwzLjUyN0MzLjkwOCwzLjQzNCwzLjYyMiwzLjU3LDMuNTI5LDMuODNjLTAuMDM5LDAuMTA5LTAuMDM5LDAuMjI4LDAsMC4zMzZsNC4zNzksMTIuMjYyXFxuICAgICAgICAgICAgYzAuMDkzLDAuMjYsMC4zNzksMC4zOTYsMC42MzksMC4zMDNjMC4wNy0wLjAyNSwwLjEzMy0wLjA2NSwwLjE4NS0wLjExN2wyLjk0My0yLjk0M2w2LjE0Niw2LjE0NmMwLjE5NSwwLjE5NSwwLjUxMiwwLjE5NSwwLjcwNywwXFxuICAgICAgICAgICAgbDEuMjkzLTEuMjkzYzAuMTk1LTAuMTk1LDAuMTk1LTAuNTEyLDAtMC43MDdMMTMuNjc1LDExLjY3MXpcIiB9KSkpOyB9O1xuXG52YXIgU3dpdGNoU2VsZWN0aW9uTW9kZURlY29yYXRvciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBtb2RlID0gX2EubW9kZSwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9ICcnO1xuICAgIHZhciBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRleHRTZWxlY3Rpb25JY29uLCBudWxsKTtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBleHBvcnRzLlNlbGVjdGlvbk1vZGUuSGFuZDpcbiAgICAgICAgICAgIGxhYmVsID1cbiAgICAgICAgICAgICAgICBsMTBuICYmIGwxMG4uc2VsZWN0aW9uTW9kZSA/IGwxMG4uc2VsZWN0aW9uTW9kZS5oYW5kVG9vbCA6ICdIYW5kIHRvb2wnO1xuICAgICAgICAgICAgaWNvbiA9IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChIYW5kVG9vbEljb24sIG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5TZWxlY3Rpb25Nb2RlLlRleHQ6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsYWJlbCA9XG4gICAgICAgICAgICAgICAgbDEwbiAmJiBsMTBuLnNlbGVjdGlvbk1vZGVcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnNlbGVjdGlvbk1vZGUudGV4dFNlbGVjdGlvblRvb2xcbiAgICAgICAgICAgICAgICAgICAgOiAnVGV4dCBzZWxlY3Rpb24gdG9vbCc7XG4gICAgICAgICAgICBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRleHRTZWxlY3Rpb25JY29uLCBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW4oeyBpY29uOiBpY29uLCBsYWJlbDogbGFiZWwsIG9uQ2xpY2s6IG9uQ2xpY2sgfSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFN3aXRjaFNlbGVjdGlvbk1vZGVCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNTZWxlY3RlZCA9IF9hLmlzU2VsZWN0ZWQsIG1vZGUgPSBfYS5tb2RlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgdGVzdElkID0gJyc7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5TZWxlY3Rpb25Nb2RlLkhhbmQ6XG4gICAgICAgICAgICB0ZXN0SWQgPSAnc2VsZWN0aW9uLW1vZGVfX2hhbmQtYnV0dG9uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0OlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGVzdElkID0gJ3NlbGVjdGlvbi1tb2RlX190ZXh0LWJ1dHRvbic7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IsIHsgbW9kZTogbW9kZSwgb25DbGljazogb25DbGljayB9LCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJzZWxlY3Rpb24tbW9kZS1zd2l0Y2hcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBwcm9wcy5sYWJlbCwgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCwgdGVzdElkOiB0ZXN0SWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSwgcHJvcHMuaWNvbiksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3BzLmxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUIH0pKTsgfSkpO1xufTtcblxudmFyIFN3aXRjaFNlbGVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgbW9kZSA9IF9hLm1vZGUsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS51cGRhdGUoJ3NlbGVjdGlvbk1vZGUnLCBtb2RlKTsgfTtcbiAgICB2YXIgaXNTZWxlY3RlZCA9IG1vZGUgPT09IHN0b3JlLmdldCgnc2VsZWN0aW9uTW9kZScpO1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2VsZWN0aW9uTW9kZUJ1dHRvbiwgeyBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLCBtb2RlOiBwcm9wcy5tb2RlLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIH0pO1xufTtcblxudmFyIFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gX2EuaXNTZWxlY3RlZCwgbW9kZSA9IF9hLm1vZGUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciB0ZXN0SWQgPSAnJztcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBleHBvcnRzLlNlbGVjdGlvbk1vZGUuSGFuZDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzZWxlY3Rpb24tbW9kZV9faGFuZC1tZW51JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0OlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGVzdElkID0gJ3NlbGVjdGlvbi1tb2RlX190ZXh0LW1lbnUnO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTZWxlY3Rpb25Nb2RlRGVjb3JhdG9yLCB7IG1vZGU6IG1vZGUsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgY2hlY2tlZDogaXNTZWxlY3RlZCwgaWNvbjogcHJvcHMuaWNvbiwgdGVzdElkOiB0ZXN0SWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSwgcHJvcHMubGFiZWwpKTsgfSkpO1xufTtcblxudmFyIFRyYWNrZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgcGFnZXNSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0KSwgc2VsZWN0aW9uTW9kZSA9IF9iWzBdLCBzZXRTZWxlY3Rpb25Nb2RlID0gX2JbMV07XG4gICAgdmFyIHBvcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHsgdG9wOiAwLCBsZWZ0OiAwLCB4OiAwLCB5OiAwIH0pO1xuICAgIHZhciBvbk1vdXNlTW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgZWxlID0gcGFnZXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFlbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbGUuc2Nyb2xsVG9wID0gcG9zLmN1cnJlbnQudG9wIC0gKGUuY2xpZW50WSAtIHBvcy5jdXJyZW50LnkpO1xuICAgICAgICBlbGUuc2Nyb2xsTGVmdCA9IHBvcy5jdXJyZW50LmxlZnQgLSAoZS5jbGllbnRYIC0gcG9zLmN1cnJlbnQueCk7XG4gICAgfTtcbiAgICB2YXIgb25Nb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxlLmNsYXNzTGlzdC5hZGQoJ3Jwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYicpO1xuICAgICAgICBlbGUuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiYmluZycpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZUhhbmRsZXIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwSGFuZGxlcik7XG4gICAgfTtcbiAgICB2YXIgb25Nb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGVsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZWxlIHx8IHNlbGVjdGlvbk1vZGUgPT09IGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYicpO1xuICAgICAgICBlbGUuY2xhc3NMaXN0LmFkZCgncnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiYmluZycpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHBvcy5jdXJyZW50ID0ge1xuICAgICAgICAgICAgbGVmdDogZWxlLnNjcm9sbExlZnQsXG4gICAgICAgICAgICB0b3A6IGVsZS5zY3JvbGxUb3AsXG4gICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlSGFuZGxlcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXBIYW5kbGVyKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlc0NvbnRhaW5lciA9IGZ1bmN0aW9uIChnZXRQYWdlc0NvbnRhaW5lcikge1xuICAgICAgICBwYWdlc1JlZi5jdXJyZW50ID0gZ2V0UGFnZXNDb250YWluZXIoKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVTZWxlY3Rpb25Nb2RlQ2hhbmdlZCA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICAgIHNldFNlbGVjdGlvbk1vZGUobW9kZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGUgPSBwYWdlc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGlvbk1vZGUgPT09IGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5IYW5kXG4gICAgICAgICAgICA/IGVsZS5jbGFzc0xpc3QuYWRkKCdycHYtc2VsZWN0aW9uLW1vZGVfX2dyYWInKVxuICAgICAgICAgICAgOiBlbGUuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiJyk7XG4gICAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93bkhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW3NlbGVjdGlvbk1vZGVdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZ2V0UGFnZXNDb250YWluZXInLCBoYW5kbGVQYWdlc0NvbnRhaW5lcik7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnc2VsZWN0aW9uTW9kZScsIGhhbmRsZVNlbGVjdGlvbk1vZGVDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdnZXRQYWdlc0NvbnRhaW5lcicsIGhhbmRsZVBhZ2VzQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdzZWxlY3Rpb25Nb2RlJywgaGFuZGxlU2VsZWN0aW9uTW9kZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xufTtcblxudmFyIHNlbGVjdGlvbk1vZGVQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSgpOyB9LCBbXSk7XG4gICAgdmFyIFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2VsZWN0aW9uTW9kZSwgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IsIHsgbW9kZTogcHJvcHMubW9kZSB9LCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uLCB7IGlzU2VsZWN0ZWQ6IHAuaXNTZWxlY3RlZCwgbW9kZTogcC5tb2RlLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IsIHsgbW9kZTogcHJvcHMubW9kZSB9LCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW0sIHsgaXNTZWxlY3RlZDogcC5pc1NlbGVjdGVkLCBtb2RlOiBwLm1vZGUsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciByZW5kZXJWaWV3ZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG90ID0gcHJvcHMuc2xvdDtcbiAgICAgICAgaWYgKGN1cnJlbnRTbG90LnN1YlNsb3QgJiYgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbiA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVHJhY2tlciwgeyBzdG9yZTogc3RvcmUgfSksXG4gICAgICAgICAgICAgICAgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50U2xvdDtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbGw6IGZ1bmN0aW9uIChwbHVnaW5GdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnc2VsZWN0aW9uTW9kZScsIHByb3BzICYmIHByb3BzLnNlbGVjdGlvbk1vZGUgPyBwcm9wcy5zZWxlY3Rpb25Nb2RlIDogZXhwb3J0cy5TZWxlY3Rpb25Nb2RlLlRleHQpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdnZXRQYWdlc0NvbnRhaW5lcicsIHBsdWdpbkZ1bmN0aW9ucy5nZXRQYWdlc0NvbnRhaW5lcik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclZpZXdlcjogcmVuZGVyVmlld2VyLFxuICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlOiBTd2l0Y2hTZWxlY3Rpb25Nb2RlRGVjb3JhdG9yLFxuICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uOiBTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW06IFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5IYW5kVG9vbEljb24gPSBIYW5kVG9vbEljb247XG5leHBvcnRzLlRleHRTZWxlY3Rpb25JY29uID0gVGV4dFNlbGVjdGlvbkljb247XG5leHBvcnRzLnNlbGVjdGlvbk1vZGVQbHVnaW4gPSBzZWxlY3Rpb25Nb2RlUGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/selection-mode/lib/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/selection-mode/lib/index.js ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/selection-mode.js */ \"./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VsZWN0aW9uLW1vZGUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxnSkFBbUQ7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3NlbGVjdGlvbi1tb2RlL2xpYi9pbmRleC5qcz83ZTJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zZWxlY3Rpb24tbW9kZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zZWxlY3Rpb24tbW9kZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/selection-mode/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DarkIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z\" }))); };\n\nvar LightIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar SwitchThemeButton = function (_a) {\n    var onClick = _a.onClick;\n    var theme = React__namespace.useContext(core.ThemeContext);\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var isDarkTheme = theme.currentTheme === 'dark';\n    var label = l10n && l10n.theme\n        ? isDarkTheme\n            ? l10n.theme.switchLightTheme\n            : l10n.theme.switchDarkTheme\n        : isDarkTheme\n            ? 'Switch to the light theme'\n            : 'Switch to the dark theme';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"theme-switch\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"theme__switch-button\", onClick: onClick }, isDarkTheme ? React__namespace.createElement(LightIcon, null) : React__namespace.createElement(DarkIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar SwitchTheme = function (_a) {\n    var children = _a.children;\n    var theme = React__namespace.useContext(core.ThemeContext);\n    var defaultChildern = function (props) { return React__namespace.createElement(SwitchThemeButton, { onClick: props.onClick }); };\n    var render = children || defaultChildern;\n    return render({\n        onClick: function () { return theme.setCurrentTheme(theme.currentTheme === 'dark' ? 'light' : 'dark'); },\n    });\n};\n\nvar SwitchThemeMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var theme = React__namespace.useContext(core.ThemeContext);\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var isDarkTheme = theme.currentTheme === 'dark';\n    var label = l10n && l10n.theme\n        ? isDarkTheme\n            ? l10n.theme.switchLightTheme\n            : l10n.theme.switchDarkTheme\n        : isDarkTheme\n            ? 'Switch to the light theme'\n            : 'Switch to the dark theme';\n    return (React__namespace.createElement(core.MenuItem, { icon: isDarkTheme ? React__namespace.createElement(LightIcon, null) : React__namespace.createElement(DarkIcon, null), testId: \"theme__switch-menu\", onClick: onClick }, label));\n};\n\nvar themePlugin = function () {\n    var SwitchThemeDecorator = function (props) { return React__namespace.createElement(SwitchTheme, __assign({}, props)); };\n    var SwitchThemeButtonDecorator = function () { return (React__namespace.createElement(SwitchThemeDecorator, null, function (props) { return React__namespace.createElement(SwitchThemeButton, __assign({}, props)); })); };\n    var SwitchThemeMenuItemDecorator = function (props) { return (React__namespace.createElement(SwitchThemeDecorator, null, function (p) { return (React__namespace.createElement(SwitchThemeMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    return {\n        SwitchTheme: SwitchThemeDecorator,\n        SwitchThemeButton: SwitchThemeButtonDecorator,\n        SwitchThemeMenuItem: SwitchThemeMenuItemDecorator,\n    };\n};\n\nexports.DarkIcon = DarkIcon;\nexports.LightIcon = LightIcon;\nexports.themePlugin = themePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGhlbWUvbGliL2Nqcy90aGVtZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDZCQUE2QixvREFBb0QsVUFBVTtBQUMzRiw2Q0FBNkMsNlBBQTZQO0FBQzFTLDZDQUE2QyxtREFBbUQ7O0FBRWhHLDhCQUE4QixvREFBb0QsVUFBVTtBQUM1Riw2Q0FBNkMsZ1FBQWdRO0FBQzdTLDZDQUE2QywwQ0FBMEM7O0FBRXZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHVJQUF1SSxvRUFBb0UsMElBQTBJLGVBQWUsMEJBQTBCO0FBQ3piOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyREFBMkQsd0JBQXdCO0FBQ2hJO0FBQ0E7QUFDQSwrQkFBK0IsaUZBQWlGO0FBQ2hILEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsc0tBQXNLO0FBQ2xPOztBQUVBO0FBQ0Esa0RBQWtELDhEQUE4RDtBQUNoSCxtREFBbUQsc0ZBQXNGLG9FQUFvRSxZQUFZO0FBQ3pOLDBEQUEwRCxrRkFBa0YsOERBQThEO0FBQzFNO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90aGVtZS9saWIvY2pzL3RoZW1lLmpzP2UyZTUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBEYXJrSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE5LjUsMTUuMTA2bDIuNC0yLjRhMSwxLDAsMCwwLDAtMS40MTRsLTIuNC0yLjRWNS41YTEsMSwwLDAsMC0xLTFIMTUuMTA2bC0yLjQtMi40YTEsMSwwLDAsMC0xLjQxNCwwbC0yLjQsMi40SDUuNWExLDEsMCwwLDAtMSwxVjguODk0bC0yLjQsMi40YTEsMSwwLDAsMCwwLDEuNDE0bDIuNCwyLjRWMTguNWExLDEsMCwwLDAsMSwxSDguODk0bDIuNCwyLjRhMSwxLDAsMCwwLDEuNDE0LDBsMi40LTIuNEgxOC41YTEsMSwwLDAsMCwxLTFaXCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwLDYuMzQ5YTYsNiwwLDAsMSwwLDExLjMsNiw2LDAsMSwwLDAtMTEuM1pcIiB9KSkpOyB9O1xuXG52YXIgTGlnaHRJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTkuNDkxLDE1LjEwNmwyLjQtMi40YTEsMSwwLDAsMCwwLTEuNDE0bC0yLjQtMi40VjUuNWExLDEsMCwwLDAtMS0xSDE1LjFMMTIuNywyLjFhMSwxLDAsMCwwLTEuNDE0LDBsLTIuNCwyLjRINS40OTFhMSwxLDAsMCwwLTEsMVY4Ljg5NGwtMi40LDIuNGExLDEsMCwwLDAsMCwxLjQxNGwyLjQsMi40VjE4LjVhMSwxLDAsMCwwLDEsMUg4Ljg4NWwyLjQsMi40YTEsMSwwLDAsMCwxLjQxNCwwbDIuNC0yLjRoMy4zOTRhMSwxLDAsMCwwLDEtMVpcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNDkxLDZjNCwwLDYsMi42ODYsNiw2cy0yLDYtNiw2WlwiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBTd2l0Y2hUaGVtZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgdGhlbWUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgaXNEYXJrVGhlbWUgPSB0aGVtZS5jdXJyZW50VGhlbWUgPT09ICdkYXJrJztcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4udGhlbWVcbiAgICAgICAgPyBpc0RhcmtUaGVtZVxuICAgICAgICAgICAgPyBsMTBuLnRoZW1lLnN3aXRjaExpZ2h0VGhlbWVcbiAgICAgICAgICAgIDogbDEwbi50aGVtZS5zd2l0Y2hEYXJrVGhlbWVcbiAgICAgICAgOiBpc0RhcmtUaGVtZVxuICAgICAgICAgICAgPyAnU3dpdGNoIHRvIHRoZSBsaWdodCB0aGVtZSdcbiAgICAgICAgICAgIDogJ1N3aXRjaCB0byB0aGUgZGFyayB0aGVtZSc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJ0aGVtZS1zd2l0Y2hcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBcInRoZW1lX19zd2l0Y2gtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgaXNEYXJrVGhlbWUgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTGlnaHRJY29uLCBudWxsKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEYXJrSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgU3dpdGNoVGhlbWUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICB2YXIgdGhlbWUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpO1xuICAgIHZhciBkZWZhdWx0Q2hpbGRlcm4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZUJ1dHRvbiwgeyBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRlcm47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoZW1lLnNldEN1cnJlbnRUaGVtZSh0aGVtZS5jdXJyZW50VGhlbWUgPT09ICdkYXJrJyA/ICdsaWdodCcgOiAnZGFyaycpOyB9LFxuICAgIH0pO1xufTtcblxudmFyIFN3aXRjaFRoZW1lTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIHRoZW1lID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KTtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGlzRGFya1RoZW1lID0gdGhlbWUuY3VycmVudFRoZW1lID09PSAnZGFyayc7XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnRoZW1lXG4gICAgICAgID8gaXNEYXJrVGhlbWVcbiAgICAgICAgICAgID8gbDEwbi50aGVtZS5zd2l0Y2hMaWdodFRoZW1lXG4gICAgICAgICAgICA6IGwxMG4udGhlbWUuc3dpdGNoRGFya1RoZW1lXG4gICAgICAgIDogaXNEYXJrVGhlbWVcbiAgICAgICAgICAgID8gJ1N3aXRjaCB0byB0aGUgbGlnaHQgdGhlbWUnXG4gICAgICAgICAgICA6ICdTd2l0Y2ggdG8gdGhlIGRhcmsgdGhlbWUnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogaXNEYXJrVGhlbWUgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTGlnaHRJY29uLCBudWxsKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEYXJrSWNvbiwgbnVsbCksIHRlc3RJZDogXCJ0aGVtZV9fc3dpdGNoLW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIHRoZW1lUGx1Z2luID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBTd2l0Y2hUaGVtZURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFRoZW1lLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfTtcbiAgICB2YXIgU3dpdGNoVGhlbWVCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFRoZW1lRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgU3dpdGNoVGhlbWVNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoVGhlbWVNZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBTd2l0Y2hUaGVtZTogU3dpdGNoVGhlbWVEZWNvcmF0b3IsXG4gICAgICAgIFN3aXRjaFRoZW1lQnV0dG9uOiBTd2l0Y2hUaGVtZUJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgU3dpdGNoVGhlbWVNZW51SXRlbTogU3dpdGNoVGhlbWVNZW51SXRlbURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5EYXJrSWNvbiA9IERhcmtJY29uO1xuZXhwb3J0cy5MaWdodEljb24gPSBMaWdodEljb247XG5leHBvcnRzLnRoZW1lUGx1Z2luID0gdGhlbWVQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/theme/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/theme/lib/index.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/theme.js */ \"./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGhlbWUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxxSEFBMEM7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3RoZW1lL2xpYi9pbmRleC5qcz80NjczIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aGVtZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aGVtZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/theme/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar CoverInner = function (_a) {\n    var getPageIndex = _a.getPageIndex, renderSpinner = _a.renderSpinner, doc = _a.doc;\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var isMounted = core.useIsMounted();\n    var renderTask = React__namespace.useRef();\n    var handleVisibilityChanged = function (params) {\n        if (src || !params.isVisible) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        var numPages = doc.numPages;\n        var targetPage = getPageIndex ? getPageIndex({ numPages: numPages }) : 0;\n        var normalizePage = Math.max(0, Math.min(targetPage, numPages - 1));\n        core.getPage(doc, normalizePage).then(function (page) {\n            var viewport = page.getViewport({ scale: 1 });\n            var w = viewport.width;\n            var h = viewport.height;\n            var canvas = document.createElement('canvas');\n            var canvasContext = canvas.getContext('2d', { alpha: false });\n            var containerWidth = containerEle.clientWidth;\n            var containerHeight = containerEle.clientHeight;\n            var scaled = Math.min(containerWidth / w, containerHeight / h);\n            var canvasWidth = scaled * w;\n            var canvasHeight = scaled * h;\n            canvas.height = canvasHeight;\n            canvas.width = canvasWidth;\n            canvas.style.opacity = '0';\n            var renderViewport = page.getViewport({\n                rotation: 0,\n                scale: scaled,\n            });\n            renderTask.current = page.render({ canvasContext: canvasContext, viewport: renderViewport });\n            renderTask.current.promise.then(function () {\n                isMounted.current && setSrc(canvas.toDataURL());\n                canvas.width = 0;\n                canvas.height = 0;\n            }, function () {\n            });\n        });\n    };\n    var containerRef = core.useIntersectionObserver({\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    React__namespace.useEffect(function () {\n        return function () {\n            var _a;\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, []);\n    return src ? (React__namespace.createElement(\"img\", { className: \"rpv-thumbnail__cover-image\", \"data-testid\": \"thumbnail__cover-image\", src: src })) : (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover-loader\", \"data-testid\": \"thumbnail__cover-loader\", ref: containerRef }, renderSpinner ? renderSpinner() : React__namespace.createElement(core.Spinner, null)));\n};\n\nvar Cover = function (_a) {\n    var getPageIndex = _a.getPageIndex, renderSpinner = _a.renderSpinner, store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover\" }, currentDoc ? (React__namespace.createElement(CoverInner, { doc: currentDoc, getPageIndex: getPageIndex, renderSpinner: renderSpinner })) : (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover-loader\" }, renderSpinner ? renderSpinner() : React__namespace.createElement(core.Spinner, null)))));\n};\n\nvar defaultSpinner = function () { return React__namespace.createElement(core.Spinner, null); };\nvar SpinnerContext = React__namespace.createContext({\n    renderSpinner: defaultSpinner,\n});\n\nvar FetchLabels = function (_a) {\n    var children = _a.children, doc = _a.doc;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        labels: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPageLabels().then(function (result) {\n            isMounted.current && setStatus({ loading: false, labels: result || [] });\n        });\n    }, [doc.loadingTask.docId]);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : children(status.labels);\n};\n\nvar scrollToBeVisible = function (ele, container) {\n    var top = ele.getBoundingClientRect().top - container.getBoundingClientRect().top;\n    var eleHeight = ele.clientHeight;\n    var containerHeight = container.clientHeight;\n    if (top < 0) {\n        container.scrollTop += top;\n        return;\n    }\n    if (top + eleHeight <= containerHeight) {\n        return;\n    }\n    container.scrollTop += top + eleHeight - containerHeight;\n};\n\nvar ThumbnailItem = function (_a) {\n    var page = _a.page, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageWidth = _a.pageWidth, rotation = _a.rotation, thumbnailHeight = _a.thumbnailHeight, thumbnailWidth = _a.thumbnailWidth, onRenderCompleted = _a.onRenderCompleted;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var renderTask = React__namespace.useRef();\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var thumbnailLabel = l10n && l10n.thumbnail\n        ? l10n.thumbnail.thumbnailLabel\n        : 'Thumbnail of page {{pageIndex}}';\n    React__namespace.useEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var canvas = document.createElement('canvas');\n        var canvasContext = canvas.getContext('2d', { alpha: false });\n        var w = thumbnailWidth;\n        var h = w / (pageWidth / pageHeight);\n        var scale = w / pageWidth;\n        canvas.height = h;\n        canvas.width = w;\n        canvas.style.height = \"\".concat(h, \"px\");\n        canvas.style.width = \"\".concat(w, \"px\");\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        renderTask.current = page.render({ canvasContext: canvasContext, viewport: viewport });\n        renderTask.current.promise.then(function () {\n            setSrc(canvas.toDataURL());\n            onRenderCompleted(pageIndex);\n        }, function () {\n            onRenderCompleted(pageIndex);\n        });\n        return function () {\n            var _a;\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, [rotation]);\n    return !src ? (React__namespace.useContext(SpinnerContext).renderSpinner()) : (React__namespace.createElement(\"img\", { \"aria-label\": thumbnailLabel.replace('{{pageIndex}}', \"\".concat(pageIndex + 1)), src: src, height: \"\".concat(thumbnailHeight, \"px\"), width: \"\".concat(thumbnailWidth, \"px\") }));\n};\n\nvar ThumbnailContainer = function (_a) {\n    var doc = _a.doc, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageWidth = _a.pageWidth, rotation = _a.rotation, shouldRender = _a.shouldRender, thumbnailWidth = _a.thumbnailWidth, onRenderCompleted = _a.onRenderCompleted, onVisibilityChanged = _a.onVisibilityChanged;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        height: pageHeight,\n        page: null,\n        viewportRotation: 0,\n        width: pageWidth,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var page = pageSize.page, height = pageSize.height, width = pageSize.width;\n    var scale = width / height;\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    var w = isVertical ? thumbnailWidth : thumbnailWidth / scale;\n    var h = isVertical ? thumbnailWidth / scale : thumbnailWidth;\n    React__namespace.useEffect(function () {\n        if (shouldRender) {\n            core.getPage(doc, pageIndex).then(function (pdfPage) {\n                var viewport = pdfPage.getViewport({ scale: 1 });\n                isMounted.current &&\n                    setPageSize({\n                        height: viewport.height,\n                        page: pdfPage,\n                        viewportRotation: viewport.rotation,\n                        width: viewport.width,\n                    });\n            });\n        }\n    }, [shouldRender]);\n    var rotationNumber = (pageSize.viewportRotation + rotation + pageRotation) % 360;\n    var containerRef = core.useIntersectionObserver({\n        onVisibilityChanged: function (visibility) {\n            onVisibilityChanged(pageIndex, visibility);\n        },\n    });\n    return (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__container\", \"data-testid\": \"thumbnail__container-\".concat(pageIndex), ref: containerRef, style: {\n            height: \"\".concat(h, \"px\"),\n            width: \"\".concat(w, \"px\"),\n        } }, !page ? (React__namespace.useContext(SpinnerContext).renderSpinner()) : (React__namespace.createElement(ThumbnailItem, { page: page, pageHeight: isVertical ? height : width, pageIndex: pageIndex, pageWidth: isVertical ? width : height, rotation: rotationNumber, thumbnailHeight: h, thumbnailWidth: w, onRenderCompleted: onRenderCompleted }))));\n};\n\nvar ThumbnailList = function (_a) {\n    var currentPage = _a.currentPage, doc = _a.doc, labels = _a.labels, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, renderCurrentPageLabel = _a.renderCurrentPageLabel, renderThumbnailItem = _a.renderThumbnailItem, rotatedPage = _a.rotatedPage, rotation = _a.rotation, thumbnailWidth = _a.thumbnailWidth, onJumpToPage = _a.onJumpToPage, onRotatePage = _a.onRotatePage;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var containerRef = React__namespace.useRef(null);\n    var thumbnailsRef = React__namespace.useRef([]);\n    var _b = React__namespace.useState(currentPage), currentFocused = _b[0], setCurrentFocused = _b[1];\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _c = React__namespace.useState(-1), renderPageIndex = _c[0], setRenderPageIndex = _c[1];\n    var isMounted = core.useIsMounted();\n    var hasRenderingThumbnailRef = React__namespace.useRef(false);\n    var renderQueue = core.useRenderQueue({ doc: doc });\n    var pageIndexes = React__namespace.useMemo(function () {\n        return Array(numPages)\n            .fill(0)\n            .map(function (_, pageIndex) { return pageIndex; });\n    }, [docId]);\n    var handleKeyDown = function (e) {\n        switch (e.key) {\n            case 'ArrowDown':\n                activateNextItem();\n                break;\n            case 'ArrowUp':\n                activatePreviousItem();\n                break;\n            case 'Enter':\n                jumpToFocusedPage();\n                break;\n        }\n    };\n    var activateNextItem = function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = thumbnailsRef.current;\n        var nextItem = currentFocused + 1;\n        if (nextItem < items.length) {\n            if (currentFocused >= 0) {\n                items[currentFocused].setAttribute('tabindex', '-1');\n            }\n            setCurrentFocused(nextItem);\n        }\n    };\n    var activatePreviousItem = function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = thumbnailsRef.current;\n        var prevItem = currentFocused - 1;\n        if (prevItem >= 0) {\n            if (currentFocused >= 0) {\n                items[currentFocused].setAttribute('tabindex', '-1');\n            }\n            setCurrentFocused(prevItem);\n        }\n    };\n    var jumpToFocusedPage = function () {\n        if (currentFocused >= 0 && currentFocused < numPages) {\n            onJumpToPage(currentFocused);\n        }\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        thumbnailsRef.current = Array.from(container.querySelectorAll('.rpv-thumbnail__item'));\n    }, []);\n    React__namespace.useEffect(function () {\n        var thumbnails = thumbnailsRef.current;\n        if (thumbnails.length === 0 || currentFocused < 0 || currentFocused > thumbnails.length) {\n            return;\n        }\n        var thumbnailEle = thumbnails[currentFocused];\n        thumbnailEle.setAttribute('tabindex', '0');\n        thumbnailEle.focus();\n    }, [currentFocused]);\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (container) {\n            var thumbnailNodes = container.children;\n            if (currentPage < thumbnailNodes.length) {\n                scrollToBeVisible(thumbnailNodes.item(currentPage), container);\n            }\n        }\n    }, [currentPage]);\n    var handleRenderCompleted = React__namespace.useCallback(function (pageIndex) {\n        if (isMounted.current) {\n            renderQueue.markRendered(pageIndex);\n            hasRenderingThumbnailRef.current = false;\n            renderNextThumbnail();\n        }\n    }, [docId]);\n    var handleVisibilityChanged = React__namespace.useCallback(function (pageIndex, visibility) {\n        visibility.isVisible\n            ? renderQueue.setVisibility(pageIndex, visibility.ratio)\n            :\n                renderQueue.setOutOfRange(pageIndex);\n        renderNextThumbnail();\n    }, [docId]);\n    var renderNextThumbnail = React__namespace.useCallback(function () {\n        if (hasRenderingThumbnailRef.current) {\n            return;\n        }\n        var nextPage = renderQueue.getHighestPriorityPage();\n        if (nextPage > -1) {\n            renderQueue.markRendering(nextPage);\n            hasRenderingThumbnailRef.current = true;\n            setRenderPageIndex(nextPage);\n        }\n    }, [docId]);\n    React__namespace.useEffect(function () {\n        if (rotatedPage >= 0) {\n            renderQueue.markRendering(rotatedPage);\n            hasRenderingThumbnailRef.current = true;\n            setRenderPageIndex(rotatedPage);\n        }\n    }, [docId, rotatedPage]);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, \"data-testid\": \"thumbnail__list\", className: core.classNames({\n            'rpv-thumbnail__list': true,\n            'rpv-thumbnail__list--rtl': isRtl,\n        }), onKeyDown: handleKeyDown }, pageIndexes.map(function (pageIndex) {\n        var key = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\n        var pageLabel = labels.length === numPages ? labels[pageIndex] : \"\".concat(pageIndex + 1);\n        var label = renderCurrentPageLabel\n            ? renderCurrentPageLabel({ currentPage: currentPage, pageIndex: pageIndex, numPages: numPages, pageLabel: pageLabel })\n            : pageLabel;\n        var pageRotation = pagesRotation.has(pageIndex) ? pagesRotation.get(pageIndex) : 0;\n        var thumbnail = (React__namespace.createElement(ThumbnailContainer, { doc: doc, pageHeight: pageHeight, pageIndex: pageIndex, pageRotation: pageRotation, pageWidth: pageWidth, rotation: rotation, shouldRender: renderPageIndex === pageIndex, thumbnailWidth: thumbnailWidth, onRenderCompleted: handleRenderCompleted, onVisibilityChanged: handleVisibilityChanged }));\n        return renderThumbnailItem ? (renderThumbnailItem({\n            currentPage: currentPage,\n            key: key,\n            numPages: numPages,\n            pageIndex: pageIndex,\n            renderPageLabel: React__namespace.createElement(React__namespace.Fragment, null, label),\n            renderPageThumbnail: thumbnail,\n            onJumpToPage: function () { return onJumpToPage(pageIndex); },\n            onRotatePage: function (direction) { return onRotatePage(pageIndex, direction); },\n        })) : (React__namespace.createElement(\"div\", { key: key },\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-thumbnail__item': true,\n                    'rpv-thumbnail__item--selected': currentPage === pageIndex,\n                }), role: \"button\", tabIndex: currentPage === pageIndex ? 0 : -1, onClick: function () { return onJumpToPage(pageIndex); } }, thumbnail),\n            React__namespace.createElement(\"div\", { \"data-testid\": \"thumbnail__label-\".concat(pageIndex), className: \"rpv-thumbnail__label\" }, label)));\n    })));\n};\n\nvar ThumbnailListWithStore = function (_a) {\n    var renderCurrentPageLabel = _a.renderCurrentPageLabel, renderThumbnailItem = _a.renderThumbnailItem, store = _a.store, thumbnailWidth = _a.thumbnailWidth;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var _c = React__namespace.useState(store.get('currentPage') || 0), currentPage = _c[0], setCurrentPage = _c[1];\n    var _d = React__namespace.useState(store.get('pageHeight') || 0), pageHeight = _d[0], setPageHeight = _d[1];\n    var _e = React__namespace.useState(store.get('pageWidth') || 0), pageWidth = _e[0], setPageWidth = _e[1];\n    var _f = React__namespace.useState(store.get('rotation') || 0), rotation = _f[0], setRotation = _f[1];\n    var _g = React__namespace.useState(store.get('pagesRotation') || new Map()), pagesRotation = _g[0], setPagesRotation = _g[1];\n    var _h = React__namespace.useState(store.get('rotatedPage') || -1), rotatedPage = _h[0], setRotatedPage = _h[1];\n    var handleCurrentPageChanged = function (currentPageIndex) {\n        setCurrentPage(currentPageIndex);\n    };\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var handlePageHeightChanged = function (height) {\n        setPageHeight(height);\n    };\n    var handlePageWidthChanged = function (width) {\n        setPageWidth(width);\n    };\n    var handleRotationChanged = function (currentRotation) {\n        setRotation(currentRotation);\n    };\n    var handlePagesRotationChanged = function (rotations) {\n        setPagesRotation(rotations);\n    };\n    var handleRotatedPage = function (rotatedPage) {\n        setRotatedPage(rotatedPage);\n    };\n    var jump = function (pageIndex) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(pageIndex);\n        }\n    };\n    var rotatePage = function (pageIndex, direction) {\n        store.get('rotatePage')(pageIndex, direction);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        store.subscribe('pageHeight', handlePageHeightChanged);\n        store.subscribe('pageWidth', handlePageWidthChanged);\n        store.subscribe('rotatedPage', handleRotatedPage);\n        store.subscribe('rotation', handleRotationChanged);\n        store.subscribe('pagesRotation', handlePagesRotationChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n            store.unsubscribe('pageHeight', handlePageHeightChanged);\n            store.unsubscribe('pageWidth', handlePageWidthChanged);\n            store.unsubscribe('rotatedPage', handleRotatedPage);\n            store.unsubscribe('rotation', handleRotationChanged);\n            store.unsubscribe('pagesRotation', handlePagesRotationChanged);\n        };\n    }, []);\n    core.useIsomorphicLayoutEffect(function () {\n        store.subscribe('currentPage', handleCurrentPageChanged);\n        return function () {\n            store.unsubscribe('currentPage', handleCurrentPageChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(core.LazyRender, { testId: \"thumbnail__list-container\", attrs: {\n            className: 'rpv-thumbnail__list-container',\n        } },\n        React__namespace.createElement(FetchLabels, { doc: currentDoc }, function (labels) { return (React__namespace.createElement(ThumbnailList, { currentPage: currentPage, doc: currentDoc, labels: labels, pagesRotation: pagesRotation, pageHeight: pageHeight, pageWidth: pageWidth, renderCurrentPageLabel: renderCurrentPageLabel, renderThumbnailItem: renderThumbnailItem, rotatedPage: rotatedPage, rotation: rotation, thumbnailWidth: thumbnailWidth, onJumpToPage: jump, onRotatePage: rotatePage })); }))) : (React__namespace.createElement(\"div\", { \"data-testid\": \"thumbnail-list__loader\", className: \"rpv-thumbnail__loader\" }, React__namespace.useContext(SpinnerContext).renderSpinner()));\n};\n\nvar thumbnailPlugin = function (pluginProps) {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            rotatePage: function () {\n            },\n        });\n    }, []);\n    var _a = React__namespace.useState(''), docId = _a[0], setDocId = _a[1];\n    var CoverDecorator = function (props) { return (React__namespace.createElement(Cover, __assign({}, props, { renderSpinner: pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderSpinner, store: store }))); };\n    var ThumbnailsDecorator = React__namespace.useCallback(function (props) { return (React__namespace.createElement(SpinnerContext.Provider, { value: { renderSpinner: (pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderSpinner) || defaultSpinner } },\n        React__namespace.createElement(ThumbnailListWithStore, { renderCurrentPageLabel: pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderCurrentPageLabel, renderThumbnailItem: props === null || props === void 0 ? void 0 : props.renderThumbnailItem, store: store, thumbnailWidth: (pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.thumbnailWidth) || 100 }))); }, [docId]);\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n            store.update('rotatePage', pluginFunctions.rotatePage);\n        },\n        onDocumentLoad: function (props) {\n            setDocId(props.doc.loadingTask.docId);\n            store.update('doc', props.doc);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('currentPage', viewerState.pageIndex);\n            store.update('pagesRotation', viewerState.pagesRotation);\n            store.update('pageHeight', viewerState.pageHeight);\n            store.update('pageWidth', viewerState.pageWidth);\n            store.update('rotation', viewerState.rotation);\n            store.update('rotatedPage', viewerState.rotatedPage);\n            return viewerState;\n        },\n        Cover: CoverDecorator,\n        Thumbnails: ThumbnailsDecorator,\n    };\n};\n\nexports.thumbnailPlugin = thumbnailPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGh1bWJuYWlsL2xpYi9janMvdGh1bWJuYWlsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0JBQW9CO0FBQzNFO0FBQ0E7QUFDQSw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsY0FBYztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLCtDQUErQyx3REFBd0Q7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwREFBMEQsNEZBQTRGLDhDQUE4Qyx1R0FBdUc7QUFDM1M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJFQUEyRTtBQUMzRTtBQUNBLFdBQVc7QUFDWCxzREFBc0QsaUJBQWlCLHNCQUFzQix3REFBd0QsNlZBQTZWLEtBQUssK0NBQStDLDZFQUE2RTtBQUNubkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDRDQUE0Qyx5REFBeUQsV0FBVyxrSEFBa0g7QUFDbE8sOEVBQThFLGtFQUFrRSxTQUFTLDBIQUEwSDtBQUNuUixpRUFBaUUsaVZBQWlWLE1BQU07QUFDeFo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90aHVtYm5haWwvbGliL2Nqcy90aHVtYm5haWwuanM/OGJmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgQ292ZXJJbm5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBnZXRQYWdlSW5kZXggPSBfYS5nZXRQYWdlSW5kZXgsIHJlbmRlclNwaW5uZXIgPSBfYS5yZW5kZXJTcGlubmVyLCBkb2MgPSBfYS5kb2M7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICB2YXIgaXNNb3VudGVkID0gY29yZS51c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2VkID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBpZiAoc3JjIHx8ICFwYXJhbXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBudW1QYWdlcyA9IGRvYy5udW1QYWdlcztcbiAgICAgICAgdmFyIHRhcmdldFBhZ2UgPSBnZXRQYWdlSW5kZXggPyBnZXRQYWdlSW5kZXgoeyBudW1QYWdlczogbnVtUGFnZXMgfSkgOiAwO1xuICAgICAgICB2YXIgbm9ybWFsaXplUGFnZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRhcmdldFBhZ2UsIG51bVBhZ2VzIC0gMSkpO1xuICAgICAgICBjb3JlLmdldFBhZ2UoZG9jLCBub3JtYWxpemVQYWdlKS50aGVuKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IDEgfSk7XG4gICAgICAgICAgICB2YXIgdyA9IHZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgICAgdmFyIGggPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyRWxlLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lckVsZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgc2NhbGVkID0gTWF0aC5taW4oY29udGFpbmVyV2lkdGggLyB3LCBjb250YWluZXJIZWlnaHQgLyBoKTtcbiAgICAgICAgICAgIHZhciBjYW52YXNXaWR0aCA9IHNjYWxlZCAqIHc7XG4gICAgICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gc2NhbGVkICogaDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgdmFyIHJlbmRlclZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50ID0gcGFnZS5yZW5kZXIoeyBjYW52YXNDb250ZXh0OiBjYW52YXNDb250ZXh0LCB2aWV3cG9ydDogcmVuZGVyVmlld3BvcnQgfSk7XG4gICAgICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQucHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCAmJiBzZXRTcmMoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IGNvcmUudXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoe1xuICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2VkOiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlZCxcbiAgICB9KTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSByZW5kZXJUYXNrLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHNyYyA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fY292ZXItaW1hZ2VcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY292ZXItaW1hZ2VcIiwgc3JjOiBzcmMgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb3Zlci1sb2FkZXJcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY292ZXItbG9hZGVyXCIsIHJlZjogY29udGFpbmVyUmVmIH0sIHJlbmRlclNwaW5uZXIgPyByZW5kZXJTcGlubmVyKCkgOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5TcGlubmVyLCBudWxsKSkpO1xufTtcblxudmFyIENvdmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGdldFBhZ2VJbmRleCA9IF9hLmdldFBhZ2VJbmRleCwgcmVuZGVyU3Bpbm5lciA9IF9hLnJlbmRlclNwaW5uZXIsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvYyA9IF9iWzBdLCBzZXRDdXJyZW50RG9jID0gX2JbMV07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fY292ZXJcIiB9LCBjdXJyZW50RG9jID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDb3ZlcklubmVyLCB7IGRvYzogY3VycmVudERvYywgZ2V0UGFnZUluZGV4OiBnZXRQYWdlSW5kZXgsIHJlbmRlclNwaW5uZXI6IHJlbmRlclNwaW5uZXIgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb3Zlci1sb2FkZXJcIiB9LCByZW5kZXJTcGlubmVyID8gcmVuZGVyU3Bpbm5lcigpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpKSkpO1xufTtcblxudmFyIGRlZmF1bHRTcGlubmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCk7IH07XG52YXIgU3Bpbm5lckNvbnRleHQgPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUNvbnRleHQoe1xuICAgIHJlbmRlclNwaW5uZXI6IGRlZmF1bHRTcGlubmVyLFxufSk7XG5cbnZhciBGZXRjaExhYmVscyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBkb2MgPSBfYS5kb2M7XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIGxhYmVsczogW10sXG4gICAgfSksIHN0YXR1cyA9IF9iWzBdLCBzZXRTdGF0dXMgPSBfYlsxXTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvYy5nZXRQYWdlTGFiZWxzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCAmJiBzZXRTdGF0dXMoeyBsb2FkaW5nOiBmYWxzZSwgbGFiZWxzOiByZXN1bHQgfHwgW10gfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtkb2MubG9hZGluZ1Rhc2suZG9jSWRdKTtcbiAgICByZXR1cm4gc3RhdHVzLmxvYWRpbmcgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCkgOiBjaGlsZHJlbihzdGF0dXMubGFiZWxzKTtcbn07XG5cbnZhciBzY3JvbGxUb0JlVmlzaWJsZSA9IGZ1bmN0aW9uIChlbGUsIGNvbnRhaW5lcikge1xuICAgIHZhciB0b3AgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICB2YXIgZWxlSGVpZ2h0ID0gZWxlLmNsaWVudEhlaWdodDtcbiAgICB2YXIgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICBpZiAodG9wIDwgMCkge1xuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wICs9IHRvcDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodG9wICsgZWxlSGVpZ2h0IDw9IGNvbnRhaW5lckhlaWdodCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgKz0gdG9wICsgZWxlSGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0O1xufTtcblxudmFyIFRodW1ibmFpbEl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcGFnZSA9IF9hLnBhZ2UsIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlSW5kZXggPSBfYS5wYWdlSW5kZXgsIHBhZ2VXaWR0aCA9IF9hLnBhZ2VXaWR0aCwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgdGh1bWJuYWlsSGVpZ2h0ID0gX2EudGh1bWJuYWlsSGVpZ2h0LCB0aHVtYm5haWxXaWR0aCA9IF9hLnRodW1ibmFpbFdpZHRoLCBvblJlbmRlckNvbXBsZXRlZCA9IF9hLm9uUmVuZGVyQ29tcGxldGVkO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICB2YXIgdGh1bWJuYWlsTGFiZWwgPSBsMTBuICYmIGwxMG4udGh1bWJuYWlsXG4gICAgICAgID8gbDEwbi50aHVtYm5haWwudGh1bWJuYWlsTGFiZWxcbiAgICAgICAgOiAnVGh1bWJuYWlsIG9mIHBhZ2Uge3twYWdlSW5kZXh9fSc7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFzayA9IHJlbmRlclRhc2suY3VycmVudDtcbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgIHRhc2suY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICB2YXIgdyA9IHRodW1ibmFpbFdpZHRoO1xuICAgICAgICB2YXIgaCA9IHcgLyAocGFnZVdpZHRoIC8gcGFnZUhlaWdodCk7XG4gICAgICAgIHZhciBzY2FsZSA9IHcgLyBwYWdlV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoaCwgXCJweFwiKTtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQodywgXCJweFwiKTtcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHJvdGF0aW9uOiByb3RhdGlvbiwgc2NhbGU6IHNjYWxlIH0pO1xuICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQgPSBwYWdlLnJlbmRlcih7IGNhbnZhc0NvbnRleHQ6IGNhbnZhc0NvbnRleHQsIHZpZXdwb3J0OiB2aWV3cG9ydCB9KTtcbiAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRTcmMoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIG9uUmVuZGVyQ29tcGxldGVkKHBhZ2VJbmRleCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9uUmVuZGVyQ29tcGxldGVkKHBhZ2VJbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gcmVuZGVyVGFzay5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIH07XG4gICAgfSwgW3JvdGF0aW9uXSk7XG4gICAgcmV0dXJuICFzcmMgPyAoUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFNwaW5uZXJDb250ZXh0KS5yZW5kZXJTcGlubmVyKCkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IFwiYXJpYS1sYWJlbFwiOiB0aHVtYm5haWxMYWJlbC5yZXBsYWNlKCd7e3BhZ2VJbmRleH19JywgXCJcIi5jb25jYXQocGFnZUluZGV4ICsgMSkpLCBzcmM6IHNyYywgaGVpZ2h0OiBcIlwiLmNvbmNhdCh0aHVtYm5haWxIZWlnaHQsIFwicHhcIiksIHdpZHRoOiBcIlwiLmNvbmNhdCh0aHVtYm5haWxXaWR0aCwgXCJweFwiKSB9KSk7XG59O1xuXG52YXIgVGh1bWJuYWlsQ29udGFpbmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uID0gX2EucGFnZVJvdGF0aW9uLCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNob3VsZFJlbmRlciA9IF9hLnNob3VsZFJlbmRlciwgdGh1bWJuYWlsV2lkdGggPSBfYS50aHVtYm5haWxXaWR0aCwgb25SZW5kZXJDb21wbGV0ZWQgPSBfYS5vblJlbmRlckNvbXBsZXRlZCwgb25WaXNpYmlsaXR5Q2hhbmdlZCA9IF9hLm9uVmlzaWJpbGl0eUNoYW5nZWQ7XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGhlaWdodDogcGFnZUhlaWdodCxcbiAgICAgICAgcGFnZTogbnVsbCxcbiAgICAgICAgdmlld3BvcnRSb3RhdGlvbjogMCxcbiAgICAgICAgd2lkdGg6IHBhZ2VXaWR0aCxcbiAgICB9KSwgcGFnZVNpemUgPSBfYlswXSwgc2V0UGFnZVNpemUgPSBfYlsxXTtcbiAgICB2YXIgcGFnZSA9IHBhZ2VTaXplLnBhZ2UsIGhlaWdodCA9IHBhZ2VTaXplLmhlaWdodCwgd2lkdGggPSBwYWdlU2l6ZS53aWR0aDtcbiAgICB2YXIgc2NhbGUgPSB3aWR0aCAvIGhlaWdodDtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IE1hdGguYWJzKHJvdGF0aW9uICsgcGFnZVJvdGF0aW9uKSAlIDE4MCA9PT0gMDtcbiAgICB2YXIgdyA9IGlzVmVydGljYWwgPyB0aHVtYm5haWxXaWR0aCA6IHRodW1ibmFpbFdpZHRoIC8gc2NhbGU7XG4gICAgdmFyIGggPSBpc1ZlcnRpY2FsID8gdGh1bWJuYWlsV2lkdGggLyBzY2FsZSA6IHRodW1ibmFpbFdpZHRoO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICAgICAgY29yZS5nZXRQYWdlKGRvYywgcGFnZUluZGV4KS50aGVuKGZ1bmN0aW9uIChwZGZQYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAxIH0pO1xuICAgICAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VTaXplKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGRmUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Um90YXRpb246IHZpZXdwb3J0LnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3Nob3VsZFJlbmRlcl0pO1xuICAgIHZhciByb3RhdGlvbk51bWJlciA9IChwYWdlU2l6ZS52aWV3cG9ydFJvdGF0aW9uICsgcm90YXRpb24gKyBwYWdlUm90YXRpb24pICUgMzYwO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBjb3JlLnVzZUludGVyc2VjdGlvbk9ic2VydmVyKHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlZDogZnVuY3Rpb24gKHZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZWQocGFnZUluZGV4LCB2aXNpYmlsaXR5KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb250YWluZXJcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY29udGFpbmVyLVwiLmNvbmNhdChwYWdlSW5kZXgpLCByZWY6IGNvbnRhaW5lclJlZiwgc3R5bGU6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoaCwgXCJweFwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdCh3LCBcInB4XCIpLFxuICAgICAgICB9IH0sICFwYWdlID8gKFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChTcGlubmVyQ29udGV4dCkucmVuZGVyU3Bpbm5lcigpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsSXRlbSwgeyBwYWdlOiBwYWdlLCBwYWdlSGVpZ2h0OiBpc1ZlcnRpY2FsID8gaGVpZ2h0IDogd2lkdGgsIHBhZ2VJbmRleDogcGFnZUluZGV4LCBwYWdlV2lkdGg6IGlzVmVydGljYWwgPyB3aWR0aCA6IGhlaWdodCwgcm90YXRpb246IHJvdGF0aW9uTnVtYmVyLCB0aHVtYm5haWxIZWlnaHQ6IGgsIHRodW1ibmFpbFdpZHRoOiB3LCBvblJlbmRlckNvbXBsZXRlZDogb25SZW5kZXJDb21wbGV0ZWQgfSkpKSk7XG59O1xuXG52YXIgVGh1bWJuYWlsTGlzdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjdXJyZW50UGFnZSA9IF9hLmN1cnJlbnRQYWdlLCBkb2MgPSBfYS5kb2MsIGxhYmVscyA9IF9hLmxhYmVscywgcGFnZXNSb3RhdGlvbiA9IF9hLnBhZ2VzUm90YXRpb24sIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJlbmRlckN1cnJlbnRQYWdlTGFiZWwgPSBfYS5yZW5kZXJDdXJyZW50UGFnZUxhYmVsLCByZW5kZXJUaHVtYm5haWxJdGVtID0gX2EucmVuZGVyVGh1bWJuYWlsSXRlbSwgcm90YXRlZFBhZ2UgPSBfYS5yb3RhdGVkUGFnZSwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgdGh1bWJuYWlsV2lkdGggPSBfYS50aHVtYm5haWxXaWR0aCwgb25KdW1wVG9QYWdlID0gX2Eub25KdW1wVG9QYWdlLCBvblJvdGF0ZVBhZ2UgPSBfYS5vblJvdGF0ZVBhZ2U7XG4gICAgdmFyIG51bVBhZ2VzID0gZG9jLm51bVBhZ2VzO1xuICAgIHZhciBkb2NJZCA9IGRvYy5sb2FkaW5nVGFzay5kb2NJZDtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYobnVsbCk7XG4gICAgdmFyIHRodW1ibmFpbHNSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihbXSk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShjdXJyZW50UGFnZSksIGN1cnJlbnRGb2N1c2VkID0gX2JbMF0sIHNldEN1cnJlbnRGb2N1c2VkID0gX2JbMV07XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLlRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gY29yZS5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoLTEpLCByZW5kZXJQYWdlSW5kZXggPSBfY1swXSwgc2V0UmVuZGVyUGFnZUluZGV4ID0gX2NbMV07XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIGhhc1JlbmRlcmluZ1RodW1ibmFpbFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgcmVuZGVyUXVldWUgPSBjb3JlLnVzZVJlbmRlclF1ZXVlKHsgZG9jOiBkb2MgfSk7XG4gICAgdmFyIHBhZ2VJbmRleGVzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5KG51bVBhZ2VzKVxuICAgICAgICAgICAgLmZpbGwoMClcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF8sIHBhZ2VJbmRleCkgeyByZXR1cm4gcGFnZUluZGV4OyB9KTtcbiAgICB9LCBbZG9jSWRdKTtcbiAgICB2YXIgaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVOZXh0SXRlbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVQcmV2aW91c0l0ZW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgICAgICBqdW1wVG9Gb2N1c2VkUGFnZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgYWN0aXZhdGVOZXh0SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtcyA9IHRodW1ibmFpbHNSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIG5leHRJdGVtID0gY3VycmVudEZvY3VzZWQgKyAxO1xuICAgICAgICBpZiAobmV4dEl0ZW0gPCBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9jdXNlZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgaXRlbXNbY3VycmVudEZvY3VzZWRdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEN1cnJlbnRGb2N1c2VkKG5leHRJdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGFjdGl2YXRlUHJldmlvdXNJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGh1bWJuYWlsc1JlZi5jdXJyZW50O1xuICAgICAgICB2YXIgcHJldkl0ZW0gPSBjdXJyZW50Rm9jdXNlZCAtIDE7XG4gICAgICAgIGlmIChwcmV2SXRlbSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZvY3VzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgIGl0ZW1zW2N1cnJlbnRGb2N1c2VkXS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDdXJyZW50Rm9jdXNlZChwcmV2SXRlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBqdW1wVG9Gb2N1c2VkUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRGb2N1c2VkID49IDAgJiYgY3VycmVudEZvY3VzZWQgPCBudW1QYWdlcykge1xuICAgICAgICAgICAgb25KdW1wVG9QYWdlKGN1cnJlbnRGb2N1c2VkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRodW1ibmFpbHNSZWYuY3VycmVudCA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ycHYtdGh1bWJuYWlsX19pdGVtJykpO1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aHVtYm5haWxzID0gdGh1bWJuYWlsc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAodGh1bWJuYWlscy5sZW5ndGggPT09IDAgfHwgY3VycmVudEZvY3VzZWQgPCAwIHx8IGN1cnJlbnRGb2N1c2VkID4gdGh1bWJuYWlscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGh1bWJuYWlsRWxlID0gdGh1bWJuYWlsc1tjdXJyZW50Rm9jdXNlZF07XG4gICAgICAgIHRodW1ibmFpbEVsZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgdGh1bWJuYWlsRWxlLmZvY3VzKCk7XG4gICAgfSwgW2N1cnJlbnRGb2N1c2VkXSk7XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgdGh1bWJuYWlsTm9kZXMgPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPCB0aHVtYm5haWxOb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb0JlVmlzaWJsZSh0aHVtYm5haWxOb2Rlcy5pdGVtKGN1cnJlbnRQYWdlKSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50UGFnZV0pO1xuICAgIHZhciBoYW5kbGVSZW5kZXJDb21wbGV0ZWQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICByZW5kZXJRdWV1ZS5tYXJrUmVuZGVyZWQocGFnZUluZGV4KTtcbiAgICAgICAgICAgIGhhc1JlbmRlcmluZ1RodW1ibmFpbFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICByZW5kZXJOZXh0VGh1bWJuYWlsKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZG9jSWRdKTtcbiAgICB2YXIgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZWQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYWdlSW5kZXgsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgdmlzaWJpbGl0eS5pc1Zpc2libGVcbiAgICAgICAgICAgID8gcmVuZGVyUXVldWUuc2V0VmlzaWJpbGl0eShwYWdlSW5kZXgsIHZpc2liaWxpdHkucmF0aW8pXG4gICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgcmVuZGVyUXVldWUuc2V0T3V0T2ZSYW5nZShwYWdlSW5kZXgpO1xuICAgICAgICByZW5kZXJOZXh0VGh1bWJuYWlsKCk7XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgdmFyIHJlbmRlck5leHRUaHVtYm5haWwgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhhc1JlbmRlcmluZ1RodW1ibmFpbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5leHRQYWdlID0gcmVuZGVyUXVldWUuZ2V0SGlnaGVzdFByaW9yaXR5UGFnZSgpO1xuICAgICAgICBpZiAobmV4dFBhZ2UgPiAtMSkge1xuICAgICAgICAgICAgcmVuZGVyUXVldWUubWFya1JlbmRlcmluZyhuZXh0UGFnZSk7XG4gICAgICAgICAgICBoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBzZXRSZW5kZXJQYWdlSW5kZXgobmV4dFBhZ2UpO1xuICAgICAgICB9XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocm90YXRlZFBhZ2UgPj0gMCkge1xuICAgICAgICAgICAgcmVuZGVyUXVldWUubWFya1JlbmRlcmluZyhyb3RhdGVkUGFnZSk7XG4gICAgICAgICAgICBoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBzZXRSZW5kZXJQYWdlSW5kZXgocm90YXRlZFBhZ2UpO1xuICAgICAgICB9XG4gICAgfSwgW2RvY0lkLCByb3RhdGVkUGFnZV0pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2xpc3RcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2xpc3QnOiB0cnVlLFxuICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2xpc3QtLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSwgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duIH0sIHBhZ2VJbmRleGVzLm1hcChmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBcIlwiLmNvbmNhdChkb2MubG9hZGluZ1Rhc2suZG9jSWQsIFwiX19fXCIpLmNvbmNhdChwYWdlSW5kZXgpO1xuICAgICAgICB2YXIgcGFnZUxhYmVsID0gbGFiZWxzLmxlbmd0aCA9PT0gbnVtUGFnZXMgPyBsYWJlbHNbcGFnZUluZGV4XSA6IFwiXCIuY29uY2F0KHBhZ2VJbmRleCArIDEpO1xuICAgICAgICB2YXIgbGFiZWwgPSByZW5kZXJDdXJyZW50UGFnZUxhYmVsXG4gICAgICAgICAgICA/IHJlbmRlckN1cnJlbnRQYWdlTGFiZWwoeyBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsIHBhZ2VJbmRleDogcGFnZUluZGV4LCBudW1QYWdlczogbnVtUGFnZXMsIHBhZ2VMYWJlbDogcGFnZUxhYmVsIH0pXG4gICAgICAgICAgICA6IHBhZ2VMYWJlbDtcbiAgICAgICAgdmFyIHBhZ2VSb3RhdGlvbiA9IHBhZ2VzUm90YXRpb24uaGFzKHBhZ2VJbmRleCkgPyBwYWdlc1JvdGF0aW9uLmdldChwYWdlSW5kZXgpIDogMDtcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsQ29udGFpbmVyLCB7IGRvYzogZG9jLCBwYWdlSGVpZ2h0OiBwYWdlSGVpZ2h0LCBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uOiBwYWdlUm90YXRpb24sIHBhZ2VXaWR0aDogcGFnZVdpZHRoLCByb3RhdGlvbjogcm90YXRpb24sIHNob3VsZFJlbmRlcjogcmVuZGVyUGFnZUluZGV4ID09PSBwYWdlSW5kZXgsIHRodW1ibmFpbFdpZHRoOiB0aHVtYm5haWxXaWR0aCwgb25SZW5kZXJDb21wbGV0ZWQ6IGhhbmRsZVJlbmRlckNvbXBsZXRlZCwgb25WaXNpYmlsaXR5Q2hhbmdlZDogaGFuZGxlVmlzaWJpbGl0eUNoYW5nZWQgfSkpO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGh1bWJuYWlsSXRlbSA/IChyZW5kZXJUaHVtYm5haWxJdGVtKHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbnVtUGFnZXM6IG51bVBhZ2VzLFxuICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICByZW5kZXJQYWdlTGFiZWw6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLCBsYWJlbCksXG4gICAgICAgICAgICByZW5kZXJQYWdlVGh1bWJuYWlsOiB0aHVtYm5haWwsXG4gICAgICAgICAgICBvbkp1bXBUb1BhZ2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uSnVtcFRvUGFnZShwYWdlSW5kZXgpOyB9LFxuICAgICAgICAgICAgb25Sb3RhdGVQYWdlOiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7IHJldHVybiBvblJvdGF0ZVBhZ2UocGFnZUluZGV4LCBkaXJlY3Rpb24pOyB9LFxuICAgICAgICB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBrZXkgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2l0ZW0nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAncnB2LXRodW1ibmFpbF9faXRlbS0tc2VsZWN0ZWQnOiBjdXJyZW50UGFnZSA9PT0gcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIH0pLCByb2xlOiBcImJ1dHRvblwiLCB0YWJJbmRleDogY3VycmVudFBhZ2UgPT09IHBhZ2VJbmRleCA/IDAgOiAtMSwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gb25KdW1wVG9QYWdlKHBhZ2VJbmRleCk7IH0gfSwgdGh1bWJuYWlsKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2xhYmVsLVwiLmNvbmNhdChwYWdlSW5kZXgpLCBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fbGFiZWxcIiB9LCBsYWJlbCkpKTtcbiAgICB9KSkpO1xufTtcblxudmFyIFRodW1ibmFpbExpc3RXaXRoU3RvcmUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcmVuZGVyQ3VycmVudFBhZ2VMYWJlbCA9IF9hLnJlbmRlckN1cnJlbnRQYWdlTGFiZWwsIHJlbmRlclRodW1ibmFpbEl0ZW0gPSBfYS5yZW5kZXJUaHVtYm5haWxJdGVtLCBzdG9yZSA9IF9hLnN0b3JlLCB0aHVtYm5haWxXaWR0aCA9IF9hLnRodW1ibmFpbFdpZHRoO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdkb2MnKSksIGN1cnJlbnREb2MgPSBfYlswXSwgc2V0Q3VycmVudERvYyA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdjdXJyZW50UGFnZScpIHx8IDApLCBjdXJyZW50UGFnZSA9IF9jWzBdLCBzZXRDdXJyZW50UGFnZSA9IF9jWzFdO1xuICAgIHZhciBfZCA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdwYWdlSGVpZ2h0JykgfHwgMCksIHBhZ2VIZWlnaHQgPSBfZFswXSwgc2V0UGFnZUhlaWdodCA9IF9kWzFdO1xuICAgIHZhciBfZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdwYWdlV2lkdGgnKSB8fCAwKSwgcGFnZVdpZHRoID0gX2VbMF0sIHNldFBhZ2VXaWR0aCA9IF9lWzFdO1xuICAgIHZhciBfZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdyb3RhdGlvbicpIHx8IDApLCByb3RhdGlvbiA9IF9mWzBdLCBzZXRSb3RhdGlvbiA9IF9mWzFdO1xuICAgIHZhciBfZyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdwYWdlc1JvdGF0aW9uJykgfHwgbmV3IE1hcCgpKSwgcGFnZXNSb3RhdGlvbiA9IF9nWzBdLCBzZXRQYWdlc1JvdGF0aW9uID0gX2dbMV07XG4gICAgdmFyIF9oID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ3JvdGF0ZWRQYWdlJykgfHwgLTEpLCByb3RhdGVkUGFnZSA9IF9oWzBdLCBzZXRSb3RhdGVkUGFnZSA9IF9oWzFdO1xuICAgIHZhciBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFBhZ2VJbmRleCkge1xuICAgICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZUluZGV4KTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVEb2N1bWVudENoYW5nZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHNldEN1cnJlbnREb2MoZG9jKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlSGVpZ2h0Q2hhbmdlZCA9IGZ1bmN0aW9uIChoZWlnaHQpIHtcbiAgICAgICAgc2V0UGFnZUhlaWdodChoZWlnaHQpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVBhZ2VXaWR0aENoYW5nZWQgPSBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICAgICAgc2V0UGFnZVdpZHRoKHdpZHRoKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVSb3RhdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFJvdGF0aW9uKSB7XG4gICAgICAgIHNldFJvdGF0aW9uKGN1cnJlbnRSb3RhdGlvbik7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlUGFnZXNSb3RhdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAocm90YXRpb25zKSB7XG4gICAgICAgIHNldFBhZ2VzUm90YXRpb24ocm90YXRpb25zKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVSb3RhdGVkUGFnZSA9IGZ1bmN0aW9uIChyb3RhdGVkUGFnZSkge1xuICAgICAgICBzZXRSb3RhdGVkUGFnZShyb3RhdGVkUGFnZSk7XG4gICAgfTtcbiAgICB2YXIganVtcCA9IGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UocGFnZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJvdGF0ZVBhZ2UgPSBmdW5jdGlvbiAocGFnZUluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgc3RvcmUuZ2V0KCdyb3RhdGVQYWdlJykocGFnZUluZGV4LCBkaXJlY3Rpb24pO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncGFnZUhlaWdodCcsIGhhbmRsZVBhZ2VIZWlnaHRDaGFuZ2VkKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdwYWdlV2lkdGgnLCBoYW5kbGVQYWdlV2lkdGhDaGFuZ2VkKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdyb3RhdGVkUGFnZScsIGhhbmRsZVJvdGF0ZWRQYWdlKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdyb3RhdGlvbicsIGhhbmRsZVJvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncGFnZXNSb3RhdGlvbicsIGhhbmRsZVBhZ2VzUm90YXRpb25DaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ3BhZ2VIZWlnaHQnLCBoYW5kbGVQYWdlSGVpZ2h0Q2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncGFnZVdpZHRoJywgaGFuZGxlUGFnZVdpZHRoQ2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncm90YXRlZFBhZ2UnLCBoYW5kbGVSb3RhdGVkUGFnZSk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncm90YXRpb24nLCBoYW5kbGVSb3RhdGlvbkNoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ3BhZ2VzUm90YXRpb24nLCBoYW5kbGVQYWdlc1JvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvcmUudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnY3VycmVudFBhZ2UnLCBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2N1cnJlbnRQYWdlJywgaGFuZGxlQ3VycmVudFBhZ2VDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTGF6eVJlbmRlciwgeyB0ZXN0SWQ6IFwidGh1bWJuYWlsX19saXN0LWNvbnRhaW5lclwiLCBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAncnB2LXRodW1ibmFpbF9fbGlzdC1jb250YWluZXInLFxuICAgICAgICB9IH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChGZXRjaExhYmVscywgeyBkb2M6IGN1cnJlbnREb2MgfSwgZnVuY3Rpb24gKGxhYmVscykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxMaXN0LCB7IGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSwgZG9jOiBjdXJyZW50RG9jLCBsYWJlbHM6IGxhYmVscywgcGFnZXNSb3RhdGlvbjogcGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgcGFnZVdpZHRoOiBwYWdlV2lkdGgsIHJlbmRlckN1cnJlbnRQYWdlTGFiZWw6IHJlbmRlckN1cnJlbnRQYWdlTGFiZWwsIHJlbmRlclRodW1ibmFpbEl0ZW06IHJlbmRlclRodW1ibmFpbEl0ZW0sIHJvdGF0ZWRQYWdlOiByb3RhdGVkUGFnZSwgcm90YXRpb246IHJvdGF0aW9uLCB0aHVtYm5haWxXaWR0aDogdGh1bWJuYWlsV2lkdGgsIG9uSnVtcFRvUGFnZToganVtcCwgb25Sb3RhdGVQYWdlOiByb3RhdGVQYWdlIH0pKTsgfSkpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwidGh1bWJuYWlsLWxpc3RfX2xvYWRlclwiLCBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fbG9hZGVyXCIgfSwgUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFNwaW5uZXJDb250ZXh0KS5yZW5kZXJTcGlubmVyKCkpKTtcbn07XG5cbnZhciB0aHVtYm5haWxQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luUHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICByb3RhdGVQYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIGRvY0lkID0gX2FbMF0sIHNldERvY0lkID0gX2FbMV07XG4gICAgdmFyIENvdmVyRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KENvdmVyLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgcmVuZGVyU3Bpbm5lcjogcGx1Z2luUHJvcHMgPT09IG51bGwgfHwgcGx1Z2luUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsdWdpblByb3BzLnJlbmRlclNwaW5uZXIsIHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBUaHVtYm5haWxzRGVjb3JhdG9yID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3Bpbm5lckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgcmVuZGVyU3Bpbm5lcjogKHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy5yZW5kZXJTcGlubmVyKSB8fCBkZWZhdWx0U3Bpbm5lciB9IH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxMaXN0V2l0aFN0b3JlLCB7IHJlbmRlckN1cnJlbnRQYWdlTGFiZWw6IHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy5yZW5kZXJDdXJyZW50UGFnZUxhYmVsLCByZW5kZXJUaHVtYm5haWxJdGVtOiBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMucmVuZGVyVGh1bWJuYWlsSXRlbSwgc3RvcmU6IHN0b3JlLCB0aHVtYm5haWxXaWR0aDogKHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy50aHVtYm5haWxXaWR0aCkgfHwgMTAwIH0pKSk7IH0sIFtkb2NJZF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbGw6IGZ1bmN0aW9uIChwbHVnaW5GdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnanVtcFRvUGFnZScsIHBsdWdpbkZ1bmN0aW9ucy5qdW1wVG9QYWdlKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncm90YXRlUGFnZScsIHBsdWdpbkZ1bmN0aW9ucy5yb3RhdGVQYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb2N1bWVudExvYWQ6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgc2V0RG9jSWQocHJvcHMuZG9jLmxvYWRpbmdUYXNrLmRvY0lkKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25WaWV3ZXJTdGF0ZUNoYW5nZTogZnVuY3Rpb24gKHZpZXdlclN0YXRlKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2N1cnJlbnRQYWdlJywgdmlld2VyU3RhdGUucGFnZUluZGV4KTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncGFnZXNSb3RhdGlvbicsIHZpZXdlclN0YXRlLnBhZ2VzUm90YXRpb24pO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdwYWdlSGVpZ2h0Jywgdmlld2VyU3RhdGUucGFnZUhlaWdodCk7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3BhZ2VXaWR0aCcsIHZpZXdlclN0YXRlLnBhZ2VXaWR0aCk7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3JvdGF0aW9uJywgdmlld2VyU3RhdGUucm90YXRpb24pO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdyb3RhdGVkUGFnZScsIHZpZXdlclN0YXRlLnJvdGF0ZWRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiB2aWV3ZXJTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ292ZXI6IENvdmVyRGVjb3JhdG9yLFxuICAgICAgICBUaHVtYm5haWxzOiBUaHVtYm5haWxzRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLnRodW1ibmFpbFBsdWdpbiA9IHRodW1ibmFpbFBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/thumbnail/lib/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/thumbnail/lib/index.js ***!
  \***************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/thumbnail.js */ \"./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGh1bWJuYWlsL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksaUlBQThDO0FBQ2xEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90aHVtYm5haWwvbGliL2luZGV4LmpzP2M1MmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3RodW1ibmFpbC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aHVtYm5haWwuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/thumbnail/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar selectionMode = __webpack_require__(/*! @react-pdf-viewer/selection-mode */ \"./node_modules/@react-pdf-viewer/selection-mode/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar fullScreen = __webpack_require__(/*! @react-pdf-viewer/full-screen */ \"./node_modules/@react-pdf-viewer/full-screen/lib/index.js\");\nvar getFile = __webpack_require__(/*! @react-pdf-viewer/get-file */ \"./node_modules/@react-pdf-viewer/get-file/lib/index.js\");\nvar open = __webpack_require__(/*! @react-pdf-viewer/open */ \"./node_modules/@react-pdf-viewer/open/lib/index.js\");\nvar pageNavigation = __webpack_require__(/*! @react-pdf-viewer/page-navigation */ \"./node_modules/@react-pdf-viewer/page-navigation/lib/index.js\");\nvar print = __webpack_require__(/*! @react-pdf-viewer/print */ \"./node_modules/@react-pdf-viewer/print/lib/index.js\");\nvar properties = __webpack_require__(/*! @react-pdf-viewer/properties */ \"./node_modules/@react-pdf-viewer/properties/lib/index.js\");\nvar rotate = __webpack_require__(/*! @react-pdf-viewer/rotate */ \"./node_modules/@react-pdf-viewer/rotate/lib/index.js\");\nvar scrollMode = __webpack_require__(/*! @react-pdf-viewer/scroll-mode */ \"./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js\");\nvar search = __webpack_require__(/*! @react-pdf-viewer/search */ \"./node_modules/@react-pdf-viewer/search/lib/index.js\");\nvar theme = __webpack_require__(/*! @react-pdf-viewer/theme */ \"./node_modules/@react-pdf-viewer/theme/lib/index.js\");\nvar zoom = __webpack_require__(/*! @react-pdf-viewer/zoom */ \"./node_modules/@react-pdf-viewer/zoom/lib/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar MoreIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\\n            M12,9.5\\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z\" }))); };\n\nvar PORTAL_OFFSET = { left: 0, top: 8 };\nvar MoreActionsPopover = function (_a) {\n    var toolbarSlot = _a.toolbarSlot;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var portalPosition = direction === core.TextDirection.RightToLeft ? core.Position.BottomLeft : core.Position.BottomRight;\n    var DownloadMenuItem = toolbarSlot.DownloadMenuItem, EnterFullScreenMenuItem = toolbarSlot.EnterFullScreenMenuItem, GoToFirstPageMenuItem = toolbarSlot.GoToFirstPageMenuItem, GoToLastPageMenuItem = toolbarSlot.GoToLastPageMenuItem, GoToNextPageMenuItem = toolbarSlot.GoToNextPageMenuItem, GoToPreviousPageMenuItem = toolbarSlot.GoToPreviousPageMenuItem, OpenMenuItem = toolbarSlot.OpenMenuItem, PrintMenuItem = toolbarSlot.PrintMenuItem, RotateBackwardMenuItem = toolbarSlot.RotateBackwardMenuItem, RotateForwardMenuItem = toolbarSlot.RotateForwardMenuItem, ShowPropertiesMenuItem = toolbarSlot.ShowPropertiesMenuItem, SwitchScrollModeMenuItem = toolbarSlot.SwitchScrollModeMenuItem, SwitchSelectionModeMenuItem = toolbarSlot.SwitchSelectionModeMenuItem, SwitchThemeMenuItem = toolbarSlot.SwitchThemeMenuItem;\n    var renderTarget = function (toggle, opened) {\n        var label = l10n && l10n.toolbar ? l10n.toolbar.moreActions : 'More actions';\n        return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"toolbar-more-actions\", position: portalPosition, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isSelected: opened, testId: \"toolbar__more-actions-popover-target\", onClick: toggle },\n                React__namespace.createElement(MoreIcon, null)), content: function () { return label; }, offset: PORTAL_OFFSET }));\n    };\n    var renderContent = function (toggle) {\n        return (React__namespace.createElement(core.Menu, null,\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(SwitchThemeMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(EnterFullScreenMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(OpenMenuItem, null)),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(PrintMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(DownloadMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(core.MenuDivider, null)),\n            React__namespace.createElement(GoToFirstPageMenuItem, { onClick: toggle }),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(GoToPreviousPageMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(GoToNextPageMenuItem, { onClick: toggle })),\n            React__namespace.createElement(GoToLastPageMenuItem, { onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(RotateForwardMenuItem, { onClick: toggle }),\n            React__namespace.createElement(RotateBackwardMenuItem, { onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(SwitchSelectionModeMenuItem, { mode: selectionMode.SelectionMode.Text, onClick: toggle }),\n            React__namespace.createElement(SwitchSelectionModeMenuItem, { mode: selectionMode.SelectionMode.Hand, onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(SwitchScrollModeMenuItem, { mode: core.ScrollMode.Vertical, onClick: toggle }),\n            React__namespace.createElement(SwitchScrollModeMenuItem, { mode: core.ScrollMode.Horizontal, onClick: toggle }),\n            React__namespace.createElement(SwitchScrollModeMenuItem, { mode: core.ScrollMode.Wrapped, onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(ShowPropertiesMenuItem, { onClick: toggle })));\n    };\n    return (React__namespace.createElement(core.Popover, { ariaControlsSuffix: \"toolbar-more-actions\", ariaHasPopup: \"menu\", position: portalPosition, target: renderTarget, content: renderContent, offset: PORTAL_OFFSET, closeOnClickOutside: true, closeOnEscape: true }));\n};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar renderDefaultToolbar = function (transformToolbarSlot) {\n    return function (defaultToolbarSlot) {\n        var toolbarSlot = React__namespace.useMemo(function () { return transformToolbarSlot(defaultToolbarSlot); }, []);\n        var direction = React__namespace.useContext(core.ThemeContext).direction;\n        var isRtl = direction === core.TextDirection.RightToLeft;\n        var CurrentPageInput = toolbarSlot.CurrentPageInput, Download = toolbarSlot.Download, EnterFullScreen = toolbarSlot.EnterFullScreen, GoToNextPage = toolbarSlot.GoToNextPage, GoToPreviousPage = toolbarSlot.GoToPreviousPage, NumberOfPages = toolbarSlot.NumberOfPages, Open = toolbarSlot.Open, Print = toolbarSlot.Print, ShowSearchPopover = toolbarSlot.ShowSearchPopover, SwitchTheme = toolbarSlot.SwitchTheme, Zoom = toolbarSlot.Zoom, ZoomIn = toolbarSlot.ZoomIn, ZoomOut = toolbarSlot.ZoomOut;\n        return (React__namespace.createElement(\"div\", { \"data-testid\": \"toolbar\", className: core.classNames({\n                'rpv-toolbar': true,\n                'rpv-toolbar--rtl': isRtl,\n            }), role: \"toolbar\", \"aria-orientation\": \"horizontal\" },\n            React__namespace.createElement(\"div\", { className: \"rpv-toolbar__left\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(ShowSearchPopover, null)),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-small\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(GoToPreviousPage, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(CurrentPageInput, null),\n                    React__namespace.createElement(\"span\", { className: \"rpv-toolbar__label\" },\n                        React__namespace.createElement(NumberOfPages, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-small\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(GoToNextPage, null)))),\n            React__namespace.createElement(\"div\", { className: \"rpv-toolbar__center\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(ZoomOut, null)),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-small\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Zoom, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(ZoomIn, null))),\n            React__namespace.createElement(\"div\", { className: \"rpv-toolbar__right\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(SwitchTheme, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(EnterFullScreen, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Open, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Download, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Print, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(MoreActionsPopover, { toolbarSlot: toolbarSlot })))));\n    };\n};\n\nvar defaultTransform = function (slot) {\n    var NumberOfPages = slot.NumberOfPages;\n    return Object.assign({}, slot, {\n        NumberOfPages: function () { return (React__namespace.createElement(React__namespace.Fragment, null,\n            \"/ \",\n            React__namespace.createElement(NumberOfPages, null))); },\n    });\n};\nvar DefaultToobar = function (toolbarSlot) {\n    return renderDefaultToolbar(defaultTransform)(toolbarSlot);\n};\n\nvar Toolbar = function (_a) {\n    var children = _a.children, slot = _a.slot;\n    var render = children || DefaultToobar;\n    return render(slot);\n};\n\nvar toolbarPlugin = function (props) {\n    var fullScreenPluginInstance = fullScreen.fullScreenPlugin(props ? props.fullScreenPlugin : {});\n    var getFilePluginInstance = getFile.getFilePlugin(props ? props.getFilePlugin : {});\n    var openPluginInstance = open.openPlugin(props ? props.openPlugin : {});\n    var pageNavigationPluginInstance = pageNavigation.pageNavigationPlugin();\n    var printPluginInstance = print.printPlugin(props ? props.printPlugin : {});\n    var propertiesPluginInstance = properties.propertiesPlugin();\n    var rotatePluginInstance = rotate.rotatePlugin();\n    var scrollModePluginInstance = scrollMode.scrollModePlugin();\n    var searchPluginInstance = search.searchPlugin(props ? props.searchPlugin : {});\n    var selectionModePluginInstance = selectionMode.selectionModePlugin(props ? props.selectionModePlugin : {});\n    var themePluginInstance = theme.themePlugin();\n    var zoomPluginInstance = zoom.zoomPlugin(props ? props.zoomPlugin : {});\n    var plugins = [\n        fullScreenPluginInstance,\n        getFilePluginInstance,\n        openPluginInstance,\n        pageNavigationPluginInstance,\n        printPluginInstance,\n        propertiesPluginInstance,\n        rotatePluginInstance,\n        scrollModePluginInstance,\n        searchPluginInstance,\n        selectionModePluginInstance,\n        themePluginInstance,\n        zoomPluginInstance,\n    ];\n    var ToolbarDecorator = React__namespace.useCallback(function (props) {\n        var EnterFullScreen = fullScreenPluginInstance.EnterFullScreen, EnterFullScreenMenuItem = fullScreenPluginInstance.EnterFullScreenMenuItem;\n        var Download = getFilePluginInstance.Download, DownloadMenuItem = getFilePluginInstance.DownloadMenuItem;\n        var Open = openPluginInstance.Open, OpenMenuItem = openPluginInstance.OpenMenuItem;\n        var CurrentPageInput = pageNavigationPluginInstance.CurrentPageInput, CurrentPageLabel = pageNavigationPluginInstance.CurrentPageLabel, GoToFirstPage = pageNavigationPluginInstance.GoToFirstPage, GoToFirstPageMenuItem = pageNavigationPluginInstance.GoToFirstPageMenuItem, GoToLastPage = pageNavigationPluginInstance.GoToLastPage, GoToLastPageMenuItem = pageNavigationPluginInstance.GoToLastPageMenuItem, GoToNextPage = pageNavigationPluginInstance.GoToNextPage, GoToNextPageMenuItem = pageNavigationPluginInstance.GoToNextPageMenuItem, GoToPreviousPage = pageNavigationPluginInstance.GoToPreviousPage, GoToPreviousPageMenuItem = pageNavigationPluginInstance.GoToPreviousPageMenuItem, NumberOfPages = pageNavigationPluginInstance.NumberOfPages;\n        var Print = printPluginInstance.Print, PrintMenuItem = printPluginInstance.PrintMenuItem;\n        var ShowProperties = propertiesPluginInstance.ShowProperties, ShowPropertiesMenuItem = propertiesPluginInstance.ShowPropertiesMenuItem;\n        var Rotate = rotatePluginInstance.Rotate, RotateBackwardMenuItem = rotatePluginInstance.RotateBackwardMenuItem, RotateForwardMenuItem = rotatePluginInstance.RotateForwardMenuItem;\n        var SwitchScrollMode = scrollModePluginInstance.SwitchScrollMode, SwitchScrollModeMenuItem = scrollModePluginInstance.SwitchScrollModeMenuItem;\n        var Search = searchPluginInstance.Search, ShowSearchPopover = searchPluginInstance.ShowSearchPopover;\n        var SwitchSelectionMode = selectionModePluginInstance.SwitchSelectionMode, SwitchSelectionModeMenuItem = selectionModePluginInstance.SwitchSelectionModeMenuItem;\n        var SwitchTheme = themePluginInstance.SwitchTheme, SwitchThemeMenuItem = themePluginInstance.SwitchThemeMenuItem;\n        var CurrentScale = zoomPluginInstance.CurrentScale, Zoom = zoomPluginInstance.Zoom, ZoomIn = zoomPluginInstance.ZoomIn, ZoomInMenuItem = zoomPluginInstance.ZoomInMenuItem, ZoomOut = zoomPluginInstance.ZoomOut, ZoomOutMenuItem = zoomPluginInstance.ZoomOutMenuItem;\n        return (React__namespace.createElement(Toolbar, __assign({}, props, { slot: {\n                CurrentPageInput: CurrentPageInput,\n                CurrentPageLabel: CurrentPageLabel,\n                CurrentScale: CurrentScale,\n                Download: Download,\n                DownloadMenuItem: DownloadMenuItem,\n                EnterFullScreen: EnterFullScreen,\n                EnterFullScreenMenuItem: EnterFullScreenMenuItem,\n                GoToFirstPage: GoToFirstPage,\n                GoToFirstPageMenuItem: GoToFirstPageMenuItem,\n                GoToLastPage: GoToLastPage,\n                GoToLastPageMenuItem: GoToLastPageMenuItem,\n                GoToNextPage: GoToNextPage,\n                GoToNextPageMenuItem: GoToNextPageMenuItem,\n                GoToPreviousPage: GoToPreviousPage,\n                GoToPreviousPageMenuItem: GoToPreviousPageMenuItem,\n                NumberOfPages: NumberOfPages,\n                Open: Open,\n                OpenMenuItem: OpenMenuItem,\n                Print: Print,\n                PrintMenuItem: PrintMenuItem,\n                Rotate: Rotate,\n                RotateBackwardMenuItem: RotateBackwardMenuItem,\n                RotateForwardMenuItem: RotateForwardMenuItem,\n                Search: Search,\n                ShowProperties: ShowProperties,\n                ShowPropertiesMenuItem: ShowPropertiesMenuItem,\n                ShowSearchPopover: ShowSearchPopover,\n                SwitchScrollMode: SwitchScrollMode,\n                SwitchScrollModeMenuItem: SwitchScrollModeMenuItem,\n                SwitchSelectionMode: SwitchSelectionMode,\n                SwitchSelectionModeMenuItem: SwitchSelectionModeMenuItem,\n                SwitchTheme: SwitchTheme,\n                SwitchThemeMenuItem: SwitchThemeMenuItem,\n                Zoom: Zoom,\n                ZoomIn: ZoomIn,\n                ZoomInMenuItem: ZoomInMenuItem,\n                ZoomOut: ZoomOut,\n                ZoomOutMenuItem: ZoomOutMenuItem,\n            } })));\n    }, []);\n    return {\n        fullScreenPluginInstance: fullScreenPluginInstance,\n        getFilePluginInstance: getFilePluginInstance,\n        openPluginInstance: openPluginInstance,\n        pageNavigationPluginInstance: pageNavigationPluginInstance,\n        printPluginInstance: printPluginInstance,\n        propertiesPluginInstance: propertiesPluginInstance,\n        rotatePluginInstance: rotatePluginInstance,\n        scrollModePluginInstance: scrollModePluginInstance,\n        searchPluginInstance: searchPluginInstance,\n        selectionModePluginInstance: selectionModePluginInstance,\n        themePluginInstance: themePluginInstance,\n        zoomPluginInstance: zoomPluginInstance,\n        install: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.install) {\n                    plugin.install(pluginFunctions);\n                }\n            });\n        },\n        renderPageLayer: function (renderProps) { return (React__namespace.createElement(React__namespace.Fragment, null, plugins.map(function (plugin, idx) {\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer(renderProps))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx }));\n        }))); },\n        renderViewer: function (props) {\n            var slot = props.slot;\n            plugins.forEach(function (plugin) {\n                if (plugin.renderViewer) {\n                    slot = plugin.renderViewer(__assign(__assign({}, props), { slot: slot }));\n                }\n            });\n            return slot;\n        },\n        uninstall: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.uninstall) {\n                    plugin.uninstall(pluginFunctions);\n                }\n            });\n        },\n        onDocumentLoad: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onDocumentLoad) {\n                    plugin.onDocumentLoad(props);\n                }\n            });\n        },\n        onTextLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onTextLayerRender) {\n                    plugin.onTextLayerRender(props);\n                }\n            });\n        },\n        onViewerStateChange: function (viewerState) {\n            var newState = viewerState;\n            plugins.forEach(function (plugin) {\n                if (plugin.onViewerStateChange) {\n                    newState = plugin.onViewerStateChange(newState);\n                }\n            });\n            return newState;\n        },\n        renderDefaultToolbar: renderDefaultToolbar,\n        Toolbar: ToolbarDecorator,\n    };\n};\n\nexports.MoreActionsPopover = MoreActionsPopover;\nexports.MoreIcon = MoreIcon;\nexports.toolbarPlugin = toolbarPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhci9saWIvY2pzL3Rvb2xiYXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFrQztBQUM5RCxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0IsaUJBQWlCLG1CQUFPLENBQUMsZ0dBQStCO0FBQ3hELGNBQWMsbUJBQU8sQ0FBQywwRkFBNEI7QUFDbEQsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxxQkFBcUIsbUJBQU8sQ0FBQyx3R0FBbUM7QUFDaEUsWUFBWSxtQkFBTyxDQUFDLG9GQUF5QjtBQUM3QyxpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBOEI7QUFDdkQsYUFBYSxtQkFBTyxDQUFDLHNGQUEwQjtBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQyxnR0FBK0I7QUFDeEQsYUFBYSxtQkFBTyxDQUFDLHNGQUEwQjtBQUMvQyxZQUFZLG1CQUFPLENBQUMsb0ZBQXlCO0FBQzdDLFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLG9EQUFvRCxVQUFVO0FBQzNGLDZDQUE2QywwVUFBMFU7O0FBRXZYLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELG1JQUFtSSx1R0FBdUc7QUFDelMsd0ZBQXdGLGVBQWUseUJBQXlCO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx3RUFBd0U7QUFDNUgsc0VBQXNFLGlCQUFpQjtBQUN2RixvREFBb0Qsd0VBQXdFO0FBQzVILDBFQUEwRSxp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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULGtEQUFrRDtBQUNsRCx5R0FBeUcsVUFBVSx1R0FBdUcsVUFBVTtBQUNwTyxTQUFTLE1BQU07QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxZQUFZLFlBQVk7QUFDM0Y7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQjtBQUMxQixnQkFBZ0I7QUFDaEIscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90b29sYmFyL2xpYi9janMvdG9vbGJhci5qcz85ZDQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgc2VsZWN0aW9uTW9kZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3NlbGVjdGlvbi1tb2RlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIGZ1bGxTY3JlZW4gPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9mdWxsLXNjcmVlbicpO1xudmFyIGdldEZpbGUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9nZXQtZmlsZScpO1xudmFyIG9wZW4gPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9vcGVuJyk7XG52YXIgcGFnZU5hdmlnYXRpb24gPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9wYWdlLW5hdmlnYXRpb24nKTtcbnZhciBwcmludCA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3ByaW50Jyk7XG52YXIgcHJvcGVydGllcyA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3Byb3BlcnRpZXMnKTtcbnZhciByb3RhdGUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9yb3RhdGUnKTtcbnZhciBzY3JvbGxNb2RlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvc2Nyb2xsLW1vZGUnKTtcbnZhciBzZWFyY2ggPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9zZWFyY2gnKTtcbnZhciB0aGVtZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3RoZW1lJyk7XG52YXIgem9vbSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3pvb20nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIE1vcmVJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIsMC41YzEuMzgxLDAsMi41LDEuMTE5LDIuNSwyLjVTMTMuMzgxLDUuNSwxMiw1LjVTOS41LDQuMzgxLDkuNSwzUzEwLjYxOSwwLjUsMTIsMC41elxcbiAgICAgICAgICAgIE0xMiw5LjVcXG4gICAgICAgICAgICBjMS4zODEsMCwyLjUsMS4xMTksMi41LDIuNXMtMS4xMTksMi41LTIuNSwyLjVTOS41LDEzLjM4MSw5LjUsMTJTMTAuNjE5LDkuNSwxMiw5LjV6XFxuICAgICAgICAgICAgTTEyLDE4LjVjMS4zODEsMCwyLjUsMS4xMTksMi41LDIuNVxcbiAgICAgICAgICAgIHMtMS4xMTksMi41LTIuNSwyLjVTOS41LDIyLjM4MSw5LjUsMjFTMTAuNjE5LDE4LjUsMTIsMTguNXpcIiB9KSkpOyB9O1xuXG52YXIgUE9SVEFMX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgTW9yZUFjdGlvbnNQb3BvdmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHRvb2xiYXJTbG90ID0gX2EudG9vbGJhclNsb3Q7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgcG9ydGFsUG9zaXRpb24gPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdCA/IGNvcmUuUG9zaXRpb24uQm90dG9tTGVmdCA6IGNvcmUuUG9zaXRpb24uQm90dG9tUmlnaHQ7XG4gICAgdmFyIERvd25sb2FkTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5Eb3dubG9hZE1lbnVJdGVtLCBFbnRlckZ1bGxTY3JlZW5NZW51SXRlbSA9IHRvb2xiYXJTbG90LkVudGVyRnVsbFNjcmVlbk1lbnVJdGVtLCBHb1RvRmlyc3RQYWdlTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5Hb1RvRmlyc3RQYWdlTWVudUl0ZW0sIEdvVG9MYXN0UGFnZU1lbnVJdGVtID0gdG9vbGJhclNsb3QuR29Ub0xhc3RQYWdlTWVudUl0ZW0sIEdvVG9OZXh0UGFnZU1lbnVJdGVtID0gdG9vbGJhclNsb3QuR29Ub05leHRQYWdlTWVudUl0ZW0sIEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSA9IHRvb2xiYXJTbG90LkdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSwgT3Blbk1lbnVJdGVtID0gdG9vbGJhclNsb3QuT3Blbk1lbnVJdGVtLCBQcmludE1lbnVJdGVtID0gdG9vbGJhclNsb3QuUHJpbnRNZW51SXRlbSwgUm90YXRlQmFja3dhcmRNZW51SXRlbSA9IHRvb2xiYXJTbG90LlJvdGF0ZUJhY2t3YXJkTWVudUl0ZW0sIFJvdGF0ZUZvcndhcmRNZW51SXRlbSA9IHRvb2xiYXJTbG90LlJvdGF0ZUZvcndhcmRNZW51SXRlbSwgU2hvd1Byb3BlcnRpZXNNZW51SXRlbSA9IHRvb2xiYXJTbG90LlNob3dQcm9wZXJ0aWVzTWVudUl0ZW0sIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSA9IHRvb2xiYXJTbG90LlN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSwgU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtID0gdG9vbGJhclNsb3QuU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtLCBTd2l0Y2hUaGVtZU1lbnVJdGVtID0gdG9vbGJhclNsb3QuU3dpdGNoVGhlbWVNZW51SXRlbTtcbiAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKHRvZ2dsZSwgb3BlbmVkKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi50b29sYmFyID8gbDEwbi50b29sYmFyLm1vcmVBY3Rpb25zIDogJ01vcmUgYWN0aW9ucyc7XG4gICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwidG9vbGJhci1tb3JlLWFjdGlvbnNcIiwgcG9zaXRpb246IHBvcnRhbFBvc2l0aW9uLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgaXNTZWxlY3RlZDogb3BlbmVkLCB0ZXN0SWQ6IFwidG9vbGJhcl9fbW9yZS1hY3Rpb25zLXBvcG92ZXItdGFyZ2V0XCIsIG9uQ2xpY2s6IHRvZ2dsZSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChNb3JlSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBQT1JUQUxfT0ZGU0VUIH0pKTtcbiAgICB9O1xuICAgIHZhciByZW5kZXJDb250ZW50ID0gZnVuY3Rpb24gKHRvZ2dsZSkge1xuICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnUsIG51bGwsXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrIHJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoVGhlbWVNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1ibG9jayBycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrIHJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3Blbk1lbnVJdGVtLCBudWxsKSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrIHJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbnRNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1ibG9jayBycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0tYmxvY2sgcnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVEaXZpZGVyLCBudWxsKSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0ZpcnN0UGFnZU1lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0tYmxvY2sgcnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvUHJldmlvdXNQYWdlTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0tYmxvY2sgcnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2VNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9MYXN0UGFnZU1lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVEaXZpZGVyLCBudWxsKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVGb3J3YXJkTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZUJhY2t3YXJkTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbSwgeyBtb2RlOiBzZWxlY3Rpb25Nb2RlLlNlbGVjdGlvbk1vZGUuVGV4dCwgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbSwgeyBtb2RlOiBzZWxlY3Rpb25Nb2RlLlNlbGVjdGlvbk1vZGUuSGFuZCwgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSwgeyBtb2RlOiBjb3JlLlNjcm9sbE1vZGUuVmVydGljYWwsIG9uQ2xpY2s6IHRvZ2dsZSB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTY3JvbGxNb2RlTWVudUl0ZW0sIHsgbW9kZTogY29yZS5TY3JvbGxNb2RlLkhvcml6b250YWwsIG9uQ2xpY2s6IHRvZ2dsZSB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTY3JvbGxNb2RlTWVudUl0ZW0sIHsgbW9kZTogY29yZS5TY3JvbGxNb2RlLldyYXBwZWQsIG9uQ2xpY2s6IHRvZ2dsZSB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVEaXZpZGVyLCBudWxsKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93UHJvcGVydGllc01lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSkpO1xuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Qb3BvdmVyLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJ0b29sYmFyLW1vcmUtYWN0aW9uc1wiLCBhcmlhSGFzUG9wdXA6IFwibWVudVwiLCBwb3NpdGlvbjogcG9ydGFsUG9zaXRpb24sIHRhcmdldDogcmVuZGVyVGFyZ2V0LCBjb250ZW50OiByZW5kZXJDb250ZW50LCBvZmZzZXQ6IFBPUlRBTF9PRkZTRVQsIGNsb3NlT25DbGlja091dHNpZGU6IHRydWUsIGNsb3NlT25Fc2NhcGU6IHRydWUgfSkpO1xufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgcmVuZGVyRGVmYXVsdFRvb2xiYXIgPSBmdW5jdGlvbiAodHJhbnNmb3JtVG9vbGJhclNsb3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRlZmF1bHRUb29sYmFyU2xvdCkge1xuICAgICAgICB2YXIgdG9vbGJhclNsb3QgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhbnNmb3JtVG9vbGJhclNsb3QoZGVmYXVsdFRvb2xiYXJTbG90KTsgfSwgW10pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gY29yZS5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgICAgICB2YXIgQ3VycmVudFBhZ2VJbnB1dCA9IHRvb2xiYXJTbG90LkN1cnJlbnRQYWdlSW5wdXQsIERvd25sb2FkID0gdG9vbGJhclNsb3QuRG93bmxvYWQsIEVudGVyRnVsbFNjcmVlbiA9IHRvb2xiYXJTbG90LkVudGVyRnVsbFNjcmVlbiwgR29Ub05leHRQYWdlID0gdG9vbGJhclNsb3QuR29Ub05leHRQYWdlLCBHb1RvUHJldmlvdXNQYWdlID0gdG9vbGJhclNsb3QuR29Ub1ByZXZpb3VzUGFnZSwgTnVtYmVyT2ZQYWdlcyA9IHRvb2xiYXJTbG90Lk51bWJlck9mUGFnZXMsIE9wZW4gPSB0b29sYmFyU2xvdC5PcGVuLCBQcmludCA9IHRvb2xiYXJTbG90LlByaW50LCBTaG93U2VhcmNoUG9wb3ZlciA9IHRvb2xiYXJTbG90LlNob3dTZWFyY2hQb3BvdmVyLCBTd2l0Y2hUaGVtZSA9IHRvb2xiYXJTbG90LlN3aXRjaFRoZW1lLCBab29tID0gdG9vbGJhclNsb3QuWm9vbSwgWm9vbUluID0gdG9vbGJhclNsb3QuWm9vbUluLCBab29tT3V0ID0gdG9vbGJhclNsb3QuWm9vbU91dDtcbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwidG9vbGJhclwiLCBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgJ3Jwdi10b29sYmFyJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAncnB2LXRvb2xiYXItLXJ0bCc6IGlzUnRsLFxuICAgICAgICAgICAgfSksIHJvbGU6IFwidG9vbGJhclwiLCBcImFyaWEtb3JpZW50YXRpb25cIjogXCJob3Jpem9udGFsXCIgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9fbGVmdFwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3dTZWFyY2hQb3BvdmVyLCBudWxsKSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4gcnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLXNtYWxsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvUHJldmlvdXNQYWdlLCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9faXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDdXJyZW50UGFnZUlucHV0LCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9fbGFiZWxcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE51bWJlck9mUGFnZXMsIG51bGwpKSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4gcnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLXNtYWxsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2UsIG51bGwpKSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19jZW50ZXJcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9faXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tT3V0LCBudWxsKSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4gcnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLXNtYWxsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tLCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9faXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tSW4sIG51bGwpKSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX3JpZ2h0XCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZSwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFbnRlckZ1bGxTY3JlZW4sIG51bGwpKSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4gcnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLW1lZGl1bVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9faXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3BlbiwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3dubG9hZCwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludCwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTW9yZUFjdGlvbnNQb3BvdmVyLCB7IHRvb2xiYXJTbG90OiB0b29sYmFyU2xvdCB9KSkpKSk7XG4gICAgfTtcbn07XG5cbnZhciBkZWZhdWx0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHNsb3QpIHtcbiAgICB2YXIgTnVtYmVyT2ZQYWdlcyA9IHNsb3QuTnVtYmVyT2ZQYWdlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2xvdCwge1xuICAgICAgICBOdW1iZXJPZlBhZ2VzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICBcIi8gXCIsXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTnVtYmVyT2ZQYWdlcywgbnVsbCkpKTsgfSxcbiAgICB9KTtcbn07XG52YXIgRGVmYXVsdFRvb2JhciA9IGZ1bmN0aW9uICh0b29sYmFyU2xvdCkge1xuICAgIHJldHVybiByZW5kZXJEZWZhdWx0VG9vbGJhcihkZWZhdWx0VHJhbnNmb3JtKSh0b29sYmFyU2xvdCk7XG59O1xuXG52YXIgVG9vbGJhciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzbG90ID0gX2Euc2xvdDtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgRGVmYXVsdFRvb2JhcjtcbiAgICByZXR1cm4gcmVuZGVyKHNsb3QpO1xufTtcblxudmFyIHRvb2xiYXJQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgZnVsbFNjcmVlblBsdWdpbkluc3RhbmNlID0gZnVsbFNjcmVlbi5mdWxsU2NyZWVuUGx1Z2luKHByb3BzID8gcHJvcHMuZnVsbFNjcmVlblBsdWdpbiA6IHt9KTtcbiAgICB2YXIgZ2V0RmlsZVBsdWdpbkluc3RhbmNlID0gZ2V0RmlsZS5nZXRGaWxlUGx1Z2luKHByb3BzID8gcHJvcHMuZ2V0RmlsZVBsdWdpbiA6IHt9KTtcbiAgICB2YXIgb3BlblBsdWdpbkluc3RhbmNlID0gb3Blbi5vcGVuUGx1Z2luKHByb3BzID8gcHJvcHMub3BlblBsdWdpbiA6IHt9KTtcbiAgICB2YXIgcGFnZU5hdmlnYXRpb25QbHVnaW5JbnN0YW5jZSA9IHBhZ2VOYXZpZ2F0aW9uLnBhZ2VOYXZpZ2F0aW9uUGx1Z2luKCk7XG4gICAgdmFyIHByaW50UGx1Z2luSW5zdGFuY2UgPSBwcmludC5wcmludFBsdWdpbihwcm9wcyA/IHByb3BzLnByaW50UGx1Z2luIDoge30pO1xuICAgIHZhciBwcm9wZXJ0aWVzUGx1Z2luSW5zdGFuY2UgPSBwcm9wZXJ0aWVzLnByb3BlcnRpZXNQbHVnaW4oKTtcbiAgICB2YXIgcm90YXRlUGx1Z2luSW5zdGFuY2UgPSByb3RhdGUucm90YXRlUGx1Z2luKCk7XG4gICAgdmFyIHNjcm9sbE1vZGVQbHVnaW5JbnN0YW5jZSA9IHNjcm9sbE1vZGUuc2Nyb2xsTW9kZVBsdWdpbigpO1xuICAgIHZhciBzZWFyY2hQbHVnaW5JbnN0YW5jZSA9IHNlYXJjaC5zZWFyY2hQbHVnaW4ocHJvcHMgPyBwcm9wcy5zZWFyY2hQbHVnaW4gOiB7fSk7XG4gICAgdmFyIHNlbGVjdGlvbk1vZGVQbHVnaW5JbnN0YW5jZSA9IHNlbGVjdGlvbk1vZGUuc2VsZWN0aW9uTW9kZVBsdWdpbihwcm9wcyA/IHByb3BzLnNlbGVjdGlvbk1vZGVQbHVnaW4gOiB7fSk7XG4gICAgdmFyIHRoZW1lUGx1Z2luSW5zdGFuY2UgPSB0aGVtZS50aGVtZVBsdWdpbigpO1xuICAgIHZhciB6b29tUGx1Z2luSW5zdGFuY2UgPSB6b29tLnpvb21QbHVnaW4ocHJvcHMgPyBwcm9wcy56b29tUGx1Z2luIDoge30pO1xuICAgIHZhciBwbHVnaW5zID0gW1xuICAgICAgICBmdWxsU2NyZWVuUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIGdldEZpbGVQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgb3BlblBsdWdpbkluc3RhbmNlLFxuICAgICAgICBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLFxuICAgICAgICBwcmludFBsdWdpbkluc3RhbmNlLFxuICAgICAgICBwcm9wZXJ0aWVzUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHJvdGF0ZVBsdWdpbkluc3RhbmNlLFxuICAgICAgICBzY3JvbGxNb2RlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHNlYXJjaFBsdWdpbkluc3RhbmNlLFxuICAgICAgICBzZWxlY3Rpb25Nb2RlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHRoZW1lUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHpvb21QbHVnaW5JbnN0YW5jZSxcbiAgICBdO1xuICAgIHZhciBUb29sYmFyRGVjb3JhdG9yID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIEVudGVyRnVsbFNjcmVlbiA9IGZ1bGxTY3JlZW5QbHVnaW5JbnN0YW5jZS5FbnRlckZ1bGxTY3JlZW4sIEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtID0gZnVsbFNjcmVlblBsdWdpbkluc3RhbmNlLkVudGVyRnVsbFNjcmVlbk1lbnVJdGVtO1xuICAgICAgICB2YXIgRG93bmxvYWQgPSBnZXRGaWxlUGx1Z2luSW5zdGFuY2UuRG93bmxvYWQsIERvd25sb2FkTWVudUl0ZW0gPSBnZXRGaWxlUGx1Z2luSW5zdGFuY2UuRG93bmxvYWRNZW51SXRlbTtcbiAgICAgICAgdmFyIE9wZW4gPSBvcGVuUGx1Z2luSW5zdGFuY2UuT3BlbiwgT3Blbk1lbnVJdGVtID0gb3BlblBsdWdpbkluc3RhbmNlLk9wZW5NZW51SXRlbTtcbiAgICAgICAgdmFyIEN1cnJlbnRQYWdlSW5wdXQgPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkN1cnJlbnRQYWdlSW5wdXQsIEN1cnJlbnRQYWdlTGFiZWwgPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkN1cnJlbnRQYWdlTGFiZWwsIEdvVG9GaXJzdFBhZ2UgPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9GaXJzdFBhZ2UsIEdvVG9GaXJzdFBhZ2VNZW51SXRlbSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub0ZpcnN0UGFnZU1lbnVJdGVtLCBHb1RvTGFzdFBhZ2UgPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9MYXN0UGFnZSwgR29Ub0xhc3RQYWdlTWVudUl0ZW0gPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9MYXN0UGFnZU1lbnVJdGVtLCBHb1RvTmV4dFBhZ2UgPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9OZXh0UGFnZSwgR29Ub05leHRQYWdlTWVudUl0ZW0gPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9OZXh0UGFnZU1lbnVJdGVtLCBHb1RvUHJldmlvdXNQYWdlID0gcGFnZU5hdmlnYXRpb25QbHVnaW5JbnN0YW5jZS5Hb1RvUHJldmlvdXNQYWdlLCBHb1RvUHJldmlvdXNQYWdlTWVudUl0ZW0gPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSwgTnVtYmVyT2ZQYWdlcyA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuTnVtYmVyT2ZQYWdlcztcbiAgICAgICAgdmFyIFByaW50ID0gcHJpbnRQbHVnaW5JbnN0YW5jZS5QcmludCwgUHJpbnRNZW51SXRlbSA9IHByaW50UGx1Z2luSW5zdGFuY2UuUHJpbnRNZW51SXRlbTtcbiAgICAgICAgdmFyIFNob3dQcm9wZXJ0aWVzID0gcHJvcGVydGllc1BsdWdpbkluc3RhbmNlLlNob3dQcm9wZXJ0aWVzLCBTaG93UHJvcGVydGllc01lbnVJdGVtID0gcHJvcGVydGllc1BsdWdpbkluc3RhbmNlLlNob3dQcm9wZXJ0aWVzTWVudUl0ZW07XG4gICAgICAgIHZhciBSb3RhdGUgPSByb3RhdGVQbHVnaW5JbnN0YW5jZS5Sb3RhdGUsIFJvdGF0ZUJhY2t3YXJkTWVudUl0ZW0gPSByb3RhdGVQbHVnaW5JbnN0YW5jZS5Sb3RhdGVCYWNrd2FyZE1lbnVJdGVtLCBSb3RhdGVGb3J3YXJkTWVudUl0ZW0gPSByb3RhdGVQbHVnaW5JbnN0YW5jZS5Sb3RhdGVGb3J3YXJkTWVudUl0ZW07XG4gICAgICAgIHZhciBTd2l0Y2hTY3JvbGxNb2RlID0gc2Nyb2xsTW9kZVBsdWdpbkluc3RhbmNlLlN3aXRjaFNjcm9sbE1vZGUsIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSA9IHNjcm9sbE1vZGVQbHVnaW5JbnN0YW5jZS5Td2l0Y2hTY3JvbGxNb2RlTWVudUl0ZW07XG4gICAgICAgIHZhciBTZWFyY2ggPSBzZWFyY2hQbHVnaW5JbnN0YW5jZS5TZWFyY2gsIFNob3dTZWFyY2hQb3BvdmVyID0gc2VhcmNoUGx1Z2luSW5zdGFuY2UuU2hvd1NlYXJjaFBvcG92ZXI7XG4gICAgICAgIHZhciBTd2l0Y2hTZWxlY3Rpb25Nb2RlID0gc2VsZWN0aW9uTW9kZVBsdWdpbkluc3RhbmNlLlN3aXRjaFNlbGVjdGlvbk1vZGUsIFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbSA9IHNlbGVjdGlvbk1vZGVQbHVnaW5JbnN0YW5jZS5Td2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW07XG4gICAgICAgIHZhciBTd2l0Y2hUaGVtZSA9IHRoZW1lUGx1Z2luSW5zdGFuY2UuU3dpdGNoVGhlbWUsIFN3aXRjaFRoZW1lTWVudUl0ZW0gPSB0aGVtZVBsdWdpbkluc3RhbmNlLlN3aXRjaFRoZW1lTWVudUl0ZW07XG4gICAgICAgIHZhciBDdXJyZW50U2NhbGUgPSB6b29tUGx1Z2luSW5zdGFuY2UuQ3VycmVudFNjYWxlLCBab29tID0gem9vbVBsdWdpbkluc3RhbmNlLlpvb20sIFpvb21JbiA9IHpvb21QbHVnaW5JbnN0YW5jZS5ab29tSW4sIFpvb21Jbk1lbnVJdGVtID0gem9vbVBsdWdpbkluc3RhbmNlLlpvb21Jbk1lbnVJdGVtLCBab29tT3V0ID0gem9vbVBsdWdpbkluc3RhbmNlLlpvb21PdXQsIFpvb21PdXRNZW51SXRlbSA9IHpvb21QbHVnaW5JbnN0YW5jZS5ab29tT3V0TWVudUl0ZW07XG4gICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRvb2xiYXIsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzbG90OiB7XG4gICAgICAgICAgICAgICAgQ3VycmVudFBhZ2VJbnB1dDogQ3VycmVudFBhZ2VJbnB1dCxcbiAgICAgICAgICAgICAgICBDdXJyZW50UGFnZUxhYmVsOiBDdXJyZW50UGFnZUxhYmVsLFxuICAgICAgICAgICAgICAgIEN1cnJlbnRTY2FsZTogQ3VycmVudFNjYWxlLFxuICAgICAgICAgICAgICAgIERvd25sb2FkOiBEb3dubG9hZCxcbiAgICAgICAgICAgICAgICBEb3dubG9hZE1lbnVJdGVtOiBEb3dubG9hZE1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIEVudGVyRnVsbFNjcmVlbjogRW50ZXJGdWxsU2NyZWVuLFxuICAgICAgICAgICAgICAgIEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtOiBFbnRlckZ1bGxTY3JlZW5NZW51SXRlbSxcbiAgICAgICAgICAgICAgICBHb1RvRmlyc3RQYWdlOiBHb1RvRmlyc3RQYWdlLFxuICAgICAgICAgICAgICAgIEdvVG9GaXJzdFBhZ2VNZW51SXRlbTogR29Ub0ZpcnN0UGFnZU1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIEdvVG9MYXN0UGFnZTogR29Ub0xhc3RQYWdlLFxuICAgICAgICAgICAgICAgIEdvVG9MYXN0UGFnZU1lbnVJdGVtOiBHb1RvTGFzdFBhZ2VNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBHb1RvTmV4dFBhZ2U6IEdvVG9OZXh0UGFnZSxcbiAgICAgICAgICAgICAgICBHb1RvTmV4dFBhZ2VNZW51SXRlbTogR29Ub05leHRQYWdlTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgR29Ub1ByZXZpb3VzUGFnZTogR29Ub1ByZXZpb3VzUGFnZSxcbiAgICAgICAgICAgICAgICBHb1RvUHJldmlvdXNQYWdlTWVudUl0ZW06IEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBOdW1iZXJPZlBhZ2VzOiBOdW1iZXJPZlBhZ2VzLFxuICAgICAgICAgICAgICAgIE9wZW46IE9wZW4sXG4gICAgICAgICAgICAgICAgT3Blbk1lbnVJdGVtOiBPcGVuTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgUHJpbnQ6IFByaW50LFxuICAgICAgICAgICAgICAgIFByaW50TWVudUl0ZW06IFByaW50TWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgUm90YXRlOiBSb3RhdGUsXG4gICAgICAgICAgICAgICAgUm90YXRlQmFja3dhcmRNZW51SXRlbTogUm90YXRlQmFja3dhcmRNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBSb3RhdGVGb3J3YXJkTWVudUl0ZW06IFJvdGF0ZUZvcndhcmRNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBTZWFyY2g6IFNlYXJjaCxcbiAgICAgICAgICAgICAgICBTaG93UHJvcGVydGllczogU2hvd1Byb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgU2hvd1Byb3BlcnRpZXNNZW51SXRlbTogU2hvd1Byb3BlcnRpZXNNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBTaG93U2VhcmNoUG9wb3ZlcjogU2hvd1NlYXJjaFBvcG92ZXIsXG4gICAgICAgICAgICAgICAgU3dpdGNoU2Nyb2xsTW9kZTogU3dpdGNoU2Nyb2xsTW9kZSxcbiAgICAgICAgICAgICAgICBTd2l0Y2hTY3JvbGxNb2RlTWVudUl0ZW06IFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlOiBTd2l0Y2hTZWxlY3Rpb25Nb2RlLFxuICAgICAgICAgICAgICAgIFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbTogU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFN3aXRjaFRoZW1lOiBTd2l0Y2hUaGVtZSxcbiAgICAgICAgICAgICAgICBTd2l0Y2hUaGVtZU1lbnVJdGVtOiBTd2l0Y2hUaGVtZU1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFpvb206IFpvb20sXG4gICAgICAgICAgICAgICAgWm9vbUluOiBab29tSW4sXG4gICAgICAgICAgICAgICAgWm9vbUluTWVudUl0ZW06IFpvb21Jbk1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFpvb21PdXQ6IFpvb21PdXQsXG4gICAgICAgICAgICAgICAgWm9vbU91dE1lbnVJdGVtOiBab29tT3V0TWVudUl0ZW0sXG4gICAgICAgICAgICB9IH0pKSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZ1bGxTY3JlZW5QbHVnaW5JbnN0YW5jZTogZnVsbFNjcmVlblBsdWdpbkluc3RhbmNlLFxuICAgICAgICBnZXRGaWxlUGx1Z2luSW5zdGFuY2U6IGdldEZpbGVQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgb3BlblBsdWdpbkluc3RhbmNlOiBvcGVuUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2U6IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHByaW50UGx1Z2luSW5zdGFuY2U6IHByaW50UGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHByb3BlcnRpZXNQbHVnaW5JbnN0YW5jZTogcHJvcGVydGllc1BsdWdpbkluc3RhbmNlLFxuICAgICAgICByb3RhdGVQbHVnaW5JbnN0YW5jZTogcm90YXRlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHNjcm9sbE1vZGVQbHVnaW5JbnN0YW5jZTogc2Nyb2xsTW9kZVBsdWdpbkluc3RhbmNlLFxuICAgICAgICBzZWFyY2hQbHVnaW5JbnN0YW5jZTogc2VhcmNoUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHNlbGVjdGlvbk1vZGVQbHVnaW5JbnN0YW5jZTogc2VsZWN0aW9uTW9kZVBsdWdpbkluc3RhbmNlLFxuICAgICAgICB0aGVtZVBsdWdpbkluc3RhbmNlOiB0aGVtZVBsdWdpbkluc3RhbmNlLFxuICAgICAgICB6b29tUGx1Z2luSW5zdGFuY2U6IHpvb21QbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwocGx1Z2luRnVuY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyUGFnZUxheWVyOiBmdW5jdGlvbiAocmVuZGVyUHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgcGx1Z2lucy5tYXAoZnVuY3Rpb24gKHBsdWdpbiwgaWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luLnJlbmRlclBhZ2VMYXllciA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgeyBrZXk6IGlkeCB9LCBwbHVnaW4ucmVuZGVyUGFnZUxheWVyKHJlbmRlclByb3BzKSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCB7IGtleTogaWR4IH0pKTtcbiAgICAgICAgfSkpKTsgfSxcbiAgICAgICAgcmVuZGVyVmlld2VyOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBzbG90ID0gcHJvcHMuc2xvdDtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5yZW5kZXJWaWV3ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xvdCA9IHBsdWdpbi5yZW5kZXJWaWV3ZXIoX19hc3NpZ24oX19hc3NpZ24oe30sIHByb3BzKSwgeyBzbG90OiBzbG90IH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzbG90O1xuICAgICAgICB9LFxuICAgICAgICB1bmluc3RhbGw6IGZ1bmN0aW9uIChwbHVnaW5GdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi51bmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnVuaW5zdGFsbChwbHVnaW5GdW5jdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkRvY3VtZW50TG9hZDogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25Eb2N1bWVudExvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uRG9jdW1lbnRMb2FkKHByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25UZXh0TGF5ZXJSZW5kZXI6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uVGV4dExheWVyUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5vblRleHRMYXllclJlbmRlcihwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVmlld2VyU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uICh2aWV3ZXJTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gdmlld2VyU3RhdGU7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25WaWV3ZXJTdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHBsdWdpbi5vblZpZXdlclN0YXRlQ2hhbmdlKG5ld1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyRGVmYXVsdFRvb2xiYXI6IHJlbmRlckRlZmF1bHRUb29sYmFyLFxuICAgICAgICBUb29sYmFyOiBUb29sYmFyRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLk1vcmVBY3Rpb25zUG9wb3ZlciA9IE1vcmVBY3Rpb25zUG9wb3ZlcjtcbmV4cG9ydHMuTW9yZUljb24gPSBNb3JlSWNvbjtcbmV4cG9ydHMudG9vbGJhclBsdWdpbiA9IHRvb2xiYXJQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/toolbar/lib/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/toolbar/lib/index.js ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/toolbar.js */ \"./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhci9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLDJIQUE0QztBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhci9saWIvaW5kZXguanM/NjlkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvdG9vbGJhci5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90b29sYmFyLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/toolbar/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar ZoomInIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\\n            M23.5,23.499\\n            l-5.929-5.929\\n            M5.5,10.499h10\\n            M10.5,5.499v10\" }))); };\n\nvar ZoomOutIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\\n            M23.5,23.499\\n            l-5.929-5.929\\n            M5.5,10.499h10\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar useZoom = function (store) {\n    var _a = React__namespace.useState(store.get('scale') || 0), scale = _a[0], setScale = _a[1];\n    var handleScaleChanged = function (currentScale) {\n        setScale(currentScale);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('scale', handleScaleChanged);\n        return function () {\n            store.unsubscribe('scale', handleScaleChanged);\n        };\n    }, []);\n    return { scale: scale };\n};\n\nvar CurrentScale = function (_a) {\n    var children = _a.children, store = _a.store;\n    var scale = useZoom(store).scale;\n    var defaultChildren = function (props) { return React__namespace.createElement(React__namespace.Fragment, null, \"\".concat(Math.round(props.scale * 100), \"%\")); };\n    var render = children || defaultChildren;\n    return render({ scale: scale });\n};\n\nvar LEVELS = [\n    0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.4, 2.7, 3.0, 3.3, 3.7, 4.1, 4.6,\n    5.1, 5.7, 6.3, 7.0, 7.7, 8.5, 9.4, 10,\n];\nvar increase = function (currentLevel) {\n    var found = LEVELS.find(function (item) { return item > currentLevel; });\n    return found || currentLevel;\n};\nvar decrease = function (currentLevel) {\n    var found = LEVELS.findIndex(function (item) { return item >= currentLevel; });\n    return found === -1 || found === 0 ? currentLevel : LEVELS[found - 1];\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey) {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        var zoom = store.get('zoom');\n        if (!zoom) {\n            return;\n        }\n        var scale = store.get('scale') || 1;\n        var newScale = 1;\n        switch (e.key) {\n            case '-':\n                newScale = decrease(scale);\n                break;\n            case '=':\n                newScale = increase(scale);\n                break;\n            case '0':\n                newScale = 1;\n                break;\n            default:\n                newScale = scale;\n                break;\n        }\n        if (newScale !== scale) {\n            e.preventDefault();\n            zoom(newScale);\n        }\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar DEFAULT_LEVELS = [0.5, 0.75, 1, 1.25, 1.5, 2, 3, 4];\nvar PORTAL_OFFSET = { left: 0, top: 8 };\nvar ZoomPopover = function (_a) {\n    var _b = _a.levels, levels = _b === void 0 ? DEFAULT_LEVELS : _b, scale = _a.scale, onZoom = _a.onZoom;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var getSpcialLevelLabel = function (level) {\n        switch (level) {\n            case core.SpecialZoomLevel.ActualSize:\n                return l10n && l10n.zoom ? l10n.zoom.actualSize : 'Actual size';\n            case core.SpecialZoomLevel.PageFit:\n                return l10n && l10n.zoom ? l10n.zoom.pageFit : 'Page fit';\n            case core.SpecialZoomLevel.PageWidth:\n                return l10n && l10n.zoom ? l10n.zoom.pageWidth : 'Page width';\n        }\n    };\n    var zoomDocumentLabel = l10n && l10n.zoom ? l10n.zoom.zoomDocument : 'Zoom document';\n    var renderTarget = function (toggle) {\n        var click = function () {\n            toggle();\n        };\n        return (React__namespace.createElement(core.MinimalButton, { ariaLabel: zoomDocumentLabel, testId: \"zoom__popover-target\", onClick: click },\n            React__namespace.createElement(\"span\", { className: \"rpv-zoom__popover-target\" },\n                React__namespace.createElement(\"span\", { \"data-testid\": \"zoom__popover-target-scale\", className: core.classNames({\n                        'rpv-zoom__popover-target-scale': true,\n                        'rpv-zoom__popover-target-scale--ltr': !isRtl,\n                        'rpv-zoom__popover-target-scale--rtl': isRtl,\n                    }) },\n                    Math.round(scale * 100),\n                    \"%\"),\n                React__namespace.createElement(\"span\", { className: \"rpv-zoom__popover-target-arrow\" }))));\n    };\n    var renderContent = function (toggle) { return (React__namespace.createElement(core.Menu, null,\n        Object.keys(core.SpecialZoomLevel).map(function (k) {\n            var level = k;\n            var clickMenuItem = function () {\n                toggle();\n                onZoom(level);\n            };\n            return (React__namespace.createElement(core.MenuItem, { key: level, onClick: clickMenuItem }, getSpcialLevelLabel(level)));\n        }),\n        React__namespace.createElement(core.MenuDivider, null),\n        levels.map(function (level) {\n            var clickMenuItem = function () {\n                toggle();\n                onZoom(level);\n            };\n            return (React__namespace.createElement(core.MenuItem, { key: level, onClick: clickMenuItem }, \"\".concat(Math.round(level * 100), \"%\")));\n        }))); };\n    return (React__namespace.createElement(core.Popover, { ariaControlsSuffix: \"zoom\", ariaHasPopup: \"menu\", position: core.Position.BottomCenter, target: renderTarget, content: renderContent, offset: PORTAL_OFFSET, closeOnClickOutside: true, closeOnEscape: true }));\n};\n\nvar Zoom = function (_a) {\n    var children = _a.children, levels = _a.levels, store = _a.store;\n    var scale = useZoom(store).scale;\n    var zoomTo = function (newLevel) {\n        var zoom = store.get('zoom');\n        if (zoom) {\n            zoom(newLevel);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(ZoomPopover, { levels: levels, scale: props.scale, onZoom: props.onZoom })); };\n    var render = children || defaultChildren;\n    return render({\n        scale: scale,\n        onZoom: zoomTo,\n    });\n};\n\nvar TOOLTIP_OFFSET$1 = { left: 0, top: 8 };\nvar ZoomInButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomIn : 'Zoom in';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+=' : 'Ctrl+=') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"zoom-in\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"zoom__in-button\", onClick: onClick },\n            React__namespace.createElement(ZoomInIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$1 }));\n};\n\nvar ZoomIn = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var scale = useZoom(store).scale;\n    var zoomIn = function () {\n        var zoom = store.get('zoom');\n        if (zoom) {\n            var newLevel = increase(scale);\n            zoom(newLevel);\n        }\n    };\n    var render = children || ZoomInButton;\n    return render({\n        enableShortcuts: enableShortcuts,\n        onClick: zoomIn,\n    });\n};\n\nvar ZoomInMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomIn : 'Zoom in';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(ZoomInIcon, null), testId: \"zoom__in-menu\", onClick: onClick }, label));\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ZoomOutButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomOut : 'Zoom out';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+-' : 'Ctrl+-') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"zoom-out\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"zoom__out-button\", onClick: onClick },\n            React__namespace.createElement(ZoomOutIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar ZoomOut = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var scale = useZoom(store).scale;\n    var zoomIn = function () {\n        var zoom = store.get('zoom');\n        if (zoom) {\n            var newLevel = decrease(scale);\n            zoom(newLevel);\n        }\n    };\n    var render = children || ZoomOutButton;\n    return render({\n        enableShortcuts: enableShortcuts,\n        onClick: zoomIn,\n    });\n};\n\nvar ZoomOutMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomOut : 'Zoom out';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(ZoomOutIcon, null), testId: \"zoom__out-menu\", onClick: onClick }, label));\n};\n\nvar zoomPlugin = function (props) {\n    var zoomPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var CurrentScaleDecorator = function (props) { return React__namespace.createElement(CurrentScale, __assign({}, props, { store: store })); };\n    var ZoomInDecorator = function (props) { return (React__namespace.createElement(ZoomIn, __assign({ enableShortcuts: zoomPluginProps.enableShortcuts }, props, { store: store }))); };\n    var ZoomInButtonDecorator = function () { return React__namespace.createElement(ZoomInDecorator, null, function (props) { return React__namespace.createElement(ZoomInButton, __assign({}, props)); }); };\n    var ZoomInMenuItemDecorator = function (props) { return (React__namespace.createElement(ZoomInDecorator, null, function (p) { return (React__namespace.createElement(ZoomInMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var ZoomOutDecorator = function (props) { return (React__namespace.createElement(ZoomOut, __assign({ enableShortcuts: zoomPluginProps.enableShortcuts }, props, { store: store }))); };\n    var ZoomOutButtonDecorator = function () { return React__namespace.createElement(ZoomOutDecorator, null, function (props) { return React__namespace.createElement(ZoomOutButton, __assign({}, props)); }); };\n    var ZoomOutMenuItemDecorator = function (props) { return (React__namespace.createElement(ZoomOutDecorator, null, function (p) { return (React__namespace.createElement(ZoomOutMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var ZoomDecorator = function (props) { return React__namespace.createElement(Zoom, __assign({}, props, { store: store })); };\n    var ZoomPopoverDecorator = function (zoomPopverProps) { return (React__namespace.createElement(ZoomDecorator, null, function (props) { return React__namespace.createElement(ZoomPopover, __assign({ levels: zoomPopverProps === null || zoomPopverProps === void 0 ? void 0 : zoomPopverProps.levels }, props)); })); };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        if (!zoomPluginProps.enableShortcuts) {\n            return slot;\n        }\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, store: store }),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        renderViewer: renderViewer,\n        install: function (pluginFunctions) {\n            store.update('zoom', pluginFunctions.zoom);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('scale', viewerState.scale);\n            return viewerState;\n        },\n        zoomTo: function (scale) {\n            var zoom = store.get('zoom');\n            if (zoom) {\n                zoom(scale);\n            }\n        },\n        CurrentScale: CurrentScaleDecorator,\n        ZoomIn: ZoomInDecorator,\n        ZoomInButton: ZoomInButtonDecorator,\n        ZoomInMenuItem: ZoomInMenuItemDecorator,\n        ZoomOut: ZoomOutDecorator,\n        ZoomOutButton: ZoomOutButtonDecorator,\n        ZoomOutMenuItem: ZoomOutMenuItemDecorator,\n        Zoom: ZoomDecorator,\n        ZoomPopover: ZoomPopoverDecorator,\n    };\n};\n\nexports.ZoomInIcon = ZoomInIcon;\nexports.ZoomOutIcon = ZoomOutIcon;\nexports.zoomPlugin = zoomPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvem9vbS9saWIvY2pzL3pvb20uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwrQkFBK0Isb0RBQW9ELGlDQUFpQztBQUNwSCw2Q0FBNkMsOE1BQThNOztBQUUzUCxnQ0FBZ0Msb0RBQW9ELGlDQUFpQztBQUNySCw2Q0FBNkMsa0xBQWtMOztBQUUvTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLG9CQUFvQixjQUFjO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsNkJBQTZCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4QkFBOEI7QUFDakY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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cmVhY3QtcGRmLXZpZXdlci96b29tL2xpYi9janMvem9vbS5qcz84YWE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgWm9vbUluSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IGlnbm9yZURpcmVjdGlvbjogdHJ1ZSwgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAuNSwwLjQ5OWM1LjUyMywwLDEwLDQuNDc3LDEwLDEwcy00LjQ3NywxMC0xMCwxMHMtMTAtNC40NzctMTAtMTBTNC45NzcsMC40OTksMTAuNSwwLjQ5OXpcXG4gICAgICAgICAgICBNMjMuNSwyMy40OTlcXG4gICAgICAgICAgICBsLTUuOTI5LTUuOTI5XFxuICAgICAgICAgICAgTTUuNSwxMC40OTloMTBcXG4gICAgICAgICAgICBNMTAuNSw1LjQ5OXYxMFwiIH0pKSk7IH07XG5cbnZhciBab29tT3V0SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IGlnbm9yZURpcmVjdGlvbjogdHJ1ZSwgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAuNSwwLjQ5OWM1LjUyMywwLDEwLDQuNDc3LDEwLDEwcy00LjQ3NywxMC0xMCwxMHMtMTAtNC40NzctMTAtMTBTNC45NzcsMC40OTksMTAuNSwwLjQ5OXpcXG4gICAgICAgICAgICBNMjMuNSwyMy40OTlcXG4gICAgICAgICAgICBsLTUuOTI5LTUuOTI5XFxuICAgICAgICAgICAgTTUuNSwxMC40OTloMTBcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciB1c2Vab29tID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ3NjYWxlJykgfHwgMCksIHNjYWxlID0gX2FbMF0sIHNldFNjYWxlID0gX2FbMV07XG4gICAgdmFyIGhhbmRsZVNjYWxlQ2hhbmdlZCA9IGZ1bmN0aW9uIChjdXJyZW50U2NhbGUpIHtcbiAgICAgICAgc2V0U2NhbGUoY3VycmVudFNjYWxlKTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdzY2FsZScsIGhhbmRsZVNjYWxlQ2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnc2NhbGUnLCBoYW5kbGVTY2FsZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBzY2FsZTogc2NhbGUgfTtcbn07XG5cbnZhciBDdXJyZW50U2NhbGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgc2NhbGUgPSB1c2Vab29tKHN0b3JlKS5zY2FsZTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgXCJcIi5jb25jYXQoTWF0aC5yb3VuZChwcm9wcy5zY2FsZSAqIDEwMCksIFwiJVwiKSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHsgc2NhbGU6IHNjYWxlIH0pO1xufTtcblxudmFyIExFVkVMUyA9IFtcbiAgICAwLjEsIDAuMiwgMC4zLCAwLjQsIDAuNSwgMC42LCAwLjcsIDAuOCwgMC45LCAxLCAxLjEsIDEuMywgMS41LCAxLjcsIDEuOSwgMi4xLCAyLjQsIDIuNywgMy4wLCAzLjMsIDMuNywgNC4xLCA0LjYsXG4gICAgNS4xLCA1LjcsIDYuMywgNy4wLCA3LjcsIDguNSwgOS40LCAxMCxcbl07XG52YXIgaW5jcmVhc2UgPSBmdW5jdGlvbiAoY3VycmVudExldmVsKSB7XG4gICAgdmFyIGZvdW5kID0gTEVWRUxTLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gPiBjdXJyZW50TGV2ZWw7IH0pO1xuICAgIHJldHVybiBmb3VuZCB8fCBjdXJyZW50TGV2ZWw7XG59O1xudmFyIGRlY3JlYXNlID0gZnVuY3Rpb24gKGN1cnJlbnRMZXZlbCkge1xuICAgIHZhciBmb3VuZCA9IExFVkVMUy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gPj0gY3VycmVudExldmVsOyB9KTtcbiAgICByZXR1cm4gZm91bmQgPT09IC0xIHx8IGZvdW5kID09PSAwID8gY3VycmVudExldmVsIDogTEVWRUxTW2ZvdW5kIC0gMV07XG59O1xuXG52YXIgU2hvcnRjdXRIYW5kbGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IF9hLmNvbnRhaW5lclJlZiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIga2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5O1xuICAgICAgICBpZiAoIWlzQ29tbWFuZFByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgem9vbSA9IHN0b3JlLmdldCgnem9vbScpO1xuICAgICAgICBpZiAoIXpvb20pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NhbGUgPSBzdG9yZS5nZXQoJ3NjYWxlJykgfHwgMTtcbiAgICAgICAgdmFyIG5ld1NjYWxlID0gMTtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgbmV3U2NhbGUgPSBkZWNyZWFzZShzY2FsZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgICAgICBuZXdTY2FsZSA9IGluY3JlYXNlKHNjYWxlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzAnOlxuICAgICAgICAgICAgICAgIG5ld1NjYWxlID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbmV3U2NhbGUgPSBzY2FsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U2NhbGUgIT09IHNjYWxlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB6b29tKG5ld1NjYWxlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRhaW5lclJlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbn07XG5cbnZhciBERUZBVUxUX0xFVkVMUyA9IFswLjUsIDAuNzUsIDEsIDEuMjUsIDEuNSwgMiwgMywgNF07XG52YXIgUE9SVEFMX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgWm9vbVBvcG92ZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgX2IgPSBfYS5sZXZlbHMsIGxldmVscyA9IF9iID09PSB2b2lkIDAgPyBERUZBVUxUX0xFVkVMUyA6IF9iLCBzY2FsZSA9IF9hLnNjYWxlLCBvblpvb20gPSBfYS5vblpvb207XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgZ2V0U3BjaWFsTGV2ZWxMYWJlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmUuU3BlY2lhbFpvb21MZXZlbC5BY3R1YWxTaXplOlxuICAgICAgICAgICAgICAgIHJldHVybiBsMTBuICYmIGwxMG4uem9vbSA/IGwxMG4uem9vbS5hY3R1YWxTaXplIDogJ0FjdHVhbCBzaXplJztcbiAgICAgICAgICAgIGNhc2UgY29yZS5TcGVjaWFsWm9vbUxldmVsLlBhZ2VGaXQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGwxMG4gJiYgbDEwbi56b29tID8gbDEwbi56b29tLnBhZ2VGaXQgOiAnUGFnZSBmaXQnO1xuICAgICAgICAgICAgY2FzZSBjb3JlLlNwZWNpYWxab29tTGV2ZWwuUGFnZVdpZHRoOlxuICAgICAgICAgICAgICAgIHJldHVybiBsMTBuICYmIGwxMG4uem9vbSA/IGwxMG4uem9vbS5wYWdlV2lkdGggOiAnUGFnZSB3aWR0aCc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciB6b29tRG9jdW1lbnRMYWJlbCA9IGwxMG4gJiYgbDEwbi56b29tID8gbDEwbi56b29tLnpvb21Eb2N1bWVudCA6ICdab29tIGRvY3VtZW50JztcbiAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKHRvZ2dsZSkge1xuICAgICAgICB2YXIgY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0b2dnbGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogem9vbURvY3VtZW50TGFiZWwsIHRlc3RJZDogXCJ6b29tX19wb3BvdmVyLXRhcmdldFwiLCBvbkNsaWNrOiBjbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJycHYtem9vbV9fcG9wb3Zlci10YXJnZXRcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwiem9vbV9fcG9wb3Zlci10YXJnZXQtc2NhbGVcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jwdi16b29tX19wb3BvdmVyLXRhcmdldC1zY2FsZSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LXNjYWxlLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LXNjYWxlLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChzY2FsZSAqIDEwMCksXG4gICAgICAgICAgICAgICAgICAgIFwiJVwiKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInJwdi16b29tX19wb3BvdmVyLXRhcmdldC1hcnJvd1wiIH0pKSkpO1xuICAgIH07XG4gICAgdmFyIHJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAodG9nZ2xlKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudSwgbnVsbCxcbiAgICAgICAgT2JqZWN0LmtleXMoY29yZS5TcGVjaWFsWm9vbUxldmVsKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IGs7XG4gICAgICAgICAgICB2YXIgY2xpY2tNZW51SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGUoKTtcbiAgICAgICAgICAgICAgICBvblpvb20obGV2ZWwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsga2V5OiBsZXZlbCwgb25DbGljazogY2xpY2tNZW51SXRlbSB9LCBnZXRTcGNpYWxMZXZlbExhYmVsKGxldmVsKSkpO1xuICAgICAgICB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpLFxuICAgICAgICBsZXZlbHMubWFwKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgdmFyIGNsaWNrTWVudUl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgb25ab29tKGxldmVsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVJdGVtLCB7IGtleTogbGV2ZWwsIG9uQ2xpY2s6IGNsaWNrTWVudUl0ZW0gfSwgXCJcIi5jb25jYXQoTWF0aC5yb3VuZChsZXZlbCAqIDEwMCksIFwiJVwiKSkpO1xuICAgICAgICB9KSkpOyB9O1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuUG9wb3ZlciwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiem9vbVwiLCBhcmlhSGFzUG9wdXA6IFwibWVudVwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogcmVuZGVyVGFyZ2V0LCBjb250ZW50OiByZW5kZXJDb250ZW50LCBvZmZzZXQ6IFBPUlRBTF9PRkZTRVQsIGNsb3NlT25DbGlja091dHNpZGU6IHRydWUsIGNsb3NlT25Fc2NhcGU6IHRydWUgfSkpO1xufTtcblxudmFyIFpvb20gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgbGV2ZWxzID0gX2EubGV2ZWxzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBzY2FsZSA9IHVzZVpvb20oc3RvcmUpLnNjYWxlO1xuICAgIHZhciB6b29tVG8gPSBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgdmFyIHpvb20gPSBzdG9yZS5nZXQoJ3pvb20nKTtcbiAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgIHpvb20obmV3TGV2ZWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21Qb3BvdmVyLCB7IGxldmVsczogbGV2ZWxzLCBzY2FsZTogcHJvcHMuc2NhbGUsIG9uWm9vbTogcHJvcHMub25ab29tIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgIG9uWm9vbTogem9vbVRvLFxuICAgIH0pO1xufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUJDEgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFpvb21JbkJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4uem9vbSA/IGwxMG4uem9vbS56b29tSW4gOiAnWm9vbSBpbic7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErPScgOiAnQ3RybCs9JykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInpvb20taW5cIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUtleVNob3J0Y3V0czogYXJpYUtleVNob3J0Y3V0cywgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBcInpvb21fX2luLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoWm9vbUluSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCQxIH0pKTtcbn07XG5cbnZhciBab29tSW4gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBzY2FsZSA9IHVzZVpvb20oc3RvcmUpLnNjYWxlO1xuICAgIHZhciB6b29tSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB6b29tID0gc3RvcmUuZ2V0KCd6b29tJyk7XG4gICAgICAgIGlmICh6b29tKSB7XG4gICAgICAgICAgICB2YXIgbmV3TGV2ZWwgPSBpbmNyZWFzZShzY2FsZSk7XG4gICAgICAgICAgICB6b29tKG5ld0xldmVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IFpvb21JbkJ1dHRvbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsXG4gICAgICAgIG9uQ2xpY2s6IHpvb21JbixcbiAgICB9KTtcbn07XG5cbnZhciBab29tSW5NZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnpvb20gPyBsMTBuLnpvb20uem9vbUluIDogJ1pvb20gaW4nO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21Jbkljb24sIG51bGwpLCB0ZXN0SWQ6IFwiem9vbV9faW4tbWVudVwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFpvb21PdXRCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnpvb20gPyBsMTBuLnpvb20uem9vbU91dCA6ICdab29tIG91dCc7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErLScgOiAnQ3RybCstJykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInpvb20tb3V0XCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFLZXlTaG9ydGN1dHM6IGFyaWFLZXlTaG9ydGN1dHMsIGFyaWFMYWJlbDogbGFiZWwsIHRlc3RJZDogXCJ6b29tX19vdXQtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tT3V0SWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgWm9vbU91dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIHNjYWxlID0gdXNlWm9vbShzdG9yZSkuc2NhbGU7XG4gICAgdmFyIHpvb21JbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHpvb20gPSBzdG9yZS5nZXQoJ3pvb20nKTtcbiAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgIHZhciBuZXdMZXZlbCA9IGRlY3JlYXNlKHNjYWxlKTtcbiAgICAgICAgICAgIHpvb20obmV3TGV2ZWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgWm9vbU91dEJ1dHRvbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsXG4gICAgICAgIG9uQ2xpY2s6IHpvb21JbixcbiAgICB9KTtcbn07XG5cbnZhciBab29tT3V0TWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi56b29tID8gbDEwbi56b29tLnpvb21PdXQgOiAnWm9vbSBvdXQnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXRJY29uLCBudWxsKSwgdGVzdElkOiBcInpvb21fX291dC1tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciB6b29tUGx1Z2luID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIHpvb21QbHVnaW5Qcm9wcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB7IGVuYWJsZVNob3J0Y3V0czogdHJ1ZSB9LCBwcm9wcyk7IH0sIFtdKTtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgQ3VycmVudFNjYWxlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQ3VycmVudFNjYWxlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgWm9vbUluRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21JbiwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IHpvb21QbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgfSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKSk7IH07XG4gICAgdmFyIFpvb21JbkJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tSW5EZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21JbkJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pOyB9O1xuICAgIHZhciBab29tSW5NZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tSW5EZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21Jbk1lbnVJdGVtLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBab29tT3V0RGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXQsIF9fYXNzaWduKHsgZW5hYmxlU2hvcnRjdXRzOiB6b29tUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzIH0sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBab29tT3V0QnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXREZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXRCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9KTsgfTtcbiAgICB2YXIgWm9vbU91dE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXREZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXRNZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgWm9vbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb20sIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBab29tUG9wb3ZlckRlY29yYXRvciA9IGZ1bmN0aW9uICh6b29tUG9wdmVyUHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoWm9vbURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoWm9vbVBvcG92ZXIsIF9fYXNzaWduKHsgbGV2ZWxzOiB6b29tUG9wdmVyUHJvcHMgPT09IG51bGwgfHwgem9vbVBvcHZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tUG9wdmVyUHJvcHMubGV2ZWxzIH0sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyVmlld2VyID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHZhciBzbG90ID0gcHJvcHMuc2xvdDtcbiAgICAgICAgaWYgKCF6b29tUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gc2xvdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlU2xvdCA9IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3J0Y3V0SGFuZGxlciwgeyBjb250YWluZXJSZWY6IHByb3BzLmNvbnRhaW5lclJlZiwgc3RvcmU6IHN0b3JlIH0pLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzbG90KSwgdXBkYXRlU2xvdCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJWaWV3ZXI6IHJlbmRlclZpZXdlcixcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCd6b29tJywgcGx1Z2luRnVuY3Rpb25zLnpvb20pO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnc2NhbGUnLCB2aWV3ZXJTdGF0ZS5zY2FsZSk7XG4gICAgICAgICAgICByZXR1cm4gdmlld2VyU3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHpvb21UbzogZnVuY3Rpb24gKHNjYWxlKSB7XG4gICAgICAgICAgICB2YXIgem9vbSA9IHN0b3JlLmdldCgnem9vbScpO1xuICAgICAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgICAgICB6b29tKHNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQ3VycmVudFNjYWxlOiBDdXJyZW50U2NhbGVEZWNvcmF0b3IsXG4gICAgICAgIFpvb21JbjogWm9vbUluRGVjb3JhdG9yLFxuICAgICAgICBab29tSW5CdXR0b246IFpvb21JbkJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgWm9vbUluTWVudUl0ZW06IFpvb21Jbk1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBab29tT3V0OiBab29tT3V0RGVjb3JhdG9yLFxuICAgICAgICBab29tT3V0QnV0dG9uOiBab29tT3V0QnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBab29tT3V0TWVudUl0ZW06IFpvb21PdXRNZW51SXRlbURlY29yYXRvcixcbiAgICAgICAgWm9vbTogWm9vbURlY29yYXRvcixcbiAgICAgICAgWm9vbVBvcG92ZXI6IFpvb21Qb3BvdmVyRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLlpvb21Jbkljb24gPSBab29tSW5JY29uO1xuZXhwb3J0cy5ab29tT3V0SWNvbiA9IFpvb21PdXRJY29uO1xuZXhwb3J0cy56b29tUGx1Z2luID0gem9vbVBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/zoom/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/zoom/lib/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/zoom.js */ \"./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvem9vbS9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLGtIQUF5QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvem9vbS9saWIvaW5kZXguanM/ZDkwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvem9vbS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy96b29tLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/zoom/lib/index.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/polyfills/process.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/process.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar ref, ref1;\nmodule.exports = ((ref = __webpack_require__.g.process) === null || ref === void 0 ? void 0 : ref.env) && typeof ((ref1 = __webpack_require__.g.process) === null || ref1 === void 0 ? void 0 : ref1.env) === 'object' ? __webpack_require__.g.process : __webpack_require__(/*! ../../compiled/process */ \"./node_modules/next/dist/compiled/process/browser.js\");\n\n//# sourceMappingURL=process.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSx5QkFBeUIscUJBQU0sNEVBQTRFLHFCQUFNLDBFQUEwRSxxQkFBTSxXQUFXLG1CQUFPLENBQUMsb0ZBQXdCOztBQUU1TyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzP2NhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcmVmLCByZWYxO1xubW9kdWxlLmV4cG9ydHMgPSAoKHJlZiA9IGdsb2JhbC5wcm9jZXNzKSA9PT0gbnVsbCB8fCByZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZi5lbnYpICYmIHR5cGVvZiAoKHJlZjEgPSBnbG9iYWwucHJvY2VzcykgPT09IG51bGwgfHwgcmVmMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVmMS5lbnYpID09PSAnb2JqZWN0JyA/IGdsb2JhbC5wcm9jZXNzIDogcmVxdWlyZSgnLi4vLi4vY29tcGlsZWQvcHJvY2VzcycpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9jZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/polyfills/process.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!./node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!./node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./styles/reviewDisplay.module.scss":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!./node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!./node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./styles/reviewDisplay.module.scss ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".reviewDisplay_container__u_iDG {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 5px;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  background-color: white;\\n}\\n.reviewDisplay_container__u_iDG div {\\n  transition: 0.2s linear;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  max-width: 1200px;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_leftInnercontainerBody__C6i79 .reviewDisplay_sticky__D6Org {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_leftInnercontainerBody__C6i79 .reviewDisplay_topicHeader__HBMSk {\\n  display: flex;\\n  align-items: center;\\n  margin-top: 5px;\\n  font-weight: 400;\\n  height: 40px;\\n  font-family: \\\"Montserrat\\\";\\n  font-size: 17px;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_leftInnercontainerBody__C6i79 .reviewDisplay_titleList__VDU8o {\\n  display: flex;\\n  flex-direction: column;\\n  border-left: 3px solid rgba(0, 0, 0, 0.1);\\n  margin-left: 2px;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_leftInnercontainerBody__C6i79 .reviewDisplay_topicTittle__QaBrz {\\n  margin-left: 0px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  padding: 8px;\\n  padding-left: 10px;\\n  font-size: 16px;\\n  font-weight: 400;\\n  cursor: pointer;\\n  color: black;\\n  border-left: 3px solid transparent;\\n  position: relative;\\n  top: 0px;\\n  left: -2px;\\n  z-index: 99;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_leftInnercontainerBody__C6i79 .reviewDisplay_topicTittle__QaBrz:hover {\\n  transition: 0.2s linear;\\n  color: #007aff;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_leftInnercontainerBody__C6i79 .reviewDisplay_Active__6bV9R {\\n  transition: 0.2s linear;\\n  color: #007aff;\\n  border-left: 3px solid #007aff;\\n  font-weight: 600;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_rightInnercontainerBody__trTeg {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_rightInnercontainerBody__trTeg .reviewDisplay_BodyHeader__1NcCt {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  height: 40px;\\n  width: 100%;\\n  font-family: \\\"Montserrat\\\";\\n  font-weight: 400;\\n  color: #800000;\\n  margin-bottom: 10px;\\n  font-size: 16px;\\n}\\n.reviewDisplay_container__u_iDG .reviewDisplay_innerContainer__gZBAc .reviewDisplay_rightInnercontainerBody__trTeg .reviewDisplay_BodyContent__wnIEg {\\n  width: 100%;\\n  font-style: normal;\\n  font-family: \\\"Roboto\\\";\\n  font-weight: 400;\\n  font-size: 17px;\\n  line-height: 24px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  margin-bottom: 40px;\\n}\\n\\n.reviewDisplay_notFound__xJnOb {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 15px;\\n  border: 2px solid red;\\n}\\n\\n@media only screen and (max-width: 908px) {\\n  .reviewDisplay_leftInnercontainerBody__C6i79 {\\n    display: none;\\n  }\\n\\n  .reviewDisplay_mobile__Q3bwc {\\n    display: flex;\\n    position: -webkit-sticky;\\n    position: sticky;\\n    top: 0;\\n  }\\n}\\n@media only screen and (min-width: 908px) {\\n  .reviewDisplay_leftInnercontainerBody__C6i79 {\\n    width: 100%;\\n    max-width: 250px;\\n    font-family: \\\"Roboto\\\";\\n    color: #800000;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n  .reviewDisplay_mobile__Q3bwc {\\n    display: none;\\n  }\\n}\\n.reviewDisplay_modal__n6Kn_ {\\n  margin-left: 1.8rem;\\n  margin-right: 1.8rem;\\n  margin-bottom: 1.8rem;\\n  display: grid;\\n  grid-gap: 10px;\\n}\\n@media (min-width: 268px) {\\n  .reviewDisplay_modal__n6Kn_ {\\n    grid-template-columns: repeat(1, 1fr);\\n    align-items: center;\\n    justify-content: center;\\n  }\\n}\\n@media (min-width: 468px) {\\n  .reviewDisplay_modal__n6Kn_ {\\n    grid-template-columns: repeat(2, 1fr);\\n  }\\n}\\n@media (min-width: 768px) {\\n  .reviewDisplay_modal__n6Kn_ {\\n    grid-template-columns: repeat(3, 1fr);\\n  }\\n}\\n@media (min-width: 960px) {\\n  .reviewDisplay_modal__n6Kn_ {\\n    grid-template-columns: repeat(4, 1fr);\\n  }\\n}\\n@media (min-width: 1200px) {\\n  .reviewDisplay_modal__n6Kn_ {\\n    grid-template-columns: repeat(5, 1fr);\\n  }\\n}\\n\\n.reviewDisplay_table__JxKCV {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://styles/reviewDisplay.module.scss\",\"webpack://styles/_index.scss\"],\"names\":[],\"mappings\":\"AAEA;EACC,aAAA;EACA,sBAAA;EACA,WAAA;EACA,uBAAA;EACA,mBAAA;EACA,eAAA;EACA,kBAAA;EACA,mBAAA;EACA,uBCTO;ADQR;AAGC;EACC,uBAAA;AADF;AAGC;EACC,aAAA;EACA,mBAAA;EACA,WAAA;EACA,iBAAA;AADF;AAIG;EACC,wBAAA;EACA,gBAAA;EACA,MAAA;AAFJ;AAKG;EACC,aAAA;EACA,mBAAA;EACA,eAAA;EACA,gBAAA;EACA,YAAA;EACA,yBCnCS;EDoCT,eAAA;AAHJ;AAMG;EACC,aAAA;EACA,sBAAA;EACA,yCAAA;EACA,gBAAA;AAJJ;AAOG;EACC,gBAAA;EACA,aAAA;EACA,mBAAA;EACA,mBAAA;EACA,YAAA;EACA,kBAAA;EACA,eAAA;EACA,gBAAA;EACA,eAAA;EACA,YCrDI;EDsDJ,kCAAA;EACA,kBAAA;EACA,QAAA;EACA,UAAA;EACA,WAAA;AALJ;AAQG;EACC,uBAAA;EACA,cC9DQ;ADwDZ;AASG;EACC,uBAAA;EACA,cCnEQ;EDoER,8BAAA;EACA,gBAAA;AAPJ;AAUE;EACC,WAAA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;AARH;AAUG;EACC,aAAA;EACA,mBAAA;EACA,yBAAA;EACA,YAAA;EACA,WAAA;EACA,yBCxFS;EDyFT,gBAAA;EACA,cClFI;EDmFJ,mBAAA;EACA,eAAA;AARJ;AAWG;EACC,WAAA;EACA,kBAAA;EACA,qBCjGO;EDkGP,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,iBAAA;EACA,kBAAA;EACA,mBAAA;AATJ;;AAeA;EACC,WAAA;EACA,aAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;EACA,aAAA;EACA,qBAAA;AAZD;;AAeA;EACC;IACC,aAAA;EAZA;;EAcD;IACC,aAAA;IACA,wBAAA;IAAA,gBAAA;IACA,MAAA;EAXA;AACF;AAcA;EACC;IACC,WAAA;IACA,gBAAA;IACA,qBCtIS;IDuIT,cChIM;IDiIN,aAAA;IACA,sBAAA;EAZA;;EAcD;IACC,aAAA;EAXA;AACF;AAaA;EACC,mBAAA;EACA,oBAAA;EACA,qBAAA;EACA,aAAA;EACA,cAAA;AAXD;AAaC;EAPD;IAQE,qCAAA;IACA,mBAAA;IACA,uBAAA;EAVA;AACF;AAYC;EAbD;IAcE,qCAAA;EATA;AACF;AAWC;EAjBD;IAkBE,qCAAA;EARA;AACF;AAUC;EArBD;IAsBE,qCAAA;EAPA;AACF;AASC;EAzBD;IA0BE,qCAAA;EANA;AACF;;AASA;EACC,aAAA;EACA,sBAAA;EACA,WAAA;AAND\",\"sourcesContent\":[\"@import 'index';\\r\\n\\r\\n.container {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\twidth: 100%;\\r\\n\\tjustify-content: center;\\r\\n\\talign-items: center;\\r\\n\\tmargin-top: 5px;\\r\\n\\tpadding-left: 10px;\\r\\n\\tpadding-right: 10px;\\r\\n\\tbackground-color: $white;\\r\\n\\r\\n\\tdiv {\\r\\n\\t\\ttransition: 0.2s linear;\\r\\n\\t}\\r\\n\\t.innerContainer {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: row;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tmax-width: 1200px;\\r\\n\\r\\n\\t\\t.leftInnercontainerBody {\\r\\n\\t\\t\\t.sticky {\\r\\n\\t\\t\\t\\tposition: -webkit-sticky;\\r\\n\\t\\t\\t\\tposition: sticky;\\r\\n\\t\\t\\t\\ttop: 0;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.topicHeader {\\r\\n\\t\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\t\\talign-items: center;\\r\\n\\t\\t\\t\\tmargin-top: 5px;\\r\\n\\t\\t\\t\\tfont-weight: 400;\\r\\n\\t\\t\\t\\theight: 40px;\\r\\n\\t\\t\\t\\tfont-family: $fontHeader;\\r\\n\\t\\t\\t\\tfont-size: 17px;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.titleList {\\r\\n\\t\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\t\\tflex-direction: column;\\r\\n\\t\\t\\t\\tborder-left: 3px solid rgba($color: $black, $alpha: 0.1);\\r\\n\\t\\t\\t\\tmargin-left: 2px;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.topicTittle {\\r\\n\\t\\t\\t\\tmargin-left: 0px;\\r\\n\\t\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\t\\tflex-direction: row;\\r\\n\\t\\t\\t\\talign-items: center;\\r\\n\\t\\t\\t\\tpadding: 8px;\\r\\n\\t\\t\\t\\tpadding-left: 10px;\\r\\n\\t\\t\\t\\tfont-size: 16px;\\r\\n\\t\\t\\t\\tfont-weight: 400;\\r\\n\\t\\t\\t\\tcursor: pointer;\\r\\n\\t\\t\\t\\tcolor: $black;\\r\\n\\t\\t\\t\\tborder-left: 3px solid transparent;\\r\\n\\t\\t\\t\\tposition: relative;\\r\\n\\t\\t\\t\\ttop: 0px;\\r\\n\\t\\t\\t\\tleft: -2px;\\r\\n\\t\\t\\t\\tz-index: 99;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.topicTittle:hover {\\r\\n\\t\\t\\t\\ttransition: 0.2s linear;\\r\\n\\t\\t\\t\\tcolor: $lightblue;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.Active {\\r\\n\\t\\t\\t\\ttransition: 0.2s linear;\\r\\n\\t\\t\\t\\tcolor: $lightblue;\\r\\n\\t\\t\\t\\tborder-left: 3px solid $lightblue;\\r\\n\\t\\t\\t\\tfont-weight: 600;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t\\t.rightInnercontainerBody {\\r\\n\\t\\t\\twidth: 100%;\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\tflex-direction: column;\\r\\n\\t\\t\\tflex-grow: 1;\\r\\n\\r\\n\\t\\t\\t.BodyHeader {\\r\\n\\t\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\t\\talign-items: center;\\r\\n\\t\\t\\t\\tjustify-content: flex-end;\\r\\n\\t\\t\\t\\theight: 40px;\\r\\n\\t\\t\\t\\twidth: 100%;\\r\\n\\t\\t\\t\\tfont-family: $fontHeader;\\r\\n\\t\\t\\t\\tfont-weight: 400;\\r\\n\\t\\t\\t\\tcolor: $ugoro;\\r\\n\\t\\t\\t\\tmargin-bottom: 10px;\\r\\n\\t\\t\\t\\tfont-size: 16px;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.BodyContent {\\r\\n\\t\\t\\t\\twidth: 100%;\\r\\n\\t\\t\\t\\tfont-style: normal;\\r\\n\\t\\t\\t\\tfont-family: $fontBody;\\r\\n\\t\\t\\t\\tfont-weight: 400;\\r\\n\\t\\t\\t\\tfont-size: 17px;\\r\\n\\t\\t\\t\\tline-height: 24px;\\r\\n\\t\\t\\t\\tmargin-left: 10px;\\r\\n\\t\\t\\t\\tmargin-right: 10px;\\r\\n\\t\\t\\t\\tmargin-bottom: 40px;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.notFound {\\r\\n\\twidth: 100%;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\talign-items: center;\\r\\n\\tjustify-content: center;\\r\\n\\tpadding: 15px;\\r\\n\\tborder: 2px solid red;\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 908px) {\\r\\n\\t.leftInnercontainerBody {\\r\\n\\t\\tdisplay: none;\\r\\n\\t}\\r\\n\\t.mobile {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tposition: sticky;\\r\\n\\t\\ttop: 0;\\r\\n\\t}\\r\\n}\\r\\n\\r\\n@media only screen and (min-width: 908px) {\\r\\n\\t.leftInnercontainerBody {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tmax-width: 250px;\\r\\n\\t\\tfont-family: $fontBody;\\r\\n\\t\\tcolor: $ugoro;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t}\\r\\n\\t.mobile {\\r\\n\\t\\tdisplay: none;\\r\\n\\t}\\r\\n}\\r\\n.modal {\\r\\n\\tmargin-left: 1.8rem;\\r\\n\\tmargin-right: 1.8rem;\\r\\n\\tmargin-bottom: 1.8rem;\\r\\n\\tdisplay: grid;\\r\\n\\tgrid-gap: 10px;\\r\\n\\r\\n\\t@media (min-width: 268px) {\\r\\n\\t\\tgrid-template-columns: repeat(1, 1fr);\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\r\\n\\t@media (min-width: 468px) {\\r\\n\\t\\tgrid-template-columns: repeat(2, 1fr);\\r\\n\\t}\\r\\n\\r\\n\\t@media (min-width: 768px) {\\r\\n\\t\\tgrid-template-columns: repeat(3, 1fr);\\r\\n\\t}\\r\\n\\r\\n\\t@media (min-width: 960px) {\\r\\n\\t\\tgrid-template-columns: repeat(4, 1fr);\\r\\n\\t}\\r\\n\\r\\n\\t@media (min-width: 1200px) {\\r\\n\\t\\tgrid-template-columns: repeat(5, 1fr);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.table {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\",\"$fontHeader: \\\"Montserrat\\\";\\r\\n$fontBody: \\\"Roboto\\\";\\r\\n$white: white;\\r\\n$black: black;\\r\\n$lightblue: #007aff;\\r\\n$lightkahawa: #ffd79d;\\r\\n$kahawa:#a35f2e;\\r\\n$gray: gray;\\r\\n$ugoro: #800000;\\r\\n$primaryBackground: #14805e;\\r\\n$boxShadow: 0 1rem 1rem rgba(0, 0, 0, 0.05);\\r\\n$boxShadowAnswers: 0 0.4rem 1.4rem 0 rgba(252, 181, 116, 0.5);\\r\\n$boxShadowRealBox: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(44, 36, 6, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset;\\r\\n$mainBackGround: white;\\r\\n$backGround: #fffcec;\\r\\n$red: red;\\r\\n$captionBackground: hsl(0, 0%, 97%);\\r\\n$answerBackground:#eee;\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"container\": \"reviewDisplay_container__u_iDG\",\n\t\"innerContainer\": \"reviewDisplay_innerContainer__gZBAc\",\n\t\"leftInnercontainerBody\": \"reviewDisplay_leftInnercontainerBody__C6i79\",\n\t\"sticky\": \"reviewDisplay_sticky__D6Org\",\n\t\"topicHeader\": \"reviewDisplay_topicHeader__HBMSk\",\n\t\"titleList\": \"reviewDisplay_titleList__VDU8o\",\n\t\"topicTittle\": \"reviewDisplay_topicTittle__QaBrz\",\n\t\"Active\": \"reviewDisplay_Active__6bV9R\",\n\t\"rightInnercontainerBody\": \"reviewDisplay_rightInnercontainerBody__trTeg\",\n\t\"BodyHeader\": \"reviewDisplay_BodyHeader__1NcCt\",\n\t\"BodyContent\": \"reviewDisplay_BodyContent__wnIEg\",\n\t\"notFound\": \"reviewDisplay_notFound__xJnOb\",\n\t\"mobile\": \"reviewDisplay_mobile__Q3bwc\",\n\t\"modal\": \"reviewDisplay_modal__n6Kn_\",\n\t\"table\": \"reviewDisplay_table__JxKCV\"\n};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls1XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbNV0udXNlWzJdIS4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzVdLnVzZVszXSEuL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvc2Fzcy1sb2FkZXIvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzVdLnVzZVs0XSEuL3N0eWxlcy9yZXZpZXdEaXNwbGF5Lm1vZHVsZS5zY3NzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0NBQWtDLG1CQUFPLENBQUMsbUtBQStFO0FBQ3pIO0FBQ0E7QUFDQSwyRUFBMkUsa0JBQWtCLDJCQUEyQixnQkFBZ0IsNEJBQTRCLHdCQUF3QixvQkFBb0IsdUJBQXVCLHdCQUF3Qiw0QkFBNEIsR0FBRyx1Q0FBdUMsNEJBQTRCLEdBQUcsd0VBQXdFLGtCQUFrQix3QkFBd0IsZ0JBQWdCLHNCQUFzQixHQUFHLGtKQUFrSiw2QkFBNkIscUJBQXFCLFdBQVcsR0FBRyx1SkFBdUosa0JBQWtCLHdCQUF3QixvQkFBb0IscUJBQXFCLGlCQUFpQixnQ0FBZ0Msb0JBQW9CLEdBQUcscUpBQXFKLGtCQUFrQiwyQkFBMkIsOENBQThDLHFCQUFxQixHQUFHLHVKQUF1SixxQkFBcUIsa0JBQWtCLHdCQUF3Qix3QkFBd0IsaUJBQWlCLHVCQUF1QixvQkFBb0IscUJBQXFCLG9CQUFvQixpQkFBaUIsdUNBQXVDLHVCQUF1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QUFnQixvQkFBb0IsZ0NBQWdDLGdEQUFnRCxrRUFBa0UsaUpBQWlKLDJCQUEyQix5QkFBeUIsY0FBYyx3Q0FBd0MsMkJBQTJCLG1CQUFtQjtBQUNoeVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3R5bGVzL3Jldmlld0Rpc3BsYXkubW9kdWxlLnNjc3M/YmU4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL3J1bnRpbWUvYXBpLmpzXCIpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLnJldmlld0Rpc3BsYXlfY29udGFpbmVyX191X2lERyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbn1cXG4ucmV2aWV3RGlzcGxheV9jb250YWluZXJfX3VfaURHIGRpdiB7XFxuICB0cmFuc2l0aW9uOiAwLjJzIGxpbmVhcjtcXG59XFxuLnJldmlld0Rpc3BsYXlfY29udGFpbmVyX191X2lERyAucmV2aWV3RGlzcGxheV9pbm5lckNvbnRhaW5lcl9fZ1pCQWMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC13aWR0aDogMTIwMHB4O1xcbn1cXG4ucmV2aWV3RGlzcGxheV9jb250YWluZXJfX3VfaURHIC5yZXZpZXdEaXNwbGF5X2lubmVyQ29udGFpbmVyX19nWkJBYyAucmV2aWV3RGlzcGxheV9sZWZ0SW5uZXJjb250YWluZXJCb2R5X19DNmk3OSAucmV2aWV3RGlzcGxheV9zdGlja3lfX0Q2T3JnIHtcXG4gIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcXG4gIHBvc2l0aW9uOiBzdGlja3k7XFxuICB0b3A6IDA7XFxufVxcbi5yZXZpZXdEaXNwbGF5X2NvbnRhaW5lcl9fdV9pREcgLnJldmlld0Rpc3BsYXlfaW5uZXJDb250YWluZXJfX2daQkFjIC5yZXZpZXdEaXNwbGF5X2xlZnRJbm5lcmNvbnRhaW5lckJvZHlfX0M2aTc5IC5yZXZpZXdEaXNwbGF5X3RvcGljSGVhZGVyX19IQk1TayB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBoZWlnaHQ6IDQwcHg7XFxuICBmb250LWZhbWlseTogXFxcIk1vbnRzZXJyYXRcXFwiO1xcbiAgZm9udC1zaXplOiAxN3B4O1xcbn1cXG4ucmV2aWV3RGlzcGxheV9jb250YWluZXJfX3VfaURHIC5yZXZpZXdEaXNwbGF5X2lubmVyQ29udGFpbmVyX19nWkJBYyAucmV2aWV3RGlzcGxheV9sZWZ0SW5uZXJjb250YWluZXJCb2R5X19DNmk3OSAucmV2aWV3RGlzcGxheV90aXRsZUxpc3RfX1ZEVThvIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XFxuICBtYXJnaW4tbGVmdDogMnB4O1xcbn1cXG4ucmV2aWV3RGlzcGxheV9jb250YWluZXJfX3VfaURHIC5yZXZpZXdEaXNwbGF5X2lubmVyQ29udGFpbmVyX19nWkJBYyAucmV2aWV3RGlzcGxheV9sZWZ0SW5uZXJjb250YWluZXJCb2R5X19DNmk3OSAucmV2aWV3RGlzcGxheV90b3BpY1RpdHRsZV9fUWFCcnoge1xcbiAgbWFyZ2luLWxlZnQ6IDBweDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDhweDtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBjb2xvcjogYmxhY2s7XFxuICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAtMnB4O1xcbiAgei1pbmRleDogOTk7XFxufVxcbi5yZXZpZXdEaXNwbGF5X2NvbnRhaW5lcl9fdV9pREcgLnJldmlld0Rpc3BsYXlfaW5uZXJDb250YWluZXJfX2daQkFjIC5yZXZpZXdEaXNwbGF5X2xlZnRJbm5lcmNvbnRhaW5lckJvZHlfX0M2aTc5IC5yZXZpZXdEaXNwbGF5X3RvcGljVGl0dGxlX19RYUJyejpob3ZlciB7XFxuICB0cmFuc2l0aW9uOiAwLjJzIGxpbmVhcjtcXG4gIGNvbG9yOiAjMDA3YWZmO1xcbn1cXG4ucmV2aWV3RGlzcGxheV9jb250YWluZXJfX3VfaURHIC5yZXZpZXdEaXNwbGF5X2lubmVyQ29udGFpbmVyX19nWkJBYyAucmV2aWV3RGlzcGxheV9sZWZ0SW5uZXJjb250YWluZXJCb2R5X19DNmk3OSAucmV2aWV3RGlzcGxheV9BY3RpdmVfXzZiVjlSIHtcXG4gIHRyYW5zaXRpb246IDAuMnMgbGluZWFyO1xcbiAgY29sb3I6ICMwMDdhZmY7XFxuICBib3JkZXItbGVmdDogM3B4IHNvbGlkICMwMDdhZmY7XFxuICBmb250LXdlaWdodDogNjAwO1xcbn1cXG4ucmV2aWV3RGlzcGxheV9jb250YWluZXJfX3VfaURHIC5yZXZpZXdEaXNwbGF5X2lubmVyQ29udGFpbmVyX19nWkJBYyAucmV2aWV3RGlzcGxheV9yaWdodElubmVyY29udGFpbmVyQm9keV9fdHJUZWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGZsZXgtZ3JvdzogMTtcXG59XFxuLnJldmlld0Rpc3BsYXlfY29udGFpbmVyX191X2lERyAucmV2aWV3RGlzcGxheV9pbm5lckNvbnRhaW5lcl9fZ1pCQWMgLnJldmlld0Rpc3BsYXlfcmlnaHRJbm5lcmNvbnRhaW5lckJvZHlfX3RyVGVnIC5yZXZpZXdEaXNwbGF5X0JvZHlIZWFkZXJfXzFOY0N0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gIGhlaWdodDogNDBweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJNb250c2VycmF0XFxcIjtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBjb2xvcjogIzgwMDAwMDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICBmb250LXNpemU6IDE2cHg7XFxufVxcbi5yZXZpZXdEaXNwbGF5X2NvbnRhaW5lcl9fdV9pREcgLnJldmlld0Rpc3BsYXlfaW5uZXJDb250YWluZXJfX2daQkFjIC5yZXZpZXdEaXNwbGF5X3JpZ2h0SW5uZXJjb250YWluZXJCb2R5X190clRlZyAucmV2aWV3RGlzcGxheV9Cb2R5Q29udGVudF9fd25JRWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LWZhbWlseTogXFxcIlJvYm90b1xcXCI7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiAxN3B4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICBtYXJnaW4tbGVmdDogMTBweDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDQwcHg7XFxufVxcblxcbi5yZXZpZXdEaXNwbGF5X25vdEZvdW5kX194Sm5PYiB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgcGFkZGluZzogMTVweDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcXG59XFxuXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA5MDhweCkge1xcbiAgLnJldmlld0Rpc3BsYXlfbGVmdElubmVyY29udGFpbmVyQm9keV9fQzZpNzkge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgfVxcblxcbiAgLnJldmlld0Rpc3BsYXlfbW9iaWxlX19RM2J3YyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcXG4gICAgcG9zaXRpb246IHN0aWNreTtcXG4gICAgdG9wOiAwO1xcbiAgfVxcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDkwOHB4KSB7XFxuICAucmV2aWV3RGlzcGxheV9sZWZ0SW5uZXJjb250YWluZXJCb2R5X19DNmk3OSB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBtYXgtd2lkdGg6IDI1MHB4O1xcbiAgICBmb250LWZhbWlseTogXFxcIlJvYm90b1xcXCI7XFxuICAgIGNvbG9yOiAjODAwMDAwO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgfVxcblxcbiAgLnJldmlld0Rpc3BsYXlfbW9iaWxlX19RM2J3YyB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICB9XFxufVxcbi5yZXZpZXdEaXNwbGF5X21vZGFsX19uNktuXyB7XFxuICBtYXJnaW4tbGVmdDogMS44cmVtO1xcbiAgbWFyZ2luLXJpZ2h0OiAxLjhyZW07XFxuICBtYXJnaW4tYm90dG9tOiAxLjhyZW07XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC1nYXA6IDEwcHg7XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAyNjhweCkge1xcbiAgLnJldmlld0Rpc3BsYXlfbW9kYWxfX242S25fIHtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMSwgMWZyKTtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiA0NjhweCkge1xcbiAgLnJldmlld0Rpc3BsYXlfbW9kYWxfX242S25fIHtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XFxuICAucmV2aWV3RGlzcGxheV9tb2RhbF9fbjZLbl8ge1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpO1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogOTYwcHgpIHtcXG4gIC5yZXZpZXdEaXNwbGF5X21vZGFsX19uNktuXyB7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDQsIDFmcik7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAxMjAwcHgpIHtcXG4gIC5yZXZpZXdEaXNwbGF5X21vZGFsX19uNktuXyB7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7XFxuICB9XFxufVxcblxcbi5yZXZpZXdEaXNwbGF5X3RhYmxlX19KeEtDViB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vc3R5bGVzL3Jldmlld0Rpc3BsYXkubW9kdWxlLnNjc3NcIixcIndlYnBhY2s6Ly9zdHlsZXMvX2luZGV4LnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7RUFDQyxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJDVE87QURRUjtBQUdDO0VBQ0MsdUJBQUE7QUFERjtBQUdDO0VBQ0MsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FBREY7QUFJRztFQUNDLHdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxNQUFBO0FBRko7QUFLRztFQUNDLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSx5QkNuQ1M7RURvQ1QsZUFBQTtBQUhKO0FBTUc7RUFDQyxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx5Q0FBQTtFQUNBLGdCQUFBO0FBSko7QUFPRztFQUNDLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUNyREk7RURzREosa0NBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQUxKO0FBUUc7RUFDQyx1QkFBQTtFQUNBLGNDOURRO0FEd0RaO0FBU0c7RUFDQyx1QkFBQTtFQUNBLGNDbkVRO0VEb0VSLDhCQUFBO0VBQ0EsZ0JBQUE7QUFQSjtBQVVFO0VBQ0MsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7QUFSSDtBQVVHO0VBQ0MsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQ3hGUztFRHlGVCxnQkFBQTtFQUNBLGNDbEZJO0VEbUZKLG1CQUFBO0VBQ0EsZUFBQTtBQVJKO0FBV0c7RUFDQyxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkNqR087RURrR1AsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUFUSjs7QUFlQTtFQUNDLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0FBWkQ7O0FBZUE7RUFDQztJQUNDLGFBQUE7RUFaQTs7RUFjRDtJQUNDLGFBQUE7SUFDQSx3QkFBQTtJQUFBLGdCQUFBO0lBQ0EsTUFBQTtFQVhBO0FBQ0Y7QUFjQTtFQUNDO0lBQ0MsV0FBQTtJQUNBLGdCQUFBO0lBQ0EscUJDdElTO0lEdUlULGNDaElNO0lEaUlOLGFBQUE7SUFDQSxzQkFBQTtFQVpBOztFQWNEO0lBQ0MsYUFBQTtFQVhBO0FBQ0Y7QUFhQTtFQUNDLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0FBWEQ7QUFhQztFQVBEO0lBUUUscUNBQUE7SUFDQSxtQkFBQTtJQUNBLHVCQUFBO0VBVkE7QUFDRjtBQVlDO0VBYkQ7SUFjRSxxQ0FBQTtFQVRBO0FBQ0Y7QUFXQztFQWpCRDtJQWtCRSxxQ0FBQTtFQVJBO0FBQ0Y7QUFVQztFQXJCRDtJQXNCRSxxQ0FBQTtFQVBBO0FBQ0Y7QUFTQztFQXpCRDtJQTBCRSxxQ0FBQTtFQU5BO0FBQ0Y7O0FBU0E7RUFDQyxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0FBTkRcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGltcG9ydCAnaW5kZXgnO1xcclxcblxcclxcbi5jb250YWluZXIge1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG5cXHR3aWR0aDogMTAwJTtcXHJcXG5cXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHRhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcdG1hcmdpbi10b3A6IDVweDtcXHJcXG5cXHRwYWRkaW5nLWxlZnQ6IDEwcHg7XFxyXFxuXFx0cGFkZGluZy1yaWdodDogMTBweDtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiAkd2hpdGU7XFxyXFxuXFxyXFxuXFx0ZGl2IHtcXHJcXG5cXHRcXHR0cmFuc2l0aW9uOiAwLjJzIGxpbmVhcjtcXHJcXG5cXHR9XFxyXFxuXFx0LmlubmVyQ29udGFpbmVyIHtcXHJcXG5cXHRcXHRkaXNwbGF5OiBmbGV4O1xcclxcblxcdFxcdGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuXFx0XFx0d2lkdGg6IDEwMCU7XFxyXFxuXFx0XFx0bWF4LXdpZHRoOiAxMjAwcHg7XFxyXFxuXFxyXFxuXFx0XFx0LmxlZnRJbm5lcmNvbnRhaW5lckJvZHkge1xcclxcblxcdFxcdFxcdC5zdGlja3kge1xcclxcblxcdFxcdFxcdFxcdHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcXHJcXG5cXHRcXHRcXHRcXHRwb3NpdGlvbjogc3RpY2t5O1xcclxcblxcdFxcdFxcdFxcdHRvcDogMDtcXHJcXG5cXHRcXHRcXHR9XFxyXFxuXFxyXFxuXFx0XFx0XFx0LnRvcGljSGVhZGVyIHtcXHJcXG5cXHRcXHRcXHRcXHRkaXNwbGF5OiBmbGV4O1xcclxcblxcdFxcdFxcdFxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0XFx0XFx0XFx0bWFyZ2luLXRvcDogNXB4O1xcclxcblxcdFxcdFxcdFxcdGZvbnQtd2VpZ2h0OiA0MDA7XFxyXFxuXFx0XFx0XFx0XFx0aGVpZ2h0OiA0MHB4O1xcclxcblxcdFxcdFxcdFxcdGZvbnQtZmFtaWx5OiAkZm9udEhlYWRlcjtcXHJcXG5cXHRcXHRcXHRcXHRmb250LXNpemU6IDE3cHg7XFxyXFxuXFx0XFx0XFx0fVxcclxcblxcclxcblxcdFxcdFxcdC50aXRsZUxpc3Qge1xcclxcblxcdFxcdFxcdFxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0XFx0XFx0XFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG5cXHRcXHRcXHRcXHRib3JkZXItbGVmdDogM3B4IHNvbGlkIHJnYmEoJGNvbG9yOiAkYmxhY2ssICRhbHBoYTogMC4xKTtcXHJcXG5cXHRcXHRcXHRcXHRtYXJnaW4tbGVmdDogMnB4O1xcclxcblxcdFxcdFxcdH1cXHJcXG5cXHJcXG5cXHRcXHRcXHQudG9waWNUaXR0bGUge1xcclxcblxcdFxcdFxcdFxcdG1hcmdpbi1sZWZ0OiAwcHg7XFxyXFxuXFx0XFx0XFx0XFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRcXHRcXHRcXHRmbGV4LWRpcmVjdGlvbjogcm93O1xcclxcblxcdFxcdFxcdFxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0XFx0XFx0XFx0cGFkZGluZzogOHB4O1xcclxcblxcdFxcdFxcdFxcdHBhZGRpbmctbGVmdDogMTBweDtcXHJcXG5cXHRcXHRcXHRcXHRmb250LXNpemU6IDE2cHg7XFxyXFxuXFx0XFx0XFx0XFx0Zm9udC13ZWlnaHQ6IDQwMDtcXHJcXG5cXHRcXHRcXHRcXHRjdXJzb3I6IHBvaW50ZXI7XFxyXFxuXFx0XFx0XFx0XFx0Y29sb3I6ICRibGFjaztcXHJcXG5cXHRcXHRcXHRcXHRib3JkZXItbGVmdDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xcclxcblxcdFxcdFxcdFxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG5cXHRcXHRcXHRcXHR0b3A6IDBweDtcXHJcXG5cXHRcXHRcXHRcXHRsZWZ0OiAtMnB4O1xcclxcblxcdFxcdFxcdFxcdHotaW5kZXg6IDk5O1xcclxcblxcdFxcdFxcdH1cXHJcXG5cXHJcXG5cXHRcXHRcXHQudG9waWNUaXR0bGU6aG92ZXIge1xcclxcblxcdFxcdFxcdFxcdHRyYW5zaXRpb246IDAuMnMgbGluZWFyO1xcclxcblxcdFxcdFxcdFxcdGNvbG9yOiAkbGlnaHRibHVlO1xcclxcblxcdFxcdFxcdH1cXHJcXG5cXHJcXG5cXHRcXHRcXHQuQWN0aXZlIHtcXHJcXG5cXHRcXHRcXHRcXHR0cmFuc2l0aW9uOiAwLjJzIGxpbmVhcjtcXHJcXG5cXHRcXHRcXHRcXHRjb2xvcjogJGxpZ2h0Ymx1ZTtcXHJcXG5cXHRcXHRcXHRcXHRib3JkZXItbGVmdDogM3B4IHNvbGlkICRsaWdodGJsdWU7XFxyXFxuXFx0XFx0XFx0XFx0Zm9udC13ZWlnaHQ6IDYwMDtcXHJcXG5cXHRcXHRcXHR9XFxyXFxuXFx0XFx0fVxcclxcblxcdFxcdC5yaWdodElubmVyY29udGFpbmVyQm9keSB7XFxyXFxuXFx0XFx0XFx0d2lkdGg6IDEwMCU7XFxyXFxuXFx0XFx0XFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRcXHRcXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcblxcdFxcdFxcdGZsZXgtZ3JvdzogMTtcXHJcXG5cXHJcXG5cXHRcXHRcXHQuQm9keUhlYWRlciB7XFxyXFxuXFx0XFx0XFx0XFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRcXHRcXHRcXHRhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcdFxcdFxcdFxcdGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxyXFxuXFx0XFx0XFx0XFx0aGVpZ2h0OiA0MHB4O1xcclxcblxcdFxcdFxcdFxcdHdpZHRoOiAxMDAlO1xcclxcblxcdFxcdFxcdFxcdGZvbnQtZmFtaWx5OiAkZm9udEhlYWRlcjtcXHJcXG5cXHRcXHRcXHRcXHRmb250LXdlaWdodDogNDAwO1xcclxcblxcdFxcdFxcdFxcdGNvbG9yOiAkdWdvcm87XFxyXFxuXFx0XFx0XFx0XFx0bWFyZ2luLWJvdHRvbTogMTBweDtcXHJcXG5cXHRcXHRcXHRcXHRmb250LXNpemU6IDE2cHg7XFxyXFxuXFx0XFx0XFx0fVxcclxcblxcclxcblxcdFxcdFxcdC5Cb2R5Q29udGVudCB7XFxyXFxuXFx0XFx0XFx0XFx0d2lkdGg6IDEwMCU7XFxyXFxuXFx0XFx0XFx0XFx0Zm9udC1zdHlsZTogbm9ybWFsO1xcclxcblxcdFxcdFxcdFxcdGZvbnQtZmFtaWx5OiAkZm9udEJvZHk7XFxyXFxuXFx0XFx0XFx0XFx0Zm9udC13ZWlnaHQ6IDQwMDtcXHJcXG5cXHRcXHRcXHRcXHRmb250LXNpemU6IDE3cHg7XFxyXFxuXFx0XFx0XFx0XFx0bGluZS1oZWlnaHQ6IDI0cHg7XFxyXFxuXFx0XFx0XFx0XFx0bWFyZ2luLWxlZnQ6IDEwcHg7XFxyXFxuXFx0XFx0XFx0XFx0bWFyZ2luLXJpZ2h0OiAxMHB4O1xcclxcblxcdFxcdFxcdFxcdG1hcmdpbi1ib3R0b206IDQwcHg7XFxyXFxuXFx0XFx0XFx0fVxcclxcblxcdFxcdH1cXHJcXG5cXHR9XFxyXFxufVxcclxcblxcclxcbi5ub3RGb3VuZCB7XFxyXFxuXFx0d2lkdGg6IDEwMCU7XFxyXFxuXFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuXFx0cGFkZGluZzogMTVweDtcXHJcXG5cXHRib3JkZXI6IDJweCBzb2xpZCByZWQ7XFxyXFxufVxcclxcblxcclxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTA4cHgpIHtcXHJcXG5cXHQubGVmdElubmVyY29udGFpbmVyQm9keSB7XFxyXFxuXFx0XFx0ZGlzcGxheTogbm9uZTtcXHJcXG5cXHR9XFxyXFxuXFx0Lm1vYmlsZSB7XFxyXFxuXFx0XFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRcXHRwb3NpdGlvbjogc3RpY2t5O1xcclxcblxcdFxcdHRvcDogMDtcXHJcXG5cXHR9XFxyXFxufVxcclxcblxcclxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTA4cHgpIHtcXHJcXG5cXHQubGVmdElubmVyY29udGFpbmVyQm9keSB7XFxyXFxuXFx0XFx0d2lkdGg6IDEwMCU7XFxyXFxuXFx0XFx0bWF4LXdpZHRoOiAyNTBweDtcXHJcXG5cXHRcXHRmb250LWZhbWlseTogJGZvbnRCb2R5O1xcclxcblxcdFxcdGNvbG9yOiAkdWdvcm87XFxyXFxuXFx0XFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRcXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcblxcdH1cXHJcXG5cXHQubW9iaWxlIHtcXHJcXG5cXHRcXHRkaXNwbGF5OiBub25lO1xcclxcblxcdH1cXHJcXG59XFxyXFxuLm1vZGFsIHtcXHJcXG5cXHRtYXJnaW4tbGVmdDogMS44cmVtO1xcclxcblxcdG1hcmdpbi1yaWdodDogMS44cmVtO1xcclxcblxcdG1hcmdpbi1ib3R0b206IDEuOHJlbTtcXHJcXG5cXHRkaXNwbGF5OiBncmlkO1xcclxcblxcdGdyaWQtZ2FwOiAxMHB4O1xcclxcblxcclxcblxcdEBtZWRpYSAobWluLXdpZHRoOiAyNjhweCkge1xcclxcblxcdFxcdGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEsIDFmcik7XFxyXFxuXFx0XFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHRcXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHR9XFxyXFxuXFxyXFxuXFx0QG1lZGlhIChtaW4td2lkdGg6IDQ2OHB4KSB7XFxyXFxuXFx0XFx0Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcXHJcXG5cXHR9XFxyXFxuXFxyXFxuXFx0QG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XFxyXFxuXFx0XFx0Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTtcXHJcXG5cXHR9XFxyXFxuXFxyXFxuXFx0QG1lZGlhIChtaW4td2lkdGg6IDk2MHB4KSB7XFxyXFxuXFx0XFx0Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwgMWZyKTtcXHJcXG5cXHR9XFxyXFxuXFxyXFxuXFx0QG1lZGlhIChtaW4td2lkdGg6IDEyMDBweCkge1xcclxcblxcdFxcdGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7XFxyXFxuXFx0fVxcclxcbn1cXHJcXG5cXHJcXG4udGFibGUge1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG5cXHR3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXCIsXCIkZm9udEhlYWRlcjogXFxcIk1vbnRzZXJyYXRcXFwiO1xcclxcbiRmb250Qm9keTogXFxcIlJvYm90b1xcXCI7XFxyXFxuJHdoaXRlOiB3aGl0ZTtcXHJcXG4kYmxhY2s6IGJsYWNrO1xcclxcbiRsaWdodGJsdWU6ICMwMDdhZmY7XFxyXFxuJGxpZ2h0a2FoYXdhOiAjZmZkNzlkO1xcclxcbiRrYWhhd2E6I2EzNWYyZTtcXHJcXG4kZ3JheTogZ3JheTtcXHJcXG4kdWdvcm86ICM4MDAwMDA7XFxyXFxuJHByaW1hcnlCYWNrZ3JvdW5kOiAjMTQ4MDVlO1xcclxcbiRib3hTaGFkb3c6IDAgMXJlbSAxcmVtIHJnYmEoMCwgMCwgMCwgMC4wNSk7XFxyXFxuJGJveFNoYWRvd0Fuc3dlcnM6IDAgMC40cmVtIDEuNHJlbSAwIHJnYmEoMjUyLCAxODEsIDExNiwgMC41KTtcXHJcXG4kYm94U2hhZG93UmVhbEJveDogcmdiYSg2LCAyNCwgNDQsIDAuNCkgMHB4IDBweCAwcHggMnB4LCByZ2JhKDQ0LCAzNiwgNiwgMC42NSkgMHB4IDRweCA2cHggLTFweCwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KSAwcHggMXB4IDBweCBpbnNldDtcXHJcXG4kbWFpbkJhY2tHcm91bmQ6IHdoaXRlO1xcclxcbiRiYWNrR3JvdW5kOiAjZmZmY2VjO1xcclxcbiRyZWQ6IHJlZDtcXHJcXG4kY2FwdGlvbkJhY2tncm91bmQ6IGhzbCgwLCAwJSwgOTclKTtcXHJcXG4kYW5zd2VyQmFja2dyb3VuZDojZWVlO1wiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ubG9jYWxzID0ge1xuXHRcImNvbnRhaW5lclwiOiBcInJldmlld0Rpc3BsYXlfY29udGFpbmVyX191X2lER1wiLFxuXHRcImlubmVyQ29udGFpbmVyXCI6IFwicmV2aWV3RGlzcGxheV9pbm5lckNvbnRhaW5lcl9fZ1pCQWNcIixcblx0XCJsZWZ0SW5uZXJjb250YWluZXJCb2R5XCI6IFwicmV2aWV3RGlzcGxheV9sZWZ0SW5uZXJjb250YWluZXJCb2R5X19DNmk3OVwiLFxuXHRcInN0aWNreVwiOiBcInJldmlld0Rpc3BsYXlfc3RpY2t5X19ENk9yZ1wiLFxuXHRcInRvcGljSGVhZGVyXCI6IFwicmV2aWV3RGlzcGxheV90b3BpY0hlYWRlcl9fSEJNU2tcIixcblx0XCJ0aXRsZUxpc3RcIjogXCJyZXZpZXdEaXNwbGF5X3RpdGxlTGlzdF9fVkRVOG9cIixcblx0XCJ0b3BpY1RpdHRsZVwiOiBcInJldmlld0Rpc3BsYXlfdG9waWNUaXR0bGVfX1FhQnJ6XCIsXG5cdFwiQWN0aXZlXCI6IFwicmV2aWV3RGlzcGxheV9BY3RpdmVfXzZiVjlSXCIsXG5cdFwicmlnaHRJbm5lcmNvbnRhaW5lckJvZHlcIjogXCJyZXZpZXdEaXNwbGF5X3JpZ2h0SW5uZXJjb250YWluZXJCb2R5X190clRlZ1wiLFxuXHRcIkJvZHlIZWFkZXJcIjogXCJyZXZpZXdEaXNwbGF5X0JvZHlIZWFkZXJfXzFOY0N0XCIsXG5cdFwiQm9keUNvbnRlbnRcIjogXCJyZXZpZXdEaXNwbGF5X0JvZHlDb250ZW50X193bklFZ1wiLFxuXHRcIm5vdEZvdW5kXCI6IFwicmV2aWV3RGlzcGxheV9ub3RGb3VuZF9feEpuT2JcIixcblx0XCJtb2JpbGVcIjogXCJyZXZpZXdEaXNwbGF5X21vYmlsZV9fUTNid2NcIixcblx0XCJtb2RhbFwiOiBcInJldmlld0Rpc3BsYXlfbW9kYWxfX242S25fXCIsXG5cdFwidGFibGVcIjogXCJyZXZpZXdEaXNwbGF5X3RhYmxlX19KeEtDVlwiXG59O1xubW9kdWxlLmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!./node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!./node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./styles/reviewDisplay.module.scss\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/core/lib/styles/index.css":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/core/lib/styles/index.css ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--rpv-core__annotation--link-hover-background-color:rgba(255,255,0,.2);--rpv-core__annotation-popup-wrapper-background-color:#faf089;--rpv-core__annotation-popup-wrapper-box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);--rpv-core__annotation-popup-content-border-top-color:#1a202c;--rpv-core__arrow-border-color:rgba(0,0,0,.3);--rpv-core__asking-password-color:#000;--rpv-core__asking-password-wrapper-background-color:#fff;--rpv-core__asking-password-wrapper-border-color:rgba(0,0,0,.3);--rpv-core__button-background-color:rgba(0,0,0,.3);--rpv-core__button-color:#000;--rpv-core__doc-error-background-color:#fff;--rpv-core__doc-error-text-background-color:#c02424;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#fff;--rpv-core__inner-page-background-color:#fff;--rpv-core__menu-divider-border-bottom-color:rgba(0,0,0,.3);--rpv-core__menu-item-color:#000;--rpv-core__menu-item--hover-background-color:rgba(0,0,0,.1);--rpv-core__menu-item--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button-color:#000;--rpv-core__minimal-button--hover-background-color:rgba(0,0,0,.1);--rpv-core__minimal-button--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button--selected-background-color:rgba(0,0,0,.1);--rpv-core__modal-body-background-color:#fff;--rpv-core__modal-body-border-color:rgba(0,0,0,.3);--rpv-core__modal-overlay-background-color:rgba(0,0,0,.5);--rpv-core__page-layer-box-shadow:2px 2px 8px 0 rgba(0,0,0,.2);--rpv-core__popover-body-background-color:#fff;--rpv-core__popover-body-border-color:rgba(0,0,0,.3);--rpv-core__popover-body-color:#000;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__primary-button-color:#fff;--rpv-core__progress-bar-background-color:rgba(0,0,0,.1);--rpv-core__progress-bar-progress-background-color:#2566e8;--rpv-core__progress-bar-progress-color:#fff;--rpv-core__separator-border-bottom-color:rgba(0,0,0,.3);--rpv-core__spinner-border-color:rgba(0,0,0,.4);--rpv-core__spinner-border-transparent-color:transparent;--rpv-core__splitter-background-color:transparent;--rpv-core__splitter--hover-background-color:rgba(0,0,0,.2);--rpv-core__text-layer-text--selection-background-color:#00f;--rpv-core__text-layer-text--selection-color:transparent;--rpv-core__textbox-background-color:#fff;--rpv-core__textbox-border-color:rgba(0,0,0,.2);--rpv-core__textbox-color:#000;--rpv-core__tooltip-body-background-color:#000;--rpv-core__tooltip-body-color:#fff}.rpv-core__viewer--dark{--rpv-core__asking-password-background-color:#363636;--rpv-core__asking-password-color:#fff;--rpv-core__asking-password-wrapper-border-color:#191919;--rpv-core__asking-password-wrapper-background-color:#191919;--rpv-core__button-background-color:#171717;--rpv-core__button-color:#fff;--rpv-core__doc-error-background-color:#191919;--rpv-core__doc-error-text-background-color:#c02323;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#191919;--rpv-core__inner-page-background-color:#1a1a1a;--rpv-core__menu-divider-border-bottom-color:#000;--rpv-core__menu-item-color:#fff;--rpv-core__menu-item--hover-background-color:#2566e8;--rpv-core__menu-item--disabled-color:#5e5e5e;--rpv-core__minimal-button-color:#fff;--rpv-core__minimal-button--disabled-color:#5e5e5e;--rpv-core__minimal-button--hover-background-color:#191919;--rpv-core__minimal-button--selected-background-color:#1657bb;--rpv-core__modal-body-background-color:#363636;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__popover-body-background-color:#363636;--rpv-core__popover-body-color:#fff;--rpv-core__progress-bar-background-color:#000;--rpv-core__separator-border-bottom-color:#000;--rpv-core__spinner-border-color:#fff;--rpv-core__splitter-background-color:#1a1a1a;--rpv-core__splitter--hover-background-color:#2566e8;--rpv-core__textbox-background-color:#121212;--rpv-core__textbox-border-color:#121212;--rpv-core__textbox-color:#fff;--rpv-core__tooltip-body-background-color:#414141;--rpv-core__tooltip-body-color:#fff}.rpv-core__annotation,.rpv-core__arrow{position:absolute}.rpv-core__arrow{border-bottom:1px solid var(--rpv-core__arrow-border-color);border-left-color:var(--rpv-core__arrow-border-color);border-right:1px solid var(--rpv-core__arrow-border-color);border-top-color:var(--rpv-core__arrow-border-color);height:10px;width:10px;z-index:0}.rpv-core__arrow--tl{bottom:0;left:0;transform:translate(50%,50%) rotate(45deg)}.rpv-core__arrow--tc{left:50%}.rpv-core__arrow--tc,.rpv-core__arrow--tr{bottom:0;transform:translate(-50%,50%) rotate(45deg)}.rpv-core__arrow--tr{right:0}.rpv-core__arrow--rt{left:0;top:0;transform:translate(-50%,50%) rotate(135deg)}.rpv-core__arrow--rc{top:50%}.rpv-core__arrow--rb,.rpv-core__arrow--rc{left:0;transform:translate(-50%,-50%) rotate(135deg)}.rpv-core__arrow--rb{bottom:0}.rpv-core__arrow--bl{left:0;top:0;transform:translate(50%,-50%) rotate(225deg)}.rpv-core__arrow--bc{left:50%}.rpv-core__arrow--bc,.rpv-core__arrow--br{top:0;transform:translate(-50%,-50%) rotate(225deg)}.rpv-core__arrow--br{right:0}.rpv-core__arrow--lt{right:0;top:0;transform:translate(50%,50%) rotate(315deg)}.rpv-core__arrow--lc{top:50%}.rpv-core__arrow--lb,.rpv-core__arrow--lc{right:0;transform:translate(50%,-50%) rotate(315deg)}.rpv-core__arrow--lb{bottom:0}.rpv-core__asking-password{background-color:var(--rpv-core__asking-password-background-color);border-radius:.25rem;color:var(--rpv-core__asking-password-color);padding:2rem}.rpv-core__asking-password--rtl{direction:rtl}.rpv-core__asking-password-wrapper{align-items:center;background-color:var(--rpv-core__asking-password-wrapper-background-color);border:1px solid var(--rpv-core__asking-password-wrapper-border-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__asking-password-message{margin:.5rem 0}.rpv-core__asking-password-body{align-items:center;display:flex;justify-content:center}.rpv-core__asking-password-input{width:15rem}.rpv-core__asking-password-input--ltr{margin-right:.5rem}.rpv-core__asking-password-input--rtl{margin-left:.5rem}.rpv-core__button{background-color:var(--rpv-core__button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__button--rtl{direction:rtl}.rpv-core__canvas-layer{direction:ltr;left:0;overflow:hidden;position:absolute;top:0}.rpv-core__doc-error{align-items:center;background-color:var(--rpv-core__doc-error-background-color);display:flex;height:100%;justify-content:center}.rpv-core__doc-error--rtl{direction:rtl}.rpv-core__doc-error-text{background-color:var(--rpv-core__doc-error-text-background-color);border-radius:.25rem;color:var(--rpv-core__doc-error-text-color);line-height:1.5;max-width:50%;padding:.5rem}.rpv-core__doc-loading{align-items:center;background-color:var(--rpv-core__doc-loading-background-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__doc-loading--rtl{direction:rtl}.rpv-core__icon{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1;text-align:center}.rpv-core__icon--rtl{transform:scaleX(-1)}.rpv-core__inner-pages--rtl{direction:rtl}.rpv-core__inner-page{background-color:var(--rpv-core__inner-page-background-color);padding:.5rem}.rpv-core__annotation--link a{height:100%;left:0;position:absolute;top:0;width:100%}.rpv-core__annotation--link a:hover{background-color:var(--rpv-core__annotation--link-hover-background-color)}.rpv-core__menu{display:flex;flex-direction:column}.rpv-core__menu--rtl{direction:rtl;text-align:right}.rpv-core__menu-divider{border-bottom:1px solid var(--rpv-core__menu-divider-border-bottom-color);margin:.25rem 0}.rpv-core__menu-item{align-items:center;background-color:transparent;border:none;color:var(--rpv-core__menu-item-color);cursor:pointer;display:flex;justify-content:center;padding:.25rem 0;width:100%}.rpv-core__menu-item:focus{outline:0}.rpv-core__menu-item:focus,.rpv-core__menu-item:hover{background-color:var(--rpv-core__menu-item--hover-background-color)}.rpv-core__menu-item-icon{align-items:center;display:flex}.rpv-core__menu-item-icon--ltr{padding-left:1rem;padding-right:.5rem}.rpv-core__menu-item-icon--rtl{padding-left:.5rem;padding-right:1rem}.rpv-core__menu-item-label{flex-grow:1;flex-shrink:1;white-space:nowrap}.rpv-core__menu-item-label--ltr{padding-right:2rem}.rpv-core__menu-item-label--rtl{padding-left:2rem}.rpv-core__menu-item-check--ltr{padding-right:1rem}.rpv-core__menu-item-check--rtl{padding-left:1rem}.rpv-core__menu-item--disabled{color:var(--rpv-core__menu-item--disabled-color)}.rpv-core__menu-item--disabled:hover{background-color:transparent}.rpv-core__menu-item--ltr{text-align:left}.rpv-core__menu-item--rtl{direction:rtl;text-align:right}.rpv-core__minimal-button{background-color:transparent;border:none;border-radius:.25rem;color:var(--rpv-core__minimal-button-color);cursor:pointer;height:2rem;padding:0 .5rem}.rpv-core__minimal-button:hover{background-color:var(--rpv-core__minimal-button--hover-background-color)}.rpv-core__minimal-button--disabled{color:var(--rpv-core__minimal-button--disabled-color)}.rpv-core__minimal-button--rtl{direction:rtl}.rpv-core__minimal-button--selected{background-color:var(--rpv-core__minimal-button--selected-background-color)}.rpv-core__modal-body{background-color:var(--rpv-core__modal-body-background-color);border:1px solid var(--rpv-core__modal-body-border-color);border-radius:.25rem;margin:1rem;max-width:32rem;overflow:auto}.rpv-core__modal-body--rtl{direction:rtl}.rpv-core__modal-overlay{background-color:var(--rpv-core__modal-overlay-background-color);bottom:0;left:0;position:fixed;right:0;top:0;z-index:9999}.rpv-core__modal-overlay,.rpv-core__page-layer{align-items:center;display:flex;justify-content:center}.rpv-core__page-layer{box-shadow:var(--rpv-core__page-layer-box-shadow);margin:0 auto;position:relative}.rpv-core__page-size-calculator{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.rpv-core__popover-body{border:1px solid var(--rpv-core__popover-body-border-color);border-radius:.25rem;color:var(--rpv-core__popover-body-color);left:0;padding:.5rem 0;position:absolute;top:-9999px;z-index:9999}.rpv-core__popover-body,.rpv-core__popover-body-arrow{background-color:var(--rpv-core__popover-body-background-color)}.rpv-core__popover-body--rtl{direction:rtl}.rpv-core__popover-overlay{bottom:0;left:0;position:fixed;right:0;top:0}.rpv-core__annotation-popup-wrapper{background-color:var(--rpv-core__annotation-popup-wrapper-background-color);box-shadow:var(--rpv-core__annotation-popup-wrapper-box-shadow);font-size:.75rem;padding:.25rem;word-break:break-word}.rpv-core__annotation-popup-wrapper--rtl{direction:rtl}.rpv-core__annotation-popup-title{font-weight:600;margin-bottom:.25rem}.rpv-core__annotation-popup-date{font-size:.5rem}.rpv-core__annotation-popup-content{border-top:1px solid var(--rpv-core__annotation-popup-content-border-top-color);max-height:16rem;overflow:auto;padding:.25rem}.rpv-core__primary-button{background-color:var(--rpv-core__primary-button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__primary-button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__primary-button--rtl{direction:rtl}.rpv-core__progress-bar{background-color:var(--rpv-core__progress-bar-background-color);border-radius:9999px;padding:.125rem}.rpv-core__progress-bar--rtl{direction:rtl}.rpv-core__progress-bar-progress{align-items:center;background-color:var(--rpv-core__progress-bar-progress-background-color);border-radius:9999px;color:var(--rpv-core__progress-bar-progress-color);display:flex;font-size:.75rem;height:.75rem;justify-content:center}.rpv-core__separator{border-bottom:1px solid var(--rpv-core__separator-border-bottom-color)}.rpv-core__spinner{border-bottom:2px solid var(--rpv-core__spinner-border-transparent-color);border-left:2px solid var(--rpv-core__spinner-border-transparent-color);border-radius:9999px;border-right:2px solid var(--rpv-core__spinner-border-color);border-top:2px solid var(--rpv-core__spinner-border-color)}.rpv-core__spinner--animating{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:rpv-core__spinner-transform;animation-name:rpv-core__spinner-transform;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes rpv-core__spinner-transform{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rpv-core__spinner-transform{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.rpv-core__splitter{background-color:var(--rpv-core__splitter-background-color);cursor:ew-resize;height:100%;width:.25rem}.rpv-core__splitter--resizing,.rpv-core__splitter:hover{background-color:var(--rpv-core__splitter--hover-background-color);cursor:col-resize}.rpv-core__splitter-body--resizing{cursor:col-resize}.rpv-core__splitter-sibling--resizing{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rpv-core__textbox{background-color:var(--rpv-core__textbox-background-color);border:1px solid var(--rpv-core__textbox-border-color);border-radius:.25rem;box-sizing:border-box;color:var(--rpv-core__textbox-color);height:2rem;padding:0 .5rem;width:100%}.rpv-core__textbox--rtl{direction:rtl}.rpv-core__text-layer{height:100%;left:0;line-height:1;opacity:.2;position:absolute;top:0;width:100%}.rpv-core__text-layer ::-moz-selection{background-color:var(--rpv-core__text-layer-text--selection-background-color);color:var(--rpv-core__text-layer-text--selection-color)}.rpv-core__text-layer ::selection{background-color:var(--rpv-core__text-layer-text--selection-background-color);color:var(--rpv-core__text-layer-text--selection-color)}.rpv-core__text-layer-text{color:transparent;cursor:text;position:absolute;transform-origin:0 0;white-space:pre}.rpv-core__tooltip-body{background-color:var(--rpv-core__tooltip-body-background-color);border-radius:.25rem;color:var(--rpv-core__tooltip-body-color);left:0;max-width:20rem;position:absolute;text-align:center;top:-9999px;z-index:9999}.rpv-core__tooltip-body--rtl{direction:rtl}.rpv-core__tooltip-body-arrow{background-color:var(--rpv-core__tooltip-body-background-color)}.rpv-core__tooltip-body-content{padding:.5rem}.rpv-core__display--block{display:block}.rpv-core__display--hidden{display:none}@media (min-width:640px){.rpv-core__display--hidden-small{display:none}.rpv-core__display--block-small{display:block}}@media (min-width:768px){.rpv-core__display--hidden-medium{display:none}.rpv-core__display--block-medium{display:block}}@media (min-width:1024px){.rpv-core__display--hidden-large{display:none}.rpv-core__display--block-large{display:block}}\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/@react-pdf-viewer/core/lib/styles/index.css\"],\"names\":[],\"mappings\":\"AAAA,MAAM,sEAAsE,CAAC,6DAA6D,CAAC,8GAA8G,CAAC,6DAA6D,CAAC,6CAA6C,CAAC,sCAAsC,CAAC,yDAAyD,CAAC,+DAA+D,CAAC,kDAAkD,CAAC,6BAA6B,CAAC,2CAA2C,CAAC,mDAAmD,CAAC,qCAAqC,CAAC,6CAA6C,CAAC,4CAA4C,CAAC,2DAA2D,CAAC,gCAAgC,CAAC,4DAA4D,CAAC,oDAAoD,CAAC,qCAAqC,CAAC,iEAAiE,CAAC,yDAAyD,CAAC,oEAAoE,CAAC,4CAA4C,CAAC,kDAAkD,CAAC,yDAAyD,CAAC,8DAA8D,CAAC,8CAA8C,CAAC,oDAAoD,CAAC,mCAAmC,CAAC,mDAAmD,CAAC,qCAAqC,CAAC,wDAAwD,CAAC,0DAA0D,CAAC,4CAA4C,CAAC,wDAAwD,CAAC,+CAA+C,CAAC,wDAAwD,CAAC,iDAAiD,CAAC,2DAA2D,CAAC,4DAA4D,CAAC,wDAAwD,CAAC,yCAAyC,CAAC,+CAA+C,CAAC,8BAA8B,CAAC,8CAA8C,CAAC,mCAAmC,CAAC,wBAAwB,oDAAoD,CAAC,sCAAsC,CAAC,wDAAwD,CAAC,4DAA4D,CAAC,2CAA2C,CAAC,6BAA6B,CAAC,8CAA8C,CAAC,mDAAmD,CAAC,qCAAqC,CAAC,gDAAgD,CAAC,+CAA+C,CAAC,iDAAiD,CAAC,gCAAgC,CAAC,qDAAqD,CAAC,6CAA6C,CAAC,qCAAqC,CAAC,kDAAkD,CAAC,0DAA0D,CAAC,6DAA6D,CAAC,+CAA+C,CAAC,mDAAmD,CAAC,iDAAiD,CAAC,mCAAmC,CAAC,8CAA8C,CAAC,8CAA8C,CAAC,qCAAqC,CAAC,6CAA6C,CAAC,oDAAoD,CAAC,4CAA4C,CAAC,wCAAwC,CAAC,8BAA8B,CAAC,iDAAiD,CAAC,mCAAmC,CAAC,uCAAuC,iBAAiB,CAAC,iBAAiB,2DAA2D,CAAC,qDAAqD,CAAC,0DAA0D,CAAC,oDAAoD,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,qBAAqB,QAAQ,CAAC,MAAM,CAAC,0CAA0C,CAAC,qBAAqB,QAAQ,CAAC,0CAA0C,QAAQ,CAAC,2CAA2C,CAAC,qBAAqB,OAAO,CAAC,qBAAqB,MAAM,CAAC,KAAK,CAAC,4CAA4C,CAAC,qBAAqB,OAAO,CAAC,0CAA0C,MAAM,CAAC,6CAA6C,CAAC,qBAAqB,QAAQ,CAAC,qBAAqB,MAAM,CAAC,KAAK,CAAC,4CAA4C,CAAC,qBAAqB,QAAQ,CAAC,0CAA0C,KAAK,CAAC,6CAA6C,CAAC,qBAAqB,OAAO,CAAC,qBAAqB,OAAO,CAAC,KAAK,CAAC,2CAA2C,CAAC,qBAAqB,OAAO,CAAC,0CAA0C,OAAO,CAAC,4CAA4C,CAAC,qBAAqB,QAAQ,CAAC,2BAA2B,kEAAkE,CAAC,oBAAoB,CAAC,4CAA4C,CAAC,YAAY,CAAC,gCAAgC,aAAa,CAAC,mCAAmC,kBAAkB,CAAC,0EAA0E,CAAC,sEAAsE,CAAC,YAAY,CAAC,WAAW,CAAC,sBAAsB,CAAC,UAAU,CAAC,mCAAmC,cAAc,CAAC,gCAAgC,kBAAkB,CAAC,YAAY,CAAC,sBAAsB,CAAC,iCAAiC,WAAW,CAAC,sCAAsC,kBAAkB,CAAC,sCAAsC,iBAAiB,CAAC,kBAAkB,yDAAyD,CAAC,WAAW,CAAC,oBAAoB,CAAC,mCAAmC,CAAC,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,uBAAuB,aAAa,CAAC,wBAAwB,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,CAAC,qBAAqB,kBAAkB,CAAC,4DAA4D,CAAC,YAAY,CAAC,WAAW,CAAC,sBAAsB,CAAC,0BAA0B,aAAa,CAAC,0BAA0B,iEAAiE,CAAC,oBAAoB,CAAC,2CAA2C,CAAC,eAAe,CAAC,aAAa,CAAC,aAAa,CAAC,uBAAuB,kBAAkB,CAAC,8DAA8D,CAAC,YAAY,CAAC,WAAW,CAAC,sBAAsB,CAAC,UAAU,CAAC,4BAA4B,aAAa,CAAC,gBAAgB,SAAS,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,cAAc,CAAC,iBAAiB,CAAC,qBAAqB,oBAAoB,CAAC,4BAA4B,aAAa,CAAC,sBAAsB,6DAA6D,CAAC,aAAa,CAAC,8BAA8B,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,UAAU,CAAC,oCAAoC,yEAAyE,CAAC,gBAAgB,YAAY,CAAC,qBAAqB,CAAC,qBAAqB,aAAa,CAAC,gBAAgB,CAAC,wBAAwB,yEAAyE,CAAC,eAAe,CAAC,qBAAqB,kBAAkB,CAAC,4BAA4B,CAAC,WAAW,CAAC,sCAAsC,CAAC,cAAc,CAAC,YAAY,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,UAAU,CAAC,2BAA2B,SAAS,CAAC,sDAAsD,mEAAmE,CAAC,0BAA0B,kBAAkB,CAAC,YAAY,CAAC,+BAA+B,iBAAiB,CAAC,mBAAmB,CAAC,+BAA+B,kBAAkB,CAAC,kBAAkB,CAAC,2BAA2B,WAAW,CAAC,aAAa,CAAC,kBAAkB,CAAC,gCAAgC,kBAAkB,CAAC,gCAAgC,iBAAiB,CAAC,gCAAgC,kBAAkB,CAAC,gCAAgC,iBAAiB,CAAC,+BAA+B,gDAAgD,CAAC,qCAAqC,4BAA4B,CAAC,0BAA0B,eAAe,CAAC,0BAA0B,aAAa,CAAC,gBAAgB,CAAC,0BAA0B,4BAA4B,CAAC,WAAW,CAAC,oBAAoB,CAAC,2CAA2C,CAAC,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,gCAAgC,wEAAwE,CAAC,oCAAoC,qDAAqD,CAAC,+BAA+B,aAAa,CAAC,oCAAoC,2EAA2E,CAAC,sBAAsB,6DAA6D,CAAC,yDAAyD,CAAC,oBAAoB,CAAC,WAAW,CAAC,eAAe,CAAC,aAAa,CAAC,2BAA2B,aAAa,CAAC,yBAAyB,gEAAgE,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,+CAA+C,kBAAkB,CAAC,YAAY,CAAC,sBAAsB,CAAC,sBAAsB,iDAAiD,CAAC,aAAa,CAAC,iBAAiB,CAAC,gCAAgC,kBAAkB,CAAC,YAAY,CAAC,WAAW,CAAC,sBAAsB,CAAC,UAAU,CAAC,wBAAwB,2DAA2D,CAAC,oBAAoB,CAAC,yCAAyC,CAAC,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,WAAW,CAAC,YAAY,CAAC,sDAAsD,+DAA+D,CAAC,6BAA6B,aAAa,CAAC,2BAA2B,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,oCAAoC,2EAA2E,CAAC,+DAA+D,CAAC,gBAAgB,CAAC,cAAc,CAAC,qBAAqB,CAAC,yCAAyC,aAAa,CAAC,kCAAkC,eAAe,CAAC,oBAAoB,CAAC,iCAAiC,eAAe,CAAC,oCAAoC,+EAA+E,CAAC,gBAAgB,CAAC,aAAa,CAAC,cAAc,CAAC,0BAA0B,iEAAiE,CAAC,WAAW,CAAC,oBAAoB,CAAC,2CAA2C,CAAC,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,+BAA+B,aAAa,CAAC,wBAAwB,+DAA+D,CAAC,oBAAoB,CAAC,eAAe,CAAC,6BAA6B,aAAa,CAAC,iCAAiC,kBAAkB,CAAC,wEAAwE,CAAC,oBAAoB,CAAC,kDAAkD,CAAC,YAAY,CAAC,gBAAgB,CAAC,aAAa,CAAC,sBAAsB,CAAC,qBAAqB,sEAAsE,CAAC,mBAAmB,yEAAyE,CAAC,uEAAuE,CAAC,oBAAoB,CAAC,4DAA4D,CAAC,0DAA0D,CAAC,8BAA8B,8BAAsB,CAAtB,sBAAsB,CAAC,0CAAkC,CAAlC,kCAAkC,CAAC,kDAA0C,CAA1C,0CAA0C,CAAC,wCAA+B,CAA/B,gCAAgC,CAAC,+CAAuC,GAAG,sBAAsB,CAAC,GAAG,uBAAuB,CAAC,CAA5F,uCAAuC,GAAG,sBAAsB,CAAC,GAAG,uBAAuB,CAAC,CAAC,oBAAoB,2DAA2D,CAAC,gBAAgB,CAAC,WAAW,CAAC,YAAY,CAAC,wDAAwD,kEAAkE,CAAC,iBAAiB,CAAC,mCAAmC,iBAAiB,CAAC,sCAAsC,mBAAmB,CAAC,wBAAe,CAAf,qBAAe,CAAf,oBAAe,CAAf,gBAAgB,CAAC,mBAAmB,0DAA0D,CAAC,sDAAsD,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,oCAAoC,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,CAAC,wBAAwB,aAAa,CAAC,sBAAsB,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,iBAAiB,CAAC,KAAK,CAAC,UAAU,CAAC,uCAAkC,6EAA6E,CAAC,uDAAuD,CAAvK,kCAAkC,6EAA6E,CAAC,uDAAuD,CAAC,2BAA2B,iBAAiB,CAAC,WAAW,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,eAAe,CAAC,wBAAwB,+DAA+D,CAAC,oBAAoB,CAAC,yCAAyC,CAAC,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,WAAW,CAAC,YAAY,CAAC,6BAA6B,aAAa,CAAC,8BAA8B,+DAA+D,CAAC,gCAAgC,aAAa,CAAC,0BAA0B,aAAa,CAAC,2BAA2B,YAAY,CAAC,yBAAyB,iCAAiC,YAAY,CAAC,gCAAgC,aAAa,CAAC,CAAC,yBAAyB,kCAAkC,YAAY,CAAC,iCAAiC,aAAa,CAAC,CAAC,0BAA0B,iCAAiC,YAAY,CAAC,gCAAgC,aAAa,CAAC\",\"sourcesContent\":[\":root{--rpv-core__annotation--link-hover-background-color:rgba(255,255,0,.2);--rpv-core__annotation-popup-wrapper-background-color:#faf089;--rpv-core__annotation-popup-wrapper-box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);--rpv-core__annotation-popup-content-border-top-color:#1a202c;--rpv-core__arrow-border-color:rgba(0,0,0,.3);--rpv-core__asking-password-color:#000;--rpv-core__asking-password-wrapper-background-color:#fff;--rpv-core__asking-password-wrapper-border-color:rgba(0,0,0,.3);--rpv-core__button-background-color:rgba(0,0,0,.3);--rpv-core__button-color:#000;--rpv-core__doc-error-background-color:#fff;--rpv-core__doc-error-text-background-color:#c02424;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#fff;--rpv-core__inner-page-background-color:#fff;--rpv-core__menu-divider-border-bottom-color:rgba(0,0,0,.3);--rpv-core__menu-item-color:#000;--rpv-core__menu-item--hover-background-color:rgba(0,0,0,.1);--rpv-core__menu-item--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button-color:#000;--rpv-core__minimal-button--hover-background-color:rgba(0,0,0,.1);--rpv-core__minimal-button--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button--selected-background-color:rgba(0,0,0,.1);--rpv-core__modal-body-background-color:#fff;--rpv-core__modal-body-border-color:rgba(0,0,0,.3);--rpv-core__modal-overlay-background-color:rgba(0,0,0,.5);--rpv-core__page-layer-box-shadow:2px 2px 8px 0 rgba(0,0,0,.2);--rpv-core__popover-body-background-color:#fff;--rpv-core__popover-body-border-color:rgba(0,0,0,.3);--rpv-core__popover-body-color:#000;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__primary-button-color:#fff;--rpv-core__progress-bar-background-color:rgba(0,0,0,.1);--rpv-core__progress-bar-progress-background-color:#2566e8;--rpv-core__progress-bar-progress-color:#fff;--rpv-core__separator-border-bottom-color:rgba(0,0,0,.3);--rpv-core__spinner-border-color:rgba(0,0,0,.4);--rpv-core__spinner-border-transparent-color:transparent;--rpv-core__splitter-background-color:transparent;--rpv-core__splitter--hover-background-color:rgba(0,0,0,.2);--rpv-core__text-layer-text--selection-background-color:#00f;--rpv-core__text-layer-text--selection-color:transparent;--rpv-core__textbox-background-color:#fff;--rpv-core__textbox-border-color:rgba(0,0,0,.2);--rpv-core__textbox-color:#000;--rpv-core__tooltip-body-background-color:#000;--rpv-core__tooltip-body-color:#fff}.rpv-core__viewer--dark{--rpv-core__asking-password-background-color:#363636;--rpv-core__asking-password-color:#fff;--rpv-core__asking-password-wrapper-border-color:#191919;--rpv-core__asking-password-wrapper-background-color:#191919;--rpv-core__button-background-color:#171717;--rpv-core__button-color:#fff;--rpv-core__doc-error-background-color:#191919;--rpv-core__doc-error-text-background-color:#c02323;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#191919;--rpv-core__inner-page-background-color:#1a1a1a;--rpv-core__menu-divider-border-bottom-color:#000;--rpv-core__menu-item-color:#fff;--rpv-core__menu-item--hover-background-color:#2566e8;--rpv-core__menu-item--disabled-color:#5e5e5e;--rpv-core__minimal-button-color:#fff;--rpv-core__minimal-button--disabled-color:#5e5e5e;--rpv-core__minimal-button--hover-background-color:#191919;--rpv-core__minimal-button--selected-background-color:#1657bb;--rpv-core__modal-body-background-color:#363636;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__popover-body-background-color:#363636;--rpv-core__popover-body-color:#fff;--rpv-core__progress-bar-background-color:#000;--rpv-core__separator-border-bottom-color:#000;--rpv-core__spinner-border-color:#fff;--rpv-core__splitter-background-color:#1a1a1a;--rpv-core__splitter--hover-background-color:#2566e8;--rpv-core__textbox-background-color:#121212;--rpv-core__textbox-border-color:#121212;--rpv-core__textbox-color:#fff;--rpv-core__tooltip-body-background-color:#414141;--rpv-core__tooltip-body-color:#fff}.rpv-core__annotation,.rpv-core__arrow{position:absolute}.rpv-core__arrow{border-bottom:1px solid var(--rpv-core__arrow-border-color);border-left-color:var(--rpv-core__arrow-border-color);border-right:1px solid var(--rpv-core__arrow-border-color);border-top-color:var(--rpv-core__arrow-border-color);height:10px;width:10px;z-index:0}.rpv-core__arrow--tl{bottom:0;left:0;transform:translate(50%,50%) rotate(45deg)}.rpv-core__arrow--tc{left:50%}.rpv-core__arrow--tc,.rpv-core__arrow--tr{bottom:0;transform:translate(-50%,50%) rotate(45deg)}.rpv-core__arrow--tr{right:0}.rpv-core__arrow--rt{left:0;top:0;transform:translate(-50%,50%) rotate(135deg)}.rpv-core__arrow--rc{top:50%}.rpv-core__arrow--rb,.rpv-core__arrow--rc{left:0;transform:translate(-50%,-50%) rotate(135deg)}.rpv-core__arrow--rb{bottom:0}.rpv-core__arrow--bl{left:0;top:0;transform:translate(50%,-50%) rotate(225deg)}.rpv-core__arrow--bc{left:50%}.rpv-core__arrow--bc,.rpv-core__arrow--br{top:0;transform:translate(-50%,-50%) rotate(225deg)}.rpv-core__arrow--br{right:0}.rpv-core__arrow--lt{right:0;top:0;transform:translate(50%,50%) rotate(315deg)}.rpv-core__arrow--lc{top:50%}.rpv-core__arrow--lb,.rpv-core__arrow--lc{right:0;transform:translate(50%,-50%) rotate(315deg)}.rpv-core__arrow--lb{bottom:0}.rpv-core__asking-password{background-color:var(--rpv-core__asking-password-background-color);border-radius:.25rem;color:var(--rpv-core__asking-password-color);padding:2rem}.rpv-core__asking-password--rtl{direction:rtl}.rpv-core__asking-password-wrapper{align-items:center;background-color:var(--rpv-core__asking-password-wrapper-background-color);border:1px solid var(--rpv-core__asking-password-wrapper-border-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__asking-password-message{margin:.5rem 0}.rpv-core__asking-password-body{align-items:center;display:flex;justify-content:center}.rpv-core__asking-password-input{width:15rem}.rpv-core__asking-password-input--ltr{margin-right:.5rem}.rpv-core__asking-password-input--rtl{margin-left:.5rem}.rpv-core__button{background-color:var(--rpv-core__button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__button--rtl{direction:rtl}.rpv-core__canvas-layer{direction:ltr;left:0;overflow:hidden;position:absolute;top:0}.rpv-core__doc-error{align-items:center;background-color:var(--rpv-core__doc-error-background-color);display:flex;height:100%;justify-content:center}.rpv-core__doc-error--rtl{direction:rtl}.rpv-core__doc-error-text{background-color:var(--rpv-core__doc-error-text-background-color);border-radius:.25rem;color:var(--rpv-core__doc-error-text-color);line-height:1.5;max-width:50%;padding:.5rem}.rpv-core__doc-loading{align-items:center;background-color:var(--rpv-core__doc-loading-background-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__doc-loading--rtl{direction:rtl}.rpv-core__icon{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1;text-align:center}.rpv-core__icon--rtl{transform:scaleX(-1)}.rpv-core__inner-pages--rtl{direction:rtl}.rpv-core__inner-page{background-color:var(--rpv-core__inner-page-background-color);padding:.5rem}.rpv-core__annotation--link a{height:100%;left:0;position:absolute;top:0;width:100%}.rpv-core__annotation--link a:hover{background-color:var(--rpv-core__annotation--link-hover-background-color)}.rpv-core__menu{display:flex;flex-direction:column}.rpv-core__menu--rtl{direction:rtl;text-align:right}.rpv-core__menu-divider{border-bottom:1px solid var(--rpv-core__menu-divider-border-bottom-color);margin:.25rem 0}.rpv-core__menu-item{align-items:center;background-color:transparent;border:none;color:var(--rpv-core__menu-item-color);cursor:pointer;display:flex;justify-content:center;padding:.25rem 0;width:100%}.rpv-core__menu-item:focus{outline:0}.rpv-core__menu-item:focus,.rpv-core__menu-item:hover{background-color:var(--rpv-core__menu-item--hover-background-color)}.rpv-core__menu-item-icon{align-items:center;display:flex}.rpv-core__menu-item-icon--ltr{padding-left:1rem;padding-right:.5rem}.rpv-core__menu-item-icon--rtl{padding-left:.5rem;padding-right:1rem}.rpv-core__menu-item-label{flex-grow:1;flex-shrink:1;white-space:nowrap}.rpv-core__menu-item-label--ltr{padding-right:2rem}.rpv-core__menu-item-label--rtl{padding-left:2rem}.rpv-core__menu-item-check--ltr{padding-right:1rem}.rpv-core__menu-item-check--rtl{padding-left:1rem}.rpv-core__menu-item--disabled{color:var(--rpv-core__menu-item--disabled-color)}.rpv-core__menu-item--disabled:hover{background-color:transparent}.rpv-core__menu-item--ltr{text-align:left}.rpv-core__menu-item--rtl{direction:rtl;text-align:right}.rpv-core__minimal-button{background-color:transparent;border:none;border-radius:.25rem;color:var(--rpv-core__minimal-button-color);cursor:pointer;height:2rem;padding:0 .5rem}.rpv-core__minimal-button:hover{background-color:var(--rpv-core__minimal-button--hover-background-color)}.rpv-core__minimal-button--disabled{color:var(--rpv-core__minimal-button--disabled-color)}.rpv-core__minimal-button--rtl{direction:rtl}.rpv-core__minimal-button--selected{background-color:var(--rpv-core__minimal-button--selected-background-color)}.rpv-core__modal-body{background-color:var(--rpv-core__modal-body-background-color);border:1px solid var(--rpv-core__modal-body-border-color);border-radius:.25rem;margin:1rem;max-width:32rem;overflow:auto}.rpv-core__modal-body--rtl{direction:rtl}.rpv-core__modal-overlay{background-color:var(--rpv-core__modal-overlay-background-color);bottom:0;left:0;position:fixed;right:0;top:0;z-index:9999}.rpv-core__modal-overlay,.rpv-core__page-layer{align-items:center;display:flex;justify-content:center}.rpv-core__page-layer{box-shadow:var(--rpv-core__page-layer-box-shadow);margin:0 auto;position:relative}.rpv-core__page-size-calculator{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.rpv-core__popover-body{border:1px solid var(--rpv-core__popover-body-border-color);border-radius:.25rem;color:var(--rpv-core__popover-body-color);left:0;padding:.5rem 0;position:absolute;top:-9999px;z-index:9999}.rpv-core__popover-body,.rpv-core__popover-body-arrow{background-color:var(--rpv-core__popover-body-background-color)}.rpv-core__popover-body--rtl{direction:rtl}.rpv-core__popover-overlay{bottom:0;left:0;position:fixed;right:0;top:0}.rpv-core__annotation-popup-wrapper{background-color:var(--rpv-core__annotation-popup-wrapper-background-color);box-shadow:var(--rpv-core__annotation-popup-wrapper-box-shadow);font-size:.75rem;padding:.25rem;word-break:break-word}.rpv-core__annotation-popup-wrapper--rtl{direction:rtl}.rpv-core__annotation-popup-title{font-weight:600;margin-bottom:.25rem}.rpv-core__annotation-popup-date{font-size:.5rem}.rpv-core__annotation-popup-content{border-top:1px solid var(--rpv-core__annotation-popup-content-border-top-color);max-height:16rem;overflow:auto;padding:.25rem}.rpv-core__primary-button{background-color:var(--rpv-core__primary-button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__primary-button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__primary-button--rtl{direction:rtl}.rpv-core__progress-bar{background-color:var(--rpv-core__progress-bar-background-color);border-radius:9999px;padding:.125rem}.rpv-core__progress-bar--rtl{direction:rtl}.rpv-core__progress-bar-progress{align-items:center;background-color:var(--rpv-core__progress-bar-progress-background-color);border-radius:9999px;color:var(--rpv-core__progress-bar-progress-color);display:flex;font-size:.75rem;height:.75rem;justify-content:center}.rpv-core__separator{border-bottom:1px solid var(--rpv-core__separator-border-bottom-color)}.rpv-core__spinner{border-bottom:2px solid var(--rpv-core__spinner-border-transparent-color);border-left:2px solid var(--rpv-core__spinner-border-transparent-color);border-radius:9999px;border-right:2px solid var(--rpv-core__spinner-border-color);border-top:2px solid var(--rpv-core__spinner-border-color)}.rpv-core__spinner--animating{animation-duration:.4s;animation-iteration-count:infinite;animation-name:rpv-core__spinner-transform;animation-timing-function:linear}@keyframes rpv-core__spinner-transform{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.rpv-core__splitter{background-color:var(--rpv-core__splitter-background-color);cursor:ew-resize;height:100%;width:.25rem}.rpv-core__splitter--resizing,.rpv-core__splitter:hover{background-color:var(--rpv-core__splitter--hover-background-color);cursor:col-resize}.rpv-core__splitter-body--resizing{cursor:col-resize}.rpv-core__splitter-sibling--resizing{pointer-events:none;user-select:none}.rpv-core__textbox{background-color:var(--rpv-core__textbox-background-color);border:1px solid var(--rpv-core__textbox-border-color);border-radius:.25rem;box-sizing:border-box;color:var(--rpv-core__textbox-color);height:2rem;padding:0 .5rem;width:100%}.rpv-core__textbox--rtl{direction:rtl}.rpv-core__text-layer{height:100%;left:0;line-height:1;opacity:.2;position:absolute;top:0;width:100%}.rpv-core__text-layer ::selection{background-color:var(--rpv-core__text-layer-text--selection-background-color);color:var(--rpv-core__text-layer-text--selection-color)}.rpv-core__text-layer-text{color:transparent;cursor:text;position:absolute;transform-origin:0 0;white-space:pre}.rpv-core__tooltip-body{background-color:var(--rpv-core__tooltip-body-background-color);border-radius:.25rem;color:var(--rpv-core__tooltip-body-color);left:0;max-width:20rem;position:absolute;text-align:center;top:-9999px;z-index:9999}.rpv-core__tooltip-body--rtl{direction:rtl}.rpv-core__tooltip-body-arrow{background-color:var(--rpv-core__tooltip-body-background-color)}.rpv-core__tooltip-body-content{padding:.5rem}.rpv-core__display--block{display:block}.rpv-core__display--hidden{display:none}@media (min-width:640px){.rpv-core__display--hidden-small{display:none}.rpv-core__display--block-small{display:block}}@media (min-width:768px){.rpv-core__display--hidden-medium{display:none}.rpv-core__display--block-medium{display:block}}@media (min-width:1024px){.rpv-core__display--hidden-large{display:none}.rpv-core__display--block-large{display:block}}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls3XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbN10udXNlWzJdIS4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2NvcmUvbGliL3N0eWxlcy9pbmRleC5jc3MuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDb0g7QUFDcEgsOEJBQThCLHFHQUEyQjtBQUN6RDtBQUNBLGdEQUFnRCx1RUFBdUUsOERBQThELCtHQUErRyw4REFBOEQsOENBQThDLHVDQUF1QywwREFBMEQsZ0VBQWdFLG1EQUFtRCw4QkFBOEIsNENBQTRDLG9EQUFvRCxzQ0FBc0MsOENBQThDLDZDQUE2Qyw0REFBNEQsaUNBQWlDLDZEQUE2RCxxREFBcUQsc0NBQXNDLGtFQUFrRSwwREFBMEQscUVBQXFFLDZDQUE2QyxtREFBbUQsMERBQTBELCtEQUErRCwrQ0FBK0MscURBQXFELG9DQUFvQyxvREFBb0Qsc0NBQXNDLHlEQUF5RCwyREFBMkQsNkNBQTZDLHlEQUF5RCxnREFBZ0QseURBQXlELGtEQUFrRCw0REFBNEQsNkRBQTZELHlEQUF5RCwwQ0FBMEMsZ0RBQWdELCtCQUErQiwrQ0FBK0Msb0NBQW9DLHdCQUF3QixxREFBcUQsdUNBQXVDLHlEQUF5RCw2REFBNkQsNENBQTRDLDhCQUE4QiwrQ0FBK0Msb0RBQW9ELHNDQUFzQyxpREFBaUQsZ0RBQWdELGtEQUFrRCxpQ0FBaUMsc0RBQXNELDhDQUE4QyxzQ0FBc0MsbURBQW1ELDJEQUEyRCw4REFBOEQsZ0RBQWdELG9EQUFvRCxrREFBa0Qsb0NBQW9DLCtDQUErQywrQ0FBK0Msc0NBQXNDLDhDQUE4QyxxREFBcUQs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QXFCLHNCQUFzQixxQ0FBcUMsWUFBWSxnQkFBZ0IsV0FBVyx3QkFBd0IsY0FBYyxzQkFBc0IsWUFBWSxPQUFPLGNBQWMsV0FBVyxrQkFBa0IsTUFBTSxXQUFXLGtDQUFrQyw4RUFBOEUsd0RBQXdELDJCQUEyQixrQkFBa0IsWUFBWSxrQkFBa0IscUJBQXFCLGdCQUFnQix3QkFBd0IsZ0VBQWdFLHFCQUFxQiwwQ0FBMEMsT0FBTyxnQkFBZ0Isa0JBQWtCLGtCQUFrQixZQUFZLGFBQWEsNkJBQTZCLGNBQWMsOEJBQThCLGdFQUFnRSxnQ0FBZ0MsY0FBYywwQkFBMEIsY0FBYywyQkFBMkIsYUFBYSx5QkFBeUIsaUNBQWlDLGFBQWEsZ0NBQWdDLGVBQWUseUJBQXlCLGtDQUFrQyxhQUFhLGlDQUFpQyxlQUFlLDBCQUEwQixpQ0FBaUMsYUFBYSxnQ0FBZ0MsZUFBZSxtQkFBbUI7QUFDemdqQztBQUNBLCtEQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9jb3JlL2xpYi9zdHlsZXMvaW5kZXguY3NzPzZhNTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3R7LS1ycHYtY29yZV9fYW5ub3RhdGlvbi0tbGluay1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwwLC4yKTstLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojZmFmMDg5Oy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlci1ib3gtc2hhZG93OjAgMTBweCAxNXB4IC0zcHggcmdiYSgwLDAsMCwuMSksMCA0cHggNnB4IC0ycHggcmdiYSgwLDAsMCwuMDUpOy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudC1ib3JkZXItdG9wLWNvbG9yOiMxYTIwMmM7LS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtd3JhcHBlci1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYnV0dG9uLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yOiNjMDI0MjQ7LS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9faW5uZXItcGFnZS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWVudS1pdGVtLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fbWVudS1pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3I6IzAwMDstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbW9kYWwtb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpOy0tcnB2LWNvcmVfX3BhZ2UtbGF5ZXItYm94LXNoYWRvdzoycHggMnB4IDhweCAwIHJnYmEoMCwwLDAsLjIpOy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktY29sb3I6IzAwMDstLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3MtYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjQpOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LWNvcmVfX3NwbGl0dGVyLWJhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7LS1ycHYtY29yZV9fc3BsaXR0ZXItLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMik7LS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tYmFja2dyb3VuZC1jb2xvcjojMDBmOy0tcnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dC0tc2VsZWN0aW9uLWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LWNvcmVfX3RleHRib3gtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3RleHRib3gtYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjIpOy0tcnB2LWNvcmVfX3RleHRib3gtY29sb3I6IzAwMDstLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb2xvcjojZmZmfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYm9yZGVyLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX2J1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMxNzE3MTc7LS1ycHYtY29yZV9fYnV0dG9uLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3I6IzE5MTkxOTstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yOiNjMDIzMjM7LS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9faW5uZXItcGFnZS1iYWNrZ3JvdW5kLWNvbG9yOiMxYTFhMWE7LS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3I6IzAwMDstLXJwdi1jb3JlX19tZW51LWl0ZW0tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IzI1NjZlODstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVkLWNvbG9yOiM1ZTVlNWU7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWQtY29sb3I6IzVlNWU1ZTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1zZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yOiMxNjU3YmI7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLWJhY2tncm91bmQtY29sb3I6IzAwMDstLXJwdi1jb3JlX19zZXBhcmF0b3ItYm9yZGVyLWJvdHRvbS1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcjojMWExYTFhOy0tcnB2LWNvcmVfX3NwbGl0dGVyLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fdGV4dGJveC1iYWNrZ3JvdW5kLWNvbG9yOiMxMjEyMTI7LS1ycHYtY29yZV9fdGV4dGJveC1ib3JkZXItY29sb3I6IzEyMTIxMjstLXJwdi1jb3JlX190ZXh0Ym94LWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWJhY2tncm91bmQtY29sb3I6IzQxNDE0MTstLXJwdi1jb3JlX190b29sdGlwLWJvZHktY29sb3I6I2ZmZn0ucnB2LWNvcmVfX2Fubm90YXRpb24sLnJwdi1jb3JlX19hcnJvd3twb3NpdGlvbjphYnNvbHV0ZX0ucnB2LWNvcmVfX2Fycm93e2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2JvcmRlci1sZWZ0LWNvbG9yOnZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fycm93LWJvcmRlci1jb2xvcik7Ym9yZGVyLXRvcC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yKTtoZWlnaHQ6MTBweDt3aWR0aDoxMHB4O3otaW5kZXg6MH0ucnB2LWNvcmVfX2Fycm93LS10bHtib3R0b206MDtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsNTAlKSByb3RhdGUoNDVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLXRje2xlZnQ6NTAlfS5ycHYtY29yZV9fYXJyb3ctLXRjLC5ycHYtY29yZV9fYXJyb3ctLXRye2JvdHRvbTowO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSw1MCUpIHJvdGF0ZSg0NWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tdHJ7cmlnaHQ6MH0ucnB2LWNvcmVfX2Fycm93LS1ydHtsZWZ0OjA7dG9wOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDUwJSkgcm90YXRlKDEzNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tcmN7dG9wOjUwJX0ucnB2LWNvcmVfX2Fycm93LS1yYiwucnB2LWNvcmVfX2Fycm93LS1yY3tsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgxMzVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLXJie2JvdHRvbTowfS5ycHYtY29yZV9fYXJyb3ctLWJse2xlZnQ6MDt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKDUwJSwtNTAlKSByb3RhdGUoMjI1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS1iY3tsZWZ0OjUwJX0ucnB2LWNvcmVfX2Fycm93LS1iYywucnB2LWNvcmVfX2Fycm93LS1icnt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDIyNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tYnJ7cmlnaHQ6MH0ucnB2LWNvcmVfX2Fycm93LS1sdHtyaWdodDowO3RvcDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLDUwJSkgcm90YXRlKDMxNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tbGN7dG9wOjUwJX0ucnB2LWNvcmVfX2Fycm93LS1sYiwucnB2LWNvcmVfX2Fycm93LS1sY3tyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpIHJvdGF0ZSgzMTVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLWxie2JvdHRvbTowfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3Jke2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yKTtwYWRkaW5nOjJyZW19LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJvcmRlci1jb2xvcik7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1tZXNzYWdle21hcmdpbjouNXJlbSAwfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWJvZHl7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0e3dpZHRoOjE1cmVtfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1sdHJ7bWFyZ2luLXJpZ2h0Oi41cmVtfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1ydGx7bWFyZ2luLWxlZnQ6LjVyZW19LnJwdi1jb3JlX19idXR0b257YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19idXR0b24tY29sb3IpO2N1cnNvcjpwb2ludGVyO2hlaWdodDoycmVtO3BhZGRpbmc6MCAxcmVtfS5ycHYtY29yZV9fYnV0dG9uLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2NhbnZhcy1sYXllcntkaXJlY3Rpb246bHRyO2xlZnQ6MDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjB9LnJwdi1jb3JlX19kb2MtZXJyb3J7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2RvYy1lcnJvci1iYWNrZ3JvdW5kLWNvbG9yKTtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX2RvYy1lcnJvci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3IpO2xpbmUtaGVpZ2h0OjEuNTttYXgtd2lkdGg6NTAlO3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19kb2MtbG9hZGluZ3thbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWxvYWRpbmctYmFja2dyb3VuZC1jb2xvcik7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2RvYy1sb2FkaW5nLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2ljb257ZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3I7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoxO3RleHQtYWxpZ246Y2VudGVyfS5ycHYtY29yZV9faWNvbi0tcnRse3RyYW5zZm9ybTpzY2FsZVgoLTEpfS5ycHYtY29yZV9faW5uZXItcGFnZXMtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9faW5uZXItcGFnZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19pbm5lci1wYWdlLWJhY2tncm91bmQtY29sb3IpO3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rIGF7aGVpZ2h0OjEwMCU7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rIGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi0tbGluay1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWNvcmVfX21lbnV7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0ucnB2LWNvcmVfX21lbnUtLXJ0bHtkaXJlY3Rpb246cnRsO3RleHQtYWxpZ246cmlnaHR9LnJwdi1jb3JlX19tZW51LWRpdmlkZXJ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX21lbnUtZGl2aWRlci1ib3JkZXItYm90dG9tLWNvbG9yKTttYXJnaW46LjI1cmVtIDB9LnJwdi1jb3JlX19tZW51LWl0ZW17YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21lbnUtaXRlbS1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzouMjVyZW0gMDt3aWR0aDoxMDAlfS5ycHYtY29yZV9fbWVudS1pdGVtOmZvY3Vze291dGxpbmU6MH0ucnB2LWNvcmVfX21lbnUtaXRlbTpmb2N1cywucnB2LWNvcmVfX21lbnUtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbWVudS1pdGVtLWljb257YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleH0ucnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1sdHJ7cGFkZGluZy1sZWZ0OjFyZW07cGFkZGluZy1yaWdodDouNXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1ydGx7cGFkZGluZy1sZWZ0Oi41cmVtO3BhZGRpbmctcmlnaHQ6MXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbHtmbGV4LWdyb3c6MTtmbGV4LXNocmluazoxO3doaXRlLXNwYWNlOm5vd3JhcH0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tbHRye3BhZGRpbmctcmlnaHQ6MnJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tcnRse3BhZGRpbmctbGVmdDoycmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1sdHJ7cGFkZGluZy1yaWdodDoxcmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1ydGx7cGFkZGluZy1sZWZ0OjFyZW19LnJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVke2NvbG9yOnZhcigtLXJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVkLWNvbG9yKX0ucnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ucnB2LWNvcmVfX21lbnUtaXRlbS0tbHRye3RleHQtYWxpZ246bGVmdH0ucnB2LWNvcmVfX21lbnUtaXRlbS0tcnRse2RpcmVjdGlvbjpydGw7dGV4dC1hbGlnbjpyaWdodH0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MnJlbTtwYWRkaW5nOjAgLjVyZW19LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWR7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZC1jb2xvcil9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbW9kYWwtYm9keXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tb2RhbC1ib2R5LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX21vZGFsLWJvZHktYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTttYXJnaW46MXJlbTttYXgtd2lkdGg6MzJyZW07b3ZlcmZsb3c6YXV0b30ucnB2LWNvcmVfX21vZGFsLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fbW9kYWwtb3ZlcmxheXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tb2RhbC1vdmVybGF5LWJhY2tncm91bmQtY29sb3IpO2JvdHRvbTowO2xlZnQ6MDtwb3NpdGlvbjpmaXhlZDtyaWdodDowO3RvcDowO3otaW5kZXg6OTk5OX0ucnB2LWNvcmVfX21vZGFsLW92ZXJsYXksLnJwdi1jb3JlX19wYWdlLWxheWVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX3BhZ2UtbGF5ZXJ7Ym94LXNoYWRvdzp2YXIoLS1ycHYtY29yZV9fcGFnZS1sYXllci1ib3gtc2hhZG93KTttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5ycHYtY29yZV9fcGFnZS1zaXplLWNhbGN1bGF0b3J7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHl7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJvcmRlci1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1jb2xvcik7bGVmdDowO3BhZGRpbmc6LjVyZW0gMDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTk5OTlweDt6LWluZGV4Ojk5OTl9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHksLnJwdi1jb3JlX19wb3BvdmVyLWJvZHktYXJyb3d7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fcG9wb3Zlci1ib2R5LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX3BvcG92ZXItb3ZlcmxheXtib3R0b206MDtsZWZ0OjA7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MDt0b3A6MH0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcik7Ym94LXNoYWRvdzp2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLWJveC1zaGFkb3cpO2ZvbnQtc2l6ZTouNzVyZW07cGFkZGluZzouMjVyZW07d29yZC1icmVhazpicmVhay13b3JkfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtdGl0bGV7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi1ib3R0b206LjI1cmVtfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1kYXRle2ZvbnQtc2l6ZTouNXJlbX0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudHtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1jb250ZW50LWJvcmRlci10b3AtY29sb3IpO21heC1oZWlnaHQ6MTZyZW07b3ZlcmZsb3c6YXV0bztwYWRkaW5nOi4yNXJlbX0ucnB2LWNvcmVfX3ByaW1hcnktYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjJyZW07cGFkZGluZzowIDFyZW19LnJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6OTk5OXB4O3BhZGRpbmc6LjEyNXJlbX0ucnB2LWNvcmVfX3Byb2dyZXNzLWJhci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3N7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOjk5OTlweDtjb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLXByb2dyZXNzLWNvbG9yKTtkaXNwbGF5OmZsZXg7Zm9udC1zaXplOi43NXJlbTtoZWlnaHQ6Ljc1cmVtO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnJwdi1jb3JlX19zZXBhcmF0b3J7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yKX0ucnB2LWNvcmVfX3NwaW5uZXJ7Ym9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yKTtib3JkZXItbGVmdDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yKTtib3JkZXItcmFkaXVzOjk5OTlweDtib3JkZXItcmlnaHQ6MnB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19zcGlubmVyLWJvcmRlci1jb2xvcik7Ym9yZGVyLXRvcDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yKX0ucnB2LWNvcmVfX3NwaW5uZXItLWFuaW1hdGluZ3std2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNHM7YW5pbWF0aW9uLWR1cmF0aW9uOi40czstd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJwdi1jb3JlX19zcGlubmVyLXRyYW5zZm9ybTthbmltYXRpb24tbmFtZTpycHYtY29yZV9fc3Bpbm5lci10cmFuc2Zvcm07LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcn1ALXdlYmtpdC1rZXlmcmFtZXMgcnB2LWNvcmVfX3NwaW5uZXItdHJhbnNmb3JtezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fUBrZXlmcmFtZXMgcnB2LWNvcmVfX3NwaW5uZXItdHJhbnNmb3JtezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fS5ycHYtY29yZV9fc3BsaXR0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcik7Y3Vyc29yOmV3LXJlc2l6ZTtoZWlnaHQ6MTAwJTt3aWR0aDouMjVyZW19LnJwdi1jb3JlX19zcGxpdHRlci0tcmVzaXppbmcsLnJwdi1jb3JlX19zcGxpdHRlcjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19zcGxpdHRlci0taG92ZXItYmFja2dyb3VuZC1jb2xvcik7Y3Vyc29yOmNvbC1yZXNpemV9LnJwdi1jb3JlX19zcGxpdHRlci1ib2R5LS1yZXNpemluZ3tjdXJzb3I6Y29sLXJlc2l6ZX0ucnB2LWNvcmVfX3NwbGl0dGVyLXNpYmxpbmctLXJlc2l6aW5ne3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5ycHYtY29yZV9fdGV4dGJveHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0Ym94LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3RleHRib3gtYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3RleHRib3gtY29sb3IpO2hlaWdodDoycmVtO3BhZGRpbmc6MCAuNXJlbTt3aWR0aDoxMDAlfS5ycHYtY29yZV9fdGV4dGJveC0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX190ZXh0LWxheWVye2hlaWdodDoxMDAlO2xlZnQ6MDtsaW5lLWhlaWdodDoxO29wYWNpdHk6LjI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX3RleHQtbGF5ZXIgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQtLXNlbGVjdGlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tY29sb3IpfS5ycHYtY29yZV9fdGV4dC1sYXllciA6OnNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQtLXNlbGVjdGlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tY29sb3IpfS5ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0e2NvbG9yOnRyYW5zcGFyZW50O2N1cnNvcjp0ZXh0O3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zZm9ybS1vcmlnaW46MCAwO3doaXRlLXNwYWNlOnByZX0ucnB2LWNvcmVfX3Rvb2x0aXAtYm9keXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb2xvcik7bGVmdDowO21heC13aWR0aDoyMHJlbTtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6LTk5OTlweDt6LWluZGV4Ojk5OTl9LnJwdi1jb3JlX190b29sdGlwLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWFycm93e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb250ZW50e3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9ja3tkaXNwbGF5OmJsb2NrfS5ycHYtY29yZV9fZGlzcGxheS0taGlkZGVue2Rpc3BsYXk6bm9uZX1AbWVkaWEgKG1pbi13aWR0aDo2NDBweCl7LnJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tc21hbGx7ZGlzcGxheTpub25lfS5ycHYtY29yZV9fZGlzcGxheS0tYmxvY2stc21hbGx7ZGlzcGxheTpibG9ja319QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5ycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bXtkaXNwbGF5Om5vbmV9LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1tZWRpdW17ZGlzcGxheTpibG9ja319QG1lZGlhIChtaW4td2lkdGg6MTAyNHB4KXsucnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1sYXJnZXtkaXNwbGF5Om5vbmV9LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1sYXJnZXtkaXNwbGF5OmJsb2NrfX1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2NvcmUvbGliL3N0eWxlcy9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsTUFBTSxzRUFBc0UsQ0FBQyw2REFBNkQsQ0FBQyw4R0FBOEcsQ0FBQyw2REFBNkQsQ0FBQyw2Q0FBNkMsQ0FBQyxzQ0FBc0MsQ0FBQyx5REFBeUQsQ0FBQywrREFBK0QsQ0FBQyxrREFBa0QsQ0FBQyw2QkFBNkIsQ0FBQywyQ0FBMkMsQ0FBQyxtREFBbUQsQ0FBQyxxQ0FBcUMsQ0FBQyw2Q0FBNkMsQ0FBQyw0Q0FBNEMsQ0FBQywyREFBMkQsQ0FBQyxnQ0FBZ0MsQ0FBQyw0REFBNEQsQ0FBQyxvREFBb0QsQ0FBQyxxQ0FBcUMsQ0FBQyxpRUFBaUUsQ0FBQyx5REFBeUQsQ0FBQyxvRUFBb0UsQ0FBQyw0Q0FBNEMsQ0FBQyxrREFBa0QsQ0FBQyx5REFBeUQsQ0FBQyw4REFBOEQsQ0FBQyw4Q0FBOEMsQ0FBQyxvREFBb0QsQ0FBQyxtQ0FBbUMsQ0FBQyxtREFBbUQsQ0FBQyxxQ0FBcUMsQ0FBQyx3REFBd0QsQ0FBQywwREFBMEQsQ0FBQyw0Q0FBNEMsQ0FBQyx3REFBd0QsQ0FBQywrQ0FBK0MsQ0FBQyx3REFBd0QsQ0FBQyxpREFBaUQsQ0FBQywyREFBMkQsQ0FBQyw0REFBNEQsQ0FBQyx3REFBd0QsQ0FBQyx5Q0FBeUMsQ0FB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aUNBQWlDLGFBQWEsQ0FBQyxDQUFDLDBCQUEwQixpQ0FBaUMsWUFBWSxDQUFDLGdDQUFnQyxhQUFhLENBQUNcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3R7LS1ycHYtY29yZV9fYW5ub3RhdGlvbi0tbGluay1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwwLC4yKTstLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojZmFmMDg5Oy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlci1ib3gtc2hhZG93OjAgMTBweCAxNXB4IC0zcHggcmdiYSgwLDAsMCwuMSksMCA0cHggNnB4IC0ycHggcmdiYSgwLDAsMCwuMDUpOy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudC1ib3JkZXItdG9wLWNvbG9yOiMxYTIwMmM7LS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtd3JhcHBlci1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYnV0dG9uLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yOiNjMDI0MjQ7LS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9faW5uZXItcGFnZS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWVudS1pdGVtLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fbWVudS1pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3I6IzAwMDstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbW9kYWwtb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpOy0tcnB2LWNvcmVfX3BhZ2UtbGF5ZXItYm94LXNoYWRvdzoycHggMnB4IDhweCAwIHJnYmEoMCwwLDAsLjIpOy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktY29sb3I6IzAwMDstLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3MtYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjQpOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LWNvcmVfX3NwbGl0dGVyLWJhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7LS1ycHYtY29yZV9fc3BsaXR0ZXItLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMik7LS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tYmFja2dyb3VuZC1jb2xvcjojMDBmOy0tcnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dC0tc2VsZWN0aW9uLWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LWNvcmVfX3RleHRib3gtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3RleHRib3gtYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjIpOy0tcnB2LWNvcmVfX3RleHRib3gtY29sb3I6IzAwMDstLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb2xvcjojZmZmfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYm9yZGVyLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX2J1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMxNzE3MTc7LS1ycHYtY29yZV9fYnV0dG9uLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3I6IzE5MTkxOTstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yOiNjMDIzMjM7LS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9faW5uZXItcGFnZS1iYWNrZ3JvdW5kLWNvbG9yOiMxYTFhMWE7LS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3I6IzAwMDstLXJwdi1jb3JlX19tZW51LWl0ZW0tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IzI1NjZlODstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVkLWNvbG9yOiM1ZTVlNWU7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWQtY29sb3I6IzVlNWU1ZTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1zZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yOiMxNjU3YmI7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLWJhY2tncm91bmQtY29sb3I6IzAwMDstLXJwdi1jb3JlX19zZXBhcmF0b3ItYm9yZGVyLWJvdHRvbS1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcjojMWExYTFhOy0tcnB2LWNvcmVfX3NwbGl0dGVyLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fdGV4dGJveC1iYWNrZ3JvdW5kLWNvbG9yOiMxMjEyMTI7LS1ycHYtY29yZV9fdGV4dGJveC1ib3JkZXItY29sb3I6IzEyMTIxMjstLXJwdi1jb3JlX190ZXh0Ym94LWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWJhY2tncm91bmQtY29sb3I6IzQxNDE0MTstLXJwdi1jb3JlX190b29sdGlwLWJvZHktY29sb3I6I2ZmZn0ucnB2LWNvcmVfX2Fubm90YXRpb24sLnJwdi1jb3JlX19hcnJvd3twb3NpdGlvbjphYnNvbHV0ZX0ucnB2LWNvcmVfX2Fycm93e2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2JvcmRlci1sZWZ0LWNvbG9yOnZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fycm93LWJvcmRlci1jb2xvcik7Ym9yZGVyLXRvcC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yKTtoZWlnaHQ6MTBweDt3aWR0aDoxMHB4O3otaW5kZXg6MH0ucnB2LWNvcmVfX2Fycm93LS10bHtib3R0b206MDtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsNTAlKSByb3RhdGUoNDVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLXRje2xlZnQ6NTAlfS5ycHYtY29yZV9fYXJyb3ctLXRjLC5ycHYtY29yZV9fYXJyb3ctLXRye2JvdHRvbTowO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSw1MCUpIHJvdGF0ZSg0NWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tdHJ7cmlnaHQ6MH0ucnB2LWNvcmVfX2Fycm93LS1ydHtsZWZ0OjA7dG9wOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDUwJSkgcm90YXRlKDEzNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tcmN7dG9wOjUwJX0ucnB2LWNvcmVfX2Fycm93LS1yYiwucnB2LWNvcmVfX2Fycm93LS1yY3tsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgxMzVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLXJie2JvdHRvbTowfS5ycHYtY29yZV9fYXJyb3ctLWJse2xlZnQ6MDt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKDUwJSwtNTAlKSByb3RhdGUoMjI1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS1iY3tsZWZ0OjUwJX0ucnB2LWNvcmVfX2Fycm93LS1iYywucnB2LWNvcmVfX2Fycm93LS1icnt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDIyNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tYnJ7cmlnaHQ6MH0ucnB2LWNvcmVfX2Fycm93LS1sdHtyaWdodDowO3RvcDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLDUwJSkgcm90YXRlKDMxNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tbGN7dG9wOjUwJX0ucnB2LWNvcmVfX2Fycm93LS1sYiwucnB2LWNvcmVfX2Fycm93LS1sY3tyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpIHJvdGF0ZSgzMTVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLWxie2JvdHRvbTowfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3Jke2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yKTtwYWRkaW5nOjJyZW19LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJvcmRlci1jb2xvcik7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1tZXNzYWdle21hcmdpbjouNXJlbSAwfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWJvZHl7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0e3dpZHRoOjE1cmVtfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1sdHJ7bWFyZ2luLXJpZ2h0Oi41cmVtfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1ydGx7bWFyZ2luLWxlZnQ6LjVyZW19LnJwdi1jb3JlX19idXR0b257YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19idXR0b24tY29sb3IpO2N1cnNvcjpwb2ludGVyO2hlaWdodDoycmVtO3BhZGRpbmc6MCAxcmVtfS5ycHYtY29yZV9fYnV0dG9uLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2NhbnZhcy1sYXllcntkaXJlY3Rpb246bHRyO2xlZnQ6MDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjB9LnJwdi1jb3JlX19kb2MtZXJyb3J7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2RvYy1lcnJvci1iYWNrZ3JvdW5kLWNvbG9yKTtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX2RvYy1lcnJvci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3IpO2xpbmUtaGVpZ2h0OjEuNTttYXgtd2lkdGg6NTAlO3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19kb2MtbG9hZGluZ3thbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWxvYWRpbmctYmFja2dyb3VuZC1jb2xvcik7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2RvYy1sb2FkaW5nLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2ljb257ZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3I7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoxO3RleHQtYWxpZ246Y2VudGVyfS5ycHYtY29yZV9faWNvbi0tcnRse3RyYW5zZm9ybTpzY2FsZVgoLTEpfS5ycHYtY29yZV9faW5uZXItcGFnZXMtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9faW5uZXItcGFnZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19pbm5lci1wYWdlLWJhY2tncm91bmQtY29sb3IpO3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rIGF7aGVpZ2h0OjEwMCU7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rIGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi0tbGluay1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWNvcmVfX21lbnV7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0ucnB2LWNvcmVfX21lbnUtLXJ0bHtkaXJlY3Rpb246cnRsO3RleHQtYWxpZ246cmlnaHR9LnJwdi1jb3JlX19tZW51LWRpdmlkZXJ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX21lbnUtZGl2aWRlci1ib3JkZXItYm90dG9tLWNvbG9yKTttYXJnaW46LjI1cmVtIDB9LnJwdi1jb3JlX19tZW51LWl0ZW17YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21lbnUtaXRlbS1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzouMjVyZW0gMDt3aWR0aDoxMDAlfS5ycHYtY29yZV9fbWVudS1pdGVtOmZvY3Vze291dGxpbmU6MH0ucnB2LWNvcmVfX21lbnUtaXRlbTpmb2N1cywucnB2LWNvcmVfX21lbnUtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbWVudS1pdGVtLWljb257YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleH0ucnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1sdHJ7cGFkZGluZy1sZWZ0OjFyZW07cGFkZGluZy1yaWdodDouNXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1ydGx7cGFkZGluZy1sZWZ0Oi41cmVtO3BhZGRpbmctcmlnaHQ6MXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbHtmbGV4LWdyb3c6MTtmbGV4LXNocmluazoxO3doaXRlLXNwYWNlOm5vd3JhcH0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tbHRye3BhZGRpbmctcmlnaHQ6MnJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tcnRse3BhZGRpbmctbGVmdDoycmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1sdHJ7cGFkZGluZy1yaWdodDoxcmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1ydGx7cGFkZGluZy1sZWZ0OjFyZW19LnJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVke2NvbG9yOnZhcigtLXJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVkLWNvbG9yKX0ucnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ucnB2LWNvcmVfX21lbnUtaXRlbS0tbHRye3RleHQtYWxpZ246bGVmdH0ucnB2LWNvcmVfX21lbnUtaXRlbS0tcnRse2RpcmVjdGlvbjpydGw7dGV4dC1hbGlnbjpyaWdodH0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MnJlbTtwYWRkaW5nOjAgLjVyZW19LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWR7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZC1jb2xvcil9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbW9kYWwtYm9keXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tb2RhbC1ib2R5LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX21vZGFsLWJvZHktYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTttYXJnaW46MXJlbTttYXgtd2lkdGg6MzJyZW07b3ZlcmZsb3c6YXV0b30ucnB2LWNvcmVfX21vZGFsLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fbW9kYWwtb3ZlcmxheXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tb2RhbC1vdmVybGF5LWJhY2tncm91bmQtY29sb3IpO2JvdHRvbTowO2xlZnQ6MDtwb3NpdGlvbjpmaXhlZDtyaWdodDowO3RvcDowO3otaW5kZXg6OTk5OX0ucnB2LWNvcmVfX21vZGFsLW92ZXJsYXksLnJwdi1jb3JlX19wYWdlLWxheWVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX3BhZ2UtbGF5ZXJ7Ym94LXNoYWRvdzp2YXIoLS1ycHYtY29yZV9fcGFnZS1sYXllci1ib3gtc2hhZG93KTttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5ycHYtY29yZV9fcGFnZS1zaXplLWNhbGN1bGF0b3J7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHl7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJvcmRlci1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1jb2xvcik7bGVmdDowO3BhZGRpbmc6LjVyZW0gMDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTk5OTlweDt6LWluZGV4Ojk5OTl9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHksLnJwdi1jb3JlX19wb3BvdmVyLWJvZHktYXJyb3d7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fcG9wb3Zlci1ib2R5LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX3BvcG92ZXItb3ZlcmxheXtib3R0b206MDtsZWZ0OjA7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MDt0b3A6MH0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcik7Ym94LXNoYWRvdzp2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLWJveC1zaGFkb3cpO2ZvbnQtc2l6ZTouNzVyZW07cGFkZGluZzouMjVyZW07d29yZC1icmVhazpicmVhay13b3JkfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtdGl0bGV7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi1ib3R0b206LjI1cmVtfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1kYXRle2ZvbnQtc2l6ZTouNXJlbX0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudHtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1jb250ZW50LWJvcmRlci10b3AtY29sb3IpO21heC1oZWlnaHQ6MTZyZW07b3ZlcmZsb3c6YXV0bztwYWRkaW5nOi4yNXJlbX0ucnB2LWNvcmVfX3ByaW1hcnktYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjJyZW07cGFkZGluZzowIDFyZW19LnJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6OTk5OXB4O3BhZGRpbmc6LjEyNXJlbX0ucnB2LWNvcmVfX3Byb2dyZXNzLWJhci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3N7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOjk5OTlweDtjb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLXByb2dyZXNzLWNvbG9yKTtkaXNwbGF5OmZsZXg7Zm9udC1zaXplOi43NXJlbTtoZWlnaHQ6Ljc1cmVtO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnJwdi1jb3JlX19zZXBhcmF0b3J7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yKX0ucnB2LWNvcmVfX3NwaW5uZXJ7Ym9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yKTtib3JkZXItbGVmdDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yKTtib3JkZXItcmFkaXVzOjk5OTlweDtib3JkZXItcmlnaHQ6MnB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19zcGlubmVyLWJvcmRlci1jb2xvcik7Ym9yZGVyLXRvcDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yKX0ucnB2LWNvcmVfX3NwaW5uZXItLWFuaW1hdGluZ3thbmltYXRpb24tZHVyYXRpb246LjRzO2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7YW5pbWF0aW9uLW5hbWU6cnB2LWNvcmVfX3NwaW5uZXItdHJhbnNmb3JtO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyfUBrZXlmcmFtZXMgcnB2LWNvcmVfX3NwaW5uZXItdHJhbnNmb3JtezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fS5ycHYtY29yZV9fc3BsaXR0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcik7Y3Vyc29yOmV3LXJlc2l6ZTtoZWlnaHQ6MTAwJTt3aWR0aDouMjVyZW19LnJwdi1jb3JlX19zcGxpdHRlci0tcmVzaXppbmcsLnJwdi1jb3JlX19zcGxpdHRlcjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19zcGxpdHRlci0taG92ZXItYmFja2dyb3VuZC1jb2xvcik7Y3Vyc29yOmNvbC1yZXNpemV9LnJwdi1jb3JlX19zcGxpdHRlci1ib2R5LS1yZXNpemluZ3tjdXJzb3I6Y29sLXJlc2l6ZX0ucnB2LWNvcmVfX3NwbGl0dGVyLXNpYmxpbmctLXJlc2l6aW5ne3BvaW50ZXItZXZlbnRzOm5vbmU7dXNlci1zZWxlY3Q6bm9uZX0ucnB2LWNvcmVfX3RleHRib3h7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fdGV4dGJveC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX190ZXh0Ym94LWJvcmRlci1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0Ym94LWNvbG9yKTtoZWlnaHQ6MnJlbTtwYWRkaW5nOjAgLjVyZW07d2lkdGg6MTAwJX0ucnB2LWNvcmVfX3RleHRib3gtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fdGV4dC1sYXllcntoZWlnaHQ6MTAwJTtsZWZ0OjA7bGluZS1oZWlnaHQ6MTtvcGFjaXR5Oi4yO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LnJwdi1jb3JlX190ZXh0LWxheWVyIDo6c2VsZWN0aW9ue2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dC0tc2VsZWN0aW9uLWJhY2tncm91bmQtY29sb3IpO2NvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQtLXNlbGVjdGlvbi1jb2xvcil9LnJwdi1jb3JlX190ZXh0LWxheWVyLXRleHR7Y29sb3I6dHJhbnNwYXJlbnQ7Y3Vyc29yOnRleHQ7cG9zaXRpb246YWJzb2x1dGU7dHJhbnNmb3JtLW9yaWdpbjowIDA7d2hpdGUtc3BhY2U6cHJlfS5ycHYtY29yZV9fdG9vbHRpcC1ib2R5e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWNvbG9yKTtsZWZ0OjA7bWF4LXdpZHRoOjIwcmVtO3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3RvcDotOTk5OXB4O3otaW5kZXg6OTk5OX0ucnB2LWNvcmVfX3Rvb2x0aXAtYm9keS0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX190b29sdGlwLWJvZHktYXJyb3d7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWNvbnRlbnR7cGFkZGluZzouNXJlbX0ucnB2LWNvcmVfX2Rpc3BsYXktLWJsb2Nre2Rpc3BsYXk6YmxvY2t9LnJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSAobWluLXdpZHRoOjY0MHB4KXsucnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1zbWFsbHtkaXNwbGF5Om5vbmV9LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1zbWFsbHtkaXNwbGF5OmJsb2NrfX1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7LnJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbWVkaXVte2Rpc3BsYXk6bm9uZX0ucnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLW1lZGl1bXtkaXNwbGF5OmJsb2NrfX1AbWVkaWEgKG1pbi13aWR0aDoxMDI0cHgpey5ycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLWxhcmdle2Rpc3BsYXk6bm9uZX0ucnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLWxhcmdle2Rpc3BsYXk6YmxvY2t9fVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/core/lib/styles/index.css\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--rpv-attachment__item--hover-background-color:rgba(0,0,0,.1);--rpv-attachment__item-color:#000}.rpv-core__viewer--dark{--rpv-attachment__item--hover-background-color:#2566e8;--rpv-attachment__item-color:#fff}.rpv-attachment__empty{height:100%;overflow:auto;padding:.5rem 0;text-align:center;width:100%}.rpv-attachment__empty--rtl{direction:rtl}.rpv-attachment__list{display:flex;flex-direction:column;height:100%;overflow:auto;padding:.5rem 0;width:100%}.rpv-attachment__list--rtl{direction:rtl}.rpv-attachment__item{align-items:center;background-color:transparent;border:none;color:var(--rpv-attachment__item-color);cursor:pointer;display:flex;padding:.5rem;text-align:left;width:100%}.rpv-attachment__item:focus{outline:0}.rpv-attachment__item:focus,.rpv-attachment__item:hover{background-color:var(--rpv-attachment__item--hover-background-color)}.rpv-attachment__loader{align-items:center;display:flex;height:100%;justify-content:center;width:100%}:root{--rpv-bookmark__item--hover-background-color:rgba(0,0,0,.1);--rpv-bookmark__item-color:#000}.rpv-core__viewer--dark{--rpv-bookmark__item--hover-background-color:#2566e8;--rpv-bookmark__item-color:#fff}.rpv-bookmark__item{align-items:center;color:var(--rpv-bookmark__item-color);cursor:pointer;display:flex;padding-bottom:.25rem;padding-right:.25rem;padding-top:.25rem}.rpv-bookmark__item:focus{outline:0}.rpv-bookmark__item:focus,.rpv-bookmark__item:hover{background-color:var(--rpv-bookmark__item--hover-background-color)}.rpv-bookmark__toggle{align-items:center;display:flex;height:1rem;margin-right:.25rem;width:1rem}.rpv-bookmark__title{flex-grow:1;flex-shrink:1;text-decoration:none}.rpv-bookmark__list{list-style-type:none;margin:0;overflow:auto;padding:0}.rpv-bookmark__loader{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.rpv-bookmark__empty{height:100%;overflow:auto;padding:.5rem 0;text-align:center;width:100%}.rpv-bookmark__empty--rtl{direction:rtl}.rpv-bookmark__container{height:100%;overflow:auto;padding:.5rem 0;width:100%}.rpv-bookmark__container--rtl{direction:rtl}:root{--rpv-core__annotation--link-hover-background-color:rgba(255,255,0,.2);--rpv-core__annotation-popup-wrapper-background-color:#faf089;--rpv-core__annotation-popup-wrapper-box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);--rpv-core__annotation-popup-content-border-top-color:#1a202c;--rpv-core__arrow-border-color:rgba(0,0,0,.3);--rpv-core__asking-password-color:#000;--rpv-core__asking-password-wrapper-background-color:#fff;--rpv-core__asking-password-wrapper-border-color:rgba(0,0,0,.3);--rpv-core__button-background-color:rgba(0,0,0,.3);--rpv-core__button-color:#000;--rpv-core__doc-error-background-color:#fff;--rpv-core__doc-error-text-background-color:#c02424;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#fff;--rpv-core__inner-page-background-color:#fff;--rpv-core__menu-divider-border-bottom-color:rgba(0,0,0,.3);--rpv-core__menu-item-color:#000;--rpv-core__menu-item--hover-background-color:rgba(0,0,0,.1);--rpv-core__menu-item--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button-color:#000;--rpv-core__minimal-button--hover-background-color:rgba(0,0,0,.1);--rpv-core__minimal-button--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button--selected-background-color:rgba(0,0,0,.1);--rpv-core__modal-body-background-color:#fff;--rpv-core__modal-body-border-color:rgba(0,0,0,.3);--rpv-core__modal-overlay-background-color:rgba(0,0,0,.5);--rpv-core__page-layer-box-shadow:2px 2px 8px 0 rgba(0,0,0,.2);--rpv-core__popover-body-background-color:#fff;--rpv-core__popover-body-border-color:rgba(0,0,0,.3);--rpv-core__popover-body-color:#000;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__primary-button-color:#fff;--rpv-core__progress-bar-background-color:rgba(0,0,0,.1);--rpv-core__progress-bar-progress-background-color:#2566e8;--rpv-core__progress-bar-progress-color:#fff;--rpv-core__separator-border-bottom-color:rgba(0,0,0,.3);--rpv-core__spinner-border-color:rgba(0,0,0,.4);--rpv-core__spinner-border-transparent-color:transparent;--rpv-core__splitter-background-color:transparent;--rpv-core__splitter--hover-background-color:rgba(0,0,0,.2);--rpv-core__text-layer-text--selection-background-color:#00f;--rpv-core__text-layer-text--selection-color:transparent;--rpv-core__textbox-background-color:#fff;--rpv-core__textbox-border-color:rgba(0,0,0,.2);--rpv-core__textbox-color:#000;--rpv-core__tooltip-body-background-color:#000;--rpv-core__tooltip-body-color:#fff}.rpv-core__viewer--dark{--rpv-core__asking-password-background-color:#363636;--rpv-core__asking-password-color:#fff;--rpv-core__asking-password-wrapper-border-color:#191919;--rpv-core__asking-password-wrapper-background-color:#191919;--rpv-core__button-background-color:#171717;--rpv-core__button-color:#fff;--rpv-core__doc-error-background-color:#191919;--rpv-core__doc-error-text-background-color:#c02323;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#191919;--rpv-core__inner-page-background-color:#1a1a1a;--rpv-core__menu-divider-border-bottom-color:#000;--rpv-core__menu-item-color:#fff;--rpv-core__menu-item--hover-background-color:#2566e8;--rpv-core__menu-item--disabled-color:#5e5e5e;--rpv-core__minimal-button-color:#fff;--rpv-core__minimal-button--disabled-color:#5e5e5e;--rpv-core__minimal-button--hover-background-color:#191919;--rpv-core__minimal-button--selected-background-color:#1657bb;--rpv-core__modal-body-background-color:#363636;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__popover-body-background-color:#363636;--rpv-core__popover-body-color:#fff;--rpv-core__progress-bar-background-color:#000;--rpv-core__separator-border-bottom-color:#000;--rpv-core__spinner-border-color:#fff;--rpv-core__splitter-background-color:#1a1a1a;--rpv-core__splitter--hover-background-color:#2566e8;--rpv-core__textbox-background-color:#121212;--rpv-core__textbox-border-color:#121212;--rpv-core__textbox-color:#fff;--rpv-core__tooltip-body-background-color:#414141;--rpv-core__tooltip-body-color:#fff}.rpv-core__annotation,.rpv-core__arrow{position:absolute}.rpv-core__arrow{border-bottom:1px solid var(--rpv-core__arrow-border-color);border-left-color:var(--rpv-core__arrow-border-color);border-right:1px solid var(--rpv-core__arrow-border-color);border-top-color:var(--rpv-core__arrow-border-color);height:10px;width:10px;z-index:0}.rpv-core__arrow--tl{bottom:0;left:0;transform:translate(50%,50%) rotate(45deg)}.rpv-core__arrow--tc{left:50%}.rpv-core__arrow--tc,.rpv-core__arrow--tr{bottom:0;transform:translate(-50%,50%) rotate(45deg)}.rpv-core__arrow--tr{right:0}.rpv-core__arrow--rt{left:0;top:0;transform:translate(-50%,50%) rotate(135deg)}.rpv-core__arrow--rc{top:50%}.rpv-core__arrow--rb,.rpv-core__arrow--rc{left:0;transform:translate(-50%,-50%) rotate(135deg)}.rpv-core__arrow--rb{bottom:0}.rpv-core__arrow--bl{left:0;top:0;transform:translate(50%,-50%) rotate(225deg)}.rpv-core__arrow--bc{left:50%}.rpv-core__arrow--bc,.rpv-core__arrow--br{top:0;transform:translate(-50%,-50%) rotate(225deg)}.rpv-core__arrow--br{right:0}.rpv-core__arrow--lt{right:0;top:0;transform:translate(50%,50%) rotate(315deg)}.rpv-core__arrow--lc{top:50%}.rpv-core__arrow--lb,.rpv-core__arrow--lc{right:0;transform:translate(50%,-50%) rotate(315deg)}.rpv-core__arrow--lb{bottom:0}.rpv-core__asking-password{background-color:var(--rpv-core__asking-password-background-color);border-radius:.25rem;color:var(--rpv-core__asking-password-color);padding:2rem}.rpv-core__asking-password--rtl{direction:rtl}.rpv-core__asking-password-wrapper{align-items:center;background-color:var(--rpv-core__asking-password-wrapper-background-color);border:1px solid var(--rpv-core__asking-password-wrapper-border-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__asking-password-message{margin:.5rem 0}.rpv-core__asking-password-body{align-items:center;display:flex;justify-content:center}.rpv-core__asking-password-input{width:15rem}.rpv-core__asking-password-input--ltr{margin-right:.5rem}.rpv-core__asking-password-input--rtl{margin-left:.5rem}.rpv-core__button{background-color:var(--rpv-core__button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__button--rtl{direction:rtl}.rpv-core__canvas-layer{direction:ltr;left:0;overflow:hidden;position:absolute;top:0}.rpv-core__doc-error{align-items:center;background-color:var(--rpv-core__doc-error-background-color);display:flex;height:100%;justify-content:center}.rpv-core__doc-error--rtl{direction:rtl}.rpv-core__doc-error-text{background-color:var(--rpv-core__doc-error-text-background-color);border-radius:.25rem;color:var(--rpv-core__doc-error-text-color);line-height:1.5;max-width:50%;padding:.5rem}.rpv-core__doc-loading{align-items:center;background-color:var(--rpv-core__doc-loading-background-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__doc-loading--rtl{direction:rtl}.rpv-core__icon{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1;text-align:center}.rpv-core__icon--rtl{transform:scaleX(-1)}.rpv-core__inner-pages--rtl{direction:rtl}.rpv-core__inner-page{background-color:var(--rpv-core__inner-page-background-color);padding:.5rem}.rpv-core__annotation--link a{height:100%;left:0;position:absolute;top:0;width:100%}.rpv-core__annotation--link a:hover{background-color:var(--rpv-core__annotation--link-hover-background-color)}.rpv-core__menu{display:flex;flex-direction:column}.rpv-core__menu--rtl{direction:rtl;text-align:right}.rpv-core__menu-divider{border-bottom:1px solid var(--rpv-core__menu-divider-border-bottom-color);margin:.25rem 0}.rpv-core__menu-item{align-items:center;background-color:transparent;border:none;color:var(--rpv-core__menu-item-color);cursor:pointer;display:flex;justify-content:center;padding:.25rem 0;width:100%}.rpv-core__menu-item:focus{outline:0}.rpv-core__menu-item:focus,.rpv-core__menu-item:hover{background-color:var(--rpv-core__menu-item--hover-background-color)}.rpv-core__menu-item-icon{align-items:center;display:flex}.rpv-core__menu-item-icon--ltr{padding-left:1rem;padding-right:.5rem}.rpv-core__menu-item-icon--rtl{padding-left:.5rem;padding-right:1rem}.rpv-core__menu-item-label{flex-grow:1;flex-shrink:1;white-space:nowrap}.rpv-core__menu-item-label--ltr{padding-right:2rem}.rpv-core__menu-item-label--rtl{padding-left:2rem}.rpv-core__menu-item-check--ltr{padding-right:1rem}.rpv-core__menu-item-check--rtl{padding-left:1rem}.rpv-core__menu-item--disabled{color:var(--rpv-core__menu-item--disabled-color)}.rpv-core__menu-item--disabled:hover{background-color:transparent}.rpv-core__menu-item--ltr{text-align:left}.rpv-core__menu-item--rtl{direction:rtl;text-align:right}.rpv-core__minimal-button{background-color:transparent;border:none;border-radius:.25rem;color:var(--rpv-core__minimal-button-color);cursor:pointer;height:2rem;padding:0 .5rem}.rpv-core__minimal-button:hover{background-color:var(--rpv-core__minimal-button--hover-background-color)}.rpv-core__minimal-button--disabled{color:var(--rpv-core__minimal-button--disabled-color)}.rpv-core__minimal-button--rtl{direction:rtl}.rpv-core__minimal-button--selected{background-color:var(--rpv-core__minimal-button--selected-background-color)}.rpv-core__modal-body{background-color:var(--rpv-core__modal-body-background-color);border:1px solid var(--rpv-core__modal-body-border-color);border-radius:.25rem;margin:1rem;max-width:32rem;overflow:auto}.rpv-core__modal-body--rtl{direction:rtl}.rpv-core__modal-overlay{background-color:var(--rpv-core__modal-overlay-background-color);bottom:0;left:0;position:fixed;right:0;top:0;z-index:9999}.rpv-core__modal-overlay,.rpv-core__page-layer{align-items:center;display:flex;justify-content:center}.rpv-core__page-layer{box-shadow:var(--rpv-core__page-layer-box-shadow);margin:0 auto;position:relative}.rpv-core__page-size-calculator{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.rpv-core__popover-body{border:1px solid var(--rpv-core__popover-body-border-color);border-radius:.25rem;color:var(--rpv-core__popover-body-color);left:0;padding:.5rem 0;position:absolute;top:-9999px;z-index:9999}.rpv-core__popover-body,.rpv-core__popover-body-arrow{background-color:var(--rpv-core__popover-body-background-color)}.rpv-core__popover-body--rtl{direction:rtl}.rpv-core__popover-overlay{bottom:0;left:0;position:fixed;right:0;top:0}.rpv-core__annotation-popup-wrapper{background-color:var(--rpv-core__annotation-popup-wrapper-background-color);box-shadow:var(--rpv-core__annotation-popup-wrapper-box-shadow);font-size:.75rem;padding:.25rem;word-break:break-word}.rpv-core__annotation-popup-wrapper--rtl{direction:rtl}.rpv-core__annotation-popup-title{font-weight:600;margin-bottom:.25rem}.rpv-core__annotation-popup-date{font-size:.5rem}.rpv-core__annotation-popup-content{border-top:1px solid var(--rpv-core__annotation-popup-content-border-top-color);max-height:16rem;overflow:auto;padding:.25rem}.rpv-core__primary-button{background-color:var(--rpv-core__primary-button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__primary-button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__primary-button--rtl{direction:rtl}.rpv-core__progress-bar{background-color:var(--rpv-core__progress-bar-background-color);border-radius:9999px;padding:.125rem}.rpv-core__progress-bar--rtl{direction:rtl}.rpv-core__progress-bar-progress{align-items:center;background-color:var(--rpv-core__progress-bar-progress-background-color);border-radius:9999px;color:var(--rpv-core__progress-bar-progress-color);display:flex;font-size:.75rem;height:.75rem;justify-content:center}.rpv-core__separator{border-bottom:1px solid var(--rpv-core__separator-border-bottom-color)}.rpv-core__spinner{border-bottom:2px solid var(--rpv-core__spinner-border-transparent-color);border-left:2px solid var(--rpv-core__spinner-border-transparent-color);border-radius:9999px;border-right:2px solid var(--rpv-core__spinner-border-color);border-top:2px solid var(--rpv-core__spinner-border-color)}.rpv-core__spinner--animating{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:rpv-core__spinner-transform;animation-name:rpv-core__spinner-transform;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes rpv-core__spinner-transform{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rpv-core__spinner-transform{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.rpv-core__splitter{background-color:var(--rpv-core__splitter-background-color);cursor:ew-resize;height:100%;width:.25rem}.rpv-core__splitter--resizing,.rpv-core__splitter:hover{background-color:var(--rpv-core__splitter--hover-background-color);cursor:col-resize}.rpv-core__splitter-body--resizing{cursor:col-resize}.rpv-core__splitter-sibling--resizing{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rpv-core__textbox{background-color:var(--rpv-core__textbox-background-color);border:1px solid var(--rpv-core__textbox-border-color);border-radius:.25rem;box-sizing:border-box;color:var(--rpv-core__textbox-color);height:2rem;padding:0 .5rem;width:100%}.rpv-core__textbox--rtl{direction:rtl}.rpv-core__text-layer{height:100%;left:0;line-height:1;opacity:.2;position:absolute;top:0;width:100%}.rpv-core__text-layer ::-moz-selection{background-color:var(--rpv-core__text-layer-text--selection-background-color);color:var(--rpv-core__text-layer-text--selection-color)}.rpv-core__text-layer ::selection{background-color:var(--rpv-core__text-layer-text--selection-background-color);color:var(--rpv-core__text-layer-text--selection-color)}.rpv-core__text-layer-text{color:transparent;cursor:text;position:absolute;transform-origin:0 0;white-space:pre}.rpv-core__tooltip-body{background-color:var(--rpv-core__tooltip-body-background-color);border-radius:.25rem;color:var(--rpv-core__tooltip-body-color);left:0;max-width:20rem;position:absolute;text-align:center;top:-9999px;z-index:9999}.rpv-core__tooltip-body--rtl{direction:rtl}.rpv-core__tooltip-body-arrow{background-color:var(--rpv-core__tooltip-body-background-color)}.rpv-core__tooltip-body-content{padding:.5rem}.rpv-core__display--block{display:block}.rpv-core__display--hidden{display:none}@media (min-width:640px){.rpv-core__display--hidden-small{display:none}.rpv-core__display--block-small{display:block}}@media (min-width:768px){.rpv-core__display--hidden-medium{display:none}.rpv-core__display--block-medium{display:block}}@media (min-width:1024px){.rpv-core__display--hidden-large{display:none}.rpv-core__display--block-large{display:block}}:root{--rpv-thumbnail__container-box-shadow:rgba(0,0,0,.2) 2px 2px 8px 0px;--rpv-thumbnail__item--selected-background-color:rgba(0,0,0,.3)}.rpv-core__viewer--dark{--rpv-thumbnail__item--selected-background-color:#2566e8}.rpv-thumbnail__cover{align-items:center;display:flex;height:100%;justify-content:center;position:relative;width:100%}.rpv-thumbnail__cover-image{max-height:100%;max-width:100%}.rpv-thumbnail__cover-loader{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.rpv-thumbnail__container{align-items:center;box-shadow:var(--rpv-thumbnail__container-box-shadow);display:flex;justify-content:center;margin:0 auto;position:relative}.rpv-thumbnail__item{cursor:pointer;padding:.5rem}.rpv-thumbnail__item--selected,.rpv-thumbnail__item:focus,.rpv-thumbnail__item:hover{background-color:var(--rpv-thumbnail__item--selected-background-color)}.rpv-thumbnail__item:focus{outline:0}.rpv-thumbnail__label{font-size:.75em;padding:.25rem;text-align:center}.rpv-thumbnail__list{align-content:flex-start;align-items:center;display:flex;flex-flow:row wrap;height:100%;justify-content:center;overflow:auto;padding:.5rem 0}.rpv-thumbnail__list--rtl{direction:rtl}.rpv-thumbnail__list-container{height:100%;width:100%}.rpv-thumbnail__loader{align-items:center;display:flex;height:100%;justify-content:center;width:100%}:root{--rpv-drop__area-background-color:#fff;--rpv-drop__area-body-border-color:rgba(0,0,0,.3);--rpv-drop__area-body-color:#000}.rpv-core__viewer--dark{--rpv-drop__area-background-color:#191919;--rpv-drop__area-body-border-color:#fff;--rpv-drop__area-body-color:#fff}.rpv-drop__area{background-color:var(--rpv-drop__area-background-color);bottom:0;left:0;padding:.5rem;position:absolute;right:0;top:0;z-index:9999}.rpv-drop__area-body{align-items:center;border:2px dashed var(--rpv-drop__area-body-border-color);color:var(--rpv-drop__area-body-color);display:flex;font-size:1.5rem;height:100%;justify-content:center}.rpv-drop__area-body--rtl{direction:rtl}:root{--rpv-full-screen__pages-background-color:#fff}.rpv-core__viewer--dark{--rpv-full-screen__pages-background-color:#1a1a1a}.rpv-full-screen__exit-button{bottom:0;padding:.5rem;position:fixed;z-index:1}.rpv-full-screen__exit-button--ltr{right:0}.rpv-full-screen__exit-button--rtl{left:0}.rpv-full-screen__pages{background-color:var(--rpv-full-screen__pages-background-color)}.rpv-open__input-wrapper{position:relative}.rpv-open__input{bottom:0;cursor:pointer;display:none;height:100%;left:0;opacity:0;position:absolute;right:0;top:0;width:100%}.rpv-open__input::-webkit-file-upload-button{width:0}.rpv-page-navigation__current-page-input{margin:0 .25rem;text-align:right;width:3rem}:root{--rpv-print__progress-body-background-color:#fff;--rpv-print__progress-body-border-color:rgba(0,0,0,.3);--rpv-print__progress-body-color:#000}.rpv-core__viewer--dark{--rpv-print__progress-body-background-color:#363636;--rpv-print__progress-body-border-color:transparent;--rpv-print__progress-body-color:#fff}.rpv-print__permission-body{padding:1rem}.rpv-print__permission-footer{display:flex;justify-content:center;padding:0 1rem 1rem 0}.rpv-print__progress{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:9999}.rpv-print__progress-body{background-color:var(--rpv-print__progress-body-background-color);border:1px solid var(--rpv-print__progress-body-border-color);border-radius:.25rem;color:var(--rpv-print__progress-body-color);padding:1.5rem;text-align:center;width:15rem}.rpv-print__progress-body--rtl{direction:rtl}.rpv-print__progress-bar{margin-bottom:1rem}.rpv-print__progress-message{margin-bottom:.5rem}.rpv-print__zone{display:none}@media print{@page{margin:0}.rpv-print__html-printing{height:100%}.rpv-print__body-printing{height:100%;margin:0}.rpv-print__body-printing *{display:none}.rpv-print__zone{display:block;height:100%}.rpv-print__page{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;page-break-after:always;page-break-inside:avoid;width:100%}.rpv-print__page img{display:block;max-height:100%;max-width:100%}}.rpv-properties__loader{text-align:center}.rpv-properties__modal{min-height:20rem;padding:.5rem 0}.rpv-properties__modal-section{padding:0 .5rem}.rpv-properties__modal-footer{display:flex;justify-content:center;margin-top:.5rem}.rpv-properties__item{align-items:flex-start;display:flex;margin:.5rem 0}.rpv-properties__item--rtl{direction:rtl}.rpv-properties__item-label{padding-right:.5rem;width:25%}.rpv-properties__item-value{flex:1 1}.rpv-search__highlight{background-color:var(--rpv-search__highlight-background-color);border-radius:.25rem;position:absolute}.rpv-search__highlight--current{background-color:var(--rpv-search__highlight--current-background-color)}.rpv-search__popover{padding:0 .5rem}.rpv-search__popover-input-counter{align-items:center;display:flex;margin-bottom:.5rem;position:relative;width:12rem}.rpv-search__popover-counter{align-items:center;bottom:0;display:flex;position:absolute;top:0}.rpv-search__popover-counter--ltr{padding-right:.25rem;right:0}.rpv-search__popover-counter--rtl{left:0;padding-left:.25rem}.rpv-search__popover-label{align-items:center;display:flex;margin-bottom:.5rem}.rpv-search__popover-label-checkbox{margin-right:.25rem}.rpv-search__popover-footer{align-items:center;display:flex}.rpv-search__popover-footer-item{padding:0 .25rem}.rpv-search__popover-footer-button--ltr{margin-left:auto}.rpv-search__popover-footer-button--rtl{margin-right:auto}:root{--rpv-search__highlight-background-color:#ff0;--rpv-search__highlight--current-background-color:green}.rpv-selection-mode__grab{cursor:-webkit-grab;cursor:grab}.rpv-selection-mode__grab :not(input),.rpv-selection-mode__grab :not(select),.rpv-selection-mode__grab :not(textarea){cursor:-webkit-grab!important;cursor:grab!important}.rpv-selection-mode__grabbing{cursor:-webkit-grabbing;cursor:grabbing}.rpv-selection-mode__grabbing :not(input),.rpv-selection-mode__grabbing :not(select),.rpv-selection-mode__grabbing :not(textarea){cursor:-webkit-grabbing!important;cursor:grabbing!important}:root{--rpv-zoom__popover-target-arrow-border-color:rgba(0,0,0,.6)}.rpv-core__viewer--dark{--rpv-zoom__popover-target-arrow-border-color:#fff}.rpv-zoom__popover-target{align-items:center;color:var(--rpv-zoom__popover-target-color);display:flex}.rpv-zoom__popover-target-scale--ltr{margin-right:.25rem}.rpv-zoom__popover-target-scale--rtl{margin-left:.25rem}.rpv-zoom__popover-target-arrow{border-color:var(--rpv-zoom__popover-target-arrow-border-color) transparent transparent;border-style:solid;border-width:.5rem .25rem 0;height:0;width:0}:root{--rpv-toolbar__label--color:#000}.rpv-core__viewer--dark{--rpv-toolbar__label--color:#fff}.rpv-toolbar{align-items:center;display:flex;width:100%}.rpv-toolbar--rtl{direction:rtl}.rpv-toolbar__center,.rpv-toolbar__left{align-items:center;display:flex}.rpv-toolbar__center{flex-grow:1;flex-shrink:1;justify-content:center}.rpv-toolbar__right{align-items:center;display:flex;margin-left:auto}.rpv-toolbar__item{align-items:center;display:flex;padding:0 .125rem}.rpv-toolbar__label{color:var(--rpv-toolbar__label--color)}:root{--rpv-default-layout__body-background-color:#fff;--rpv-default-layout__container-border-color:rgba(0,0,0,.3);--rpv-default-layout__toolbar-background-color:#eee;--rpv-default-layout__toolbar-border-bottom-color:rgba(0,0,0,.1);--rpv-default-layout__sidebar-border-color:rgba(0,0,0,.2);--rpv-default-layout__sidebar--opened-background-color:#fff;--rpv-default-layout__sidebar-headers-background-color:#eee;--rpv-default-layout__sidebar-content--opened-background-color:#fff;--rpv-default-layout__sidebar-content--opened-border-color:rgba(0,0,0,.2);--rpv-default-layout__sidebar-content--opened-color:#000}.rpv-core__viewer--dark{--rpv-default-layout__body-background-color:#1a1a1a;--rpv-default-layout__container-border-color:#454647;--rpv-default-layout__toolbar-background-color:#292929;--rpv-default-layout__toolbar-border-bottom-color:#000;--rpv-default-layout__sidebar-border-color:#000;--rpv-default-layout__sidebar--opened-background-color:#fff;--rpv-default-layout__sidebar-headers-background-color:#292929;--rpv-default-layout__sidebar-content--opened-background-color:#1a1a1a;--rpv-default-layout__sidebar-content--opened-border-color:#292929;--rpv-default-layout__sidebar-content--opened-color:#fff}.rpv-default-layout__container{border:1px solid var(--rpv-default-layout__container-border-color);box-sizing:border-box;height:100%;width:100%}.rpv-default-layout__toolbar{align-items:center;background-color:var(--rpv-default-layout__toolbar-background-color);border-bottom:1px solid var(--rpv-default-layout__toolbar-border-bottom-color);display:flex;height:2.5rem;left:0;position:absolute;top:0;width:100%;z-index:1}.rpv-default-layout__sidebar{display:flex;padding-top:2.5rem}.rpv-default-layout__sidebar--opened{background-color:var(--rpv-default-layout__sidebar--opened-background-color);bottom:0;left:0;position:absolute;top:0;width:12rem;z-index:1}.rpv-default-layout__sidebar--ltr{border-right:1px solid var(--rpv-default-layout__sidebar-border-color)}.rpv-default-layout__sidebar--rtl{border-left:1px solid var(--rpv-default-layout__sidebar-border-color)}.rpv-default-layout__main{display:flex;height:100%;position:relative}.rpv-default-layout__main--rtl{direction:rtl}.rpv-default-layout__body{background-color:var(--rpv-default-layout__body-background-color);flex:1 1;overflow:auto;padding-top:2.5rem}@media (min-width:768px){.rpv-default-layout__sidebar--opened{width:16rem}}@media (min-width:1024px){.rpv-default-layout__sidebar--opened{background:inherit;position:inherit;width:20rem;z-index:inherit}}.rpv-default-layout__sidebar-tabs{display:flex;height:100%;width:100%}.rpv-default-layout__sidebar-headers{background-color:var(--rpv-default-layout__sidebar-headers-background-color);padding:.25rem}.rpv-default-layout__sidebar-header{padding:.125rem}.rpv-default-layout__sidebar-content{display:none;flex-grow:1;flex-shrink:1}.rpv-default-layout__sidebar-content--opened{background-color:var(--rpv-default-layout__sidebar-content--opened-background-color);color:var(--rpv-default-layout__sidebar-content--opened-color);display:flex;overflow:hidden}.rpv-default-layout__sidebar-content--ltr{border-left:1px solid var(--rpv-default-layout__sidebar-content--opened-border-color)}.rpv-default-layout__sidebar-content--rtl{border-right:1px solid var(--rpv-default-layout__sidebar-content--opened-border-color)}\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\":root{--rpv-attachment__item--hover-background-color:rgba(0,0,0,.1);--rpv-attachment__item-color:#000}.rpv-core__viewer--dark{--rpv-attachment__item--hover-background-color:#2566e8;--rpv-attachment__item-color:#fff}.rpv-attachment__empty{height:100%;overflow:auto;padding:.5rem 0;text-align:center;width:100%}.rpv-attachment__empty--rtl{direction:rtl}.rpv-attachment__list{display:flex;flex-direction:column;height:100%;overflow:auto;padding:.5rem 0;width:100%}.rpv-attachment__list--rtl{direction:rtl}.rpv-attachment__item{align-items:center;background-color:transparent;border:none;color:var(--rpv-attachment__item-color);cursor:pointer;display:flex;padding:.5rem;text-align:left;width:100%}.rpv-attachment__item:focus{outline:0}.rpv-attachment__item:focus,.rpv-attachment__item:hover{background-color:var(--rpv-attachment__item--hover-background-color)}.rpv-attachment__loader{align-items:center;display:flex;height:100%;justify-content:center;width:100%}:root{--rpv-bookmark__item--hover-background-color:rgba(0,0,0,.1);--rpv-bookmark__item-color:#000}.rpv-core__viewer--dark{--rpv-bookmark__item--hover-background-color:#2566e8;--rpv-bookmark__item-color:#fff}.rpv-bookmark__item{align-items:center;color:var(--rpv-bookmark__item-color);cursor:pointer;display:flex;padding-bottom:.25rem;padding-right:.25rem;padding-top:.25rem}.rpv-bookmark__item:focus{outline:0}.rpv-bookmark__item:focus,.rpv-bookmark__item:hover{background-color:var(--rpv-bookmark__item--hover-background-color)}.rpv-bookmark__toggle{align-items:center;display:flex;height:1rem;margin-right:.25rem;width:1rem}.rpv-bookmark__title{flex-grow:1;flex-shrink:1;text-decoration:none}.rpv-bookmark__list{list-style-type:none;margin:0;overflow:auto;padding:0}.rpv-bookmark__loader{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.rpv-bookmark__empty{height:100%;overflow:auto;padding:.5rem 0;text-align:center;width:100%}.rpv-bookmark__empty--rtl{direction:rtl}.rpv-bookmark__container{height:100%;overflow:auto;padding:.5rem 0;width:100%}.rpv-bookmark__container--rtl{direction:rtl}:root{--rpv-core__annotation--link-hover-background-color:rgba(255,255,0,.2);--rpv-core__annotation-popup-wrapper-background-color:#faf089;--rpv-core__annotation-popup-wrapper-box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);--rpv-core__annotation-popup-content-border-top-color:#1a202c;--rpv-core__arrow-border-color:rgba(0,0,0,.3);--rpv-core__asking-password-color:#000;--rpv-core__asking-password-wrapper-background-color:#fff;--rpv-core__asking-password-wrapper-border-color:rgba(0,0,0,.3);--rpv-core__button-background-color:rgba(0,0,0,.3);--rpv-core__button-color:#000;--rpv-core__doc-error-background-color:#fff;--rpv-core__doc-error-text-background-color:#c02424;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#fff;--rpv-core__inner-page-background-color:#fff;--rpv-core__menu-divider-border-bottom-color:rgba(0,0,0,.3);--rpv-core__menu-item-color:#000;--rpv-core__menu-item--hover-background-color:rgba(0,0,0,.1);--rpv-core__menu-item--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button-color:#000;--rpv-core__minimal-button--hover-background-color:rgba(0,0,0,.1);--rpv-core__minimal-button--disabled-color:rgba(0,0,0,.3);--rpv-core__minimal-button--selected-background-color:rgba(0,0,0,.1);--rpv-core__modal-body-background-color:#fff;--rpv-core__modal-body-border-color:rgba(0,0,0,.3);--rpv-core__modal-overlay-background-color:rgba(0,0,0,.5);--rpv-core__page-layer-box-shadow:2px 2px 8px 0 rgba(0,0,0,.2);--rpv-core__popover-body-background-color:#fff;--rpv-core__popover-body-border-color:rgba(0,0,0,.3);--rpv-core__popover-body-color:#000;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__primary-button-color:#fff;--rpv-core__progress-bar-background-color:rgba(0,0,0,.1);--rpv-core__progress-bar-progress-background-color:#2566e8;--rpv-core__progress-bar-progress-color:#fff;--rpv-core__separator-border-bottom-color:rgba(0,0,0,.3);--rpv-core__spinner-border-color:rgba(0,0,0,.4);--rpv-core__spinner-border-transparent-color:transparent;--rpv-core__splitter-background-color:transparent;--rpv-core__splitter--hover-background-color:rgba(0,0,0,.2);--rpv-core__text-layer-text--selection-background-color:#00f;--rpv-core__text-layer-text--selection-color:transparent;--rpv-core__textbox-background-color:#fff;--rpv-core__textbox-border-color:rgba(0,0,0,.2);--rpv-core__textbox-color:#000;--rpv-core__tooltip-body-background-color:#000;--rpv-core__tooltip-body-color:#fff}.rpv-core__viewer--dark{--rpv-core__asking-password-background-color:#363636;--rpv-core__asking-password-color:#fff;--rpv-core__asking-password-wrapper-border-color:#191919;--rpv-core__asking-password-wrapper-background-color:#191919;--rpv-core__button-background-color:#171717;--rpv-core__button-color:#fff;--rpv-core__doc-error-background-color:#191919;--rpv-core__doc-error-text-background-color:#c02323;--rpv-core__doc-error-text-color:#fff;--rpv-core__doc-loading-background-color:#191919;--rpv-core__inner-page-background-color:#1a1a1a;--rpv-core__menu-divider-border-bottom-color:#000;--rpv-core__menu-item-color:#fff;--rpv-core__menu-item--hover-background-color:#2566e8;--rpv-core__menu-item--disabled-color:#5e5e5e;--rpv-core__minimal-button-color:#fff;--rpv-core__minimal-button--disabled-color:#5e5e5e;--rpv-core__minimal-button--hover-background-color:#191919;--rpv-core__minimal-button--selected-background-color:#1657bb;--rpv-core__modal-body-background-color:#363636;--rpv-core__primary-button-background-color:#2566e8;--rpv-core__popover-body-background-color:#363636;--rpv-core__popover-body-color:#fff;--rpv-core__progress-bar-background-color:#000;--rpv-core__separator-border-bottom-color:#000;--rpv-core__spinner-border-color:#fff;--rpv-core__splitter-background-color:#1a1a1a;--rpv-core__splitter--hover-background-color:#2566e8;--rpv-core__textbox-background-color:#121212;--rpv-core__textbox-border-color:#121212;--rpv-core__textbox-color:#fff;--rpv-core__tooltip-body-background-color:#414141;--rpv-core__tooltip-body-color:#fff}.rpv-core__annotation,.rpv-core__arrow{position:absolute}.rpv-core__arrow{border-bottom:1px solid var(--rpv-core__arrow-border-color);border-left-color:var(--rpv-core__arrow-border-color);border-right:1px solid var(--rpv-core__arrow-border-color);border-top-color:var(--rpv-core__arrow-border-color);height:10px;width:10px;z-index:0}.rpv-core__arrow--tl{bottom:0;left:0;transform:translate(50%,50%) rotate(45deg)}.rpv-core__arrow--tc{left:50%}.rpv-core__arrow--tc,.rpv-core__arrow--tr{bottom:0;transform:translate(-50%,50%) rotate(45deg)}.rpv-core__arrow--tr{right:0}.rpv-core__arrow--rt{left:0;top:0;transform:translate(-50%,50%) rotate(135deg)}.rpv-core__arrow--rc{top:50%}.rpv-core__arrow--rb,.rpv-core__arrow--rc{left:0;transform:translate(-50%,-50%) rotate(135deg)}.rpv-core__arrow--rb{bottom:0}.rpv-core__arrow--bl{left:0;top:0;transform:translate(50%,-50%) rotate(225deg)}.rpv-core__arrow--bc{left:50%}.rpv-core__arrow--bc,.rpv-core__arrow--br{top:0;transform:translate(-50%,-50%) rotate(225deg)}.rpv-core__arrow--br{right:0}.rpv-core__arrow--lt{right:0;top:0;transform:translate(50%,50%) rotate(315deg)}.rpv-core__arrow--lc{top:50%}.rpv-core__arrow--lb,.rpv-core__arrow--lc{right:0;transform:translate(50%,-50%) rotate(315deg)}.rpv-core__arrow--lb{bottom:0}.rpv-core__asking-password{background-color:var(--rpv-core__asking-password-background-color);border-radius:.25rem;color:var(--rpv-core__asking-password-color);padding:2rem}.rpv-core__asking-password--rtl{direction:rtl}.rpv-core__asking-password-wrapper{align-items:center;background-color:var(--rpv-core__asking-password-wrapper-background-color);border:1px solid var(--rpv-core__asking-password-wrapper-border-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__asking-password-message{margin:.5rem 0}.rpv-core__asking-password-body{align-items:center;display:flex;justify-content:center}.rpv-core__asking-password-input{width:15rem}.rpv-core__asking-password-input--ltr{margin-right:.5rem}.rpv-core__asking-password-input--rtl{margin-left:.5rem}.rpv-core__button{background-color:var(--rpv-core__button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__button--rtl{direction:rtl}.rpv-core__canvas-layer{direction:ltr;left:0;overflow:hidden;position:absolute;top:0}.rpv-core__doc-error{align-items:center;background-color:var(--rpv-core__doc-error-background-color);display:flex;height:100%;justify-content:center}.rpv-core__doc-error--rtl{direction:rtl}.rpv-core__doc-error-text{background-color:var(--rpv-core__doc-error-text-background-color);border-radius:.25rem;color:var(--rpv-core__doc-error-text-color);line-height:1.5;max-width:50%;padding:.5rem}.rpv-core__doc-loading{align-items:center;background-color:var(--rpv-core__doc-loading-background-color);display:flex;height:100%;justify-content:center;width:100%}.rpv-core__doc-loading--rtl{direction:rtl}.rpv-core__icon{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1;text-align:center}.rpv-core__icon--rtl{transform:scaleX(-1)}.rpv-core__inner-pages--rtl{direction:rtl}.rpv-core__inner-page{background-color:var(--rpv-core__inner-page-background-color);padding:.5rem}.rpv-core__annotation--link a{height:100%;left:0;position:absolute;top:0;width:100%}.rpv-core__annotation--link a:hover{background-color:var(--rpv-core__annotation--link-hover-background-color)}.rpv-core__menu{display:flex;flex-direction:column}.rpv-core__menu--rtl{direction:rtl;text-align:right}.rpv-core__menu-divider{border-bottom:1px solid var(--rpv-core__menu-divider-border-bottom-color);margin:.25rem 0}.rpv-core__menu-item{align-items:center;background-color:transparent;border:none;color:var(--rpv-core__menu-item-color);cursor:pointer;display:flex;justify-content:center;padding:.25rem 0;width:100%}.rpv-core__menu-item:focus{outline:0}.rpv-core__menu-item:focus,.rpv-core__menu-item:hover{background-color:var(--rpv-core__menu-item--hover-background-color)}.rpv-core__menu-item-icon{align-items:center;display:flex}.rpv-core__menu-item-icon--ltr{padding-left:1rem;padding-right:.5rem}.rpv-core__menu-item-icon--rtl{padding-left:.5rem;padding-right:1rem}.rpv-core__menu-item-label{flex-grow:1;flex-shrink:1;white-space:nowrap}.rpv-core__menu-item-label--ltr{padding-right:2rem}.rpv-core__menu-item-label--rtl{padding-left:2rem}.rpv-core__menu-item-check--ltr{padding-right:1rem}.rpv-core__menu-item-check--rtl{padding-left:1rem}.rpv-core__menu-item--disabled{color:var(--rpv-core__menu-item--disabled-color)}.rpv-core__menu-item--disabled:hover{background-color:transparent}.rpv-core__menu-item--ltr{text-align:left}.rpv-core__menu-item--rtl{direction:rtl;text-align:right}.rpv-core__minimal-button{background-color:transparent;border:none;border-radius:.25rem;color:var(--rpv-core__minimal-button-color);cursor:pointer;height:2rem;padding:0 .5rem}.rpv-core__minimal-button:hover{background-color:var(--rpv-core__minimal-button--hover-background-color)}.rpv-core__minimal-button--disabled{color:var(--rpv-core__minimal-button--disabled-color)}.rpv-core__minimal-button--rtl{direction:rtl}.rpv-core__minimal-button--selected{background-color:var(--rpv-core__minimal-button--selected-background-color)}.rpv-core__modal-body{background-color:var(--rpv-core__modal-body-background-color);border:1px solid var(--rpv-core__modal-body-border-color);border-radius:.25rem;margin:1rem;max-width:32rem;overflow:auto}.rpv-core__modal-body--rtl{direction:rtl}.rpv-core__modal-overlay{background-color:var(--rpv-core__modal-overlay-background-color);bottom:0;left:0;position:fixed;right:0;top:0;z-index:9999}.rpv-core__modal-overlay,.rpv-core__page-layer{align-items:center;display:flex;justify-content:center}.rpv-core__page-layer{box-shadow:var(--rpv-core__page-layer-box-shadow);margin:0 auto;position:relative}.rpv-core__page-size-calculator{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.rpv-core__popover-body{border:1px solid var(--rpv-core__popover-body-border-color);border-radius:.25rem;color:var(--rpv-core__popover-body-color);left:0;padding:.5rem 0;position:absolute;top:-9999px;z-index:9999}.rpv-core__popover-body,.rpv-core__popover-body-arrow{background-color:var(--rpv-core__popover-body-background-color)}.rpv-core__popover-body--rtl{direction:rtl}.rpv-core__popover-overlay{bottom:0;left:0;position:fixed;right:0;top:0}.rpv-core__annotation-popup-wrapper{background-color:var(--rpv-core__annotation-popup-wrapper-background-color);box-shadow:var(--rpv-core__annotation-popup-wrapper-box-shadow);font-size:.75rem;padding:.25rem;word-break:break-word}.rpv-core__annotation-popup-wrapper--rtl{direction:rtl}.rpv-core__annotation-popup-title{font-weight:600;margin-bottom:.25rem}.rpv-core__annotation-popup-date{font-size:.5rem}.rpv-core__annotation-popup-content{border-top:1px solid var(--rpv-core__annotation-popup-content-border-top-color);max-height:16rem;overflow:auto;padding:.25rem}.rpv-core__primary-button{background-color:var(--rpv-core__primary-button-background-color);border:none;border-radius:.25rem;color:var(--rpv-core__primary-button-color);cursor:pointer;height:2rem;padding:0 1rem}.rpv-core__primary-button--rtl{direction:rtl}.rpv-core__progress-bar{background-color:var(--rpv-core__progress-bar-background-color);border-radius:9999px;padding:.125rem}.rpv-core__progress-bar--rtl{direction:rtl}.rpv-core__progress-bar-progress{align-items:center;background-color:var(--rpv-core__progress-bar-progress-background-color);border-radius:9999px;color:var(--rpv-core__progress-bar-progress-color);display:flex;font-size:.75rem;height:.75rem;justify-content:center}.rpv-core__separator{border-bottom:1px solid var(--rpv-core__separator-border-bottom-color)}.rpv-core__spinner{border-bottom:2px solid var(--rpv-core__spinner-border-transparent-color);border-left:2px solid var(--rpv-core__spinner-border-transparent-color);border-radius:9999px;border-right:2px solid var(--rpv-core__spinner-border-color);border-top:2px solid var(--rpv-core__spinner-border-color)}.rpv-core__spinner--animating{animation-duration:.4s;animation-iteration-count:infinite;animation-name:rpv-core__spinner-transform;animation-timing-function:linear}@keyframes rpv-core__spinner-transform{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.rpv-core__splitter{background-color:var(--rpv-core__splitter-background-color);cursor:ew-resize;height:100%;width:.25rem}.rpv-core__splitter--resizing,.rpv-core__splitter:hover{background-color:var(--rpv-core__splitter--hover-background-color);cursor:col-resize}.rpv-core__splitter-body--resizing{cursor:col-resize}.rpv-core__splitter-sibling--resizing{pointer-events:none;user-select:none}.rpv-core__textbox{background-color:var(--rpv-core__textbox-background-color);border:1px solid var(--rpv-core__textbox-border-color);border-radius:.25rem;box-sizing:border-box;color:var(--rpv-core__textbox-color);height:2rem;padding:0 .5rem;width:100%}.rpv-core__textbox--rtl{direction:rtl}.rpv-core__text-layer{height:100%;left:0;line-height:1;opacity:.2;position:absolute;top:0;width:100%}.rpv-core__text-layer ::selection{background-color:var(--rpv-core__text-layer-text--selection-background-color);color:var(--rpv-core__text-layer-text--selection-color)}.rpv-core__text-layer-text{color:transparent;cursor:text;position:absolute;transform-origin:0 0;white-space:pre}.rpv-core__tooltip-body{background-color:var(--rpv-core__tooltip-body-background-color);border-radius:.25rem;color:var(--rpv-core__tooltip-body-color);left:0;max-width:20rem;position:absolute;text-align:center;top:-9999px;z-index:9999}.rpv-core__tooltip-body--rtl{direction:rtl}.rpv-core__tooltip-body-arrow{background-color:var(--rpv-core__tooltip-body-background-color)}.rpv-core__tooltip-body-content{padding:.5rem}.rpv-core__display--block{display:block}.rpv-core__display--hidden{display:none}@media (min-width:640px){.rpv-core__display--hidden-small{display:none}.rpv-core__display--block-small{display:block}}@media (min-width:768px){.rpv-core__display--hidden-medium{display:none}.rpv-core__display--block-medium{display:block}}@media (min-width:1024px){.rpv-core__display--hidden-large{display:none}.rpv-core__display--block-large{display:block}}:root{--rpv-thumbnail__container-box-shadow:rgba(0,0,0,.2) 2px 2px 8px 0px;--rpv-thumbnail__item--selected-background-color:rgba(0,0,0,.3)}.rpv-core__viewer--dark{--rpv-thumbnail__item--selected-background-color:#2566e8}.rpv-thumbnail__cover{align-items:center;display:flex;height:100%;justify-content:center;position:relative;width:100%}.rpv-thumbnail__cover-image{max-height:100%;max-width:100%}.rpv-thumbnail__cover-loader{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.rpv-thumbnail__container{align-items:center;box-shadow:var(--rpv-thumbnail__container-box-shadow);display:flex;justify-content:center;margin:0 auto;position:relative}.rpv-thumbnail__item{cursor:pointer;padding:.5rem}.rpv-thumbnail__item--selected,.rpv-thumbnail__item:focus,.rpv-thumbnail__item:hover{background-color:var(--rpv-thumbnail__item--selected-background-color)}.rpv-thumbnail__item:focus{outline:0}.rpv-thumbnail__label{font-size:.75em;padding:.25rem;text-align:center}.rpv-thumbnail__list{align-content:flex-start;align-items:center;display:flex;flex-flow:row wrap;height:100%;justify-content:center;overflow:auto;padding:.5rem 0}.rpv-thumbnail__list--rtl{direction:rtl}.rpv-thumbnail__list-container{height:100%;width:100%}.rpv-thumbnail__loader{align-items:center;display:flex;height:100%;justify-content:center;width:100%}:root{--rpv-drop__area-background-color:#fff;--rpv-drop__area-body-border-color:rgba(0,0,0,.3);--rpv-drop__area-body-color:#000}.rpv-core__viewer--dark{--rpv-drop__area-background-color:#191919;--rpv-drop__area-body-border-color:#fff;--rpv-drop__area-body-color:#fff}.rpv-drop__area{background-color:var(--rpv-drop__area-background-color);bottom:0;left:0;padding:.5rem;position:absolute;right:0;top:0;z-index:9999}.rpv-drop__area-body{align-items:center;border:2px dashed var(--rpv-drop__area-body-border-color);color:var(--rpv-drop__area-body-color);display:flex;font-size:1.5rem;height:100%;justify-content:center}.rpv-drop__area-body--rtl{direction:rtl}:root{--rpv-full-screen__pages-background-color:#fff}.rpv-core__viewer--dark{--rpv-full-screen__pages-background-color:#1a1a1a}.rpv-full-screen__exit-button{bottom:0;padding:.5rem;position:fixed;z-index:1}.rpv-full-screen__exit-button--ltr{right:0}.rpv-full-screen__exit-button--rtl{left:0}.rpv-full-screen__pages{background-color:var(--rpv-full-screen__pages-background-color)}.rpv-open__input-wrapper{position:relative}.rpv-open__input{bottom:0;cursor:pointer;display:none;height:100%;left:0;opacity:0;position:absolute;right:0;top:0;width:100%}.rpv-open__input::-webkit-file-upload-button{width:0}.rpv-page-navigation__current-page-input{margin:0 .25rem;text-align:right;width:3rem}:root{--rpv-print__progress-body-background-color:#fff;--rpv-print__progress-body-border-color:rgba(0,0,0,.3);--rpv-print__progress-body-color:#000}.rpv-core__viewer--dark{--rpv-print__progress-body-background-color:#363636;--rpv-print__progress-body-border-color:transparent;--rpv-print__progress-body-color:#fff}.rpv-print__permission-body{padding:1rem}.rpv-print__permission-footer{display:flex;justify-content:center;padding:0 1rem 1rem 0}.rpv-print__progress{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:9999}.rpv-print__progress-body{background-color:var(--rpv-print__progress-body-background-color);border:1px solid var(--rpv-print__progress-body-border-color);border-radius:.25rem;color:var(--rpv-print__progress-body-color);padding:1.5rem;text-align:center;width:15rem}.rpv-print__progress-body--rtl{direction:rtl}.rpv-print__progress-bar{margin-bottom:1rem}.rpv-print__progress-message{margin-bottom:.5rem}.rpv-print__zone{display:none}@media print{@page{margin:0}.rpv-print__html-printing{height:100%}.rpv-print__body-printing{height:100%;margin:0}.rpv-print__body-printing *{display:none}.rpv-print__zone{display:block;height:100%}.rpv-print__page{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;page-break-after:always;page-break-inside:avoid;width:100%}.rpv-print__page img{display:block;max-height:100%;max-width:100%}}.rpv-properties__loader{text-align:center}.rpv-properties__modal{min-height:20rem;padding:.5rem 0}.rpv-properties__modal-section{padding:0 .5rem}.rpv-properties__modal-footer{display:flex;justify-content:center;margin-top:.5rem}.rpv-properties__item{align-items:flex-start;display:flex;margin:.5rem 0}.rpv-properties__item--rtl{direction:rtl}.rpv-properties__item-label{padding-right:.5rem;width:25%}.rpv-properties__item-value{flex:1}.rpv-search__highlight{background-color:var(--rpv-search__highlight-background-color);border-radius:.25rem;position:absolute}.rpv-search__highlight--current{background-color:var(--rpv-search__highlight--current-background-color)}.rpv-search__popover{padding:0 .5rem}.rpv-search__popover-input-counter{align-items:center;display:flex;margin-bottom:.5rem;position:relative;width:12rem}.rpv-search__popover-counter{align-items:center;bottom:0;display:flex;position:absolute;top:0}.rpv-search__popover-counter--ltr{padding-right:.25rem;right:0}.rpv-search__popover-counter--rtl{left:0;padding-left:.25rem}.rpv-search__popover-label{align-items:center;display:flex;margin-bottom:.5rem}.rpv-search__popover-label-checkbox{margin-right:.25rem}.rpv-search__popover-footer{align-items:center;display:flex}.rpv-search__popover-footer-item{padding:0 .25rem}.rpv-search__popover-footer-button--ltr{margin-left:auto}.rpv-search__popover-footer-button--rtl{margin-right:auto}:root{--rpv-search__highlight-background-color:#ff0;--rpv-search__highlight--current-background-color:green}.rpv-selection-mode__grab{cursor:grab}.rpv-selection-mode__grab :not(input),.rpv-selection-mode__grab :not(select),.rpv-selection-mode__grab :not(textarea){cursor:grab!important}.rpv-selection-mode__grabbing{cursor:grabbing}.rpv-selection-mode__grabbing :not(input),.rpv-selection-mode__grabbing :not(select),.rpv-selection-mode__grabbing :not(textarea){cursor:grabbing!important}:root{--rpv-zoom__popover-target-arrow-border-color:rgba(0,0,0,.6)}.rpv-core__viewer--dark{--rpv-zoom__popover-target-arrow-border-color:#fff}.rpv-zoom__popover-target{align-items:center;color:var(--rpv-zoom__popover-target-color);display:flex}.rpv-zoom__popover-target-scale--ltr{margin-right:.25rem}.rpv-zoom__popover-target-scale--rtl{margin-left:.25rem}.rpv-zoom__popover-target-arrow{border-color:var(--rpv-zoom__popover-target-arrow-border-color) transparent transparent;border-style:solid;border-width:.5rem .25rem 0;height:0;width:0}:root{--rpv-toolbar__label--color:#000}.rpv-core__viewer--dark{--rpv-toolbar__label--color:#fff}.rpv-toolbar{align-items:center;display:flex;width:100%}.rpv-toolbar--rtl{direction:rtl}.rpv-toolbar__center,.rpv-toolbar__left{align-items:center;display:flex}.rpv-toolbar__center{flex-grow:1;flex-shrink:1;justify-content:center}.rpv-toolbar__right{align-items:center;display:flex;margin-left:auto}.rpv-toolbar__item{align-items:center;display:flex;padding:0 .125rem}.rpv-toolbar__label{color:var(--rpv-toolbar__label--color)}:root{--rpv-default-layout__body-background-color:#fff;--rpv-default-layout__container-border-color:rgba(0,0,0,.3);--rpv-default-layout__toolbar-background-color:#eee;--rpv-default-layout__toolbar-border-bottom-color:rgba(0,0,0,.1);--rpv-default-layout__sidebar-border-color:rgba(0,0,0,.2);--rpv-default-layout__sidebar--opened-background-color:#fff;--rpv-default-layout__sidebar-headers-background-color:#eee;--rpv-default-layout__sidebar-content--opened-background-color:#fff;--rpv-default-layout__sidebar-content--opened-border-color:rgba(0,0,0,.2);--rpv-default-layout__sidebar-content--opened-color:#000}.rpv-core__viewer--dark{--rpv-default-layout__body-background-color:#1a1a1a;--rpv-default-layout__container-border-color:#454647;--rpv-default-layout__toolbar-background-color:#292929;--rpv-default-layout__toolbar-border-bottom-color:#000;--rpv-default-layout__sidebar-border-color:#000;--rpv-default-layout__sidebar--opened-background-color:#fff;--rpv-default-layout__sidebar-headers-background-color:#292929;--rpv-default-layout__sidebar-content--opened-background-color:#1a1a1a;--rpv-default-layout__sidebar-content--opened-border-color:#292929;--rpv-default-layout__sidebar-content--opened-color:#fff}.rpv-default-layout__container{border:1px solid var(--rpv-default-layout__container-border-color);box-sizing:border-box;height:100%;width:100%}.rpv-default-layout__toolbar{align-items:center;background-color:var(--rpv-default-layout__toolbar-background-color);border-bottom:1px solid var(--rpv-default-layout__toolbar-border-bottom-color);display:flex;height:2.5rem;left:0;position:absolute;top:0;width:100%;z-index:1}.rpv-default-layout__sidebar{display:flex;padding-top:2.5rem}.rpv-default-layout__sidebar--opened{background-color:var(--rpv-default-layout__sidebar--opened-background-color);bottom:0;left:0;position:absolute;top:0;width:12rem;z-index:1}.rpv-default-layout__sidebar--ltr{border-right:1px solid var(--rpv-default-layout__sidebar-border-color)}.rpv-default-layout__sidebar--rtl{border-left:1px solid var(--rpv-default-layout__sidebar-border-color)}.rpv-default-layout__main{display:flex;height:100%;position:relative}.rpv-default-layout__main--rtl{direction:rtl}.rpv-default-layout__body{background-color:var(--rpv-default-layout__body-background-color);flex:1;overflow:auto;padding-top:2.5rem}@media (min-width:768px){.rpv-default-layout__sidebar--opened{width:16rem}}@media (min-width:1024px){.rpv-default-layout__sidebar--opened{background:inherit;position:inherit;width:20rem;z-index:inherit}}.rpv-default-layout__sidebar-tabs{display:flex;height:100%;width:100%}.rpv-default-layout__sidebar-headers{background-color:var(--rpv-default-layout__sidebar-headers-background-color);padding:.25rem}.rpv-default-layout__sidebar-header{padding:.125rem}.rpv-default-layout__sidebar-content{display:none;flex-grow:1;flex-shrink:1}.rpv-default-layout__sidebar-content--opened{background-color:var(--rpv-default-layout__sidebar-content--opened-background-color);color:var(--rpv-default-layout__sidebar-content--opened-color);display:flex;overflow:hidden}.rpv-default-layout__sidebar-content--ltr{border-left:1px solid var(--rpv-default-layout__sidebar-content--opened-border-color)}.rpv-default-layout__sidebar-content--rtl{border-right:1px solid var(--rpv-default-layout__sidebar-content--opened-border-color)}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls3XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbN10udXNlWzJdIS4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9zdHlsZXMvaW5kZXguY3NzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ29IO0FBQ3BILDhCQUE4QixxR0FBMkI7QUFDekQ7QUFDQSxnREFBZ0QsOERBQThELGtDQUFrQyx3QkFBd0IsdURBQXVELGtDQUFrQyx1QkFBdUIsWUFBWSxjQUFjLGdCQUFnQixrQkFBa0IsV0FBVyw0QkFBNEIsY0FBYyxzQkFBc0IsYUFBYSxzQkFBc0IsWUFBWSxjQUFjLGdCQUFnQixXQUFXLDJCQUEyQixjQUFjLHNCQUFzQixtQkFBbUIsNkJBQTZCLFlBQVksd0NBQXdDLGVBQWUsYUFBYSxjQUFjLGdCQUFnQixXQUFXLDRCQUE0QixVQUFVLHdEQUF3RCxxRUFBcUUsd0JBQXdCLG1CQUFtQixhQUFhLFlBQVksdUJBQXVCLFdBQVcsTUFBTSw0REFBNEQsZ0NBQWdDLHdCQUF3QixxREFBcUQsZ0NBQWdDLG9CQUFvQixtQkFBbUIsc0NBQXNDLGVBQWUsYUFBYSxzQkFBc0IscUJBQXFCLG1CQUFtQiwwQkFBMEIsVUFBVSxvREFBb0QsbUVBQW1FLHNCQUFzQixtQkFBbUIsYUFBYSxZQUFZLG9CQUFvQixXQUFXLHFCQUFxQixZQUFZLGNBQWMscUJBQXFCLG9CQUFvQixxQkFBcUIsU0FBUyxjQUFjLFVBQVUsc0JBQXNCLG1CQUFtQixhQUFhLFlBQVksdUJBQXVCLFdBQVcscUJBQXFCLFlBQVksY0FBYyxnQkFB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TyxrQkFBa0IsTUFBTSxXQUFXLFVBQVUsNkJBQTZCLGFBQWEsbUJBQW1CLHFDQUFxQyw2RUFBNkUsU0FBUyxPQUFPLGtCQUFrQixNQUFNLFlBQVksVUFBVSxrQ0FBa0MsdUVBQXVFLGtDQUFrQyxzRUFBc0UsMEJBQTBCLGFBQWEsWUFBWSxrQkFBa0IsK0JBQStCLGNBQWMsMEJBQTBCLGtFQUFrRSxPQUFPLGNBQWMsbUJBQW1CLHlCQUF5QixxQ0FBcUMsYUFBYSwwQkFBMEIscUNBQXFDLG1CQUFtQixpQkFBaUIsWUFBWSxpQkFBaUIsa0NBQWtDLGFBQWEsWUFBWSxXQUFXLHFDQUFxQyw2RUFBNkUsZUFBZSxvQ0FBb0MsZ0JBQWdCLHFDQUFxQyxhQUFhLFlBQVksY0FBYyw2Q0FBNkMscUZBQXFGLCtEQUErRCxhQUFhLGdCQUFnQiwwQ0FBMEMsc0ZBQXNGLDBDQUEwQyx1RkFBdUYsbUJBQW1CO0FBQzc5OUQ7QUFDQSwrREFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZGVmYXVsdC1sYXlvdXQvbGliL3N0eWxlcy9pbmRleC5jc3M/MWI3OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdHstLXJwdi1hdHRhY2htZW50X19pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWF0dGFjaG1lbnRfX2l0ZW0tY29sb3I6IzAwMH0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi1hdHRhY2htZW50X19pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtYXR0YWNobWVudF9faXRlbS1jb2xvcjojZmZmfS5ycHYtYXR0YWNobWVudF9fZW1wdHl7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6YXV0bztwYWRkaW5nOi41cmVtIDA7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWF0dGFjaG1lbnRfX2VtcHR5LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWF0dGFjaG1lbnRfX2xpc3R7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtoZWlnaHQ6MTAwJTtvdmVyZmxvdzphdXRvO3BhZGRpbmc6LjVyZW0gMDt3aWR0aDoxMDAlfS5ycHYtYXR0YWNobWVudF9fbGlzdC0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1hdHRhY2htZW50X19pdGVte2FsaWduLWl0ZW1zOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjpub25lO2NvbG9yOnZhcigtLXJwdi1hdHRhY2htZW50X19pdGVtLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7cGFkZGluZzouNXJlbTt0ZXh0LWFsaWduOmxlZnQ7d2lkdGg6MTAwJX0ucnB2LWF0dGFjaG1lbnRfX2l0ZW06Zm9jdXN7b3V0bGluZTowfS5ycHYtYXR0YWNobWVudF9faXRlbTpmb2N1cywucnB2LWF0dGFjaG1lbnRfX2l0ZW06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtYXR0YWNobWVudF9faXRlbS0taG92ZXItYmFja2dyb3VuZC1jb2xvcil9LnJwdi1hdHRhY2htZW50X19sb2FkZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9OnJvb3R7LS1ycHYtYm9va21hcmtfX2l0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtYm9va21hcmtfX2l0ZW0tY29sb3I6IzAwMH0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi1ib29rbWFya19faXRlbS0taG92ZXItYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWJvb2ttYXJrX19pdGVtLWNvbG9yOiNmZmZ9LnJwdi1ib29rbWFya19faXRlbXthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6dmFyKC0tcnB2LWJvb2ttYXJrX19pdGVtLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7cGFkZGluZy1ib3R0b206LjI1cmVtO3BhZGRpbmctcmlnaHQ6LjI1cmVtO3BhZGRpbmctdG9wOi4yNXJlbX0ucnB2LWJvb2ttYXJrX19pdGVtOmZvY3Vze291dGxpbmU6MH0ucnB2LWJvb2ttYXJrX19pdGVtOmZvY3VzLC5ycHYtYm9va21hcmtfX2l0ZW06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtYm9va21hcmtfX2l0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3IpfS5ycHYtYm9va21hcmtfX3RvZ2dsZXthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxcmVtO21hcmdpbi1yaWdodDouMjVyZW07d2lkdGg6MXJlbX0ucnB2LWJvb2ttYXJrX190aXRsZXtmbGV4LWdyb3c6MTtmbGV4LXNocmluazoxO3RleHQtZGVjb3JhdGlvbjpub25lfS5ycHYtYm9va21hcmtfX2xpc3R7bGlzdC1zdHlsZS10eXBlOm5vbmU7bWFyZ2luOjA7b3ZlcmZsb3c6YXV0bztwYWRkaW5nOjB9LnJwdi1ib29rbWFya19fbG9hZGVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlfS5ycHYtYm9va21hcmtfX2VtcHR5e2hlaWdodDoxMDAlO292ZXJmbG93OmF1dG87cGFkZGluZzouNXJlbSAwO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjEwMCV9LnJwdi1ib29rbWFya19fZW1wdHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtYm9va21hcmtfX2NvbnRhaW5lcntoZWlnaHQ6MTAwJTtvdmVyZmxvdzphdXRvO3BhZGRpbmc6LjVyZW0gMDt3aWR0aDoxMDAlfS5ycHYtYm9va21hcmtfX2NvbnRhaW5lci0tcnRse2RpcmVjdGlvbjpydGx9OnJvb3R7LS1ycHYtY29yZV9fYW5ub3RhdGlvbi0tbGluay1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwwLC4yKTstLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojZmFmMDg5Oy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlci1ib3gtc2hhZG93OjAgMTBweCAxNXB4IC0zcHggcmdiYSgwLDAsMCwuMSksMCA0cHggNnB4IC0ycHggcmdiYSgwLDAsMCwuMDUpOy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudC1ib3JkZXItdG9wLWNvbG9yOiMxYTIwMmM7LS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtd3JhcHBlci1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYnV0dG9uLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yOiNjMDI0MjQ7LS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9faW5uZXItcGFnZS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWVudS1pdGVtLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fbWVudS1pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3I6IzAwMDstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWQtY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fbW9kYWwtb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpOy0tcnB2LWNvcmVfX3BhZ2UtbGF5ZXItYm94LXNoYWRvdzoycHggMnB4IDhweCAwIHJnYmEoMCwwLDAsLjIpOy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktY29sb3I6IzAwMDstLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3MtYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjQpOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LWNvcmVfX3NwbGl0dGVyLWJhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7LS1ycHYtY29yZV9fc3BsaXR0ZXItLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMik7LS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tYmFja2dyb3VuZC1jb2xvcjojMDBmOy0tcnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dC0tc2VsZWN0aW9uLWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LWNvcmVfX3RleHRib3gtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3RleHRib3gtYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjIpOy0tcnB2LWNvcmVfX3RleHRib3gtY29sb3I6IzAwMDstLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb2xvcjojZmZmfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYm9yZGVyLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX2J1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMxNzE3MTc7LS1ycHYtY29yZV9fYnV0dG9uLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3I6IzE5MTkxOTstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yOiNjMDIzMjM7LS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9faW5uZXItcGFnZS1iYWNrZ3JvdW5kLWNvbG9yOiMxYTFhMWE7LS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3I6IzAwMDstLXJwdi1jb3JlX19tZW51LWl0ZW0tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IzI1NjZlODstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVkLWNvbG9yOiM1ZTVlNWU7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWQtY29sb3I6IzVlNWU1ZTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1zZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yOiMxNjU3YmI7LS1ycHYtY29yZV9fbW9kYWwtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLWJhY2tncm91bmQtY29sb3I6IzAwMDstLXJwdi1jb3JlX19zZXBhcmF0b3ItYm9yZGVyLWJvdHRvbS1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcjojMWExYTFhOy0tcnB2LWNvcmVfX3NwbGl0dGVyLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fdGV4dGJveC1iYWNrZ3JvdW5kLWNvbG9yOiMxMjEyMTI7LS1ycHYtY29yZV9fdGV4dGJveC1ib3JkZXItY29sb3I6IzEyMTIxMjstLXJwdi1jb3JlX190ZXh0Ym94LWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWJhY2tncm91bmQtY29sb3I6IzQxNDE0MTstLXJwdi1jb3JlX190b29sdGlwLWJvZHktY29sb3I6I2ZmZn0ucnB2LWNvcmVfX2Fubm90YXRpb24sLnJwdi1jb3JlX19hcnJvd3twb3NpdGlvbjphYnNvbHV0ZX0ucnB2LWNvcmVfX2Fycm93e2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2JvcmRlci1sZWZ0LWNvbG9yOnZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fycm93LWJvcmRlci1jb2xvcik7Ym9yZGVyLXRvcC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yKTtoZWlnaHQ6MTBweDt3aWR0aDoxMHB4O3otaW5kZXg6MH0ucnB2LWNvcmVfX2Fycm93LS10bHtib3R0b206MDtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsNTAlKSByb3RhdGUoNDVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLXRje2xlZnQ6NTAlfS5ycHYtY29yZV9fYXJyb3ctLXRjLC5ycHYtY29yZV9fYXJyb3ctLXRye2JvdHRvbTowO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSw1MCUpIHJvdGF0ZSg0NWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tdHJ7cmlnaHQ6MH0ucnB2LWNvcmVfX2Fycm93LS1ydHtsZWZ0OjA7dG9wOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDUwJSkgcm90YXRlKDEzNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tcmN7dG9wOjUwJX0ucnB2LWNvcmVfX2Fycm93LS1yYiwucnB2LWNvcmVfX2Fycm93LS1yY3tsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgxMzVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLXJie2JvdHRvbTowfS5ycHYtY29yZV9fYXJyb3ctLWJse2xlZnQ6MDt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKDUwJSwtNTAlKSByb3RhdGUoMjI1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS1iY3tsZWZ0OjUwJX0ucnB2LWNvcmVfX2Fycm93LS1iYywucnB2LWNvcmVfX2Fycm93LS1icnt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDIyNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tYnJ7cmlnaHQ6MH0ucnB2LWNvcmVfX2Fycm93LS1sdHtyaWdodDowO3RvcDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLDUwJSkgcm90YXRlKDMxNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tbGN7dG9wOjUwJX0ucnB2LWNvcmVfX2Fycm93LS1sYiwucnB2LWNvcmVfX2Fycm93LS1sY3tyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpIHJvdGF0ZSgzMTVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLWxie2JvdHRvbTowfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3Jke2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yKTtwYWRkaW5nOjJyZW19LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJvcmRlci1jb2xvcik7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC1tZXNzYWdle21hcmdpbjouNXJlbSAwfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWJvZHl7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0e3dpZHRoOjE1cmVtfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1sdHJ7bWFyZ2luLXJpZ2h0Oi41cmVtfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWlucHV0LS1ydGx7bWFyZ2luLWxlZnQ6LjVyZW19LnJwdi1jb3JlX19idXR0b257YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19idXR0b24tY29sb3IpO2N1cnNvcjpwb2ludGVyO2hlaWdodDoycmVtO3BhZGRpbmc6MCAxcmVtfS5ycHYtY29yZV9fYnV0dG9uLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2NhbnZhcy1sYXllcntkaXJlY3Rpb246bHRyO2xlZnQ6MDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjB9LnJwdi1jb3JlX19kb2MtZXJyb3J7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2RvYy1lcnJvci1iYWNrZ3JvdW5kLWNvbG9yKTtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX2RvYy1lcnJvci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWVycm9yLXRleHQtY29sb3IpO2xpbmUtaGVpZ2h0OjEuNTttYXgtd2lkdGg6NTAlO3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19kb2MtbG9hZGluZ3thbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWxvYWRpbmctYmFja2dyb3VuZC1jb2xvcik7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2RvYy1sb2FkaW5nLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2ljb257ZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3I7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoxO3RleHQtYWxpZ246Y2VudGVyfS5ycHYtY29yZV9faWNvbi0tcnRse3RyYW5zZm9ybTpzY2FsZVgoLTEpfS5ycHYtY29yZV9faW5uZXItcGFnZXMtLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9faW5uZXItcGFnZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19pbm5lci1wYWdlLWJhY2tncm91bmQtY29sb3IpO3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rIGF7aGVpZ2h0OjEwMCU7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rIGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi0tbGluay1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWNvcmVfX21lbnV7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0ucnB2LWNvcmVfX21lbnUtLXJ0bHtkaXJlY3Rpb246cnRsO3RleHQtYWxpZ246cmlnaHR9LnJwdi1jb3JlX19tZW51LWRpdmlkZXJ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX21lbnUtZGl2aWRlci1ib3JkZXItYm90dG9tLWNvbG9yKTttYXJnaW46LjI1cmVtIDB9LnJwdi1jb3JlX19tZW51LWl0ZW17YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21lbnUtaXRlbS1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzouMjVyZW0gMDt3aWR0aDoxMDAlfS5ycHYtY29yZV9fbWVudS1pdGVtOmZvY3Vze291dGxpbmU6MH0ucnB2LWNvcmVfX21lbnUtaXRlbTpmb2N1cywucnB2LWNvcmVfX21lbnUtaXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbWVudS1pdGVtLWljb257YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleH0ucnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1sdHJ7cGFkZGluZy1sZWZ0OjFyZW07cGFkZGluZy1yaWdodDouNXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1pY29uLS1ydGx7cGFkZGluZy1sZWZ0Oi41cmVtO3BhZGRpbmctcmlnaHQ6MXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbHtmbGV4LWdyb3c6MTtmbGV4LXNocmluazoxO3doaXRlLXNwYWNlOm5vd3JhcH0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tbHRye3BhZGRpbmctcmlnaHQ6MnJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS1sYWJlbC0tcnRse3BhZGRpbmctbGVmdDoycmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1sdHJ7cGFkZGluZy1yaWdodDoxcmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWNoZWNrLS1ydGx7cGFkZGluZy1sZWZ0OjFyZW19LnJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVke2NvbG9yOnZhcigtLXJwdi1jb3JlX19tZW51LWl0ZW0tLWRpc2FibGVkLWNvbG9yKX0ucnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ucnB2LWNvcmVfX21lbnUtaXRlbS0tbHRye3RleHQtYWxpZ246bGVmdH0ucnB2LWNvcmVfX21lbnUtaXRlbS0tcnRse2RpcmVjdGlvbjpydGw7dGV4dC1hbGlnbjpyaWdodH0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MnJlbTtwYWRkaW5nOjAgLjVyZW19LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0taG92ZXItYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tZGlzYWJsZWR7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZC1jb2xvcil9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbW9kYWwtYm9keXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tb2RhbC1ib2R5LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX21vZGFsLWJvZHktYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTttYXJnaW46MXJlbTttYXgtd2lkdGg6MzJyZW07b3ZlcmZsb3c6YXV0b30ucnB2LWNvcmVfX21vZGFsLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fbW9kYWwtb3ZlcmxheXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19tb2RhbC1vdmVybGF5LWJhY2tncm91bmQtY29sb3IpO2JvdHRvbTowO2xlZnQ6MDtwb3NpdGlvbjpmaXhlZDtyaWdodDowO3RvcDowO3otaW5kZXg6OTk5OX0ucnB2LWNvcmVfX21vZGFsLW92ZXJsYXksLnJwdi1jb3JlX19wYWdlLWxheWVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX3BhZ2UtbGF5ZXJ7Ym94LXNoYWRvdzp2YXIoLS1ycHYtY29yZV9fcGFnZS1sYXllci1ib3gtc2hhZG93KTttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5ycHYtY29yZV9fcGFnZS1zaXplLWNhbGN1bGF0b3J7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHl7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJvcmRlci1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1jb2xvcik7bGVmdDowO3BhZGRpbmc6LjVyZW0gMDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTk5OTlweDt6LWluZGV4Ojk5OTl9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHksLnJwdi1jb3JlX19wb3BvdmVyLWJvZHktYXJyb3d7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fcG9wb3Zlci1ib2R5LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX3BvcG92ZXItb3ZlcmxheXtib3R0b206MDtsZWZ0OjA7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MDt0b3A6MH0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcik7Ym94LXNoYWRvdzp2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLWJveC1zaGFkb3cpO2ZvbnQtc2l6ZTouNzVyZW07cGFkZGluZzouMjVyZW07d29yZC1icmVhazpicmVhay13b3JkfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtdGl0bGV7Zm9udC13ZWlnaHQ6NjAwO21hcmdpbi1ib3R0b206LjI1cmVtfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1kYXRle2ZvbnQtc2l6ZTouNXJlbX0ucnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtY29udGVudHtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1jb250ZW50LWJvcmRlci10b3AtY29sb3IpO21heC1oZWlnaHQ6MTZyZW07b3ZlcmZsb3c6YXV0bztwYWRkaW5nOi4yNXJlbX0ucnB2LWNvcmVfX3ByaW1hcnktYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjJyZW07cGFkZGluZzowIDFyZW19LnJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6OTk5OXB4O3BhZGRpbmc6LjEyNXJlbX0ucnB2LWNvcmVfX3Byb2dyZXNzLWJhci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3N7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOjk5OTlweDtjb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLXByb2dyZXNzLWNvbG9yKTtkaXNwbGF5OmZsZXg7Zm9udC1zaXplOi43NXJlbTtoZWlnaHQ6Ljc1cmVtO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnJwdi1jb3JlX19zZXBhcmF0b3J7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yKX0ucnB2LWNvcmVfX3NwaW5uZXJ7Ym9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yKTtib3JkZXItbGVmdDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLXRyYW5zcGFyZW50LWNvbG9yKTtib3JkZXItcmFkaXVzOjk5OTlweDtib3JkZXItcmlnaHQ6MnB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19zcGlubmVyLWJvcmRlci1jb2xvcik7Ym9yZGVyLXRvcDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yKX0ucnB2LWNvcmVfX3NwaW5uZXItLWFuaW1hdGluZ3std2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNHM7YW5pbWF0aW9uLWR1cmF0aW9uOi40czstd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJwdi1jb3JlX19zcGlubmVyLXRyYW5zZm9ybTthbmltYXRpb24tbmFtZTpycHYtY29yZV9fc3Bpbm5lci10cmFuc2Zvcm07LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmxpbmVhcn1ALXdlYmtpdC1rZXlmcmFtZXMgcnB2LWNvcmVfX3NwaW5uZXItdHJhbnNmb3JtezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fUBrZXlmcmFtZXMgcnB2LWNvcmVfX3NwaW5uZXItdHJhbnNmb3JtezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fS5ycHYtY29yZV9fc3BsaXR0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcik7Y3Vyc29yOmV3LXJlc2l6ZTtoZWlnaHQ6MTAwJTt3aWR0aDouMjVyZW19LnJwdi1jb3JlX19zcGxpdHRlci0tcmVzaXppbmcsLnJwdi1jb3JlX19zcGxpdHRlcjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19zcGxpdHRlci0taG92ZXItYmFja2dyb3VuZC1jb2xvcik7Y3Vyc29yOmNvbC1yZXNpemV9LnJwdi1jb3JlX19zcGxpdHRlci1ib2R5LS1yZXNpemluZ3tjdXJzb3I6Y29sLXJlc2l6ZX0ucnB2LWNvcmVfX3NwbGl0dGVyLXNpYmxpbmctLXJlc2l6aW5ne3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5ycHYtY29yZV9fdGV4dGJveHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0Ym94LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3RleHRib3gtYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3RleHRib3gtY29sb3IpO2hlaWdodDoycmVtO3BhZGRpbmc6MCAuNXJlbTt3aWR0aDoxMDAlfS5ycHYtY29yZV9fdGV4dGJveC0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX190ZXh0LWxheWVye2hlaWdodDoxMDAlO2xlZnQ6MDtsaW5lLWhlaWdodDoxO29wYWNpdHk6LjI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX3RleHQtbGF5ZXIgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQtLXNlbGVjdGlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tY29sb3IpfS5ycHYtY29yZV9fdGV4dC1sYXllciA6OnNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQtLXNlbGVjdGlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tY29sb3IpfS5ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0e2NvbG9yOnRyYW5zcGFyZW50O2N1cnNvcjp0ZXh0O3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zZm9ybS1vcmlnaW46MCAwO3doaXRlLXNwYWNlOnByZX0ucnB2LWNvcmVfX3Rvb2x0aXAtYm9keXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb2xvcik7bGVmdDowO21heC13aWR0aDoyMHJlbTtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6LTk5OTlweDt6LWluZGV4Ojk5OTl9LnJwdi1jb3JlX190b29sdGlwLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWFycm93e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb250ZW50e3BhZGRpbmc6LjVyZW19LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9ja3tkaXNwbGF5OmJsb2NrfS5ycHYtY29yZV9fZGlzcGxheS0taGlkZGVue2Rpc3BsYXk6bm9uZX1AbWVkaWEgKG1pbi13aWR0aDo2NDBweCl7LnJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tc21hbGx7ZGlzcGxheTpub25lfS5ycHYtY29yZV9fZGlzcGxheS0tYmxvY2stc21hbGx7ZGlzcGxheTpibG9ja319QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5ycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bXtkaXNwbGF5Om5vbmV9LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1tZWRpdW17ZGlzcGxheTpibG9ja319QG1lZGlhIChtaW4td2lkdGg6MTAyNHB4KXsucnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1sYXJnZXtkaXNwbGF5Om5vbmV9LnJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1sYXJnZXtkaXNwbGF5OmJsb2NrfX06cm9vdHstLXJwdi10aHVtYm5haWxfX2NvbnRhaW5lci1ib3gtc2hhZG93OnJnYmEoMCwwLDAsLjIpIDJweCAycHggOHB4IDBweDstLXJwdi10aHVtYm5haWxfX2l0ZW0tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMyl9LnJwdi1jb3JlX192aWV3ZXItLWRhcmt7LS1ycHYtdGh1bWJuYWlsX19pdGVtLS1zZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTh9LnJwdi10aHVtYm5haWxfX2NvdmVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlfS5ycHYtdGh1bWJuYWlsX19jb3Zlci1pbWFnZXttYXgtaGVpZ2h0OjEwMCU7bWF4LXdpZHRoOjEwMCV9LnJwdi10aHVtYm5haWxfX2NvdmVyLWxvYWRlcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LnJwdi10aHVtYm5haWxfX2NvbnRhaW5lcnthbGlnbi1pdGVtczpjZW50ZXI7Ym94LXNoYWRvdzp2YXIoLS1ycHYtdGh1bWJuYWlsX19jb250YWluZXItYm94LXNoYWRvdyk7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjAgYXV0bztwb3NpdGlvbjpyZWxhdGl2ZX0ucnB2LXRodW1ibmFpbF9faXRlbXtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOi41cmVtfS5ycHYtdGh1bWJuYWlsX19pdGVtLS1zZWxlY3RlZCwucnB2LXRodW1ibmFpbF9faXRlbTpmb2N1cywucnB2LXRodW1ibmFpbF9faXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi10aHVtYm5haWxfX2l0ZW0tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3IpfS5ycHYtdGh1bWJuYWlsX19pdGVtOmZvY3Vze291dGxpbmU6MH0ucnB2LXRodW1ibmFpbF9fbGFiZWx7Zm9udC1zaXplOi43NWVtO3BhZGRpbmc6LjI1cmVtO3RleHQtYWxpZ246Y2VudGVyfS5ycHYtdGh1bWJuYWlsX19saXN0e2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydDthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3cgd3JhcDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO292ZXJmbG93OmF1dG87cGFkZGluZzouNXJlbSAwfS5ycHYtdGh1bWJuYWlsX19saXN0LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LXRodW1ibmFpbF9fbGlzdC1jb250YWluZXJ7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX0ucnB2LXRodW1ibmFpbF9fbG9hZGVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlfTpyb290ey0tcnB2LWRyb3BfX2FyZWEtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWRyb3BfX2FyZWEtYm9keS1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtZHJvcF9fYXJlYS1ib2R5LWNvbG9yOiMwMDB9LnJwdi1jb3JlX192aWV3ZXItLWRhcmt7LS1ycHYtZHJvcF9fYXJlYS1iYWNrZ3JvdW5kLWNvbG9yOiMxOTE5MTk7LS1ycHYtZHJvcF9fYXJlYS1ib2R5LWJvcmRlci1jb2xvcjojZmZmOy0tcnB2LWRyb3BfX2FyZWEtYm9keS1jb2xvcjojZmZmfS5ycHYtZHJvcF9fYXJlYXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1kcm9wX19hcmVhLWJhY2tncm91bmQtY29sb3IpO2JvdHRvbTowO2xlZnQ6MDtwYWRkaW5nOi41cmVtO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjA7ei1pbmRleDo5OTk5fS5ycHYtZHJvcF9fYXJlYS1ib2R5e2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXI6MnB4IGRhc2hlZCB2YXIoLS1ycHYtZHJvcF9fYXJlYS1ib2R5LWJvcmRlci1jb2xvcik7Y29sb3I6dmFyKC0tcnB2LWRyb3BfX2FyZWEtYm9keS1jb2xvcik7ZGlzcGxheTpmbGV4O2ZvbnQtc2l6ZToxLjVyZW07aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWRyb3BfX2FyZWEtYm9keS0tcnRse2RpcmVjdGlvbjpydGx9OnJvb3R7LS1ycHYtZnVsbC1zY3JlZW5fX3BhZ2VzLWJhY2tncm91bmQtY29sb3I6I2ZmZn0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi1mdWxsLXNjcmVlbl9fcGFnZXMtYmFja2dyb3VuZC1jb2xvcjojMWExYTFhfS5ycHYtZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9ue2JvdHRvbTowO3BhZGRpbmc6LjVyZW07cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxfS5ycHYtZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uLS1sdHJ7cmlnaHQ6MH0ucnB2LWZ1bGwtc2NyZWVuX19leGl0LWJ1dHRvbi0tcnRse2xlZnQ6MH0ucnB2LWZ1bGwtc2NyZWVuX19wYWdlc3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1mdWxsLXNjcmVlbl9fcGFnZXMtYmFja2dyb3VuZC1jb2xvcil9LnJwdi1vcGVuX19pbnB1dC13cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlfS5ycHYtb3Blbl9faW5wdXR7Ym90dG9tOjA7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpub25lO2hlaWdodDoxMDAlO2xlZnQ6MDtvcGFjaXR5OjA7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDt3aWR0aDoxMDAlfS5ycHYtb3Blbl9faW5wdXQ6Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9ue3dpZHRoOjB9LnJwdi1wYWdlLW5hdmlnYXRpb25fX2N1cnJlbnQtcGFnZS1pbnB1dHttYXJnaW46MCAuMjVyZW07dGV4dC1hbGlnbjpyaWdodDt3aWR0aDozcmVtfTpyb290ey0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtcHJpbnRfX3Byb2dyZXNzLWJvZHktY29sb3I6IzAwMH0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMzNjM2MzY7LS1ycHYtcHJpbnRfX3Byb2dyZXNzLWJvZHktYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50Oy0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWNvbG9yOiNmZmZ9LnJwdi1wcmludF9fcGVybWlzc2lvbi1ib2R5e3BhZGRpbmc6MXJlbX0ucnB2LXByaW50X19wZXJtaXNzaW9uLWZvb3RlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOjAgMXJlbSAxcmVtIDB9LnJwdi1wcmludF9fcHJvZ3Jlc3N7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDoxMDAlO3otaW5kZXg6OTk5OX0ucnB2LXByaW50X19wcm9ncmVzcy1ib2R5e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWJvcmRlci1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWNvbG9yKTtwYWRkaW5nOjEuNXJlbTt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxNXJlbX0ucnB2LXByaW50X19wcm9ncmVzcy1ib2R5LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LXByaW50X19wcm9ncmVzcy1iYXJ7bWFyZ2luLWJvdHRvbToxcmVtfS5ycHYtcHJpbnRfX3Byb2dyZXNzLW1lc3NhZ2V7bWFyZ2luLWJvdHRvbTouNXJlbX0ucnB2LXByaW50X196b25le2Rpc3BsYXk6bm9uZX1AbWVkaWEgcHJpbnR7QHBhZ2V7bWFyZ2luOjB9LnJwdi1wcmludF9faHRtbC1wcmludGluZ3toZWlnaHQ6MTAwJX0ucnB2LXByaW50X19ib2R5LXByaW50aW5ne2hlaWdodDoxMDAlO21hcmdpbjowfS5ycHYtcHJpbnRfX2JvZHktcHJpbnRpbmcgKntkaXNwbGF5Om5vbmV9LnJwdi1wcmludF9fem9uZXtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlfS5ycHYtcHJpbnRfX3BhZ2V7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWdlLWJyZWFrLWFmdGVyOmFsd2F5cztwYWdlLWJyZWFrLWluc2lkZTphdm9pZDt3aWR0aDoxMDAlfS5ycHYtcHJpbnRfX3BhZ2UgaW1ne2Rpc3BsYXk6YmxvY2s7bWF4LWhlaWdodDoxMDAlO21heC13aWR0aDoxMDAlfX0ucnB2LXByb3BlcnRpZXNfX2xvYWRlcnt0ZXh0LWFsaWduOmNlbnRlcn0ucnB2LXByb3BlcnRpZXNfX21vZGFse21pbi1oZWlnaHQ6MjByZW07cGFkZGluZzouNXJlbSAwfS5ycHYtcHJvcGVydGllc19fbW9kYWwtc2VjdGlvbntwYWRkaW5nOjAgLjVyZW19LnJwdi1wcm9wZXJ0aWVzX19tb2RhbC1mb290ZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLXRvcDouNXJlbX0ucnB2LXByb3BlcnRpZXNfX2l0ZW17YWxpZ24taXRlbXM6ZmxleC1zdGFydDtkaXNwbGF5OmZsZXg7bWFyZ2luOi41cmVtIDB9LnJwdi1wcm9wZXJ0aWVzX19pdGVtLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LXByb3BlcnRpZXNfX2l0ZW0tbGFiZWx7cGFkZGluZy1yaWdodDouNXJlbTt3aWR0aDoyNSV9LnJwdi1wcm9wZXJ0aWVzX19pdGVtLXZhbHVle2ZsZXg6MSAxfS5ycHYtc2VhcmNoX19oaWdobGlnaHR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtc2VhcmNoX19oaWdobGlnaHQtYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLXJhZGl1czouMjVyZW07cG9zaXRpb246YWJzb2x1dGV9LnJwdi1zZWFyY2hfX2hpZ2hsaWdodC0tY3VycmVudHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1zZWFyY2hfX2hpZ2hsaWdodC0tY3VycmVudC1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LXNlYXJjaF9fcG9wb3ZlcntwYWRkaW5nOjAgLjVyZW19LnJwdi1zZWFyY2hfX3BvcG92ZXItaW5wdXQtY291bnRlcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O21hcmdpbi1ib3R0b206LjVyZW07cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTJyZW19LnJwdi1zZWFyY2hfX3BvcG92ZXItY291bnRlcnthbGlnbi1pdGVtczpjZW50ZXI7Ym90dG9tOjA7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowfS5ycHYtc2VhcmNoX19wb3BvdmVyLWNvdW50ZXItLWx0cntwYWRkaW5nLXJpZ2h0Oi4yNXJlbTtyaWdodDowfS5ycHYtc2VhcmNoX19wb3BvdmVyLWNvdW50ZXItLXJ0bHtsZWZ0OjA7cGFkZGluZy1sZWZ0Oi4yNXJlbX0ucnB2LXNlYXJjaF9fcG9wb3Zlci1sYWJlbHthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O21hcmdpbi1ib3R0b206LjVyZW19LnJwdi1zZWFyY2hfX3BvcG92ZXItbGFiZWwtY2hlY2tib3h7bWFyZ2luLXJpZ2h0Oi4yNXJlbX0ucnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleH0ucnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXItaXRlbXtwYWRkaW5nOjAgLjI1cmVtfS5ycHYtc2VhcmNoX19wb3BvdmVyLWZvb3Rlci1idXR0b24tLWx0cnttYXJnaW4tbGVmdDphdXRvfS5ycHYtc2VhcmNoX19wb3BvdmVyLWZvb3Rlci1idXR0b24tLXJ0bHttYXJnaW4tcmlnaHQ6YXV0b306cm9vdHstLXJwdi1zZWFyY2hfX2hpZ2hsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiNmZjA7LS1ycHYtc2VhcmNoX19oaWdobGlnaHQtLWN1cnJlbnQtYmFja2dyb3VuZC1jb2xvcjpncmVlbn0ucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFie2N1cnNvcjotd2Via2l0LWdyYWI7Y3Vyc29yOmdyYWJ9LnJwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYiA6bm90KGlucHV0KSwucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiIDpub3Qoc2VsZWN0KSwucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiIDpub3QodGV4dGFyZWEpe2N1cnNvcjotd2Via2l0LWdyYWIhaW1wb3J0YW50O2N1cnNvcjpncmFiIWltcG9ydGFudH0ucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiYmluZ3tjdXJzb3I6LXdlYmtpdC1ncmFiYmluZztjdXJzb3I6Z3JhYmJpbmd9LnJwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYmJpbmcgOm5vdChpbnB1dCksLnJwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYmJpbmcgOm5vdChzZWxlY3QpLC5ycHYtc2VsZWN0aW9uLW1vZGVfX2dyYWJiaW5nIDpub3QodGV4dGFyZWEpe2N1cnNvcjotd2Via2l0LWdyYWJiaW5nIWltcG9ydGFudDtjdXJzb3I6Z3JhYmJpbmchaW1wb3J0YW50fTpyb290ey0tcnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LWFycm93LWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC42KX0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi16b29tX19wb3BvdmVyLXRhcmdldC1hcnJvdy1ib3JkZXItY29sb3I6I2ZmZn0ucnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0e2FsaWduLWl0ZW1zOmNlbnRlcjtjb2xvcjp2YXIoLS1ycHYtem9vbV9fcG9wb3Zlci10YXJnZXQtY29sb3IpO2Rpc3BsYXk6ZmxleH0ucnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LXNjYWxlLS1sdHJ7bWFyZ2luLXJpZ2h0Oi4yNXJlbX0ucnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LXNjYWxlLS1ydGx7bWFyZ2luLWxlZnQ6LjI1cmVtfS5ycHYtem9vbV9fcG9wb3Zlci10YXJnZXQtYXJyb3d7Ym9yZGVyLWNvbG9yOnZhcigtLXJwdi16b29tX19wb3BvdmVyLXRhcmdldC1hcnJvdy1ib3JkZXItY29sb3IpIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6LjVyZW0gLjI1cmVtIDA7aGVpZ2h0OjA7d2lkdGg6MH06cm9vdHstLXJwdi10b29sYmFyX19sYWJlbC0tY29sb3I6IzAwMH0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi10b29sYmFyX19sYWJlbC0tY29sb3I6I2ZmZn0ucnB2LXRvb2xiYXJ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlfS5ycHYtdG9vbGJhci0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi10b29sYmFyX19jZW50ZXIsLnJwdi10b29sYmFyX19sZWZ0e2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXh9LnJwdi10b29sYmFyX19jZW50ZXJ7ZmxleC1ncm93OjE7ZmxleC1zaHJpbms6MTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5ycHYtdG9vbGJhcl9fcmlnaHR7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDttYXJnaW4tbGVmdDphdXRvfS5ycHYtdG9vbGJhcl9faXRlbXthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3BhZGRpbmc6MCAuMTI1cmVtfS5ycHYtdG9vbGJhcl9fbGFiZWx7Y29sb3I6dmFyKC0tcnB2LXRvb2xiYXJfX2xhYmVsLS1jb2xvcil9OnJvb3R7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX2JvZHktYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19jb250YWluZXItYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWRlZmF1bHQtbGF5b3V0X190b29sYmFyLWJhY2tncm91bmQtY29sb3I6I2VlZTstLXJwdi1kZWZhdWx0LWxheW91dF9fdG9vbGJhci1ib3JkZXItYm90dG9tLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4yKTstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tb3BlbmVkLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1oZWFkZXJzLWJhY2tncm91bmQtY29sb3I6I2VlZTstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLW9wZW5lZC1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMik7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tb3BlbmVkLWNvbG9yOiMwMDB9LnJwdi1jb3JlX192aWV3ZXItLWRhcmt7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX2JvZHktYmFja2dyb3VuZC1jb2xvcjojMWExYTFhOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19jb250YWluZXItYm9yZGVyLWNvbG9yOiM0NTQ2NDc7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3Rvb2xiYXItYmFja2dyb3VuZC1jb2xvcjojMjkyOTI5Oy0tcnB2LWRlZmF1bHQtbGF5b3V0X190b29sYmFyLWJvcmRlci1ib3R0b20tY29sb3I6IzAwMDstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1ib3JkZXItY29sb3I6IzAwMDstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tb3BlbmVkLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1oZWFkZXJzLWJhY2tncm91bmQtY29sb3I6IzI5MjkyOTstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtYmFja2dyb3VuZC1jb2xvcjojMWExYTFhOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLW9wZW5lZC1ib3JkZXItY29sb3I6IzI5MjkyOTstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtY29sb3I6I2ZmZn0ucnB2LWRlZmF1bHQtbGF5b3V0X19jb250YWluZXJ7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX2NvbnRhaW5lci1ib3JkZXItY29sb3IpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5ycHYtZGVmYXVsdC1sYXlvdXRfX3Rvb2xiYXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWRlZmF1bHQtbGF5b3V0X190b29sYmFyLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fdG9vbGJhci1ib3JkZXItYm90dG9tLWNvbG9yKTtkaXNwbGF5OmZsZXg7aGVpZ2h0OjIuNXJlbTtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJTt6LWluZGV4OjF9LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhcntkaXNwbGF5OmZsZXg7cGFkZGluZy10b3A6Mi41cmVtfS5ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItLW9wZW5lZHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tb3BlbmVkLWJhY2tncm91bmQtY29sb3IpO2JvdHRvbTowO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDoxMnJlbTt6LWluZGV4OjF9LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tbHRye2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWJvcmRlci1jb2xvcil9LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tcnRse2JvcmRlci1sZWZ0OjFweCBzb2xpZCB2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItYm9yZGVyLWNvbG9yKX0ucnB2LWRlZmF1bHQtbGF5b3V0X19tYWlue2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZX0ucnB2LWRlZmF1bHQtbGF5b3V0X19tYWluLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWRlZmF1bHQtbGF5b3V0X19ib2R5e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWRlZmF1bHQtbGF5b3V0X19ib2R5LWJhY2tncm91bmQtY29sb3IpO2ZsZXg6MSAxO292ZXJmbG93OmF1dG87cGFkZGluZy10b3A6Mi41cmVtfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1vcGVuZWR7d2lkdGg6MTZyZW19fUBtZWRpYSAobWluLXdpZHRoOjEwMjRweCl7LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tb3BlbmVke2JhY2tncm91bmQ6aW5oZXJpdDtwb3NpdGlvbjppbmhlcml0O3dpZHRoOjIwcmVtO3otaW5kZXg6aW5oZXJpdH19LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci10YWJze2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItaGVhZGVyc3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1oZWFkZXJzLWJhY2tncm91bmQtY29sb3IpO3BhZGRpbmc6LjI1cmVtfS5ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItaGVhZGVye3BhZGRpbmc6LjEyNXJlbX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnR7ZGlzcGxheTpub25lO2ZsZXgtZ3JvdzoxO2ZsZXgtc2hyaW5rOjF9LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tb3BlbmVkLWJhY2tncm91bmQtY29sb3IpO2NvbG9yOnZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtY29sb3IpO2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzpoaWRkZW59LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1sdHJ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtYm9yZGVyLWNvbG9yKX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLXJ0bHtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtYm9yZGVyLWNvbG9yKX1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9zdHlsZXMvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLE1BQU0sNkRBQTZELENBQUMsaUNBQWlDLENBQUMsd0JBQXdCLHNEQUFzRCxDQUFDLGlDQUFpQyxDQUFDLHVCQUF1QixXQUFXLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsNEJBQTRCLGFBQWEsQ0FBQyxzQkFBc0IsWUFBWSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQywyQkFBMkIsYUFBYSxDQUFDLHNCQUFzQixrQkFBa0IsQ0FBQyw0QkFBNEIsQ0FBQyxXQUFXLENBQUMsdUNBQXVDLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyw0QkFBNEIsU0FBUyxDQUFDLHdEQUF3RCxvRUFBb0UsQ0FBQyx3QkFBd0Isa0JBQWtCLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxVQUFVLENBQUMsTUFBTSwyREFBMkQsQ0FBQywrQkFBK0IsQ0FBQyx3QkFB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QyxZQUFZLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyw2QkFBNkIsWUFBWSxDQUFDLGtCQUFrQixDQUFDLHFDQUFxQyw0RUFBNEUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLGtDQUFrQyxzRUFBc0UsQ0FBQyxrQ0FBa0MscUVBQXFFLENBQUMsMEJBQTBCLFlBQVksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsK0JBQStCLGFBQWEsQ0FBQywwQkFBMEIsaUVBQWlFLENBQUMsUUFBTSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyx5QkFBeUIscUNBQXFDLFdBQVcsQ0FBQyxDQUFDLDBCQUEwQixxQ0FBcUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDLGtDQUFrQyxZQUFZLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxxQ0FBcUMsNEVBQTRFLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxlQUFlLENBQUMscUNBQXFDLFlBQVksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLDZDQUE2QyxvRkFBb0YsQ0FBQyw4REFBOEQsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLDBDQUEwQyxxRkFBcUYsQ0FBQywwQ0FBMEMsc0ZBQXNGXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290ey0tcnB2LWF0dGFjaG1lbnRfX2l0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtYXR0YWNobWVudF9faXRlbS1jb2xvcjojMDAwfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LWF0dGFjaG1lbnRfX2l0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IzI1NjZlODstLXJwdi1hdHRhY2htZW50X19pdGVtLWNvbG9yOiNmZmZ9LnJwdi1hdHRhY2htZW50X19lbXB0eXtoZWlnaHQ6MTAwJTtvdmVyZmxvdzphdXRvO3BhZGRpbmc6LjVyZW0gMDt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxMDAlfS5ycHYtYXR0YWNobWVudF9fZW1wdHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtYXR0YWNobWVudF9fbGlzdHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2hlaWdodDoxMDAlO292ZXJmbG93OmF1dG87cGFkZGluZzouNXJlbSAwO3dpZHRoOjEwMCV9LnJwdi1hdHRhY2htZW50X19saXN0LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWF0dGFjaG1lbnRfX2l0ZW17YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Y29sb3I6dmFyKC0tcnB2LWF0dGFjaG1lbnRfX2l0ZW0tY29sb3IpO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtwYWRkaW5nOi41cmVtO3RleHQtYWxpZ246bGVmdDt3aWR0aDoxMDAlfS5ycHYtYXR0YWNobWVudF9faXRlbTpmb2N1c3tvdXRsaW5lOjB9LnJwdi1hdHRhY2htZW50X19pdGVtOmZvY3VzLC5ycHYtYXR0YWNobWVudF9faXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1hdHRhY2htZW50X19pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWF0dGFjaG1lbnRfX2xvYWRlcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX06cm9vdHstLXJwdi1ib29rbWFya19faXRlbS0taG92ZXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1ib29rbWFya19faXRlbS1jb2xvcjojMDAwfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LWJvb2ttYXJrX19pdGVtLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtYm9va21hcmtfX2l0ZW0tY29sb3I6I2ZmZn0ucnB2LWJvb2ttYXJrX19pdGVte2FsaWduLWl0ZW1zOmNlbnRlcjtjb2xvcjp2YXIoLS1ycHYtYm9va21hcmtfX2l0ZW0tY29sb3IpO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtwYWRkaW5nLWJvdHRvbTouMjVyZW07cGFkZGluZy1yaWdodDouMjVyZW07cGFkZGluZy10b3A6LjI1cmVtfS5ycHYtYm9va21hcmtfX2l0ZW06Zm9jdXN7b3V0bGluZTowfS5ycHYtYm9va21hcmtfX2l0ZW06Zm9jdXMsLnJwdi1ib29rbWFya19faXRlbTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1ib29rbWFya19faXRlbS0taG92ZXItYmFja2dyb3VuZC1jb2xvcil9LnJwdi1ib29rbWFya19fdG9nZ2xle2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7aGVpZ2h0OjFyZW07bWFyZ2luLXJpZ2h0Oi4yNXJlbTt3aWR0aDoxcmVtfS5ycHYtYm9va21hcmtfX3RpdGxle2ZsZXgtZ3JvdzoxO2ZsZXgtc2hyaW5rOjE7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnJwdi1ib29rbWFya19fbGlzdHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46MDtvdmVyZmxvdzphdXRvO3BhZGRpbmc6MH0ucnB2LWJvb2ttYXJrX19sb2FkZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCV9LnJwdi1ib29rbWFya19fZW1wdHl7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6YXV0bztwYWRkaW5nOi41cmVtIDA7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWJvb2ttYXJrX19lbXB0eS0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1ib29rbWFya19fY29udGFpbmVye2hlaWdodDoxMDAlO292ZXJmbG93OmF1dG87cGFkZGluZzouNXJlbSAwO3dpZHRoOjEwMCV9LnJwdi1ib29rbWFya19fY29udGFpbmVyLS1ydGx7ZGlyZWN0aW9uOnJ0bH06cm9vdHstLXJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDAsLjIpOy0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlci1iYWNrZ3JvdW5kLWNvbG9yOiNmYWYwODk7LS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVyLWJveC1zaGFkb3c6MCAxMHB4IDE1cHggLTNweCByZ2JhKDAsMCwwLC4xKSwwIDRweCA2cHggLTJweCByZ2JhKDAsMCwwLC4wNSk7LS1ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1jb250ZW50LWJvcmRlci10b3AtY29sb3I6IzFhMjAyYzstLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC13cmFwcGVyLWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19idXR0b24tYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19idXR0b24tY29sb3I6IzAwMDstLXJwdi1jb3JlX19kb2MtZXJyb3ItYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX2RvYy1lcnJvci10ZXh0LWJhY2tncm91bmQtY29sb3I6I2MwMjQyNDstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX2RvYy1sb2FkaW5nLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19pbm5lci1wYWdlLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19tZW51LWRpdmlkZXItYm9yZGVyLWJvdHRvbS1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19tZW51LWl0ZW0tY29sb3I6IzAwMDstLXJwdi1jb3JlX19tZW51LWl0ZW0tLWhvdmVyLWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtY29yZV9fbWVudS1pdGVtLS1kaXNhYmxlZC1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZC1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tc2VsZWN0ZWQtYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4xKTstLXJwdi1jb3JlX19tb2RhbC1ib2R5LWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19tb2RhbC1ib2R5LWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4zKTstLXJwdi1jb3JlX19tb2RhbC1vdmVybGF5LWJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNSk7LS1ycHYtY29yZV9fcGFnZS1sYXllci1ib3gtc2hhZG93OjJweCAycHggOHB4IDAgcmdiYSgwLDAsMCwuMik7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWNvcmVfX3BvcG92ZXItYm9keS1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uLWJhY2tncm91bmQtY29sb3I6IzI1NjZlODstLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjEpOy0tcnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzcy1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLXByb2dyZXNzLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fc2VwYXJhdG9yLWJvcmRlci1ib3R0b20tY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtY29yZV9fc3Bpbm5lci1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuNCk7LS1ycHYtY29yZV9fc3Bpbm5lci1ib3JkZXItdHJhbnNwYXJlbnQtY29sb3I6dHJhbnNwYXJlbnQ7LS1ycHYtY29yZV9fc3BsaXR0ZXItYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstLXJwdi1jb3JlX19zcGxpdHRlci0taG92ZXItYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4yKTstLXJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQtLXNlbGVjdGlvbi1iYWNrZ3JvdW5kLWNvbG9yOiMwMGY7LS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tY29sb3I6dHJhbnNwYXJlbnQ7LS1ycHYtY29yZV9fdGV4dGJveC1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtY29yZV9fdGV4dGJveC1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMik7LS1ycHYtY29yZV9fdGV4dGJveC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWNvbG9yOiNmZmZ9LnJwdi1jb3JlX192aWV3ZXItLWRhcmt7LS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWJhY2tncm91bmQtY29sb3I6IzM2MzYzNjstLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtY29sb3I6I2ZmZjstLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtd3JhcHBlci1ib3JkZXItY29sb3I6IzE5MTkxOTstLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtd3JhcHBlci1iYWNrZ3JvdW5kLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9fYnV0dG9uLWJhY2tncm91bmQtY29sb3I6IzE3MTcxNzstLXJwdi1jb3JlX19idXR0b24tY29sb3I6I2ZmZjstLXJwdi1jb3JlX19kb2MtZXJyb3ItYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWNvcmVfX2RvYy1lcnJvci10ZXh0LWJhY2tncm91bmQtY29sb3I6I2MwMjMyMzstLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX2RvYy1sb2FkaW5nLWJhY2tncm91bmQtY29sb3I6IzE5MTkxOTstLXJwdi1jb3JlX19pbm5lci1wYWdlLWJhY2tncm91bmQtY29sb3I6IzFhMWExYTstLXJwdi1jb3JlX19tZW51LWRpdmlkZXItYm9yZGVyLWJvdHRvbS1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX21lbnUtaXRlbS1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX21lbnUtaXRlbS0taG92ZXItYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4Oy0tcnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQtY29sb3I6IzVlNWU1ZTstLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi1jb2xvcjojZmZmOy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZC1jb2xvcjojNWU1ZTVlOy0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiMxOTE5MTk7LS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLXNlbGVjdGVkLWJhY2tncm91bmQtY29sb3I6IzE2NTdiYjstLXJwdi1jb3JlX19tb2RhbC1ib2R5LWJhY2tncm91bmQtY29sb3I6IzM2MzYzNjstLXJwdi1jb3JlX19wcmltYXJ5LWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yOiMyNTY2ZTg7LS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWJhY2tncm91bmQtY29sb3I6IzM2MzYzNjstLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktY29sb3I6I2ZmZjstLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItYmFja2dyb3VuZC1jb2xvcjojMDAwOy0tcnB2LWNvcmVfX3NlcGFyYXRvci1ib3JkZXItYm90dG9tLWNvbG9yOiMwMDA7LS1ycHYtY29yZV9fc3Bpbm5lci1ib3JkZXItY29sb3I6I2ZmZjstLXJwdi1jb3JlX19zcGxpdHRlci1iYWNrZ3JvdW5kLWNvbG9yOiMxYTFhMWE7LS1ycHYtY29yZV9fc3BsaXR0ZXItLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IzI1NjZlODstLXJwdi1jb3JlX190ZXh0Ym94LWJhY2tncm91bmQtY29sb3I6IzEyMTIxMjstLXJwdi1jb3JlX190ZXh0Ym94LWJvcmRlci1jb2xvcjojMTIxMjEyOy0tcnB2LWNvcmVfX3RleHRib3gtY29sb3I6I2ZmZjstLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcjojNDE0MTQxOy0tcnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1jb2xvcjojZmZmfS5ycHYtY29yZV9fYW5ub3RhdGlvbiwucnB2LWNvcmVfX2Fycm93e3Bvc2l0aW9uOmFic29sdXRlfS5ycHYtY29yZV9fYXJyb3d7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX2Fycm93LWJvcmRlci1jb2xvcik7Ym9yZGVyLWxlZnQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fycm93LWJvcmRlci1jb2xvcik7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fYXJyb3ctYm9yZGVyLWNvbG9yKTtib3JkZXItdG9wLWNvbG9yOnZhcigtLXJwdi1jb3JlX19hcnJvdy1ib3JkZXItY29sb3IpO2hlaWdodDoxMHB4O3dpZHRoOjEwcHg7ei1pbmRleDowfS5ycHYtY29yZV9fYXJyb3ctLXRse2JvdHRvbTowO2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKDUwJSw1MCUpIHJvdGF0ZSg0NWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tdGN7bGVmdDo1MCV9LnJwdi1jb3JlX19hcnJvdy0tdGMsLnJwdi1jb3JlX19hcnJvdy0tdHJ7Ym90dG9tOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDUwJSkgcm90YXRlKDQ1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS10cntyaWdodDowfS5ycHYtY29yZV9fYXJyb3ctLXJ0e2xlZnQ6MDt0b3A6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsNTAlKSByb3RhdGUoMTM1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS1yY3t0b3A6NTAlfS5ycHYtY29yZV9fYXJyb3ctLXJiLC5ycHYtY29yZV9fYXJyb3ctLXJje2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDEzNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tcmJ7Ym90dG9tOjB9LnJwdi1jb3JlX19hcnJvdy0tYmx7bGVmdDowO3RvcDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpIHJvdGF0ZSgyMjVkZWcpfS5ycHYtY29yZV9fYXJyb3ctLWJje2xlZnQ6NTAlfS5ycHYtY29yZV9fYXJyb3ctLWJjLC5ycHYtY29yZV9fYXJyb3ctLWJye3RvcDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKSByb3RhdGUoMjI1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS1icntyaWdodDowfS5ycHYtY29yZV9fYXJyb3ctLWx0e3JpZ2h0OjA7dG9wOjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsNTAlKSByb3RhdGUoMzE1ZGVnKX0ucnB2LWNvcmVfX2Fycm93LS1sY3t0b3A6NTAlfS5ycHYtY29yZV9fYXJyb3ctLWxiLC5ycHYtY29yZV9fYXJyb3ctLWxje3JpZ2h0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSg1MCUsLTUwJSkgcm90YXRlKDMxNWRlZyl9LnJwdi1jb3JlX19hcnJvdy0tbGJ7Ym90dG9tOjB9LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtY29sb3IpO3BhZGRpbmc6MnJlbX0ucnB2LWNvcmVfX2Fza2luZy1wYXNzd29yZC0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtd3JhcHBlcnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLXdyYXBwZXItYm9yZGVyLWNvbG9yKTtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlfS5ycHYtY29yZV9fYXNraW5nLXBhc3N3b3JkLW1lc3NhZ2V7bWFyZ2luOi41cmVtIDB9LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtYm9keXthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtaW5wdXR7d2lkdGg6MTVyZW19LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtaW5wdXQtLWx0cnttYXJnaW4tcmlnaHQ6LjVyZW19LnJwdi1jb3JlX19hc2tpbmctcGFzc3dvcmQtaW5wdXQtLXJ0bHttYXJnaW4tbGVmdDouNXJlbX0ucnB2LWNvcmVfX2J1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19idXR0b24tYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX2J1dHRvbi1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjJyZW07cGFkZGluZzowIDFyZW19LnJwdi1jb3JlX19idXR0b24tLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fY2FudmFzLWxheWVye2RpcmVjdGlvbjpsdHI7bGVmdDowO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MH0ucnB2LWNvcmVfX2RvYy1lcnJvcnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fZG9jLWVycm9yLWJhY2tncm91bmQtY29sb3IpO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5ycHYtY29yZV9fZG9jLWVycm9yLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX2RvYy1lcnJvci10ZXh0e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2RvYy1lcnJvci10ZXh0LWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX19kb2MtZXJyb3ItdGV4dC1jb2xvcik7bGluZS1oZWlnaHQ6MS41O21heC13aWR0aDo1MCU7cGFkZGluZzouNXJlbX0ucnB2LWNvcmVfX2RvYy1sb2FkaW5ne2FsaWduLWl0ZW1zOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19kb2MtbG9hZGluZy1iYWNrZ3JvdW5kLWNvbG9yKTtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlfS5ycHYtY29yZV9fZG9jLWxvYWRpbmctLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9faWNvbntmaWxsOm5vbmU7c3Ryb2tlOmN1cnJlbnRDb2xvcjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjE7dGV4dC1hbGlnbjpjZW50ZXJ9LnJwdi1jb3JlX19pY29uLS1ydGx7dHJhbnNmb3JtOnNjYWxlWCgtMSl9LnJwdi1jb3JlX19pbm5lci1wYWdlcy0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19pbm5lci1wYWdle2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2lubmVyLXBhZ2UtYmFja2dyb3VuZC1jb2xvcik7cGFkZGluZzouNXJlbX0ucnB2LWNvcmVfX2Fubm90YXRpb24tLWxpbmsgYXtoZWlnaHQ6MTAwJTtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX2Fubm90YXRpb24tLWxpbmsgYTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19hbm5vdGF0aW9uLS1saW5rLWhvdmVyLWJhY2tncm91bmQtY29sb3IpfS5ycHYtY29yZV9fbWVudXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5ycHYtY29yZV9fbWVudS0tcnRse2RpcmVjdGlvbjpydGw7dGV4dC1hbGlnbjpyaWdodH0ucnB2LWNvcmVfX21lbnUtZGl2aWRlcntib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fbWVudS1kaXZpZGVyLWJvcmRlci1ib3R0b20tY29sb3IpO21hcmdpbjouMjVyZW0gMH0ucnB2LWNvcmVfX21lbnUtaXRlbXthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXI6bm9uZTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fbWVudS1pdGVtLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwYWRkaW5nOi4yNXJlbSAwO3dpZHRoOjEwMCV9LnJwdi1jb3JlX19tZW51LWl0ZW06Zm9jdXN7b3V0bGluZTowfS5ycHYtY29yZV9fbWVudS1pdGVtOmZvY3VzLC5ycHYtY29yZV9fbWVudS1pdGVtOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX21lbnUtaXRlbS0taG92ZXItYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX19tZW51LWl0ZW0taWNvbnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4fS5ycHYtY29yZV9fbWVudS1pdGVtLWljb24tLWx0cntwYWRkaW5nLWxlZnQ6MXJlbTtwYWRkaW5nLXJpZ2h0Oi41cmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWljb24tLXJ0bHtwYWRkaW5nLWxlZnQ6LjVyZW07cGFkZGluZy1yaWdodDoxcmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWxhYmVse2ZsZXgtZ3JvdzoxO2ZsZXgtc2hyaW5rOjE7d2hpdGUtc3BhY2U6bm93cmFwfS5ycHYtY29yZV9fbWVudS1pdGVtLWxhYmVsLS1sdHJ7cGFkZGluZy1yaWdodDoycmVtfS5ycHYtY29yZV9fbWVudS1pdGVtLWxhYmVsLS1ydGx7cGFkZGluZy1sZWZ0OjJyZW19LnJwdi1jb3JlX19tZW51LWl0ZW0tY2hlY2stLWx0cntwYWRkaW5nLXJpZ2h0OjFyZW19LnJwdi1jb3JlX19tZW51LWl0ZW0tY2hlY2stLXJ0bHtwYWRkaW5nLWxlZnQ6MXJlbX0ucnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWR7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX21lbnUtaXRlbS0tZGlzYWJsZWQtY29sb3IpfS5ycHYtY29yZV9fbWVudS1pdGVtLS1kaXNhYmxlZDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5ycHYtY29yZV9fbWVudS1pdGVtLS1sdHJ7dGV4dC1hbGlnbjpsZWZ0fS5ycHYtY29yZV9fbWVudS1pdGVtLS1ydGx7ZGlyZWN0aW9uOnJ0bDt0ZXh0LWFsaWduOnJpZ2h0fS5ycHYtY29yZV9fbWluaW1hbC1idXR0b257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tY29sb3IpO2N1cnNvcjpwb2ludGVyO2hlaWdodDoycmVtO3BhZGRpbmc6MCAuNXJlbX0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1kaXNhYmxlZHtjb2xvcjp2YXIoLS1ycHYtY29yZV9fbWluaW1hbC1idXR0b24tLWRpc2FibGVkLWNvbG9yKX0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX21pbmltYWwtYnV0dG9uLS1zZWxlY3RlZHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19taW5pbWFsLWJ1dHRvbi0tc2VsZWN0ZWQtYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX19tb2RhbC1ib2R5e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX21vZGFsLWJvZHktYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fbW9kYWwtYm9keS1ib3JkZXItY29sb3IpO2JvcmRlci1yYWRpdXM6LjI1cmVtO21hcmdpbjoxcmVtO21heC13aWR0aDozMnJlbTtvdmVyZmxvdzphdXRvfS5ycHYtY29yZV9fbW9kYWwtYm9keS0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX19tb2RhbC1vdmVybGF5e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX21vZGFsLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvcik7Ym90dG9tOjA7bGVmdDowO3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OjA7dG9wOjA7ei1pbmRleDo5OTk5fS5ycHYtY29yZV9fbW9kYWwtb3ZlcmxheSwucnB2LWNvcmVfX3BhZ2UtbGF5ZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5ycHYtY29yZV9fcGFnZS1sYXllcntib3gtc2hhZG93OnZhcigtLXJwdi1jb3JlX19wYWdlLWxheWVyLWJveC1zaGFkb3cpO21hcmdpbjowIGF1dG87cG9zaXRpb246cmVsYXRpdmV9LnJwdi1jb3JlX19wYWdlLXNpemUtY2FsY3VsYXRvcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX3BvcG92ZXItYm9keXtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtjb2xvcjp2YXIoLS1ycHYtY29yZV9fcG9wb3Zlci1ib2R5LWNvbG9yKTtsZWZ0OjA7cGFkZGluZzouNXJlbSAwO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotOTk5OXB4O3otaW5kZXg6OTk5OX0ucnB2LWNvcmVfX3BvcG92ZXItYm9keSwucnB2LWNvcmVfX3BvcG92ZXItYm9keS1hcnJvd3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19wb3BvdmVyLWJvZHktYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX19wb3BvdmVyLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fcG9wb3Zlci1vdmVybGF5e2JvdHRvbTowO2xlZnQ6MDtwb3NpdGlvbjpmaXhlZDtyaWdodDowO3RvcDowfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC13cmFwcGVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX2Fubm90YXRpb24tcG9wdXAtd3JhcHBlci1iYWNrZ3JvdW5kLWNvbG9yKTtib3gtc2hhZG93OnZhcigtLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItYm94LXNoYWRvdyk7Zm9udC1zaXplOi43NXJlbTtwYWRkaW5nOi4yNXJlbTt3b3JkLWJyZWFrOmJyZWFrLXdvcmR9LnJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLXdyYXBwZXItLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC10aXRsZXtmb250LXdlaWdodDo2MDA7bWFyZ2luLWJvdHRvbTouMjVyZW19LnJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLWRhdGV7Zm9udC1zaXplOi41cmVtfS5ycHYtY29yZV9fYW5ub3RhdGlvbi1wb3B1cC1jb250ZW50e2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLXJwdi1jb3JlX19hbm5vdGF0aW9uLXBvcHVwLWNvbnRlbnQtYm9yZGVyLXRvcC1jb2xvcik7bWF4LWhlaWdodDoxNnJlbTtvdmVyZmxvdzphdXRvO3BhZGRpbmc6LjI1cmVtfS5ycHYtY29yZV9fcHJpbWFyeS1idXR0b257YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJpbWFyeS1idXR0b24tYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czouMjVyZW07Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MnJlbTtwYWRkaW5nOjAgMXJlbX0ucnB2LWNvcmVfX3ByaW1hcnktYnV0dG9uLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX3Byb2dyZXNzLWJhcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLXJhZGl1czo5OTk5cHg7cGFkZGluZzouMTI1cmVtfS5ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX3Byb2dyZXNzLWJhci1wcm9ncmVzc3thbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fcHJvZ3Jlc3MtYmFyLXByb2dyZXNzLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6OTk5OXB4O2NvbG9yOnZhcigtLXJwdi1jb3JlX19wcm9ncmVzcy1iYXItcHJvZ3Jlc3MtY29sb3IpO2Rpc3BsYXk6ZmxleDtmb250LXNpemU6Ljc1cmVtO2hlaWdodDouNzVyZW07anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucnB2LWNvcmVfX3NlcGFyYXRvcntib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fc2VwYXJhdG9yLWJvcmRlci1ib3R0b20tY29sb3IpfS5ycHYtY29yZV9fc3Bpbm5lcntib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fc3Bpbm5lci1ib3JkZXItdHJhbnNwYXJlbnQtY29sb3IpO2JvcmRlci1sZWZ0OjJweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fc3Bpbm5lci1ib3JkZXItdHJhbnNwYXJlbnQtY29sb3IpO2JvcmRlci1yYWRpdXM6OTk5OXB4O2JvcmRlci1yaWdodDoycHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3NwaW5uZXItYm9yZGVyLWNvbG9yKTtib3JkZXItdG9wOjJweCBzb2xpZCB2YXIoLS1ycHYtY29yZV9fc3Bpbm5lci1ib3JkZXItY29sb3IpfS5ycHYtY29yZV9fc3Bpbm5lci0tYW5pbWF0aW5ne2FuaW1hdGlvbi1kdXJhdGlvbjouNHM7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTthbmltYXRpb24tbmFtZTpycHYtY29yZV9fc3Bpbm5lci10cmFuc2Zvcm07YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXJ9QGtleWZyYW1lcyBycHYtY29yZV9fc3Bpbm5lci10cmFuc2Zvcm17MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX10b3t0cmFuc2Zvcm06cm90YXRlKDF0dXJuKX19LnJwdi1jb3JlX19zcGxpdHRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX19zcGxpdHRlci1iYWNrZ3JvdW5kLWNvbG9yKTtjdXJzb3I6ZXctcmVzaXplO2hlaWdodDoxMDAlO3dpZHRoOi4yNXJlbX0ucnB2LWNvcmVfX3NwbGl0dGVyLS1yZXNpemluZywucnB2LWNvcmVfX3NwbGl0dGVyOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWNvcmVfX3NwbGl0dGVyLS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKTtjdXJzb3I6Y29sLXJlc2l6ZX0ucnB2LWNvcmVfX3NwbGl0dGVyLWJvZHktLXJlc2l6aW5ne2N1cnNvcjpjb2wtcmVzaXplfS5ycHYtY29yZV9fc3BsaXR0ZXItc2libGluZy0tcmVzaXppbmd7cG9pbnRlci1ldmVudHM6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5ycHYtY29yZV9fdGV4dGJveHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190ZXh0Ym94LWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tcnB2LWNvcmVfX3RleHRib3gtYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3RleHRib3gtY29sb3IpO2hlaWdodDoycmVtO3BhZGRpbmc6MCAuNXJlbTt3aWR0aDoxMDAlfS5ycHYtY29yZV9fdGV4dGJveC0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1jb3JlX190ZXh0LWxheWVye2hlaWdodDoxMDAlO2xlZnQ6MDtsaW5lLWhlaWdodDoxO29wYWNpdHk6LjI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ucnB2LWNvcmVfX3RleHQtbGF5ZXIgOjpzZWxlY3Rpb257YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0LS1zZWxlY3Rpb24tYmFja2dyb3VuZC1jb2xvcik7Y29sb3I6dmFyKC0tcnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dC0tc2VsZWN0aW9uLWNvbG9yKX0ucnB2LWNvcmVfX3RleHQtbGF5ZXItdGV4dHtjb2xvcjp0cmFuc3BhcmVudDtjdXJzb3I6dGV4dDtwb3NpdGlvbjphYnNvbHV0ZTt0cmFuc2Zvcm0tb3JpZ2luOjAgMDt3aGl0ZS1zcGFjZTpwcmV9LnJwdi1jb3JlX190b29sdGlwLWJvZHl7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtY29yZV9fdG9vbHRpcC1ib2R5LWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1jb3JlX190b29sdGlwLWJvZHktY29sb3IpO2xlZnQ6MDttYXgtd2lkdGg6MjByZW07cG9zaXRpb246YWJzb2x1dGU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOi05OTk5cHg7ei1pbmRleDo5OTk5fS5ycHYtY29yZV9fdG9vbHRpcC1ib2R5LS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LWNvcmVfX3Rvb2x0aXAtYm9keS1hcnJvd3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1jb3JlX190b29sdGlwLWJvZHktYmFja2dyb3VuZC1jb2xvcil9LnJwdi1jb3JlX190b29sdGlwLWJvZHktY29udGVudHtwYWRkaW5nOi41cmVtfS5ycHYtY29yZV9fZGlzcGxheS0tYmxvY2t7ZGlzcGxheTpibG9ja30ucnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIChtaW4td2lkdGg6NjQwcHgpey5ycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLXNtYWxse2Rpc3BsYXk6bm9uZX0ucnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrLXNtYWxse2Rpc3BsYXk6YmxvY2t9fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsucnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW17ZGlzcGxheTpub25lfS5ycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbWVkaXVte2Rpc3BsYXk6YmxvY2t9fUBtZWRpYSAobWluLXdpZHRoOjEwMjRweCl7LnJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbGFyZ2V7ZGlzcGxheTpub25lfS5ycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbGFyZ2V7ZGlzcGxheTpibG9ja319OnJvb3R7LS1ycHYtdGh1bWJuYWlsX19jb250YWluZXItYm94LXNoYWRvdzpyZ2JhKDAsMCwwLC4yKSAycHggMnB4IDhweCAwcHg7LS1ycHYtdGh1bWJuYWlsX19pdGVtLS1zZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjMpfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LXRodW1ibmFpbF9faXRlbS0tc2VsZWN0ZWQtYmFja2dyb3VuZC1jb2xvcjojMjU2NmU4fS5ycHYtdGh1bWJuYWlsX19jb3ZlcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJX0ucnB2LXRodW1ibmFpbF9fY292ZXItaW1hZ2V7bWF4LWhlaWdodDoxMDAlO21heC13aWR0aDoxMDAlfS5ycHYtdGh1bWJuYWlsX19jb3Zlci1sb2FkZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDoxMDAlfS5ycHYtdGh1bWJuYWlsX19jb250YWluZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JveC1zaGFkb3c6dmFyKC0tcnB2LXRodW1ibmFpbF9fY29udGFpbmVyLWJveC1zaGFkb3cpO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbjowIGF1dG87cG9zaXRpb246cmVsYXRpdmV9LnJwdi10aHVtYm5haWxfX2l0ZW17Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzouNXJlbX0ucnB2LXRodW1ibmFpbF9faXRlbS0tc2VsZWN0ZWQsLnJwdi10aHVtYm5haWxfX2l0ZW06Zm9jdXMsLnJwdi10aHVtYm5haWxfX2l0ZW06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtdGh1bWJuYWlsX19pdGVtLS1zZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yKX0ucnB2LXRodW1ibmFpbF9faXRlbTpmb2N1c3tvdXRsaW5lOjB9LnJwdi10aHVtYm5haWxfX2xhYmVse2ZvbnQtc2l6ZTouNzVlbTtwYWRkaW5nOi4yNXJlbTt0ZXh0LWFsaWduOmNlbnRlcn0ucnB2LXRodW1ibmFpbF9fbGlzdHthbGlnbi1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93IHdyYXA7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdmVyZmxvdzphdXRvO3BhZGRpbmc6LjVyZW0gMH0ucnB2LXRodW1ibmFpbF9fbGlzdC0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi10aHVtYm5haWxfX2xpc3QtY29udGFpbmVye2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9LnJwdi10aHVtYm5haWxfX2xvYWRlcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJX06cm9vdHstLXJwdi1kcm9wX19hcmVhLWJhY2tncm91bmQtY29sb3I6I2ZmZjstLXJwdi1kcm9wX19hcmVhLWJvZHktYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LWRyb3BfX2FyZWEtYm9keS1jb2xvcjojMDAwfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LWRyb3BfX2FyZWEtYmFja2dyb3VuZC1jb2xvcjojMTkxOTE5Oy0tcnB2LWRyb3BfX2FyZWEtYm9keS1ib3JkZXItY29sb3I6I2ZmZjstLXJwdi1kcm9wX19hcmVhLWJvZHktY29sb3I6I2ZmZn0ucnB2LWRyb3BfX2FyZWF7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtZHJvcF9fYXJlYS1iYWNrZ3JvdW5kLWNvbG9yKTtib3R0b206MDtsZWZ0OjA7cGFkZGluZzouNXJlbTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO3otaW5kZXg6OTk5OX0ucnB2LWRyb3BfX2FyZWEtYm9keXthbGlnbi1pdGVtczpjZW50ZXI7Ym9yZGVyOjJweCBkYXNoZWQgdmFyKC0tcnB2LWRyb3BfX2FyZWEtYm9keS1ib3JkZXItY29sb3IpO2NvbG9yOnZhcigtLXJwdi1kcm9wX19hcmVhLWJvZHktY29sb3IpO2Rpc3BsYXk6ZmxleDtmb250LXNpemU6MS41cmVtO2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnJwdi1kcm9wX19hcmVhLWJvZHktLXJ0bHtkaXJlY3Rpb246cnRsfTpyb290ey0tcnB2LWZ1bGwtc2NyZWVuX19wYWdlcy1iYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LnJwdi1jb3JlX192aWV3ZXItLWRhcmt7LS1ycHYtZnVsbC1zY3JlZW5fX3BhZ2VzLWJhY2tncm91bmQtY29sb3I6IzFhMWExYX0ucnB2LWZ1bGwtc2NyZWVuX19leGl0LWJ1dHRvbntib3R0b206MDtwYWRkaW5nOi41cmVtO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MX0ucnB2LWZ1bGwtc2NyZWVuX19leGl0LWJ1dHRvbi0tbHRye3JpZ2h0OjB9LnJwdi1mdWxsLXNjcmVlbl9fZXhpdC1idXR0b24tLXJ0bHtsZWZ0OjB9LnJwdi1mdWxsLXNjcmVlbl9fcGFnZXN7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtZnVsbC1zY3JlZW5fX3BhZ2VzLWJhY2tncm91bmQtY29sb3IpfS5ycHYtb3Blbl9faW5wdXQtd3JhcHBlcntwb3NpdGlvbjpyZWxhdGl2ZX0ucnB2LW9wZW5fX2lucHV0e2JvdHRvbTowO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MTAwJTtsZWZ0OjA7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjA7d2lkdGg6MTAwJX0ucnB2LW9wZW5fX2lucHV0Ojotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbnt3aWR0aDowfS5ycHYtcGFnZS1uYXZpZ2F0aW9uX19jdXJyZW50LXBhZ2UtaW5wdXR7bWFyZ2luOjAgLjI1cmVtO3RleHQtYWxpZ246cmlnaHQ7d2lkdGg6M3JlbX06cm9vdHstLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtcHJpbnRfX3Byb2dyZXNzLWJvZHktYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjMpOy0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWNvbG9yOiMwMDB9LnJwdi1jb3JlX192aWV3ZXItLWRhcmt7LS1ycHYtcHJpbnRfX3Byb2dyZXNzLWJvZHktYmFja2dyb3VuZC1jb2xvcjojMzYzNjM2Oy0tcnB2LXByaW50X19wcm9ncmVzcy1ib2R5LWJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDstLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1jb2xvcjojZmZmfS5ycHYtcHJpbnRfX3Blcm1pc3Npb24tYm9keXtwYWRkaW5nOjFyZW19LnJwdi1wcmludF9fcGVybWlzc2lvbi1mb290ZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzowIDFyZW0gMXJlbSAwfS5ycHYtcHJpbnRfX3Byb2dyZXNze2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJTt6LWluZGV4Ojk5OTl9LnJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1ib3JkZXItY29sb3IpO2JvcmRlci1yYWRpdXM6LjI1cmVtO2NvbG9yOnZhcigtLXJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS1jb2xvcik7cGFkZGluZzoxLjVyZW07dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MTVyZW19LnJwdi1wcmludF9fcHJvZ3Jlc3MtYm9keS0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1wcmludF9fcHJvZ3Jlc3MtYmFye21hcmdpbi1ib3R0b206MXJlbX0ucnB2LXByaW50X19wcm9ncmVzcy1tZXNzYWdle21hcmdpbi1ib3R0b206LjVyZW19LnJwdi1wcmludF9fem9uZXtkaXNwbGF5Om5vbmV9QG1lZGlhIHByaW50e0BwYWdle21hcmdpbjowfS5ycHYtcHJpbnRfX2h0bWwtcHJpbnRpbmd7aGVpZ2h0OjEwMCV9LnJwdi1wcmludF9fYm9keS1wcmludGluZ3toZWlnaHQ6MTAwJTttYXJnaW46MH0ucnB2LXByaW50X19ib2R5LXByaW50aW5nICp7ZGlzcGxheTpub25lfS5ycHYtcHJpbnRfX3pvbmV7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJX0ucnB2LXByaW50X19wYWdle2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFnZS1icmVhay1hZnRlcjphbHdheXM7cGFnZS1icmVhay1pbnNpZGU6YXZvaWQ7d2lkdGg6MTAwJX0ucnB2LXByaW50X19wYWdlIGltZ3tkaXNwbGF5OmJsb2NrO21heC1oZWlnaHQ6MTAwJTttYXgtd2lkdGg6MTAwJX19LnJwdi1wcm9wZXJ0aWVzX19sb2FkZXJ7dGV4dC1hbGlnbjpjZW50ZXJ9LnJwdi1wcm9wZXJ0aWVzX19tb2RhbHttaW4taGVpZ2h0OjIwcmVtO3BhZGRpbmc6LjVyZW0gMH0ucnB2LXByb3BlcnRpZXNfX21vZGFsLXNlY3Rpb257cGFkZGluZzowIC41cmVtfS5ycHYtcHJvcGVydGllc19fbW9kYWwtZm9vdGVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi10b3A6LjVyZW19LnJwdi1wcm9wZXJ0aWVzX19pdGVte2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7ZGlzcGxheTpmbGV4O21hcmdpbjouNXJlbSAwfS5ycHYtcHJvcGVydGllc19faXRlbS0tcnRse2RpcmVjdGlvbjpydGx9LnJwdi1wcm9wZXJ0aWVzX19pdGVtLWxhYmVse3BhZGRpbmctcmlnaHQ6LjVyZW07d2lkdGg6MjUlfS5ycHYtcHJvcGVydGllc19faXRlbS12YWx1ZXtmbGV4OjF9LnJwdi1zZWFyY2hfX2hpZ2hsaWdodHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1zZWFyY2hfX2hpZ2hsaWdodC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOi4yNXJlbTtwb3NpdGlvbjphYnNvbHV0ZX0ucnB2LXNlYXJjaF9faGlnaGxpZ2h0LS1jdXJyZW50e2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LXNlYXJjaF9faGlnaGxpZ2h0LS1jdXJyZW50LWJhY2tncm91bmQtY29sb3IpfS5ycHYtc2VhcmNoX19wb3BvdmVye3BhZGRpbmc6MCAuNXJlbX0ucnB2LXNlYXJjaF9fcG9wb3Zlci1pbnB1dC1jb3VudGVye2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7bWFyZ2luLWJvdHRvbTouNXJlbTtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMnJlbX0ucnB2LXNlYXJjaF9fcG9wb3Zlci1jb3VudGVye2FsaWduLWl0ZW1zOmNlbnRlcjtib3R0b206MDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjB9LnJwdi1zZWFyY2hfX3BvcG92ZXItY291bnRlci0tbHRye3BhZGRpbmctcmlnaHQ6LjI1cmVtO3JpZ2h0OjB9LnJwdi1zZWFyY2hfX3BvcG92ZXItY291bnRlci0tcnRse2xlZnQ6MDtwYWRkaW5nLWxlZnQ6LjI1cmVtfS5ycHYtc2VhcmNoX19wb3BvdmVyLWxhYmVse2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7bWFyZ2luLWJvdHRvbTouNXJlbX0ucnB2LXNlYXJjaF9fcG9wb3Zlci1sYWJlbC1jaGVja2JveHttYXJnaW4tcmlnaHQ6LjI1cmVtfS5ycHYtc2VhcmNoX19wb3BvdmVyLWZvb3RlcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4fS5ycHYtc2VhcmNoX19wb3BvdmVyLWZvb3Rlci1pdGVte3BhZGRpbmc6MCAuMjVyZW19LnJwdi1zZWFyY2hfX3BvcG92ZXItZm9vdGVyLWJ1dHRvbi0tbHRye21hcmdpbi1sZWZ0OmF1dG99LnJwdi1zZWFyY2hfX3BvcG92ZXItZm9vdGVyLWJ1dHRvbi0tcnRse21hcmdpbi1yaWdodDphdXRvfTpyb290ey0tcnB2LXNlYXJjaF9faGlnaGxpZ2h0LWJhY2tncm91bmQtY29sb3I6I2ZmMDstLXJwdi1zZWFyY2hfX2hpZ2hsaWdodC0tY3VycmVudC1iYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS5ycHYtc2VsZWN0aW9uLW1vZGVfX2dyYWJ7Y3Vyc29yOmdyYWJ9LnJwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYiA6bm90KGlucHV0KSwucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiIDpub3Qoc2VsZWN0KSwucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiIDpub3QodGV4dGFyZWEpe2N1cnNvcjpncmFiIWltcG9ydGFudH0ucnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiYmluZ3tjdXJzb3I6Z3JhYmJpbmd9LnJwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYmJpbmcgOm5vdChpbnB1dCksLnJwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYmJpbmcgOm5vdChzZWxlY3QpLC5ycHYtc2VsZWN0aW9uLW1vZGVfX2dyYWJiaW5nIDpub3QodGV4dGFyZWEpe2N1cnNvcjpncmFiYmluZyFpbXBvcnRhbnR9OnJvb3R7LS1ycHYtem9vbV9fcG9wb3Zlci10YXJnZXQtYXJyb3ctYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjYpfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LWFycm93LWJvcmRlci1jb2xvcjojZmZmfS5ycHYtem9vbV9fcG9wb3Zlci10YXJnZXR7YWxpZ24taXRlbXM6Y2VudGVyO2NvbG9yOnZhcigtLXJwdi16b29tX19wb3BvdmVyLXRhcmdldC1jb2xvcik7ZGlzcGxheTpmbGV4fS5ycHYtem9vbV9fcG9wb3Zlci10YXJnZXQtc2NhbGUtLWx0cnttYXJnaW4tcmlnaHQ6LjI1cmVtfS5ycHYtem9vbV9fcG9wb3Zlci10YXJnZXQtc2NhbGUtLXJ0bHttYXJnaW4tbGVmdDouMjVyZW19LnJwdi16b29tX19wb3BvdmVyLXRhcmdldC1hcnJvd3tib3JkZXItY29sb3I6dmFyKC0tcnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LWFycm93LWJvcmRlci1jb2xvcikgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci13aWR0aDouNXJlbSAuMjVyZW0gMDtoZWlnaHQ6MDt3aWR0aDowfTpyb290ey0tcnB2LXRvb2xiYXJfX2xhYmVsLS1jb2xvcjojMDAwfS5ycHYtY29yZV9fdmlld2VyLS1kYXJrey0tcnB2LXRvb2xiYXJfX2xhYmVsLS1jb2xvcjojZmZmfS5ycHYtdG9vbGJhcnthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCV9LnJwdi10b29sYmFyLS1ydGx7ZGlyZWN0aW9uOnJ0bH0ucnB2LXRvb2xiYXJfX2NlbnRlciwucnB2LXRvb2xiYXJfX2xlZnR7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleH0ucnB2LXRvb2xiYXJfX2NlbnRlcntmbGV4LWdyb3c6MTtmbGV4LXNocmluazoxO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnJwdi10b29sYmFyX19yaWdodHthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O21hcmdpbi1sZWZ0OmF1dG99LnJwdi10b29sYmFyX19pdGVte2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7cGFkZGluZzowIC4xMjVyZW19LnJwdi10b29sYmFyX19sYWJlbHtjb2xvcjp2YXIoLS1ycHYtdG9vbGJhcl9fbGFiZWwtLWNvbG9yKX06cm9vdHstLXJwdi1kZWZhdWx0LWxheW91dF9fYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX2NvbnRhaW5lci1ib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuMyk7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3Rvb2xiYXItYmFja2dyb3VuZC1jb2xvcjojZWVlOy0tcnB2LWRlZmF1bHQtbGF5b3V0X190b29sYmFyLWJvcmRlci1ib3R0b20tY29sb3I6cmdiYSgwLDAsMCwuMSk7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItYm9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjIpOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1vcGVuZWQtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWhlYWRlcnMtYmFja2dyb3VuZC1jb2xvcjojZWVlOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLW9wZW5lZC1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tb3BlbmVkLWJvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC4yKTstLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtY29sb3I6IzAwMH0ucnB2LWNvcmVfX3ZpZXdlci0tZGFya3stLXJwdi1kZWZhdWx0LWxheW91dF9fYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiMxYTFhMWE7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX2NvbnRhaW5lci1ib3JkZXItY29sb3I6IzQ1NDY0NzstLXJwdi1kZWZhdWx0LWxheW91dF9fdG9vbGJhci1iYWNrZ3JvdW5kLWNvbG9yOiMyOTI5Mjk7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3Rvb2xiYXItYm9yZGVyLWJvdHRvbS1jb2xvcjojMDAwOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWJvcmRlci1jb2xvcjojMDAwOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1vcGVuZWQtYmFja2dyb3VuZC1jb2xvcjojZmZmOy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWhlYWRlcnMtYmFja2dyb3VuZC1jb2xvcjojMjkyOTI5Oy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLW9wZW5lZC1iYWNrZ3JvdW5kLWNvbG9yOiMxYTFhMWE7LS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tb3BlbmVkLWJvcmRlci1jb2xvcjojMjkyOTI5Oy0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLW9wZW5lZC1jb2xvcjojZmZmfS5ycHYtZGVmYXVsdC1sYXlvdXRfX2NvbnRhaW5lcntib3JkZXI6MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fY29udGFpbmVyLWJvcmRlci1jb2xvcik7Ym94LXNpemluZzpib3JkZXItYm94O2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9LnJwdi1kZWZhdWx0LWxheW91dF9fdG9vbGJhcnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX3Rvb2xiYXItYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tcnB2LWRlZmF1bHQtbGF5b3V0X190b29sYmFyLWJvcmRlci1ib3R0b20tY29sb3IpO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6Mi41cmVtO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDoxMDAlO3otaW5kZXg6MX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFye2Rpc3BsYXk6ZmxleDtwYWRkaW5nLXRvcDoyLjVyZW19LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tb3BlbmVke2JhY2tncm91bmQtY29sb3I6dmFyKC0tcnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1vcGVuZWQtYmFja2dyb3VuZC1jb2xvcik7Ym90dG9tOjA7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEycmVtO3otaW5kZXg6MX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1sdHJ7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItYm9yZGVyLWNvbG9yKX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1ydGx7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1ib3JkZXItY29sb3IpfS5ycHYtZGVmYXVsdC1sYXlvdXRfX21haW57ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlfS5ycHYtZGVmYXVsdC1sYXlvdXRfX21haW4tLXJ0bHtkaXJlY3Rpb246cnRsfS5ycHYtZGVmYXVsdC1sYXlvdXRfX2JvZHl7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX2JvZHktYmFja2dyb3VuZC1jb2xvcik7ZmxleDoxO292ZXJmbG93OmF1dG87cGFkZGluZy10b3A6Mi41cmVtfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1vcGVuZWR7d2lkdGg6MTZyZW19fUBtZWRpYSAobWluLXdpZHRoOjEwMjRweCl7LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tb3BlbmVke2JhY2tncm91bmQ6aW5oZXJpdDtwb3NpdGlvbjppbmhlcml0O3dpZHRoOjIwcmVtO3otaW5kZXg6aW5oZXJpdH19LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci10YWJze2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItaGVhZGVyc3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1oZWFkZXJzLWJhY2tncm91bmQtY29sb3IpO3BhZGRpbmc6LjI1cmVtfS5ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItaGVhZGVye3BhZGRpbmc6LjEyNXJlbX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnR7ZGlzcGxheTpub25lO2ZsZXgtZ3JvdzoxO2ZsZXgtc2hyaW5rOjF9LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tb3BlbmVkLWJhY2tncm91bmQtY29sb3IpO2NvbG9yOnZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtY29sb3IpO2Rpc3BsYXk6ZmxleDtvdmVyZmxvdzpoaWRkZW59LnJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1sdHJ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtYm9yZGVyLWNvbG9yKX0ucnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLXJ0bHtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLXJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1vcGVuZWQtYm9yZGVyLWNvbG9yKX1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fluca%2FDocuments%2FGitHub%2Fshule%2Fpages%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D.tsx&page=%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D!":
/*!**********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fluca%2FDocuments%2FGitHub%2Fshule%2Fpages%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D.tsx&page=%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/References/Physics/FormOne/[id]\",\n      function () {\n        return __webpack_require__(/*! ./pages/References/Physics/FormOne/[id].tsx */ \"./pages/References/Physics/FormOne/[id].tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/References/Physics/FormOne/[id]\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZob21lJTJGbHVjYSUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRnNodWxlJTJGcGFnZXMlMkZSZWZlcmVuY2VzJTJGUGh5c2ljcyUyRkZvcm1PbmUlMkYlNUJpZCU1RC50c3gmcGFnZT0lMkZSZWZlcmVuY2VzJTJGUGh5c2ljcyUyRkZvcm1PbmUlMkYlNUJpZCU1RCEuanMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyxnR0FBNkM7QUFDcEU7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzM5YWQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9SZWZlcmVuY2VzL1BoeXNpY3MvRm9ybU9uZS9baWRdXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9wYWdlcy9SZWZlcmVuY2VzL1BoeXNpY3MvRm9ybU9uZS9baWRdLnRzeFwiKTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cuX19ORVhUX1AucHVzaChbXCIvUmVmZXJlbmNlcy9QaHlzaWNzL0Zvcm1PbmUvW2lkXVwiXSlcbiAgICAgIH0pO1xuICAgIH1cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fluca%2FDocuments%2FGitHub%2Fshule%2Fpages%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D.tsx&page=%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D!\n");

/***/ }),

/***/ "./styles/reviewDisplay.module.scss":
/*!******************************************!*\
  !*** ./styles/reviewDisplay.module.scss ***!
  \******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! !../node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!../node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!../node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./reviewDisplay.module.scss */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!./node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!./node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./styles/reviewDisplay.module.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                // These elements should always exist. If they do not,\n                // this code should fail.\n                var anchorElement = document.querySelector('#__next_css__DO_NOT_USE__');\n                var parentNode = anchorElement.parentNode// Normally <head>\n                ;\n                // Each style tag should be placed right before our\n                // anchor. By inserting before and not after, we do not\n                // need to track the last inserted element.\n                parentNode.insertBefore(element, anchorElement);\n            };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!../node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!../node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./reviewDisplay.module.scss */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!./node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!./node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./styles/reviewDisplay.module.scss\",\n      function () {\n        content = __webpack_require__(/*! !!../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!../node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!../node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./reviewDisplay.module.scss */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[5].use[2]!./node_modules/next/dist/build/webpack/loaders/resolve-url-loader/index.js??ruleSet[1].rules[3].oneOf[5].use[3]!./node_modules/next/dist/compiled/sass-loader/cjs.js??ruleSet[1].rules[3].oneOf[5].use[4]!./styles/reviewDisplay.module.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvcmV2aWV3RGlzcGxheS5tb2R1bGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxVQUFVLG1CQUFPLENBQUMsb05BQXdHO0FBQzFILDBCQUEwQixtQkFBTyxDQUFDLHk1QkFBeWM7O0FBRTNlOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLElBQUksSUFBVTtBQUNkLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlCQUFpQjtBQUNyQixNQUFNLHk1QkFBeWM7QUFDL2M7QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQyx5NUJBQXljOztBQUVuZTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsVUFBVTs7QUFFMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLFVBQVU7QUFDWjtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zdHlsZXMvcmV2aWV3RGlzcGxheS5tb2R1bGUuc2Nzcz8wMDgyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtc3R5bGUtbG9hZGVyL3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls1XS51c2VbMV0hLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzVdLnVzZVsyXSEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9yZXNvbHZlLXVybC1sb2FkZXIvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbNV0udXNlWzNdIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvc2Fzcy1sb2FkZXIvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzVdLnVzZVs0XSEuL3Jldmlld0Rpc3BsYXkubW9kdWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgZWxlbWVudHMgc2hvdWxkIGFsd2F5cyBleGlzdC4gSWYgdGhleSBkbyBub3QsXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb2RlIHNob3VsZCBmYWlsLlxuICAgICAgICAgICAgICAgIHZhciBhbmNob3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19fbmV4dF9jc3NfX0RPX05PVF9VU0VfXycpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gYW5jaG9yRWxlbWVudC5wYXJlbnROb2RlLy8gTm9ybWFsbHkgPGhlYWQ+XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIC8vIEVhY2ggc3R5bGUgdGFnIHNob3VsZCBiZSBwbGFjZWQgcmlnaHQgYmVmb3JlIG91clxuICAgICAgICAgICAgICAgIC8vIGFuY2hvci4gQnkgaW5zZXJ0aW5nIGJlZm9yZSBhbmQgbm90IGFmdGVyLCB3ZSBkbyBub3RcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIHRoZSBsYXN0IGluc2VydGVkIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgYW5jaG9yRWxlbWVudCk7XG4gICAgICAgICAgICB9O1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiLCBpc05hbWVkRXhwb3J0KSB7XG4gICAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBwO1xuICAgIGZvcihwIGluIGEpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhW3BdICE9PSBiW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yKHAgaW4gYil7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuICAgIHZhciBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFxuICAgICAgXCIhIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzVdLnVzZVsxXSEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbNV0udXNlWzJdIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Jlc29sdmUtdXJsLWxvYWRlci9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls1XS51c2VbM10hLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9zYXNzLWxvYWRlci9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbNV0udXNlWzRdIS4vcmV2aWV3RGlzcGxheS5tb2R1bGUuc2Nzc1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbNV0udXNlWzFdIS4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls1XS51c2VbMl0hLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzVdLnVzZVszXSEuLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Nhc3MtbG9hZGVyL2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls1XS51c2VbNF0hLi9yZXZpZXdEaXNwbGF5Lm1vZHVsZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIWlzRXF1YWxMb2NhbHMob2xkTG9jYWxzLCBjb250ZW50LmxvY2FscykpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuaG90LmludmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZShjb250ZW50KTtcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./styles/reviewDisplay.module.scss\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/core/lib/styles/index.css":
/*!******************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/core/lib/styles/index.css ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! !../../../../next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!../../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./index.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/core/lib/styles/index.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                // These elements should always exist. If they do not,\n                // this code should fail.\n                var anchorElement = document.querySelector('#__next_css__DO_NOT_USE__');\n                var parentNode = anchorElement.parentNode// Normally <head>\n                ;\n                // Each style tag should be placed right before our\n                // anchor. By inserting before and not after, we do not\n                // need to track the last inserted element.\n                parentNode.insertBefore(element, anchorElement);\n            };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!../../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./index.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/core/lib/styles/index.css\",\n      function () {\n        content = __webpack_require__(/*! !!../../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!../../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./index.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/core/lib/styles/index.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvc3R5bGVzL2luZGV4LmNzcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxVQUFVLG1CQUFPLENBQUMsZ05BQW9HO0FBQ3RILDBCQUEwQixtQkFBTyxDQUFDLG1nQkFBcU87O0FBRXZROztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLElBQUksSUFBVTtBQUNkLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlCQUFpQjtBQUNyQixNQUFNLG1nQkFBcU87QUFDM087QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQyxtZ0JBQXFPOztBQUUvUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsVUFBVTs7QUFFMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLFVBQVU7QUFDWjtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvc3R5bGVzL2luZGV4LmNzcz9hZDE5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1zdHlsZS1sb2FkZXIvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbN10udXNlWzFdIS4uLy4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzddLnVzZVsyXSEuL2luZGV4LmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBlbGVtZW50cyBzaG91bGQgYWx3YXlzIGV4aXN0LiBJZiB0aGV5IGRvIG5vdCxcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvZGUgc2hvdWxkIGZhaWwuXG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjX19uZXh0X2Nzc19fRE9fTk9UX1VTRV9fJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBhbmNob3JFbGVtZW50LnBhcmVudE5vZGUvLyBOb3JtYWxseSA8aGVhZD5cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCBzdHlsZSB0YWcgc2hvdWxkIGJlIHBsYWNlZCByaWdodCBiZWZvcmUgb3VyXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yLiBCeSBpbnNlcnRpbmcgYmVmb3JlIGFuZCBub3QgYWZ0ZXIsIHdlIGRvIG5vdFxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgdGhlIGxhc3QgaW5zZXJ0ZWQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBhbmNob3JFbGVtZW50KTtcbiAgICAgICAgICAgIH07XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIGlmICghY29udGVudC5sb2NhbHMgfHwgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKSB7XG4gICAgdmFyIGlzRXF1YWxMb2NhbHMgPSBmdW5jdGlvbiBpc0VxdWFsTG9jYWxzKGEsIGIsIGlzTmFtZWRFeHBvcnQpIHtcbiAgICBpZiAoIWEgJiYgYiB8fCBhICYmICFiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHA7XG4gICAgZm9yKHAgaW4gYSl7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IocCBpbiBiKXtcbiAgICAgICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4gICAgdmFyIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXG4gICAgICBcIiEhLi4vLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbN10udXNlWzJdIS4vaW5kZXguY3NzXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzddLnVzZVsxXSEuLi8uLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls3XS51c2VbMl0hLi9pbmRleC5jc3NcIik7XG5cbiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGNvbnRlbnQubG9jYWxzKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/core/lib/styles/index.css\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css":
/*!****************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css ***!
  \****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! !../../../../next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!../../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./index.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                // These elements should always exist. If they do not,\n                // this code should fail.\n                var anchorElement = document.querySelector('#__next_css__DO_NOT_USE__');\n                var parentNode = anchorElement.parentNode// Normally <head>\n                ;\n                // Each style tag should be placed right before our\n                // anchor. By inserting before and not after, we do not\n                // need to track the last inserted element.\n                parentNode.insertBefore(element, anchorElement);\n            };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === 'default') {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!../../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./index.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\",\n      function () {\n        content = __webpack_require__(/*! !!../../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!../../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./index.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[3].oneOf[7].use[2]!./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZGVmYXVsdC1sYXlvdXQvbGliL3N0eWxlcy9pbmRleC5jc3MuanMiLCJtYXBwaW5ncyI6IkFBQUEsVUFBVSxtQkFBTyxDQUFDLGdOQUFvRztBQUN0SCwwQkFBMEIsbUJBQU8sQ0FBQyw2Z0JBQXFPOztBQUV2UTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQSxJQUFJLElBQVU7QUFDZCx5QkFBeUIsVUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxpQkFBaUI7QUFDckIsTUFBTSw2Z0JBQXFPO0FBQzNPO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsNmdCQUFxTzs7QUFFL1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLFVBQVU7O0FBRTFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxVQUFVO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9zdHlsZXMvaW5kZXguY3NzP2ZmNjciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbN10udXNlWzJdIS4vaW5kZXguY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFRoZXNlIGVsZW1lbnRzIHNob3VsZCBhbHdheXMgZXhpc3QuIElmIHRoZXkgZG8gbm90LFxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY29kZSBzaG91bGQgZmFpbC5cbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNfX25leHRfY3NzX19ET19OT1RfVVNFX18nKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGFuY2hvckVsZW1lbnQucGFyZW50Tm9kZS8vIE5vcm1hbGx5IDxoZWFkPlxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAvLyBFYWNoIHN0eWxlIHRhZyBzaG91bGQgYmUgcGxhY2VkIHJpZ2h0IGJlZm9yZSBvdXJcbiAgICAgICAgICAgICAgICAvLyBhbmNob3IuIEJ5IGluc2VydGluZyBiZWZvcmUgYW5kIG5vdCBhZnRlciwgd2UgZG8gbm90XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0cmFjayB0aGUgbGFzdCBpbnNlcnRlZCBlbGVtZW50LlxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGFuY2hvckVsZW1lbnQpO1xuICAgICAgICAgICAgfTtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuaWYgKG1vZHVsZS5ob3QpIHtcbiAgaWYgKCFjb250ZW50LmxvY2FscyB8fCBtb2R1bGUuaG90LmludmFsaWRhdGUpIHtcbiAgICB2YXIgaXNFcXVhbExvY2FscyA9IGZ1bmN0aW9uIGlzRXF1YWxMb2NhbHMoYSwgYiwgaXNOYW1lZEV4cG9ydCkge1xuICAgIGlmICghYSAmJiBiIHx8IGEgJiYgIWIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgcDtcbiAgICBmb3IocCBpbiBhKXtcbiAgICAgICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYVtwXSAhPT0gYltwXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcihwIGluIGIpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYVtwXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzddLnVzZVsxXSEuLi8uLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS5vbmVPZls3XS51c2VbMl0hLi9pbmRleC5jc3NcIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10ub25lT2ZbN10udXNlWzFdIS4uLy4uLy4uLy4uL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLm9uZU9mWzddLnVzZVsyXSEuL2luZGV4LmNzc1wiKTtcblxuICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCFpc0VxdWFsTG9jYWxzKG9sZExvY2FscywgY29udGVudC5sb2NhbHMpKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgICAgICAgICAgICB1cGRhdGUoY29udGVudCk7XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\n");

/***/ }),

/***/ "./components/tools/PdfViewer.tsx":
/*!****************************************!*\
  !*** ./components/tools/PdfViewer.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ pdf; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\n/* harmony import */ var _react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-pdf-viewer/default-layout */ \"./node_modules/@react-pdf-viewer/default-layout/lib/index.js\");\n/* harmony import */ var _react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-pdf-viewer/core/lib/styles/index.css */ \"./node_modules/@react-pdf-viewer/core/lib/styles/index.css\");\n/* harmony import */ var _react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _react_pdf_viewer_default_layout_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-pdf-viewer/default-layout/lib/styles/index.css */ \"./node_modules/@react-pdf-viewer/default-layout/lib/styles/index.css\");\n/* harmony import */ var _react_pdf_viewer_default_layout_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_default_layout_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar _s = $RefreshSig$();\nfunction pdf(param1) {\n    var url = param1.url;\n    var onItemClick = function onItemClick(param) {\n        var itemPageNumber = param.pageNumber;\n        setPageNumber(itemPageNumber);\n    };\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1), pageNumber = ref[0], setPageNumber = ref[1];\n    var defaultLayoutPluginInstance = (0,_react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3__.defaultLayoutPlugin)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_1__.Worker, {\n        workerUrl: \"https://unpkg.com/pdfjs-dist@2.14.305/build/pdf.worker.min.js\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                height: \"750px\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_1__.Viewer, {\n                fileUrl: url,\n                plugins: [\n                    defaultLayoutPluginInstance\n                ]\n            }, void 0, false, {\n                fileName: \"/home/luca/Documents/GitHub/shule/components/tools/PdfViewer.tsx\",\n                lineNumber: 23,\n                columnNumber: 5\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/luca/Documents/GitHub/shule/components/tools/PdfViewer.tsx\",\n            lineNumber: 22,\n            columnNumber: 4\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/luca/Documents/GitHub/shule/components/tools/PdfViewer.tsx\",\n        lineNumber: 21,\n        columnNumber: 3\n    }, this);\n};\n_s(pdf, \"vpR6s6c+pWN9iYRRE4XhvQBqRwA=\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3Rvb2xzL1BkZlZpZXdlci50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQXdEO0FBQ2hCO0FBQytCO0FBRWxCO0FBQ1U7O0FBT2hELFNBQVNLLEdBQUcsQ0FBQyxNQUFpQixFQUFFO1FBQW5CLEdBQUssR0FBTCxNQUFpQixDQUFmQyxHQUFHO1FBR3ZCQyxXQUFXLEdBQXBCLFNBQVNBLFdBQVcsQ0FBQyxLQUFtQyxFQUFFO1lBQW5DQyxjQUEwQixHQUE1QixLQUFtQyxDQUFqQ0EsVUFBVTtRQUNoQ0UsYUFBYSxDQUFDRCxjQUFjLENBQUMsQ0FBQztLQUM5Qjs7SUFKRCxJQUFvQ04sR0FBVyxHQUFYQSwrQ0FBUSxDQUFDLENBQUMsQ0FBQyxFQWJoRCxVQWFrQixHQUFtQkEsR0FBVyxHQUE5QixFQWJsQixhQWFpQyxHQUFJQSxHQUFXLEdBQWY7SUFDaEMsSUFBTVEsMkJBQTJCLEdBQUdQLHFGQUFtQixFQUFFO0lBS3pELHFCQUNDLDhEQUFDSiwwREFBTTtRQUFDWSxTQUFTLEVBQUMsK0RBQStEO2tCQUNoRiw0RUFBQ0MsS0FBRztZQUFDQyxLQUFLLEVBQUU7Z0JBQUVDLE1BQU0sRUFBRSxPQUFPO2FBQUU7c0JBQzlCLDRFQUFDZCwwREFBTTtnQkFBQ2UsT0FBTyxFQUFFVixHQUFHO2dCQUFFVyxPQUFPLEVBQUU7b0JBQUNOLDJCQUEyQjtpQkFBQzs7Ozs7b0JBQUk7Ozs7O2dCQUMzRDs7Ozs7WUFDRSxDQUNSO0NBQ0Y7R0FkdUJOLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy90b29scy9QZGZWaWV3ZXIudHN4P2NjOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV29ya2VyLCBWaWV3ZXIgfSBmcm9tICdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlZmF1bHRMYXlvdXRQbHVnaW4gfSBmcm9tICdAcmVhY3QtcGRmLXZpZXdlci9kZWZhdWx0LWxheW91dCc7XG5cbmltcG9ydCAnQHJlYWN0LXBkZi12aWV3ZXIvY29yZS9saWIvc3R5bGVzL2luZGV4LmNzcyc7XG5pbXBvcnQgJ0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9zdHlsZXMvaW5kZXguY3NzJztcbmltcG9ydCB7IHR5cGUgfSBmcm9tICdvcyc7XG5cbnR5cGUgZGF0YVR5cGUgPSB7XG5cdHVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGRmKHsgdXJsIH06IGRhdGFUeXBlKSB7XG5cdGNvbnN0IFtwYWdlTnVtYmVyLCBzZXRQYWdlTnVtYmVyXSA9IHVzZVN0YXRlKDEpO1xuXHRjb25zdCBkZWZhdWx0TGF5b3V0UGx1Z2luSW5zdGFuY2UgPSBkZWZhdWx0TGF5b3V0UGx1Z2luKCk7XG5cdGZ1bmN0aW9uIG9uSXRlbUNsaWNrKHsgcGFnZU51bWJlcjogaXRlbVBhZ2VOdW1iZXIgfTogYW55KSB7XG5cdFx0c2V0UGFnZU51bWJlcihpdGVtUGFnZU51bWJlcik7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDxXb3JrZXIgd29ya2VyVXJsPSdodHRwczovL3VucGtnLmNvbS9wZGZqcy1kaXN0QDIuMTQuMzA1L2J1aWxkL3BkZi53b3JrZXIubWluLmpzJz5cblx0XHRcdDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnNzUwcHgnIH19PlxuXHRcdFx0XHQ8Vmlld2VyIGZpbGVVcmw9e3VybH0gcGx1Z2lucz17W2RlZmF1bHRMYXlvdXRQbHVnaW5JbnN0YW5jZV19IC8+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L1dvcmtlcj5cblx0KTtcbn1cbiJdLCJuYW1lcyI6WyJXb3JrZXIiLCJWaWV3ZXIiLCJSZWFjdCIsInVzZVN0YXRlIiwiZGVmYXVsdExheW91dFBsdWdpbiIsInBkZiIsInVybCIsIm9uSXRlbUNsaWNrIiwicGFnZU51bWJlciIsIml0ZW1QYWdlTnVtYmVyIiwic2V0UGFnZU51bWJlciIsImRlZmF1bHRMYXlvdXRQbHVnaW5JbnN0YW5jZSIsIndvcmtlclVybCIsImRpdiIsInN0eWxlIiwiaGVpZ2h0IiwiZmlsZVVybCIsInBsdWdpbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/tools/PdfViewer.tsx\n");

/***/ }),

/***/ "./pages/References/Physics/FormOne/[id].tsx":
/*!***************************************************!*\
  !*** ./pages/References/Physics/FormOne/[id].tsx ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__N_SSG\": function() { return /* binding */ __N_SSG; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../styles/reviewDisplay.module.scss */ \"./styles/reviewDisplay.module.scss\");\n/* harmony import */ var _styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _mui_icons_material_ChevronRightOutlined__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ChevronRightOutlined */ \"./node_modules/@mui/icons-material/ChevronRightOutlined.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_context_StateContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../components/context/StateContext */ \"./components/context/StateContext.tsx\");\n/* harmony import */ var _components_tools_PdfViewer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../components/tools/PdfViewer */ \"./components/tools/PdfViewer.tsx\");\nvar _this = undefined;\n\n\n\n\n\n\n\nvar _s = $RefreshSig$();\nvar subjectLocatorLink = \"Physics\";\nvar formLocatorLink = \"FormOne\";\nvar Index = function(param) {\n    var reference = param.reference;\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_components_context_StateContext__WEBPACK_IMPORTED_MODULE_3__.NavContext), navActive = ref.navActive, setNavActive = ref.setNavActive;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        setNavActive(\"References\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        navActive\n    ]);\n    //!mambo yanaanza\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5___default().container),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: reference.name\n                    }, void 0, false, {\n                        fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                        lineNumber: 102,\n                        columnNumber: 5\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"initial-scale=1.0, width=device-width\"\n                    }, void 0, false, {\n                        fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                        lineNumber: 103,\n                        columnNumber: 5\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: reference.description\n                    }, void 0, false, {\n                        fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                        lineNumber: 104,\n                        columnNumber: 5\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"keywords\",\n                        content: reference.description\n                    }, void 0, false, {\n                        fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                        lineNumber: 106,\n                        columnNumber: 5\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                lineNumber: 101,\n                columnNumber: 4\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5___default().innerContainer),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5___default().rightInnercontainerBody),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5___default().BodyHeader),\n                            children: [\n                                reference.subjectReference.subjectName,\n                                \" \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ChevronRightOutlined__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                                    fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                                    lineNumber: 112,\n                                    columnNumber: 7\n                                }, _this),\n                                \" \",\n                                reference.name\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                            lineNumber: 110,\n                            columnNumber: 6\n                        }, _this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_reviewDisplay_module_scss__WEBPACK_IMPORTED_MODULE_5___default().BodyContent),\n                            children: reference.isPdf ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_tools_PdfViewer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                url: reference.data\n                            }, void 0, false, {\n                                fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                                lineNumber: 116,\n                                columnNumber: 8\n                            }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ckContent\",\n                                dangerouslySetInnerHTML: {\n                                    __html: reference.data\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                                lineNumber: 118,\n                                columnNumber: 8\n                            }, _this)\n                        }, void 0, false, {\n                            fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                            lineNumber: 114,\n                            columnNumber: 6\n                        }, _this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                    lineNumber: 109,\n                    columnNumber: 5\n                }, _this)\n            }, void 0, false, {\n                fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n                lineNumber: 108,\n                columnNumber: 4\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/luca/Documents/GitHub/shule/pages/References/Physics/FormOne/[id].tsx\",\n        lineNumber: 100,\n        columnNumber: 3\n    }, _this);\n};\n_s(Index, \"8XnDBuqwid0ybPU6g7WdH1V+qSo=\");\n_c = Index;\nvar __N_SSG = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\nvar _c;\n$RefreshReg$(_c, \"Index\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9SZWZlcmVuY2VzL1BoeXNpY3MvRm9ybU9uZS9baWRdLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFHcUQ7QUFDYTtBQUNjO0FBQ25EO0FBQzRDO0FBR1Y7O0FBRS9ELElBQU1RLGtCQUFrQixHQUFHLFNBQVM7QUFDcEMsSUFBTUMsZUFBZSxHQUFHLFNBQVM7QUF3RWpDLElBQU1DLEtBQUssR0FBRyxnQkFFd0M7UUFEckRDLFNBQVMsU0FBVEEsU0FBUzs7SUFFVCxJQUFvQ1YsR0FBc0IsR0FBdEJBLGlEQUFVLENBQUNLLHdFQUFVLENBQUMsRUFBbERNLFNBQVMsR0FBbUJYLEdBQXNCLENBQWxEVyxTQUFTLEVBQUVDLFlBQVksR0FBS1osR0FBc0IsQ0FBdkNZLFlBQVk7SUFFL0JYLGdEQUFTLENBQUMsV0FBTTtRQUNmVyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFM0IsdURBQXVEO0tBQ3ZELEVBQUU7UUFBQ0QsU0FBUztLQUFDLENBQUMsQ0FBQztJQUVoQixpQkFBaUI7SUFFakIscUJBQ0MsOERBQUNFLEtBQUc7UUFBQ0MsU0FBUyxFQUFFWixvRkFBZ0I7OzBCQUMvQiw4REFBQ0Usa0RBQUk7O2tDQUNKLDhEQUFDWSxPQUFLO2tDQUFFTixTQUFTLENBQUNPLElBQUk7Ozs7OzZCQUFTO2tDQUMvQiw4REFBQ0MsTUFBSTt3QkFBQ0QsSUFBSSxFQUFDLFVBQVU7d0JBQUNFLE9BQU8sRUFBQyx1Q0FBdUM7Ozs7OzZCQUFHO2tDQUN4RSw4REFBQ0QsTUFBSTt3QkFBQ0QsSUFBSSxFQUFDLGFBQWE7d0JBQUNFLE9BQU8sRUFBRVQsU0FBUyxDQUFDVSxXQUFXOzs7Ozs2QkFBSTtrQ0FFM0QsOERBQUNGLE1BQUk7d0JBQUNELElBQUksRUFBQyxVQUFVO3dCQUFDRSxPQUFPLEVBQUVULFNBQVMsQ0FBQ1UsV0FBVzs7Ozs7NkJBQUk7Ozs7OztxQkFDbEQ7MEJBQ1AsOERBQUNQLEtBQUc7Z0JBQUNDLFNBQVMsRUFBRVoseUZBQXFCOzBCQUNwQyw0RUFBQ1csS0FBRztvQkFBQ0MsU0FBUyxFQUFFWixrR0FBOEI7O3NDQUM3Qyw4REFBQ1csS0FBRzs0QkFBQ0MsU0FBUyxFQUFFWixxRkFBaUI7O2dDQUMvQlEsU0FBUyxDQUFDYyxnQkFBZ0IsQ0FBQ0MsV0FBVztnQ0FBRSxHQUFHOzhDQUM1Qyw4REFBQ3RCLGdGQUF3Qjs7Ozt5Q0FBRztnQ0FBQSxHQUFDO2dDQUFDTyxTQUFTLENBQUNPLElBQUk7Ozs7OztpQ0FDdkM7c0NBQ04sOERBQUNKLEtBQUc7NEJBQUNDLFNBQVMsRUFBRVosc0ZBQWtCO3NDQUNoQ1EsU0FBUyxDQUFDaUIsS0FBSyxpQkFDZiw4REFBQ3JCLG1FQUFTO2dDQUFDc0IsR0FBRyxFQUFFbEIsU0FBUyxDQUFDbUIsSUFBSTs7Ozs7cUNBQUksaUJBRWxDLDhEQUFDaEIsS0FBRztnQ0FDSEMsU0FBUyxFQUFDLFdBQVc7Z0NBQ3JCZ0IsdUJBQXVCLEVBQUU7b0NBQUVDLE1BQU0sRUFBRXJCLFNBQVMsQ0FBQ21CLElBQUk7aUNBQUU7Ozs7O3FDQUNsRDs7Ozs7aUNBRUU7Ozs7Ozt5QkFDRDs7Ozs7cUJBQ0Q7Ozs7OzthQUNELENBQ0w7Q0FDRjtHQTFDS3BCLEtBQUs7QUFBTEEsS0FBQUEsS0FBSzs7QUE0Q1gsK0RBQWVBLEtBQUssRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9SZWZlcmVuY2VzL1BoeXNpY3MvRm9ybU9uZS9baWRdLnRzeD82MmY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdldFN0YXRpY1Byb3BzLCBHZXRTdGF0aWNQYXRocywgSW5mZXJHZXRTdGF0aWNQcm9wc1R5cGUgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGIvcHJpc21hJztcclxuaW1wb3J0IHsgcmVmZXJlbmNlIH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3R5bGVzIGZyb20gJy4uLy4uLy4uLy4uL3N0eWxlcy9yZXZpZXdEaXNwbGF5Lm1vZHVsZS5zY3NzJztcclxuaW1wb3J0IENoZXZyb25SaWdodE91dGxpbmVkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0NoZXZyb25SaWdodE91dGxpbmVkJztcclxuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcclxuaW1wb3J0IHsgTmF2Q29udGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvY29udGV4dC9TdGF0ZUNvbnRleHQnO1xyXG5cclxuY29uc3Qgc3ViamVjdExvY2F0b3IgPSAnUGh5c2ljcyc7XHJcbmltcG9ydCBQZGZWaWV3ZXIgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy90b29scy9QZGZWaWV3ZXInO1xyXG5jb25zdCBmb3JtTG9jYXRvciA9ICdGb3JtIE9uZSc7XHJcbmNvbnN0IHN1YmplY3RMb2NhdG9yTGluayA9ICdQaHlzaWNzJztcclxuY29uc3QgZm9ybUxvY2F0b3JMaW5rID0gJ0Zvcm1PbmUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzOiBHZXRTdGF0aWNQcm9wcyA9IGFzeW5jIChjb250ZXh0KSA9PiB7XHJcblx0Y29uc3QgaWQgPSBjb250ZXh0LnBhcmFtcz8uaWQ7XHJcblx0bGV0IElkID0gcGFyc2VJbnQoU3RyaW5nKGlkKSk7XHJcblx0Ly8gLi4uXHJcblx0Y29uc3QgcmVmZXJlbmNlU2VydmVyID0gYXdhaXQgcHJpc21hLnJlZmVyZW5jZS5maW5kVW5pcXVlKHtcclxuXHRcdHdoZXJlOiB7XHJcblx0XHRcdGlkOiBJZCxcclxuXHRcdH0sXHJcblx0XHRzZWxlY3Q6IHtcclxuXHRcdFx0aWQ6IHRydWUsXHJcblx0XHRcdGZvcm1SZWZlcmVuY2U6IHtcclxuXHRcdFx0XHRzZWxlY3Q6IHtcclxuXHRcdFx0XHRcdGZvcm1OYW1lOiB0cnVlLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdH0sXHJcblx0XHRcdHN1YmplY3RSZWZlcmVuY2U6IHtcclxuXHRcdFx0XHRzZWxlY3Q6IHtcclxuXHRcdFx0XHRcdHN1YmplY3ROYW1lOiB0cnVlLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdH0sXHJcblx0XHRcdG5hbWU6IHRydWUsXHJcblx0XHRcdGRlc2NyaXB0aW9uOiB0cnVlLFxyXG5cdFx0XHRpc1BkZjogdHJ1ZSxcclxuXHRcdFx0ZGF0YTogdHJ1ZSxcclxuXHRcdH0sXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IHJlZmVyZW5jZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVmZXJlbmNlU2VydmVyKSk7XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRwcm9wczoge1xyXG5cdFx0XHRyZWZlcmVuY2UsXHJcblx0XHR9LFxyXG5cdH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHM6IEdldFN0YXRpY1BhdGhzID0gYXN5bmMgKCkgPT4ge1xyXG5cdC8vIC4uLlxyXG5cdGNvbnN0IHJlZmVyZW5jZXNTZXJ2ZXIgPSBhd2FpdCBwcmlzbWEucmVmZXJlbmNlLmZpbmRNYW55KHtcclxuXHRcdHdoZXJlOiB7XHJcblx0XHRcdHB1Ymxpc2hlZDogdHJ1ZSxcclxuXHRcdFx0c3ViamVjdFJlZmVyZW5jZToge1xyXG5cdFx0XHRcdHN1YmplY3ROYW1lOiBzdWJqZWN0TG9jYXRvcixcclxuXHRcdFx0fSxcclxuXHRcdFx0Zm9ybVJlZmVyZW5jZToge1xyXG5cdFx0XHRcdHNvbWU6IHtcclxuXHRcdFx0XHRcdGZvcm1OYW1lOiBmb3JtTG9jYXRvcixcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9LFxyXG5cdFx0fSxcclxuXHRcdHNlbGVjdDoge1xyXG5cdFx0XHRpZDogdHJ1ZSxcclxuXHRcdH0sXHJcblx0fSk7XHJcblx0Y29uc3QgcmVmZXJlbmNlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVmZXJlbmNlc1NlcnZlcikpO1xyXG5cclxuXHRjb25zdCBwYXRocyA9IHJlZmVyZW5jZXMubWFwKChyZWY6IHJlZmVyZW5jZSkgPT4ge1xyXG5cdFx0bGV0IGlkID0gU3RyaW5nKHJlZi5pZCk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRwYXJhbXM6IHtcclxuXHRcdFx0XHRpZDogYCR7aWR9YCxcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblx0fSk7XHJcblx0cmV0dXJuIHtcclxuXHRcdHBhdGhzLFxyXG5cdFx0ZmFsbGJhY2s6IGZhbHNlLFxyXG5cdH07XHJcbn07XHJcblxyXG5jb25zdCBJbmRleCA9ICh7XHJcblx0cmVmZXJlbmNlLFxyXG59OiBJbmZlckdldFN0YXRpY1Byb3BzVHlwZTx0eXBlb2YgZ2V0U3RhdGljUHJvcHM+KSA9PiB7XHJcblx0Y29uc3QgeyBuYXZBY3RpdmUsIHNldE5hdkFjdGl2ZSB9ID0gdXNlQ29udGV4dChOYXZDb250ZXh0KTtcclxuXHJcblx0dXNlRWZmZWN0KCgpID0+IHtcclxuXHRcdHNldE5hdkFjdGl2ZSgnUmVmZXJlbmNlcycpO1xyXG5cclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcclxuXHR9LCBbbmF2QWN0aXZlXSk7XHJcblxyXG5cdC8vIW1hbWJvIHlhbmFhbnphXHJcblxyXG5cdHJldHVybiAoXHJcblx0XHQ8ZGl2IGNsYXNzTmFtZT17U3R5bGVzLmNvbnRhaW5lcn0+XHJcblx0XHRcdDxIZWFkPlxyXG5cdFx0XHRcdDx0aXRsZT57cmVmZXJlbmNlLm5hbWV9PC90aXRsZT5cclxuXHRcdFx0XHQ8bWV0YSBuYW1lPSd2aWV3cG9ydCcgY29udGVudD0naW5pdGlhbC1zY2FsZT0xLjAsIHdpZHRoPWRldmljZS13aWR0aCcgLz5cclxuXHRcdFx0XHQ8bWV0YSBuYW1lPSdkZXNjcmlwdGlvbicgY29udGVudD17cmVmZXJlbmNlLmRlc2NyaXB0aW9ufSAvPlxyXG5cdFx0XHRcdHsvKiAvLyFhZGQga2V5d29yZHMgKi99XHJcblx0XHRcdFx0PG1ldGEgbmFtZT0na2V5d29yZHMnIGNvbnRlbnQ9e3JlZmVyZW5jZS5kZXNjcmlwdGlvbn0gLz5cclxuXHRcdFx0PC9IZWFkPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT17U3R5bGVzLmlubmVyQ29udGFpbmVyfT5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17U3R5bGVzLnJpZ2h0SW5uZXJjb250YWluZXJCb2R5fT5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPXtTdHlsZXMuQm9keUhlYWRlcn0+XHJcblx0XHRcdFx0XHRcdHtyZWZlcmVuY2Uuc3ViamVjdFJlZmVyZW5jZS5zdWJqZWN0TmFtZX17JyAnfVxyXG5cdFx0XHRcdFx0XHQ8Q2hldnJvblJpZ2h0T3V0bGluZWRJY29uIC8+IHtyZWZlcmVuY2UubmFtZX1cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e1N0eWxlcy5Cb2R5Q29udGVudH0+XHJcblx0XHRcdFx0XHRcdHtyZWZlcmVuY2UuaXNQZGYgPyAoXHJcblx0XHRcdFx0XHRcdFx0PFBkZlZpZXdlciB1cmw9e3JlZmVyZW5jZS5kYXRhfSAvPlxyXG5cdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nY2tDb250ZW50J1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiByZWZlcmVuY2UuZGF0YSB9fVxyXG5cdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJTdHlsZXMiLCJDaGV2cm9uUmlnaHRPdXRsaW5lZEljb24iLCJIZWFkIiwiTmF2Q29udGV4dCIsIlBkZlZpZXdlciIsInN1YmplY3RMb2NhdG9yTGluayIsImZvcm1Mb2NhdG9yTGluayIsIkluZGV4IiwicmVmZXJlbmNlIiwibmF2QWN0aXZlIiwic2V0TmF2QWN0aXZlIiwiZGl2IiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwidGl0bGUiLCJuYW1lIiwibWV0YSIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbiIsImlubmVyQ29udGFpbmVyIiwicmlnaHRJbm5lcmNvbnRhaW5lckJvZHkiLCJCb2R5SGVhZGVyIiwic3ViamVjdFJlZmVyZW5jZSIsInN1YmplY3ROYW1lIiwiQm9keUNvbnRlbnQiLCJpc1BkZiIsInVybCIsImRhdGEiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/References/Physics/FormOne/[id].tsx\n");

/***/ }),

/***/ "./node_modules/next/dist/compiled/buffer/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/next/dist/compiled/buffer/index.js ***!
  \*********************************************************/
/***/ (function(module) {

eval("var __dirname = \"/\";\n(function(){var e={991:function(e,r){\"use strict\";r.byteLength=byteLength;r.toByteArray=toByteArray;r.fromByteArray=fromByteArray;var t=[];var f=[];var n=typeof Uint8Array!==\"undefined\"?Uint8Array:Array;var i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(var o=0,u=i.length;o<u;++o){t[o]=i[o];f[i.charCodeAt(o)]=o}f[\"-\".charCodeAt(0)]=62;f[\"_\".charCodeAt(0)]=63;function getLens(e){var r=e.length;if(r%4>0){throw new Error(\"Invalid string. Length must be a multiple of 4\")}var t=e.indexOf(\"=\");if(t===-1)t=r;var f=t===r?0:4-t%4;return[t,f]}function byteLength(e){var r=getLens(e);var t=r[0];var f=r[1];return(t+f)*3/4-f}function _byteLength(e,r,t){return(r+t)*3/4-t}function toByteArray(e){var r;var t=getLens(e);var i=t[0];var o=t[1];var u=new n(_byteLength(e,i,o));var a=0;var s=o>0?i-4:i;var h;for(h=0;h<s;h+=4){r=f[e.charCodeAt(h)]<<18|f[e.charCodeAt(h+1)]<<12|f[e.charCodeAt(h+2)]<<6|f[e.charCodeAt(h+3)];u[a++]=r>>16&255;u[a++]=r>>8&255;u[a++]=r&255}if(o===2){r=f[e.charCodeAt(h)]<<2|f[e.charCodeAt(h+1)]>>4;u[a++]=r&255}if(o===1){r=f[e.charCodeAt(h)]<<10|f[e.charCodeAt(h+1)]<<4|f[e.charCodeAt(h+2)]>>2;u[a++]=r>>8&255;u[a++]=r&255}return u}function tripletToBase64(e){return t[e>>18&63]+t[e>>12&63]+t[e>>6&63]+t[e&63]}function encodeChunk(e,r,t){var f;var n=[];for(var i=r;i<t;i+=3){f=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255);n.push(tripletToBase64(f))}return n.join(\"\")}function fromByteArray(e){var r;var f=e.length;var n=f%3;var i=[];var o=16383;for(var u=0,a=f-n;u<a;u+=o){i.push(encodeChunk(e,u,u+o>a?a:u+o))}if(n===1){r=e[f-1];i.push(t[r>>2]+t[r<<4&63]+\"==\")}else if(n===2){r=(e[f-2]<<8)+e[f-1];i.push(t[r>>10]+t[r>>4&63]+t[r<<2&63]+\"=\")}return i.join(\"\")}},293:function(e,r,t){\"use strict\";\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */var f=t(991);var n=t(759);var i=typeof Symbol===\"function\"&&typeof Symbol.for===\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;r.Buffer=Buffer;r.SlowBuffer=SlowBuffer;r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!==\"undefined\"&&typeof console.error===\"function\"){console.error(\"This browser lacks typed array (Uint8Array) support which is required by \"+\"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.\")}function typedArraySupport(){try{var e=new Uint8Array(1);var r={foo:function(){return 42}};Object.setPrototypeOf(r,Uint8Array.prototype);Object.setPrototypeOf(e,r);return e.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,\"parent\",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,\"offset\",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(e){if(e>o){throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}var r=new Uint8Array(e);Object.setPrototypeOf(r,Buffer.prototype);return r}function Buffer(e,r,t){if(typeof e===\"number\"){if(typeof r===\"string\"){throw new TypeError('The \"string\" argument must be of type string. Received type number')}return allocUnsafe(e)}return from(e,r,t)}Buffer.poolSize=8192;function from(e,r,t){if(typeof e===\"string\"){return fromString(e,r)}if(ArrayBuffer.isView(e)){return fromArrayLike(e)}if(e==null){throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \"+\"or Array-like Object. Received type \"+typeof e)}if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer)){return fromArrayBuffer(e,r,t)}if(typeof SharedArrayBuffer!==\"undefined\"&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer))){return fromArrayBuffer(e,r,t)}if(typeof e===\"number\"){throw new TypeError('The \"value\" argument must not be of type number. Received type number')}var f=e.valueOf&&e.valueOf();if(f!=null&&f!==e){return Buffer.from(f,r,t)}var n=fromObject(e);if(n)return n;if(typeof Symbol!==\"undefined\"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]===\"function\"){return Buffer.from(e[Symbol.toPrimitive](\"string\"),r,t)}throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, \"+\"or Array-like Object. Received type \"+typeof e)}Buffer.from=function(e,r,t){return from(e,r,t)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(e){if(typeof e!==\"number\"){throw new TypeError('\"size\" argument must be of type number')}else if(e<0){throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}}function alloc(e,r,t){assertSize(e);if(e<=0){return createBuffer(e)}if(r!==undefined){return typeof t===\"string\"?createBuffer(e).fill(r,t):createBuffer(e).fill(r)}return createBuffer(e)}Buffer.alloc=function(e,r,t){return alloc(e,r,t)};function allocUnsafe(e){assertSize(e);return createBuffer(e<0?0:checked(e)|0)}Buffer.allocUnsafe=function(e){return allocUnsafe(e)};Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)};function fromString(e,r){if(typeof r!==\"string\"||r===\"\"){r=\"utf8\"}if(!Buffer.isEncoding(r)){throw new TypeError(\"Unknown encoding: \"+r)}var t=byteLength(e,r)|0;var f=createBuffer(t);var n=f.write(e,r);if(n!==t){f=f.slice(0,n)}return f}function fromArrayLike(e){var r=e.length<0?0:checked(e.length)|0;var t=createBuffer(r);for(var f=0;f<r;f+=1){t[f]=e[f]&255}return t}function fromArrayBuffer(e,r,t){if(r<0||e.byteLength<r){throw new RangeError('\"offset\" is outside of buffer bounds')}if(e.byteLength<r+(t||0)){throw new RangeError('\"length\" is outside of buffer bounds')}var f;if(r===undefined&&t===undefined){f=new Uint8Array(e)}else if(t===undefined){f=new Uint8Array(e,r)}else{f=new Uint8Array(e,r,t)}Object.setPrototypeOf(f,Buffer.prototype);return f}function fromObject(e){if(Buffer.isBuffer(e)){var r=checked(e.length)|0;var t=createBuffer(r);if(t.length===0){return t}e.copy(t,0,0,r);return t}if(e.length!==undefined){if(typeof e.length!==\"number\"||numberIsNaN(e.length)){return createBuffer(0)}return fromArrayLike(e)}if(e.type===\"Buffer\"&&Array.isArray(e.data)){return fromArrayLike(e.data)}}function checked(e){if(e>=o){throw new RangeError(\"Attempt to allocate Buffer larger than maximum \"+\"size: 0x\"+o.toString(16)+\" bytes\")}return e|0}function SlowBuffer(e){if(+e!=e){e=0}return Buffer.alloc(+e)}Buffer.isBuffer=function isBuffer(e){return e!=null&&e._isBuffer===true&&e!==Buffer.prototype};Buffer.compare=function compare(e,r){if(isInstance(e,Uint8Array))e=Buffer.from(e,e.offset,e.byteLength);if(isInstance(r,Uint8Array))r=Buffer.from(r,r.offset,r.byteLength);if(!Buffer.isBuffer(e)||!Buffer.isBuffer(r)){throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array')}if(e===r)return 0;var t=e.length;var f=r.length;for(var n=0,i=Math.min(t,f);n<i;++n){if(e[n]!==r[n]){t=e[n];f=r[n];break}}if(t<f)return-1;if(f<t)return 1;return 0};Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return true;default:return false}};Buffer.concat=function concat(e,r){if(!Array.isArray(e)){throw new TypeError('\"list\" argument must be an Array of Buffers')}if(e.length===0){return Buffer.alloc(0)}var t;if(r===undefined){r=0;for(t=0;t<e.length;++t){r+=e[t].length}}var f=Buffer.allocUnsafe(r);var n=0;for(t=0;t<e.length;++t){var i=e[t];if(isInstance(i,Uint8Array)){i=Buffer.from(i)}if(!Buffer.isBuffer(i)){throw new TypeError('\"list\" argument must be an Array of Buffers')}i.copy(f,n);n+=i.length}return f};function byteLength(e,r){if(Buffer.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer)){return e.byteLength}if(typeof e!==\"string\"){throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. '+\"Received type \"+typeof e)}var t=e.length;var f=arguments.length>2&&arguments[2]===true;if(!f&&t===0)return 0;var n=false;for(;;){switch(r){case\"ascii\":case\"latin1\":case\"binary\":return t;case\"utf8\":case\"utf-8\":return utf8ToBytes(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return t*2;case\"hex\":return t>>>1;case\"base64\":return base64ToBytes(e).length;default:if(n){return f?-1:utf8ToBytes(e).length}r=(\"\"+r).toLowerCase();n=true}}}Buffer.byteLength=byteLength;function slowToString(e,r,t){var f=false;if(r===undefined||r<0){r=0}if(r>this.length){return\"\"}if(t===undefined||t>this.length){t=this.length}if(t<=0){return\"\"}t>>>=0;r>>>=0;if(t<=r){return\"\"}if(!e)e=\"utf8\";while(true){switch(e){case\"hex\":return hexSlice(this,r,t);case\"utf8\":case\"utf-8\":return utf8Slice(this,r,t);case\"ascii\":return asciiSlice(this,r,t);case\"latin1\":case\"binary\":return latin1Slice(this,r,t);case\"base64\":return base64Slice(this,r,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,r,t);default:if(f)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase();f=true}}}Buffer.prototype._isBuffer=true;function swap(e,r,t){var f=e[r];e[r]=e[t];e[t]=f}Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!==0){throw new RangeError(\"Buffer size must be a multiple of 16-bits\")}for(var r=0;r<e;r+=2){swap(this,r,r+1)}return this};Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!==0){throw new RangeError(\"Buffer size must be a multiple of 32-bits\")}for(var r=0;r<e;r+=4){swap(this,r,r+3);swap(this,r+1,r+2)}return this};Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!==0){throw new RangeError(\"Buffer size must be a multiple of 64-bits\")}for(var r=0;r<e;r+=8){swap(this,r,r+7);swap(this,r+1,r+6);swap(this,r+2,r+5);swap(this,r+3,r+4)}return this};Buffer.prototype.toString=function toString(){var e=this.length;if(e===0)return\"\";if(arguments.length===0)return utf8Slice(this,0,e);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(this===e)return true;return Buffer.compare(this,e)===0};Buffer.prototype.inspect=function inspect(){var e=\"\";var t=r.INSPECT_MAX_BYTES;e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim();if(this.length>t)e+=\" ... \";return\"<Buffer \"+e+\">\"};if(i){Buffer.prototype[i]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(e,r,t,f,n){if(isInstance(e,Uint8Array)){e=Buffer.from(e,e.offset,e.byteLength)}if(!Buffer.isBuffer(e)){throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. '+\"Received type \"+typeof e)}if(r===undefined){r=0}if(t===undefined){t=e?e.length:0}if(f===undefined){f=0}if(n===undefined){n=this.length}if(r<0||t>e.length||f<0||n>this.length){throw new RangeError(\"out of range index\")}if(f>=n&&r>=t){return 0}if(f>=n){return-1}if(r>=t){return 1}r>>>=0;t>>>=0;f>>>=0;n>>>=0;if(this===e)return 0;var i=n-f;var o=t-r;var u=Math.min(i,o);var a=this.slice(f,n);var s=e.slice(r,t);for(var h=0;h<u;++h){if(a[h]!==s[h]){i=a[h];o=s[h];break}}if(i<o)return-1;if(o<i)return 1;return 0};function bidirectionalIndexOf(e,r,t,f,n){if(e.length===0)return-1;if(typeof t===\"string\"){f=t;t=0}else if(t>2147483647){t=2147483647}else if(t<-2147483648){t=-2147483648}t=+t;if(numberIsNaN(t)){t=n?0:e.length-1}if(t<0)t=e.length+t;if(t>=e.length){if(n)return-1;else t=e.length-1}else if(t<0){if(n)t=0;else return-1}if(typeof r===\"string\"){r=Buffer.from(r,f)}if(Buffer.isBuffer(r)){if(r.length===0){return-1}return arrayIndexOf(e,r,t,f,n)}else if(typeof r===\"number\"){r=r&255;if(typeof Uint8Array.prototype.indexOf===\"function\"){if(n){return Uint8Array.prototype.indexOf.call(e,r,t)}else{return Uint8Array.prototype.lastIndexOf.call(e,r,t)}}return arrayIndexOf(e,[r],t,f,n)}throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(e,r,t,f,n){var i=1;var o=e.length;var u=r.length;if(f!==undefined){f=String(f).toLowerCase();if(f===\"ucs2\"||f===\"ucs-2\"||f===\"utf16le\"||f===\"utf-16le\"){if(e.length<2||r.length<2){return-1}i=2;o/=2;u/=2;t/=2}}function read(e,r){if(i===1){return e[r]}else{return e.readUInt16BE(r*i)}}var a;if(n){var s=-1;for(a=t;a<o;a++){if(read(e,a)===read(r,s===-1?0:a-s)){if(s===-1)s=a;if(a-s+1===u)return s*i}else{if(s!==-1)a-=a-s;s=-1}}}else{if(t+u>o)t=o-u;for(a=t;a>=0;a--){var h=true;for(var c=0;c<u;c++){if(read(e,a+c)!==read(r,c)){h=false;break}}if(h)return a}}return-1}Buffer.prototype.includes=function includes(e,r,t){return this.indexOf(e,r,t)!==-1};Buffer.prototype.indexOf=function indexOf(e,r,t){return bidirectionalIndexOf(this,e,r,t,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(e,r,t){return bidirectionalIndexOf(this,e,r,t,false)};function hexWrite(e,r,t,f){t=Number(t)||0;var n=e.length-t;if(!f){f=n}else{f=Number(f);if(f>n){f=n}}var i=r.length;if(f>i/2){f=i/2}for(var o=0;o<f;++o){var u=parseInt(r.substr(o*2,2),16);if(numberIsNaN(u))return o;e[t+o]=u}return o}function utf8Write(e,r,t,f){return blitBuffer(utf8ToBytes(r,e.length-t),e,t,f)}function asciiWrite(e,r,t,f){return blitBuffer(asciiToBytes(r),e,t,f)}function latin1Write(e,r,t,f){return asciiWrite(e,r,t,f)}function base64Write(e,r,t,f){return blitBuffer(base64ToBytes(r),e,t,f)}function ucs2Write(e,r,t,f){return blitBuffer(utf16leToBytes(r,e.length-t),e,t,f)}Buffer.prototype.write=function write(e,r,t,f){if(r===undefined){f=\"utf8\";t=this.length;r=0}else if(t===undefined&&typeof r===\"string\"){f=r;t=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(t)){t=t>>>0;if(f===undefined)f=\"utf8\"}else{f=t;t=undefined}}else{throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\")}var n=this.length-r;if(t===undefined||t>n)t=n;if(e.length>0&&(t<0||r<0)||r>this.length){throw new RangeError(\"Attempt to write outside buffer bounds\")}if(!f)f=\"utf8\";var i=false;for(;;){switch(f){case\"hex\":return hexWrite(this,e,r,t);case\"utf8\":case\"utf-8\":return utf8Write(this,e,r,t);case\"ascii\":return asciiWrite(this,e,r,t);case\"latin1\":case\"binary\":return latin1Write(this,e,r,t);case\"base64\":return base64Write(this,e,r,t);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,e,r,t);default:if(i)throw new TypeError(\"Unknown encoding: \"+f);f=(\"\"+f).toLowerCase();i=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(e,r,t){if(r===0&&t===e.length){return f.fromByteArray(e)}else{return f.fromByteArray(e.slice(r,t))}}function utf8Slice(e,r,t){t=Math.min(e.length,t);var f=[];var n=r;while(n<t){var i=e[n];var o=null;var u=i>239?4:i>223?3:i>191?2:1;if(n+u<=t){var a,s,h,c;switch(u){case 1:if(i<128){o=i}break;case 2:a=e[n+1];if((a&192)===128){c=(i&31)<<6|a&63;if(c>127){o=c}}break;case 3:a=e[n+1];s=e[n+2];if((a&192)===128&&(s&192)===128){c=(i&15)<<12|(a&63)<<6|s&63;if(c>2047&&(c<55296||c>57343)){o=c}}break;case 4:a=e[n+1];s=e[n+2];h=e[n+3];if((a&192)===128&&(s&192)===128&&(h&192)===128){c=(i&15)<<18|(a&63)<<12|(s&63)<<6|h&63;if(c>65535&&c<1114112){o=c}}}}if(o===null){o=65533;u=1}else if(o>65535){o-=65536;f.push(o>>>10&1023|55296);o=56320|o&1023}f.push(o);n+=u}return decodeCodePointsArray(f)}var u=4096;function decodeCodePointsArray(e){var r=e.length;if(r<=u){return String.fromCharCode.apply(String,e)}var t=\"\";var f=0;while(f<r){t+=String.fromCharCode.apply(String,e.slice(f,f+=u))}return t}function asciiSlice(e,r,t){var f=\"\";t=Math.min(e.length,t);for(var n=r;n<t;++n){f+=String.fromCharCode(e[n]&127)}return f}function latin1Slice(e,r,t){var f=\"\";t=Math.min(e.length,t);for(var n=r;n<t;++n){f+=String.fromCharCode(e[n])}return f}function hexSlice(e,r,t){var f=e.length;if(!r||r<0)r=0;if(!t||t<0||t>f)t=f;var n=\"\";for(var i=r;i<t;++i){n+=s[e[i]]}return n}function utf16leSlice(e,r,t){var f=e.slice(r,t);var n=\"\";for(var i=0;i<f.length;i+=2){n+=String.fromCharCode(f[i]+f[i+1]*256)}return n}Buffer.prototype.slice=function slice(e,r){var t=this.length;e=~~e;r=r===undefined?t:~~r;if(e<0){e+=t;if(e<0)e=0}else if(e>t){e=t}if(r<0){r+=t;if(r<0)r=0}else if(r>t){r=t}if(r<e)r=e;var f=this.subarray(e,r);Object.setPrototypeOf(f,Buffer.prototype);return f};function checkOffset(e,r,t){if(e%1!==0||e<0)throw new RangeError(\"offset is not uint\");if(e+r>t)throw new RangeError(\"Trying to access beyond buffer length\")}Buffer.prototype.readUIntLE=function readUIntLE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=this[e];var n=1;var i=0;while(++i<r&&(n*=256)){f+=this[e+i]*n}return f};Buffer.prototype.readUIntBE=function readUIntBE(e,r,t){e=e>>>0;r=r>>>0;if(!t){checkOffset(e,r,this.length)}var f=this[e+--r];var n=1;while(r>0&&(n*=256)){f+=this[e+--r]*n}return f};Buffer.prototype.readUInt8=function readUInt8(e,r){e=e>>>0;if(!r)checkOffset(e,1,this.length);return this[e]};Buffer.prototype.readUInt16LE=function readUInt16LE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);return this[e]|this[e+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);return this[e]<<8|this[e+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Buffer.prototype.readIntLE=function readIntLE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=this[e];var n=1;var i=0;while(++i<r&&(n*=256)){f+=this[e+i]*n}n*=128;if(f>=n)f-=Math.pow(2,8*r);return f};Buffer.prototype.readIntBE=function readIntBE(e,r,t){e=e>>>0;r=r>>>0;if(!t)checkOffset(e,r,this.length);var f=r;var n=1;var i=this[e+--f];while(f>0&&(n*=256)){i+=this[e+--f]*n}n*=128;if(i>=n)i-=Math.pow(2,8*r);return i};Buffer.prototype.readInt8=function readInt8(e,r){e=e>>>0;if(!r)checkOffset(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);var t=this[e]|this[e+1]<<8;return t&32768?t|4294901760:t};Buffer.prototype.readInt16BE=function readInt16BE(e,r){e=e>>>0;if(!r)checkOffset(e,2,this.length);var t=this[e+1]|this[e]<<8;return t&32768?t|4294901760:t};Buffer.prototype.readInt32LE=function readInt32LE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Buffer.prototype.readFloatLE=function readFloatLE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return n.read(this,e,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(e,r){e=e>>>0;if(!r)checkOffset(e,4,this.length);return n.read(this,e,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(e,r){e=e>>>0;if(!r)checkOffset(e,8,this.length);return n.read(this,e,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(e,r){e=e>>>0;if(!r)checkOffset(e,8,this.length);return n.read(this,e,false,52,8)};function checkInt(e,r,t,f,n,i){if(!Buffer.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(r>n||r<i)throw new RangeError('\"value\" argument is out of bounds');if(t+f>e.length)throw new RangeError(\"Index out of range\")}Buffer.prototype.writeUIntLE=function writeUIntLE(e,r,t,f){e=+e;r=r>>>0;t=t>>>0;if(!f){var n=Math.pow(2,8*t)-1;checkInt(this,e,r,t,n,0)}var i=1;var o=0;this[r]=e&255;while(++o<t&&(i*=256)){this[r+o]=e/i&255}return r+t};Buffer.prototype.writeUIntBE=function writeUIntBE(e,r,t,f){e=+e;r=r>>>0;t=t>>>0;if(!f){var n=Math.pow(2,8*t)-1;checkInt(this,e,r,t,n,0)}var i=t-1;var o=1;this[r+i]=e&255;while(--i>=0&&(o*=256)){this[r+i]=e/o&255}return r+t};Buffer.prototype.writeUInt8=function writeUInt8(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,1,255,0);this[r]=e&255;return r+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,65535,0);this[r]=e&255;this[r+1]=e>>>8;return r+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,65535,0);this[r]=e>>>8;this[r+1]=e&255;return r+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,4294967295,0);this[r+3]=e>>>24;this[r+2]=e>>>16;this[r+1]=e>>>8;this[r]=e&255;return r+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,4294967295,0);this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};Buffer.prototype.writeIntLE=function writeIntLE(e,r,t,f){e=+e;r=r>>>0;if(!f){var n=Math.pow(2,8*t-1);checkInt(this,e,r,t,n-1,-n)}var i=0;var o=1;var u=0;this[r]=e&255;while(++i<t&&(o*=256)){if(e<0&&u===0&&this[r+i-1]!==0){u=1}this[r+i]=(e/o>>0)-u&255}return r+t};Buffer.prototype.writeIntBE=function writeIntBE(e,r,t,f){e=+e;r=r>>>0;if(!f){var n=Math.pow(2,8*t-1);checkInt(this,e,r,t,n-1,-n)}var i=t-1;var o=1;var u=0;this[r+i]=e&255;while(--i>=0&&(o*=256)){if(e<0&&u===0&&this[r+i+1]!==0){u=1}this[r+i]=(e/o>>0)-u&255}return r+t};Buffer.prototype.writeInt8=function writeInt8(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,1,127,-128);if(e<0)e=255+e+1;this[r]=e&255;return r+1};Buffer.prototype.writeInt16LE=function writeInt16LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,32767,-32768);this[r]=e&255;this[r+1]=e>>>8;return r+2};Buffer.prototype.writeInt16BE=function writeInt16BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,2,32767,-32768);this[r]=e>>>8;this[r+1]=e&255;return r+2};Buffer.prototype.writeInt32LE=function writeInt32LE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,2147483647,-2147483648);this[r]=e&255;this[r+1]=e>>>8;this[r+2]=e>>>16;this[r+3]=e>>>24;return r+4};Buffer.prototype.writeInt32BE=function writeInt32BE(e,r,t){e=+e;r=r>>>0;if(!t)checkInt(this,e,r,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=e&255;return r+4};function checkIEEE754(e,r,t,f,n,i){if(t+f>e.length)throw new RangeError(\"Index out of range\");if(t<0)throw new RangeError(\"Index out of range\")}function writeFloat(e,r,t,f,i){r=+r;t=t>>>0;if(!i){checkIEEE754(e,r,t,4,34028234663852886e22,-34028234663852886e22)}n.write(e,r,t,f,23,4);return t+4}Buffer.prototype.writeFloatLE=function writeFloatLE(e,r,t){return writeFloat(this,e,r,true,t)};Buffer.prototype.writeFloatBE=function writeFloatBE(e,r,t){return writeFloat(this,e,r,false,t)};function writeDouble(e,r,t,f,i){r=+r;t=t>>>0;if(!i){checkIEEE754(e,r,t,8,17976931348623157e292,-17976931348623157e292)}n.write(e,r,t,f,52,8);return t+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,r,t){return writeDouble(this,e,r,true,t)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,r,t){return writeDouble(this,e,r,false,t)};Buffer.prototype.copy=function copy(e,r,t,f){if(!Buffer.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(!t)t=0;if(!f&&f!==0)f=this.length;if(r>=e.length)r=e.length;if(!r)r=0;if(f>0&&f<t)f=t;if(f===t)return 0;if(e.length===0||this.length===0)return 0;if(r<0){throw new RangeError(\"targetStart out of bounds\")}if(t<0||t>=this.length)throw new RangeError(\"Index out of range\");if(f<0)throw new RangeError(\"sourceEnd out of bounds\");if(f>this.length)f=this.length;if(e.length-r<f-t){f=e.length-r+t}var n=f-t;if(this===e&&typeof Uint8Array.prototype.copyWithin===\"function\"){this.copyWithin(r,t,f)}else if(this===e&&t<r&&r<f){for(var i=n-1;i>=0;--i){e[i+r]=this[i+t]}}else{Uint8Array.prototype.set.call(e,this.subarray(t,f),r)}return n};Buffer.prototype.fill=function fill(e,r,t,f){if(typeof e===\"string\"){if(typeof r===\"string\"){f=r;r=0;t=this.length}else if(typeof t===\"string\"){f=t;t=this.length}if(f!==undefined&&typeof f!==\"string\"){throw new TypeError(\"encoding must be a string\")}if(typeof f===\"string\"&&!Buffer.isEncoding(f)){throw new TypeError(\"Unknown encoding: \"+f)}if(e.length===1){var n=e.charCodeAt(0);if(f===\"utf8\"&&n<128||f===\"latin1\"){e=n}}}else if(typeof e===\"number\"){e=e&255}else if(typeof e===\"boolean\"){e=Number(e)}if(r<0||this.length<r||this.length<t){throw new RangeError(\"Out of range index\")}if(t<=r){return this}r=r>>>0;t=t===undefined?this.length:t>>>0;if(!e)e=0;var i;if(typeof e===\"number\"){for(i=r;i<t;++i){this[i]=e}}else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,f);var u=o.length;if(u===0){throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"')}for(i=0;i<t-r;++i){this[i+r]=o[i%u]}}return this};var a=/[^+/0-9A-Za-z-_]/g;function base64clean(e){e=e.split(\"=\")[0];e=e.trim().replace(a,\"\");if(e.length<2)return\"\";while(e.length%4!==0){e=e+\"=\"}return e}function utf8ToBytes(e,r){r=r||Infinity;var t;var f=e.length;var n=null;var i=[];for(var o=0;o<f;++o){t=e.charCodeAt(o);if(t>55295&&t<57344){if(!n){if(t>56319){if((r-=3)>-1)i.push(239,191,189);continue}else if(o+1===f){if((r-=3)>-1)i.push(239,191,189);continue}n=t;continue}if(t<56320){if((r-=3)>-1)i.push(239,191,189);n=t;continue}t=(n-55296<<10|t-56320)+65536}else if(n){if((r-=3)>-1)i.push(239,191,189)}n=null;if(t<128){if((r-=1)<0)break;i.push(t)}else if(t<2048){if((r-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else{throw new Error(\"Invalid code point\")}}return i}function asciiToBytes(e){var r=[];for(var t=0;t<e.length;++t){r.push(e.charCodeAt(t)&255)}return r}function utf16leToBytes(e,r){var t,f,n;var i=[];for(var o=0;o<e.length;++o){if((r-=2)<0)break;t=e.charCodeAt(o);f=t>>8;n=t%256;i.push(n);i.push(f)}return i}function base64ToBytes(e){return f.toByteArray(base64clean(e))}function blitBuffer(e,r,t,f){for(var n=0;n<f;++n){if(n+t>=r.length||n>=e.length)break;r[n+t]=e[n]}return n}function isInstance(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function numberIsNaN(e){return e!==e}var s=function(){var e=\"0123456789abcdef\";var r=new Array(256);for(var t=0;t<16;++t){var f=t*16;for(var n=0;n<16;++n){r[f+n]=e[t]+e[n]}}return r}()},759:function(e,r){r.read=function(e,r,t,f,n){var i,o;var u=n*8-f-1;var a=(1<<u)-1;var s=a>>1;var h=-7;var c=t?n-1:0;var l=t?-1:1;var p=e[r+c];c+=l;i=p&(1<<-h)-1;p>>=-h;h+=u;for(;h>0;i=i*256+e[r+c],c+=l,h-=8){}o=i&(1<<-h)-1;i>>=-h;h+=f;for(;h>0;o=o*256+e[r+c],c+=l,h-=8){}if(i===0){i=1-s}else if(i===a){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,f);i=i-s}return(p?-1:1)*o*Math.pow(2,i-f)};r.write=function(e,r,t,f,n,i){var o,u,a;var s=i*8-n-1;var h=(1<<s)-1;var c=h>>1;var l=n===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=f?0:i-1;var y=f?1:-1;var g=r<0||r===0&&1/r<0?1:0;r=Math.abs(r);if(isNaN(r)||r===Infinity){u=isNaN(r)?1:0;o=h}else{o=Math.floor(Math.log(r)/Math.LN2);if(r*(a=Math.pow(2,-o))<1){o--;a*=2}if(o+c>=1){r+=l/a}else{r+=l*Math.pow(2,1-c)}if(r*a>=2){o++;a/=2}if(o+c>=h){u=0;o=h}else if(o+c>=1){u=(r*a-1)*Math.pow(2,n);o=o+c}else{u=r*Math.pow(2,c-1)*Math.pow(2,n);o=0}}for(;n>=8;e[t+p]=u&255,p+=y,u/=256,n-=8){}o=o<<n|u;s+=n;for(;s>0;e[t+p]=o&255,p+=y,o/=256,s-=8){}e[t+p-y]|=g*128}}};var r={};function __nccwpck_require__(t){var f=r[t];if(f!==undefined){return f.exports}var n=r[t]={exports:{}};var i=true;try{e[t](n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete r[t]}return n.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var t=__nccwpck_require__(293);module.exports=t})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL2J1ZmZlci9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxPQUFPLGtCQUFrQixhQUFhLHdCQUF3QiwwQkFBMEIsOEJBQThCLFNBQVMsU0FBUyx1REFBdUQseUVBQXlFLHVCQUF1QixJQUFJLEtBQUssVUFBVSxxQkFBcUIsd0JBQXdCLHdCQUF3QixvQkFBb0IsZUFBZSxVQUFVLGtFQUFrRSxxQkFBcUIsY0FBYyxvQkFBb0IsWUFBWSx1QkFBdUIsaUJBQWlCLFdBQVcsV0FBVyxrQkFBa0IsNEJBQTRCLGtCQUFrQix3QkFBd0IsTUFBTSxpQkFBaUIsV0FBVyxXQUFXLGdDQUFnQyxRQUFRLGdCQUFnQixNQUFNLFFBQVEsSUFBSSxNQUFNLCtGQUErRixpQkFBaUIsZ0JBQWdCLGFBQWEsVUFBVSxnREFBZ0QsYUFBYSxVQUFVLHlFQUF5RSxnQkFBZ0IsYUFBYSxTQUFTLDRCQUE0QixrREFBa0QsNEJBQTRCLE1BQU0sU0FBUyxZQUFZLElBQUksTUFBTSxxREFBcUQsMkJBQTJCLGtCQUFrQiwwQkFBMEIsTUFBTSxlQUFlLFVBQVUsU0FBUyxZQUFZLGtCQUFrQixJQUFJLE1BQU0scUNBQXFDLFVBQVUsU0FBUyxnQ0FBZ0MsZUFBZSxxQkFBcUIsMkNBQTJDLG1CQUFtQixxQkFBcUI7QUFDL3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYSwrR0FBK0csZ0JBQWdCLHdCQUF3Qix1QkFBdUIsaUJBQWlCLGVBQWUsK0NBQStDLGlHQUFpRyxrS0FBa0ssNkJBQTZCLElBQUksd0JBQXdCLE9BQU8sZUFBZSxZQUFZLDhDQUE4QywyQkFBMkIsb0JBQW9CLFNBQVMsY0FBYyxpREFBaUQsK0JBQStCLDJDQUEyQyxvQkFBb0IsRUFBRSxpREFBaUQsK0JBQStCLDJDQUEyQyx3QkFBd0IsRUFBRSx5QkFBeUIsUUFBUSx1RUFBdUUsd0JBQXdCLDBDQUEwQyxTQUFTLHVCQUF1Qix3QkFBd0Isd0JB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Y0FBYywyQkFBMkIsZUFBZSxJQUFJLEtBQUssbUNBQW1DLDJCQUEyQixJQUFJLEtBQUssV0FBVyxPQUFPLEtBQUsscUJBQXFCLFdBQVcsSUFBSSxLQUFLLFdBQVcsSUFBSSxJQUFJLGdCQUFnQix3QkFBd0IsTUFBTSxLQUFLLGtDQUFrQyxLQUFLLEtBQUssS0FBSyxnQ0FBZ0MsU0FBUyxLQUFLLEtBQUssSUFBSSxnQ0FBZ0MsbUJBQW1CLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHNDQUFzQyxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLCtCQUErQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9idWZmZXIvaW5kZXguanM/Mzc3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17OTkxOmZ1bmN0aW9uKGUscil7XCJ1c2Ugc3RyaWN0XCI7ci5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGg7ci50b0J5dGVBcnJheT10b0J5dGVBcnJheTtyLmZyb21CeXRlQXJyYXk9ZnJvbUJ5dGVBcnJheTt2YXIgdD1bXTt2YXIgZj1bXTt2YXIgbj10eXBlb2YgVWludDhBcnJheSE9PVwidW5kZWZpbmVkXCI/VWludDhBcnJheTpBcnJheTt2YXIgaT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtmb3IodmFyIG89MCx1PWkubGVuZ3RoO288dTsrK28pe3Rbb109aVtvXTtmW2kuY2hhckNvZGVBdChvKV09b31mW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyO2ZbXCJfXCIuY2hhckNvZGVBdCgwKV09NjM7ZnVuY3Rpb24gZ2V0TGVucyhlKXt2YXIgcj1lLmxlbmd0aDtpZihyJTQ+MCl7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKX12YXIgdD1lLmluZGV4T2YoXCI9XCIpO2lmKHQ9PT0tMSl0PXI7dmFyIGY9dD09PXI/MDo0LXQlNDtyZXR1cm5bdCxmXX1mdW5jdGlvbiBieXRlTGVuZ3RoKGUpe3ZhciByPWdldExlbnMoZSk7dmFyIHQ9clswXTt2YXIgZj1yWzFdO3JldHVybih0K2YpKjMvNC1mfWZ1bmN0aW9uIF9ieXRlTGVuZ3RoKGUscix0KXtyZXR1cm4ocit0KSozLzQtdH1mdW5jdGlvbiB0b0J5dGVBcnJheShlKXt2YXIgcjt2YXIgdD1nZXRMZW5zKGUpO3ZhciBpPXRbMF07dmFyIG89dFsxXTt2YXIgdT1uZXcgbihfYnl0ZUxlbmd0aChlLGksbykpO3ZhciBhPTA7dmFyIHM9bz4wP2ktNDppO3ZhciBoO2ZvcihoPTA7aDxzO2grPTQpe3I9ZltlLmNoYXJDb2RlQXQoaCldPDwxOHxmW2UuY2hhckNvZGVBdChoKzEpXTw8MTJ8ZltlLmNoYXJDb2RlQXQoaCsyKV08PDZ8ZltlLmNoYXJDb2RlQXQoaCszKV07dVthKytdPXI+PjE2JjI1NTt1W2ErK109cj4+OCYyNTU7dVthKytdPXImMjU1fWlmKG89PT0yKXtyPWZbZS5jaGFyQ29kZUF0KGgpXTw8MnxmW2UuY2hhckNvZGVBdChoKzEpXT4+NDt1W2ErK109ciYyNTV9aWYobz09PTEpe3I9ZltlLmNoYXJDb2RlQXQoaCldPDwxMHxmW2UuY2hhckNvZGVBdChoKzEpXTw8NHxmW2UuY2hhckNvZGVBdChoKzIpXT4+Mjt1W2ErK109cj4+OCYyNTU7dVthKytdPXImMjU1fXJldHVybiB1fWZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NChlKXtyZXR1cm4gdFtlPj4xOCY2M10rdFtlPj4xMiY2M10rdFtlPj42JjYzXSt0W2UmNjNdfWZ1bmN0aW9uIGVuY29kZUNodW5rKGUscix0KXt2YXIgZjt2YXIgbj1bXTtmb3IodmFyIGk9cjtpPHQ7aSs9Myl7Zj0oZVtpXTw8MTYmMTY3MTE2ODApKyhlW2krMV08PDgmNjUyODApKyhlW2krMl0mMjU1KTtuLnB1c2godHJpcGxldFRvQmFzZTY0KGYpKX1yZXR1cm4gbi5qb2luKFwiXCIpfWZ1bmN0aW9uIGZyb21CeXRlQXJyYXkoZSl7dmFyIHI7dmFyIGY9ZS5sZW5ndGg7dmFyIG49ZiUzO3ZhciBpPVtdO3ZhciBvPTE2MzgzO2Zvcih2YXIgdT0wLGE9Zi1uO3U8YTt1Kz1vKXtpLnB1c2goZW5jb2RlQ2h1bmsoZSx1LHUrbz5hP2E6dStvKSl9aWYobj09PTEpe3I9ZVtmLTFdO2kucHVzaCh0W3I+PjJdK3Rbcjw8NCY2M10rXCI9PVwiKX1lbHNlIGlmKG49PT0yKXtyPShlW2YtMl08PDgpK2VbZi0xXTtpLnB1c2godFtyPj4xMF0rdFtyPj40JjYzXSt0W3I8PDImNjNdK1wiPVwiKX1yZXR1cm4gaS5qb2luKFwiXCIpfX0sMjkzOmZ1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL3ZhciBmPXQoOTkxKTt2YXIgbj10KDc1OSk7dmFyIGk9dHlwZW9mIFN5bWJvbD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIFN5bWJvbC5mb3I9PT1cImZ1bmN0aW9uXCI/U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpOm51bGw7ci5CdWZmZXI9QnVmZmVyO3IuU2xvd0J1ZmZlcj1TbG93QnVmZmVyO3IuSU5TUEVDVF9NQVhfQllURVM9NTA7dmFyIG89MjE0NzQ4MzY0NztyLmtNYXhMZW5ndGg9bztCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD10eXBlZEFycmF5U3VwcG9ydCgpO2lmKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCYmdHlwZW9mIGNvbnNvbGUhPT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgY29uc29sZS5lcnJvcj09PVwiZnVuY3Rpb25cIil7Y29uc29sZS5lcnJvcihcIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBcIitcImBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuXCIpfWZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0KCl7dHJ5e3ZhciBlPW5ldyBVaW50OEFycmF5KDEpO3ZhciByPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtPYmplY3Quc2V0UHJvdG90eXBlT2YocixVaW50OEFycmF5LnByb3RvdHlwZSk7T2JqZWN0LnNldFByb3RvdHlwZU9mKGUscik7cmV0dXJuIGUuZm9vKCk9PT00Mn1jYXRjaChlKXtyZXR1cm4gZmFsc2V9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLFwicGFyZW50XCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtpZighQnVmZmVyLmlzQnVmZmVyKHRoaXMpKXJldHVybiB1bmRlZmluZWQ7cmV0dXJuIHRoaXMuYnVmZmVyfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLFwib2Zmc2V0XCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtpZighQnVmZmVyLmlzQnVmZmVyKHRoaXMpKXJldHVybiB1bmRlZmluZWQ7cmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KTtmdW5jdGlvbiBjcmVhdGVCdWZmZXIoZSl7aWYoZT5vKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytlKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKX12YXIgcj1uZXcgVWludDhBcnJheShlKTtPYmplY3Quc2V0UHJvdG90eXBlT2YocixCdWZmZXIucHJvdG90eXBlKTtyZXR1cm4gcn1mdW5jdGlvbiBCdWZmZXIoZSxyLHQpe2lmKHR5cGVvZiBlPT09XCJudW1iZXJcIil7aWYodHlwZW9mIHI9PT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpfXJldHVybiBhbGxvY1Vuc2FmZShlKX1yZXR1cm4gZnJvbShlLHIsdCl9QnVmZmVyLnBvb2xTaXplPTgxOTI7ZnVuY3Rpb24gZnJvbShlLHIsdCl7aWYodHlwZW9mIGU9PT1cInN0cmluZ1wiKXtyZXR1cm4gZnJvbVN0cmluZyhlLHIpfWlmKEFycmF5QnVmZmVyLmlzVmlldyhlKSl7cmV0dXJuIGZyb21BcnJheUxpa2UoZSl9aWYoZT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIFwiK1wib3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIGUpfWlmKGlzSW5zdGFuY2UoZSxBcnJheUJ1ZmZlcil8fGUmJmlzSW5zdGFuY2UoZS5idWZmZXIsQXJyYXlCdWZmZXIpKXtyZXR1cm4gZnJvbUFycmF5QnVmZmVyKGUscix0KX1pZih0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIhPT1cInVuZGVmaW5lZFwiJiYoaXNJbnN0YW5jZShlLFNoYXJlZEFycmF5QnVmZmVyKXx8ZSYmaXNJbnN0YW5jZShlLmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXtyZXR1cm4gZnJvbUFycmF5QnVmZmVyKGUscix0KX1pZih0eXBlb2YgZT09PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyl9dmFyIGY9ZS52YWx1ZU9mJiZlLnZhbHVlT2YoKTtpZihmIT1udWxsJiZmIT09ZSl7cmV0dXJuIEJ1ZmZlci5mcm9tKGYscix0KX12YXIgbj1mcm9tT2JqZWN0KGUpO2lmKG4pcmV0dXJuIG47aWYodHlwZW9mIFN5bWJvbCE9PVwidW5kZWZpbmVkXCImJlN5bWJvbC50b1ByaW1pdGl2ZSE9bnVsbCYmdHlwZW9mIGVbU3ltYm9sLnRvUHJpbWl0aXZlXT09PVwiZnVuY3Rpb25cIil7cmV0dXJuIEJ1ZmZlci5mcm9tKGVbU3ltYm9sLnRvUHJpbWl0aXZlXShcInN0cmluZ1wiKSxyLHQpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBcIitcIm9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKX1CdWZmZXIuZnJvbT1mdW5jdGlvbihlLHIsdCl7cmV0dXJuIGZyb20oZSxyLHQpfTtPYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSk7T2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlcixVaW50OEFycmF5KTtmdW5jdGlvbiBhc3NlcnRTaXplKGUpe2lmKHR5cGVvZiBlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpfWVsc2UgaWYoZTwwKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytlKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKX19ZnVuY3Rpb24gYWxsb2MoZSxyLHQpe2Fzc2VydFNpemUoZSk7aWYoZTw9MCl7cmV0dXJuIGNyZWF0ZUJ1ZmZlcihlKX1pZihyIT09dW5kZWZpbmVkKXtyZXR1cm4gdHlwZW9mIHQ9PT1cInN0cmluZ1wiP2NyZWF0ZUJ1ZmZlcihlKS5maWxsKHIsdCk6Y3JlYXRlQnVmZmVyKGUpLmZpbGwocil9cmV0dXJuIGNyZWF0ZUJ1ZmZlcihlKX1CdWZmZXIuYWxsb2M9ZnVuY3Rpb24oZSxyLHQpe3JldHVybiBhbGxvYyhlLHIsdCl9O2Z1bmN0aW9uIGFsbG9jVW5zYWZlKGUpe2Fzc2VydFNpemUoZSk7cmV0dXJuIGNyZWF0ZUJ1ZmZlcihlPDA/MDpjaGVja2VkKGUpfDApfUJ1ZmZlci5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtyZXR1cm4gYWxsb2NVbnNhZmUoZSl9O0J1ZmZlci5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGFsbG9jVW5zYWZlKGUpfTtmdW5jdGlvbiBmcm9tU3RyaW5nKGUscil7aWYodHlwZW9mIHIhPT1cInN0cmluZ1wifHxyPT09XCJcIil7cj1cInV0ZjhcIn1pZighQnVmZmVyLmlzRW5jb2Rpbmcocikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIityKX12YXIgdD1ieXRlTGVuZ3RoKGUscil8MDt2YXIgZj1jcmVhdGVCdWZmZXIodCk7dmFyIG49Zi53cml0ZShlLHIpO2lmKG4hPT10KXtmPWYuc2xpY2UoMCxuKX1yZXR1cm4gZn1mdW5jdGlvbiBmcm9tQXJyYXlMaWtlKGUpe3ZhciByPWUubGVuZ3RoPDA/MDpjaGVja2VkKGUubGVuZ3RoKXwwO3ZhciB0PWNyZWF0ZUJ1ZmZlcihyKTtmb3IodmFyIGY9MDtmPHI7Zis9MSl7dFtmXT1lW2ZdJjI1NX1yZXR1cm4gdH1mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIoZSxyLHQpe2lmKHI8MHx8ZS5ieXRlTGVuZ3RoPHIpe3Rocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpfWlmKGUuYnl0ZUxlbmd0aDxyKyh0fHwwKSl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyl9dmFyIGY7aWYocj09PXVuZGVmaW5lZCYmdD09PXVuZGVmaW5lZCl7Zj1uZXcgVWludDhBcnJheShlKX1lbHNlIGlmKHQ9PT11bmRlZmluZWQpe2Y9bmV3IFVpbnQ4QXJyYXkoZSxyKX1lbHNle2Y9bmV3IFVpbnQ4QXJyYXkoZSxyLHQpfU9iamVjdC5zZXRQcm90b3R5cGVPZihmLEJ1ZmZlci5wcm90b3R5cGUpO3JldHVybiBmfWZ1bmN0aW9uIGZyb21PYmplY3QoZSl7aWYoQnVmZmVyLmlzQnVmZmVyKGUpKXt2YXIgcj1jaGVja2VkKGUubGVuZ3RoKXwwO3ZhciB0PWNyZWF0ZUJ1ZmZlcihyKTtpZih0Lmxlbmd0aD09PTApe3JldHVybiB0fWUuY29weSh0LDAsMCxyKTtyZXR1cm4gdH1pZihlLmxlbmd0aCE9PXVuZGVmaW5lZCl7aWYodHlwZW9mIGUubGVuZ3RoIT09XCJudW1iZXJcInx8bnVtYmVySXNOYU4oZS5sZW5ndGgpKXtyZXR1cm4gY3JlYXRlQnVmZmVyKDApfXJldHVybiBmcm9tQXJyYXlMaWtlKGUpfWlmKGUudHlwZT09PVwiQnVmZmVyXCImJkFycmF5LmlzQXJyYXkoZS5kYXRhKSl7cmV0dXJuIGZyb21BcnJheUxpa2UoZS5kYXRhKX19ZnVuY3Rpb24gY2hlY2tlZChlKXtpZihlPj1vKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gXCIrXCJzaXplOiAweFwiK28udG9TdHJpbmcoMTYpK1wiIGJ5dGVzXCIpfXJldHVybiBlfDB9ZnVuY3Rpb24gU2xvd0J1ZmZlcihlKXtpZigrZSE9ZSl7ZT0wfXJldHVybiBCdWZmZXIuYWxsb2MoK2UpfUJ1ZmZlci5pc0J1ZmZlcj1mdW5jdGlvbiBpc0J1ZmZlcihlKXtyZXR1cm4gZSE9bnVsbCYmZS5faXNCdWZmZXI9PT10cnVlJiZlIT09QnVmZmVyLnByb3RvdHlwZX07QnVmZmVyLmNvbXBhcmU9ZnVuY3Rpb24gY29tcGFyZShlLHIpe2lmKGlzSW5zdGFuY2UoZSxVaW50OEFycmF5KSllPUJ1ZmZlci5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKTtpZihpc0luc3RhbmNlKHIsVWludDhBcnJheSkpcj1CdWZmZXIuZnJvbShyLHIub2Zmc2V0LHIuYnl0ZUxlbmd0aCk7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKXx8IUJ1ZmZlci5pc0J1ZmZlcihyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpfWlmKGU9PT1yKXJldHVybiAwO3ZhciB0PWUubGVuZ3RoO3ZhciBmPXIubGVuZ3RoO2Zvcih2YXIgbj0wLGk9TWF0aC5taW4odCxmKTtuPGk7KytuKXtpZihlW25dIT09cltuXSl7dD1lW25dO2Y9cltuXTticmVha319aWYodDxmKXJldHVybi0xO2lmKGY8dClyZXR1cm4gMTtyZXR1cm4gMH07QnVmZmVyLmlzRW5jb2Rpbmc9ZnVuY3Rpb24gaXNFbmNvZGluZyhlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHRydWU7ZGVmYXVsdDpyZXR1cm4gZmFsc2V9fTtCdWZmZXIuY29uY2F0PWZ1bmN0aW9uIGNvbmNhdChlLHIpe2lmKCFBcnJheS5pc0FycmF5KGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKX1pZihlLmxlbmd0aD09PTApe3JldHVybiBCdWZmZXIuYWxsb2MoMCl9dmFyIHQ7aWYocj09PXVuZGVmaW5lZCl7cj0wO2Zvcih0PTA7dDxlLmxlbmd0aDsrK3Qpe3IrPWVbdF0ubGVuZ3RofX12YXIgZj1CdWZmZXIuYWxsb2NVbnNhZmUocik7dmFyIG49MDtmb3IodD0wO3Q8ZS5sZW5ndGg7Kyt0KXt2YXIgaT1lW3RdO2lmKGlzSW5zdGFuY2UoaSxVaW50OEFycmF5KSl7aT1CdWZmZXIuZnJvbShpKX1pZighQnVmZmVyLmlzQnVmZmVyKGkpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKX1pLmNvcHkoZixuKTtuKz1pLmxlbmd0aH1yZXR1cm4gZn07ZnVuY3Rpb24gYnl0ZUxlbmd0aChlLHIpe2lmKEJ1ZmZlci5pc0J1ZmZlcihlKSl7cmV0dXJuIGUubGVuZ3RofWlmKEFycmF5QnVmZmVyLmlzVmlldyhlKXx8aXNJbnN0YW5jZShlLEFycmF5QnVmZmVyKSl7cmV0dXJuIGUuYnl0ZUxlbmd0aH1pZih0eXBlb2YgZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiAnK1wiUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgZSl9dmFyIHQ9ZS5sZW5ndGg7dmFyIGY9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl09PT10cnVlO2lmKCFmJiZ0PT09MClyZXR1cm4gMDt2YXIgbj1mYWxzZTtmb3IoOzspe3N3aXRjaChyKXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiB0O2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4VG9CeXRlcyhlKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHQqMjtjYXNlXCJoZXhcIjpyZXR1cm4gdD4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFRvQnl0ZXMoZSkubGVuZ3RoO2RlZmF1bHQ6aWYobil7cmV0dXJuIGY/LTE6dXRmOFRvQnl0ZXMoZSkubGVuZ3RofXI9KFwiXCIrcikudG9Mb3dlckNhc2UoKTtuPXRydWV9fX1CdWZmZXIuYnl0ZUxlbmd0aD1ieXRlTGVuZ3RoO2Z1bmN0aW9uIHNsb3dUb1N0cmluZyhlLHIsdCl7dmFyIGY9ZmFsc2U7aWYocj09PXVuZGVmaW5lZHx8cjwwKXtyPTB9aWYocj50aGlzLmxlbmd0aCl7cmV0dXJuXCJcIn1pZih0PT09dW5kZWZpbmVkfHx0PnRoaXMubGVuZ3RoKXt0PXRoaXMubGVuZ3RofWlmKHQ8PTApe3JldHVyblwiXCJ9dD4+Pj0wO3I+Pj49MDtpZih0PD1yKXtyZXR1cm5cIlwifWlmKCFlKWU9XCJ1dGY4XCI7d2hpbGUodHJ1ZSl7c3dpdGNoKGUpe2Nhc2VcImhleFwiOnJldHVybiBoZXhTbGljZSh0aGlzLHIsdCk7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHV0ZjhTbGljZSh0aGlzLHIsdCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gYXNjaWlTbGljZSh0aGlzLHIsdCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVNsaWNlKHRoaXMscix0KTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0U2xpY2UodGhpcyxyLHQpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB1dGYxNmxlU2xpY2UodGhpcyxyLHQpO2RlZmF1bHQ6aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZSk7ZT0oZStcIlwiKS50b0xvd2VyQ2FzZSgpO2Y9dHJ1ZX19fUJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyPXRydWU7ZnVuY3Rpb24gc3dhcChlLHIsdCl7dmFyIGY9ZVtyXTtlW3JdPWVbdF07ZVt0XT1mfUJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uIHN3YXAxNigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9PTApe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIil9Zm9yKHZhciByPTA7cjxlO3IrPTIpe3N3YXAodGhpcyxyLHIrMSl9cmV0dXJuIHRoaXN9O0J1ZmZlci5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uIHN3YXAzMigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlNCE9PTApe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHNcIil9Zm9yKHZhciByPTA7cjxlO3IrPTQpe3N3YXAodGhpcyxyLHIrMyk7c3dhcCh0aGlzLHIrMSxyKzIpfXJldHVybiB0aGlzfTtCdWZmZXIucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbiBzd2FwNjQoKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTghPT0wKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpfWZvcih2YXIgcj0wO3I8ZTtyKz04KXtzd2FwKHRoaXMscixyKzcpO3N3YXAodGhpcyxyKzEscis2KTtzd2FwKHRoaXMscisyLHIrNSk7c3dhcCh0aGlzLHIrMyxyKzQpfXJldHVybiB0aGlzfTtCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uIHRvU3RyaW5nKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZT09PTApcmV0dXJuXCJcIjtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gdXRmOFNsaWNlKHRoaXMsMCxlKTtyZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07QnVmZmVyLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz1CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nO0J1ZmZlci5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uIGVxdWFscyhlKXtpZighQnVmZmVyLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHRoaXM9PT1lKXJldHVybiB0cnVlO3JldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLGUpPT09MH07QnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uIGluc3BlY3QoKXt2YXIgZT1cIlwiO3ZhciB0PXIuSU5TUEVDVF9NQVhfQllURVM7ZT10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCx0KS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCk7aWYodGhpcy5sZW5ndGg+dCllKz1cIiAuLi4gXCI7cmV0dXJuXCI8QnVmZmVyIFwiK2UrXCI+XCJ9O2lmKGkpe0J1ZmZlci5wcm90b3R5cGVbaV09QnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0fUJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbiBjb21wYXJlKGUscix0LGYsbil7aWYoaXNJbnN0YW5jZShlLFVpbnQ4QXJyYXkpKXtlPUJ1ZmZlci5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKX1pZighQnVmZmVyLmlzQnVmZmVyKGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnK1wiUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgZSl9aWYocj09PXVuZGVmaW5lZCl7cj0wfWlmKHQ9PT11bmRlZmluZWQpe3Q9ZT9lLmxlbmd0aDowfWlmKGY9PT11bmRlZmluZWQpe2Y9MH1pZihuPT09dW5kZWZpbmVkKXtuPXRoaXMubGVuZ3RofWlmKHI8MHx8dD5lLmxlbmd0aHx8ZjwwfHxuPnRoaXMubGVuZ3RoKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKX1pZihmPj1uJiZyPj10KXtyZXR1cm4gMH1pZihmPj1uKXtyZXR1cm4tMX1pZihyPj10KXtyZXR1cm4gMX1yPj4+PTA7dD4+Pj0wO2Y+Pj49MDtuPj4+PTA7aWYodGhpcz09PWUpcmV0dXJuIDA7dmFyIGk9bi1mO3ZhciBvPXQtcjt2YXIgdT1NYXRoLm1pbihpLG8pO3ZhciBhPXRoaXMuc2xpY2UoZixuKTt2YXIgcz1lLnNsaWNlKHIsdCk7Zm9yKHZhciBoPTA7aDx1OysraCl7aWYoYVtoXSE9PXNbaF0pe2k9YVtoXTtvPXNbaF07YnJlYWt9fWlmKGk8bylyZXR1cm4tMTtpZihvPGkpcmV0dXJuIDE7cmV0dXJuIDB9O2Z1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mKGUscix0LGYsbil7aWYoZS5sZW5ndGg9PT0wKXJldHVybi0xO2lmKHR5cGVvZiB0PT09XCJzdHJpbmdcIil7Zj10O3Q9MH1lbHNlIGlmKHQ+MjE0NzQ4MzY0Nyl7dD0yMTQ3NDgzNjQ3fWVsc2UgaWYodDwtMjE0NzQ4MzY0OCl7dD0tMjE0NzQ4MzY0OH10PSt0O2lmKG51bWJlcklzTmFOKHQpKXt0PW4/MDplLmxlbmd0aC0xfWlmKHQ8MCl0PWUubGVuZ3RoK3Q7aWYodD49ZS5sZW5ndGgpe2lmKG4pcmV0dXJuLTE7ZWxzZSB0PWUubGVuZ3RoLTF9ZWxzZSBpZih0PDApe2lmKG4pdD0wO2Vsc2UgcmV0dXJuLTF9aWYodHlwZW9mIHI9PT1cInN0cmluZ1wiKXtyPUJ1ZmZlci5mcm9tKHIsZil9aWYoQnVmZmVyLmlzQnVmZmVyKHIpKXtpZihyLmxlbmd0aD09PTApe3JldHVybi0xfXJldHVybiBhcnJheUluZGV4T2YoZSxyLHQsZixuKX1lbHNlIGlmKHR5cGVvZiByPT09XCJudW1iZXJcIil7cj1yJjI1NTtpZih0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09PVwiZnVuY3Rpb25cIil7aWYobil7cmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsdCl9ZWxzZXtyZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChlLHIsdCl9fXJldHVybiBhcnJheUluZGV4T2YoZSxbcl0sdCxmLG4pfXRocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gYXJyYXlJbmRleE9mKGUscix0LGYsbil7dmFyIGk9MTt2YXIgbz1lLmxlbmd0aDt2YXIgdT1yLmxlbmd0aDtpZihmIT09dW5kZWZpbmVkKXtmPVN0cmluZyhmKS50b0xvd2VyQ2FzZSgpO2lmKGY9PT1cInVjczJcInx8Zj09PVwidWNzLTJcInx8Zj09PVwidXRmMTZsZVwifHxmPT09XCJ1dGYtMTZsZVwiKXtpZihlLmxlbmd0aDwyfHxyLmxlbmd0aDwyKXtyZXR1cm4tMX1pPTI7by89Mjt1Lz0yO3QvPTJ9fWZ1bmN0aW9uIHJlYWQoZSxyKXtpZihpPT09MSl7cmV0dXJuIGVbcl19ZWxzZXtyZXR1cm4gZS5yZWFkVUludDE2QkUocippKX19dmFyIGE7aWYobil7dmFyIHM9LTE7Zm9yKGE9dDthPG87YSsrKXtpZihyZWFkKGUsYSk9PT1yZWFkKHIscz09PS0xPzA6YS1zKSl7aWYocz09PS0xKXM9YTtpZihhLXMrMT09PXUpcmV0dXJuIHMqaX1lbHNle2lmKHMhPT0tMSlhLT1hLXM7cz0tMX19fWVsc2V7aWYodCt1Pm8pdD1vLXU7Zm9yKGE9dDthPj0wO2EtLSl7dmFyIGg9dHJ1ZTtmb3IodmFyIGM9MDtjPHU7YysrKXtpZihyZWFkKGUsYStjKSE9PXJlYWQocixjKSl7aD1mYWxzZTticmVha319aWYoaClyZXR1cm4gYX19cmV0dXJuLTF9QnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbiBpbmNsdWRlcyhlLHIsdCl7cmV0dXJuIHRoaXMuaW5kZXhPZihlLHIsdCkhPT0tMX07QnVmZmVyLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uIGluZGV4T2YoZSxyLHQpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLGUscix0LHRydWUpfTtCdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uIGxhc3RJbmRleE9mKGUscix0KXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyxlLHIsdCxmYWxzZSl9O2Z1bmN0aW9uIGhleFdyaXRlKGUscix0LGYpe3Q9TnVtYmVyKHQpfHwwO3ZhciBuPWUubGVuZ3RoLXQ7aWYoIWYpe2Y9bn1lbHNle2Y9TnVtYmVyKGYpO2lmKGY+bil7Zj1ufX12YXIgaT1yLmxlbmd0aDtpZihmPmkvMil7Zj1pLzJ9Zm9yKHZhciBvPTA7bzxmOysrbyl7dmFyIHU9cGFyc2VJbnQoci5zdWJzdHIobyoyLDIpLDE2KTtpZihudW1iZXJJc05hTih1KSlyZXR1cm4gbztlW3Qrb109dX1yZXR1cm4gb31mdW5jdGlvbiB1dGY4V3JpdGUoZSxyLHQsZil7cmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMocixlLmxlbmd0aC10KSxlLHQsZil9ZnVuY3Rpb24gYXNjaWlXcml0ZShlLHIsdCxmKXtyZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMociksZSx0LGYpfWZ1bmN0aW9uIGxhdGluMVdyaXRlKGUscix0LGYpe3JldHVybiBhc2NpaVdyaXRlKGUscix0LGYpfWZ1bmN0aW9uIGJhc2U2NFdyaXRlKGUscix0LGYpe3JldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMociksZSx0LGYpfWZ1bmN0aW9uIHVjczJXcml0ZShlLHIsdCxmKXtyZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhyLGUubGVuZ3RoLXQpLGUsdCxmKX1CdWZmZXIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uIHdyaXRlKGUscix0LGYpe2lmKHI9PT11bmRlZmluZWQpe2Y9XCJ1dGY4XCI7dD10aGlzLmxlbmd0aDtyPTB9ZWxzZSBpZih0PT09dW5kZWZpbmVkJiZ0eXBlb2Ygcj09PVwic3RyaW5nXCIpe2Y9cjt0PXRoaXMubGVuZ3RoO3I9MH1lbHNlIGlmKGlzRmluaXRlKHIpKXtyPXI+Pj4wO2lmKGlzRmluaXRlKHQpKXt0PXQ+Pj4wO2lmKGY9PT11bmRlZmluZWQpZj1cInV0ZjhcIn1lbHNle2Y9dDt0PXVuZGVmaW5lZH19ZWxzZXt0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKX12YXIgbj10aGlzLmxlbmd0aC1yO2lmKHQ9PT11bmRlZmluZWR8fHQ+bil0PW47aWYoZS5sZW5ndGg+MCYmKHQ8MHx8cjwwKXx8cj50aGlzLmxlbmd0aCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKX1pZighZilmPVwidXRmOFwiO3ZhciBpPWZhbHNlO2Zvcig7Oyl7c3dpdGNoKGYpe2Nhc2VcImhleFwiOnJldHVybiBoZXhXcml0ZSh0aGlzLGUscix0KTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gdXRmOFdyaXRlKHRoaXMsZSxyLHQpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpV3JpdGUodGhpcyxlLHIsdCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsZSxyLHQpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRXcml0ZSh0aGlzLGUscix0KTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdWNzMldyaXRlKHRoaXMsZSxyLHQpO2RlZmF1bHQ6aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZik7Zj0oXCJcIitmKS50b0xvd2VyQ2FzZSgpO2k9dHJ1ZX19fTtCdWZmZXIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbiB0b0pTT04oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07ZnVuY3Rpb24gYmFzZTY0U2xpY2UoZSxyLHQpe2lmKHI9PT0wJiZ0PT09ZS5sZW5ndGgpe3JldHVybiBmLmZyb21CeXRlQXJyYXkoZSl9ZWxzZXtyZXR1cm4gZi5mcm9tQnl0ZUFycmF5KGUuc2xpY2Uocix0KSl9fWZ1bmN0aW9uIHV0ZjhTbGljZShlLHIsdCl7dD1NYXRoLm1pbihlLmxlbmd0aCx0KTt2YXIgZj1bXTt2YXIgbj1yO3doaWxlKG48dCl7dmFyIGk9ZVtuXTt2YXIgbz1udWxsO3ZhciB1PWk+MjM5PzQ6aT4yMjM/MzppPjE5MT8yOjE7aWYobit1PD10KXt2YXIgYSxzLGgsYztzd2l0Y2godSl7Y2FzZSAxOmlmKGk8MTI4KXtvPWl9YnJlYWs7Y2FzZSAyOmE9ZVtuKzFdO2lmKChhJjE5Mik9PT0xMjgpe2M9KGkmMzEpPDw2fGEmNjM7aWYoYz4xMjcpe289Y319YnJlYWs7Y2FzZSAzOmE9ZVtuKzFdO3M9ZVtuKzJdO2lmKChhJjE5Mik9PT0xMjgmJihzJjE5Mik9PT0xMjgpe2M9KGkmMTUpPDwxMnwoYSY2Myk8PDZ8cyY2MztpZihjPjIwNDcmJihjPDU1Mjk2fHxjPjU3MzQzKSl7bz1jfX1icmVhaztjYXNlIDQ6YT1lW24rMV07cz1lW24rMl07aD1lW24rM107aWYoKGEmMTkyKT09PTEyOCYmKHMmMTkyKT09PTEyOCYmKGgmMTkyKT09PTEyOCl7Yz0oaSYxNSk8PDE4fChhJjYzKTw8MTJ8KHMmNjMpPDw2fGgmNjM7aWYoYz42NTUzNSYmYzwxMTE0MTEyKXtvPWN9fX19aWYobz09PW51bGwpe289NjU1MzM7dT0xfWVsc2UgaWYobz42NTUzNSl7by09NjU1MzY7Zi5wdXNoKG8+Pj4xMCYxMDIzfDU1Mjk2KTtvPTU2MzIwfG8mMTAyM31mLnB1c2gobyk7bis9dX1yZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KGYpfXZhciB1PTQwOTY7ZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5KGUpe3ZhciByPWUubGVuZ3RoO2lmKHI8PXUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlKX12YXIgdD1cIlwiO3ZhciBmPTA7d2hpbGUoZjxyKXt0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKGYsZis9dSkpfXJldHVybiB0fWZ1bmN0aW9uIGFzY2lpU2xpY2UoZSxyLHQpe3ZhciBmPVwiXCI7dD1NYXRoLm1pbihlLmxlbmd0aCx0KTtmb3IodmFyIG49cjtuPHQ7KytuKXtmKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0mMTI3KX1yZXR1cm4gZn1mdW5jdGlvbiBsYXRpbjFTbGljZShlLHIsdCl7dmFyIGY9XCJcIjt0PU1hdGgubWluKGUubGVuZ3RoLHQpO2Zvcih2YXIgbj1yO248dDsrK24pe2YrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtuXSl9cmV0dXJuIGZ9ZnVuY3Rpb24gaGV4U2xpY2UoZSxyLHQpe3ZhciBmPWUubGVuZ3RoO2lmKCFyfHxyPDApcj0wO2lmKCF0fHx0PDB8fHQ+Zil0PWY7dmFyIG49XCJcIjtmb3IodmFyIGk9cjtpPHQ7KytpKXtuKz1zW2VbaV1dfXJldHVybiBufWZ1bmN0aW9uIHV0ZjE2bGVTbGljZShlLHIsdCl7dmFyIGY9ZS5zbGljZShyLHQpO3ZhciBuPVwiXCI7Zm9yKHZhciBpPTA7aTxmLmxlbmd0aDtpKz0yKXtuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGZbaV0rZltpKzFdKjI1Nil9cmV0dXJuIG59QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbiBzbGljZShlLHIpe3ZhciB0PXRoaXMubGVuZ3RoO2U9fn5lO3I9cj09PXVuZGVmaW5lZD90On5+cjtpZihlPDApe2UrPXQ7aWYoZTwwKWU9MH1lbHNlIGlmKGU+dCl7ZT10fWlmKHI8MCl7cis9dDtpZihyPDApcj0wfWVsc2UgaWYocj50KXtyPXR9aWYocjxlKXI9ZTt2YXIgZj10aGlzLnN1YmFycmF5KGUscik7T2JqZWN0LnNldFByb3RvdHlwZU9mKGYsQnVmZmVyLnByb3RvdHlwZSk7cmV0dXJuIGZ9O2Z1bmN0aW9uIGNoZWNrT2Zmc2V0KGUscix0KXtpZihlJTEhPT0wfHxlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYoZStyPnQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbiByZWFkVUludExFKGUscix0KXtlPWU+Pj4wO3I9cj4+PjA7aWYoIXQpY2hlY2tPZmZzZXQoZSxyLHRoaXMubGVuZ3RoKTt2YXIgZj10aGlzW2VdO3ZhciBuPTE7dmFyIGk9MDt3aGlsZSgrK2k8ciYmKG4qPTI1Nikpe2YrPXRoaXNbZStpXSpufXJldHVybiBmfTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24gcmVhZFVJbnRCRShlLHIsdCl7ZT1lPj4+MDtyPXI+Pj4wO2lmKCF0KXtjaGVja09mZnNldChlLHIsdGhpcy5sZW5ndGgpfXZhciBmPXRoaXNbZSstLXJdO3ZhciBuPTE7d2hpbGUocj4wJiYobio9MjU2KSl7Zis9dGhpc1tlKy0tcl0qbn1yZXR1cm4gZn07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24gcmVhZFVJbnQ4KGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDEsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW2VdfTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbiByZWFkVUludDE2TEUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsMix0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbZV18dGhpc1tlKzFdPDw4fTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbiByZWFkVUludDE2QkUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsMix0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbZV08PDh8dGhpc1tlKzFdfTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbiByZWFkVUludDMyTEUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCk7cmV0dXJuKHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTYpK3RoaXNbZSszXSoxNjc3NzIxNn07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24gcmVhZFVJbnQzMkJFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW2VdKjE2Nzc3MjE2Kyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbiByZWFkSW50TEUoZSxyLHQpe2U9ZT4+PjA7cj1yPj4+MDtpZighdCljaGVja09mZnNldChlLHIsdGhpcy5sZW5ndGgpO3ZhciBmPXRoaXNbZV07dmFyIG49MTt2YXIgaT0wO3doaWxlKCsraTxyJiYobio9MjU2KSl7Zis9dGhpc1tlK2ldKm59bio9MTI4O2lmKGY+PW4pZi09TWF0aC5wb3coMiw4KnIpO3JldHVybiBmfTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbiByZWFkSW50QkUoZSxyLHQpe2U9ZT4+PjA7cj1yPj4+MDtpZighdCljaGVja09mZnNldChlLHIsdGhpcy5sZW5ndGgpO3ZhciBmPXI7dmFyIG49MTt2YXIgaT10aGlzW2UrLS1mXTt3aGlsZShmPjAmJihuKj0yNTYpKXtpKz10aGlzW2UrLS1mXSpufW4qPTEyODtpZihpPj1uKWktPU1hdGgucG93KDIsOCpyKTtyZXR1cm4gaX07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbiByZWFkSW50OChlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSwxLHRoaXMubGVuZ3RoKTtpZighKHRoaXNbZV0mMTI4KSlyZXR1cm4gdGhpc1tlXTtyZXR1cm4oMjU1LXRoaXNbZV0rMSkqLTF9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24gcmVhZEludDE2TEUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsMix0aGlzLmxlbmd0aCk7dmFyIHQ9dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIHQmMzI3Njg/dHw0Mjk0OTAxNzYwOnR9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24gcmVhZEludDE2QkUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsMix0aGlzLmxlbmd0aCk7dmFyIHQ9dGhpc1tlKzFdfHRoaXNbZV08PDg7cmV0dXJuIHQmMzI3Njg/dHw0Mjk0OTAxNzYwOnR9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24gcmVhZEludDMyTEUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbiByZWFkSW50MzJCRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfTtCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uIHJlYWRGbG9hdExFKGUscil7ZT1lPj4+MDtpZighciljaGVja09mZnNldChlLDQsdGhpcy5sZW5ndGgpO3JldHVybiBuLnJlYWQodGhpcyxlLHRydWUsMjMsNCl9O0J1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24gcmVhZEZsb2F0QkUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsNCx0aGlzLmxlbmd0aCk7cmV0dXJuIG4ucmVhZCh0aGlzLGUsZmFsc2UsMjMsNCl9O0J1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uIHJlYWREb3VibGVMRShlLHIpe2U9ZT4+PjA7aWYoIXIpY2hlY2tPZmZzZXQoZSw4LHRoaXMubGVuZ3RoKTtyZXR1cm4gbi5yZWFkKHRoaXMsZSx0cnVlLDUyLDgpfTtCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbiByZWFkRG91YmxlQkUoZSxyKXtlPWU+Pj4wO2lmKCFyKWNoZWNrT2Zmc2V0KGUsOCx0aGlzLmxlbmd0aCk7cmV0dXJuIG4ucmVhZCh0aGlzLGUsZmFsc2UsNTIsOCl9O2Z1bmN0aW9uIGNoZWNrSW50KGUscix0LGYsbixpKXtpZighQnVmZmVyLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHI+bnx8cjxpKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKHQrZj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uIHdyaXRlVUludExFKGUscix0LGYpe2U9K2U7cj1yPj4+MDt0PXQ+Pj4wO2lmKCFmKXt2YXIgbj1NYXRoLnBvdygyLDgqdCktMTtjaGVja0ludCh0aGlzLGUscix0LG4sMCl9dmFyIGk9MTt2YXIgbz0wO3RoaXNbcl09ZSYyNTU7d2hpbGUoKytvPHQmJihpKj0yNTYpKXt0aGlzW3Irb109ZS9pJjI1NX1yZXR1cm4gcit0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uIHdyaXRlVUludEJFKGUscix0LGYpe2U9K2U7cj1yPj4+MDt0PXQ+Pj4wO2lmKCFmKXt2YXIgbj1NYXRoLnBvdygyLDgqdCktMTtjaGVja0ludCh0aGlzLGUscix0LG4sMCl9dmFyIGk9dC0xO3ZhciBvPTE7dGhpc1tyK2ldPWUmMjU1O3doaWxlKC0taT49MCYmKG8qPTI1Nikpe3RoaXNbcitpXT1lL28mMjU1fXJldHVybiByK3R9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbiB3cml0ZVVJbnQ4KGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsMSwyNTUsMCk7dGhpc1tyXT1lJjI1NTtyZXR1cm4gcisxfTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24gd3JpdGVVSW50MTZMRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDIsNjU1MzUsMCk7dGhpc1tyXT1lJjI1NTt0aGlzW3IrMV09ZT4+Pjg7cmV0dXJuIHIrMn07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uIHdyaXRlVUludDE2QkUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciwyLDY1NTM1LDApO3RoaXNbcl09ZT4+Pjg7dGhpc1tyKzFdPWUmMjU1O3JldHVybiByKzJ9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbiB3cml0ZVVJbnQzMkxFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsNCw0Mjk0OTY3Mjk1LDApO3RoaXNbciszXT1lPj4+MjQ7dGhpc1tyKzJdPWU+Pj4xNjt0aGlzW3IrMV09ZT4+Pjg7dGhpc1tyXT1lJjI1NTtyZXR1cm4gcis0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24gd3JpdGVVSW50MzJCRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDQsNDI5NDk2NzI5NSwwKTt0aGlzW3JdPWU+Pj4yNDt0aGlzW3IrMV09ZT4+PjE2O3RoaXNbcisyXT1lPj4+ODt0aGlzW3IrM109ZSYyNTU7cmV0dXJuIHIrNH07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uIHdyaXRlSW50TEUoZSxyLHQsZil7ZT0rZTtyPXI+Pj4wO2lmKCFmKXt2YXIgbj1NYXRoLnBvdygyLDgqdC0xKTtjaGVja0ludCh0aGlzLGUscix0LG4tMSwtbil9dmFyIGk9MDt2YXIgbz0xO3ZhciB1PTA7dGhpc1tyXT1lJjI1NTt3aGlsZSgrK2k8dCYmKG8qPTI1Nikpe2lmKGU8MCYmdT09PTAmJnRoaXNbcitpLTFdIT09MCl7dT0xfXRoaXNbcitpXT0oZS9vPj4wKS11JjI1NX1yZXR1cm4gcit0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24gd3JpdGVJbnRCRShlLHIsdCxmKXtlPStlO3I9cj4+PjA7aWYoIWYpe3ZhciBuPU1hdGgucG93KDIsOCp0LTEpO2NoZWNrSW50KHRoaXMsZSxyLHQsbi0xLC1uKX12YXIgaT10LTE7dmFyIG89MTt2YXIgdT0wO3RoaXNbcitpXT1lJjI1NTt3aGlsZSgtLWk+PTAmJihvKj0yNTYpKXtpZihlPDAmJnU9PT0wJiZ0aGlzW3IraSsxXSE9PTApe3U9MX10aGlzW3IraV09KGUvbz4+MCktdSYyNTV9cmV0dXJuIHIrdH07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24gd3JpdGVJbnQ4KGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsMSwxMjcsLTEyOCk7aWYoZTwwKWU9MjU1K2UrMTt0aGlzW3JdPWUmMjU1O3JldHVybiByKzF9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uIHdyaXRlSW50MTZMRShlLHIsdCl7ZT0rZTtyPXI+Pj4wO2lmKCF0KWNoZWNrSW50KHRoaXMsZSxyLDIsMzI3NjcsLTMyNzY4KTt0aGlzW3JdPWUmMjU1O3RoaXNbcisxXT1lPj4+ODtyZXR1cm4gcisyfTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbiB3cml0ZUludDE2QkUoZSxyLHQpe2U9K2U7cj1yPj4+MDtpZighdCljaGVja0ludCh0aGlzLGUsciwyLDMyNzY3LC0zMjc2OCk7dGhpc1tyXT1lPj4+ODt0aGlzW3IrMV09ZSYyNTU7cmV0dXJuIHIrMn07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24gd3JpdGVJbnQzMkxFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KTt0aGlzW3JdPWUmMjU1O3RoaXNbcisxXT1lPj4+ODt0aGlzW3IrMl09ZT4+PjE2O3RoaXNbciszXT1lPj4+MjQ7cmV0dXJuIHIrNH07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24gd3JpdGVJbnQzMkJFKGUscix0KXtlPStlO3I9cj4+PjA7aWYoIXQpY2hlY2tJbnQodGhpcyxlLHIsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KTtpZihlPDApZT00Mjk0OTY3Mjk1K2UrMTt0aGlzW3JdPWU+Pj4yNDt0aGlzW3IrMV09ZT4+PjE2O3RoaXNbcisyXT1lPj4+ODt0aGlzW3IrM109ZSYyNTU7cmV0dXJuIHIrNH07ZnVuY3Rpb24gY2hlY2tJRUVFNzU0KGUscix0LGYsbixpKXtpZih0K2Y+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIHdyaXRlRmxvYXQoZSxyLHQsZixpKXtyPStyO3Q9dD4+PjA7aWYoIWkpe2NoZWNrSUVFRTc1NChlLHIsdCw0LDM0MDI4MjM0NjYzODUyODg2ZTIyLC0zNDAyODIzNDY2Mzg1Mjg4NmUyMil9bi53cml0ZShlLHIsdCxmLDIzLDQpO3JldHVybiB0KzR9QnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24gd3JpdGVGbG9hdExFKGUscix0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLGUscix0cnVlLHQpfTtCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbiB3cml0ZUZsb2F0QkUoZSxyLHQpe3JldHVybiB3cml0ZUZsb2F0KHRoaXMsZSxyLGZhbHNlLHQpfTtmdW5jdGlvbiB3cml0ZURvdWJsZShlLHIsdCxmLGkpe3I9K3I7dD10Pj4+MDtpZighaSl7Y2hlY2tJRUVFNzU0KGUscix0LDgsMTc5NzY5MzEzNDg2MjMxNTdlMjkyLC0xNzk3NjkzMTM0ODYyMzE1N2UyOTIpfW4ud3JpdGUoZSxyLHQsZiw1Miw4KTtyZXR1cm4gdCs4fUJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbiB3cml0ZURvdWJsZUxFKGUscix0KXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyxlLHIsdHJ1ZSx0KX07QnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uIHdyaXRlRG91YmxlQkUoZSxyLHQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLGUscixmYWxzZSx0KX07QnVmZmVyLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uIGNvcHkoZSxyLHQsZil7aWYoIUJ1ZmZlci5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKCF0KXQ9MDtpZighZiYmZiE9PTApZj10aGlzLmxlbmd0aDtpZihyPj1lLmxlbmd0aClyPWUubGVuZ3RoO2lmKCFyKXI9MDtpZihmPjAmJmY8dClmPXQ7aWYoZj09PXQpcmV0dXJuIDA7aWYoZS5sZW5ndGg9PT0wfHx0aGlzLmxlbmd0aD09PTApcmV0dXJuIDA7aWYocjwwKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIil9aWYodDwwfHx0Pj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihmPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtpZihmPnRoaXMubGVuZ3RoKWY9dGhpcy5sZW5ndGg7aWYoZS5sZW5ndGgtcjxmLXQpe2Y9ZS5sZW5ndGgtcit0fXZhciBuPWYtdDtpZih0aGlzPT09ZSYmdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW49PT1cImZ1bmN0aW9uXCIpe3RoaXMuY29weVdpdGhpbihyLHQsZil9ZWxzZSBpZih0aGlzPT09ZSYmdDxyJiZyPGYpe2Zvcih2YXIgaT1uLTE7aT49MDstLWkpe2VbaStyXT10aGlzW2krdF19fWVsc2V7VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KHQsZikscil9cmV0dXJuIG59O0J1ZmZlci5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbiBmaWxsKGUscix0LGYpe2lmKHR5cGVvZiBlPT09XCJzdHJpbmdcIil7aWYodHlwZW9mIHI9PT1cInN0cmluZ1wiKXtmPXI7cj0wO3Q9dGhpcy5sZW5ndGh9ZWxzZSBpZih0eXBlb2YgdD09PVwic3RyaW5nXCIpe2Y9dDt0PXRoaXMubGVuZ3RofWlmKGYhPT11bmRlZmluZWQmJnR5cGVvZiBmIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIil9aWYodHlwZW9mIGY9PT1cInN0cmluZ1wiJiYhQnVmZmVyLmlzRW5jb2RpbmcoZikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitmKX1pZihlLmxlbmd0aD09PTEpe3ZhciBuPWUuY2hhckNvZGVBdCgwKTtpZihmPT09XCJ1dGY4XCImJm48MTI4fHxmPT09XCJsYXRpbjFcIil7ZT1ufX19ZWxzZSBpZih0eXBlb2YgZT09PVwibnVtYmVyXCIpe2U9ZSYyNTV9ZWxzZSBpZih0eXBlb2YgZT09PVwiYm9vbGVhblwiKXtlPU51bWJlcihlKX1pZihyPDB8fHRoaXMubGVuZ3RoPHJ8fHRoaXMubGVuZ3RoPHQpe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpfWlmKHQ8PXIpe3JldHVybiB0aGlzfXI9cj4+PjA7dD10PT09dW5kZWZpbmVkP3RoaXMubGVuZ3RoOnQ+Pj4wO2lmKCFlKWU9MDt2YXIgaTtpZih0eXBlb2YgZT09PVwibnVtYmVyXCIpe2ZvcihpPXI7aTx0OysraSl7dGhpc1tpXT1lfX1lbHNle3ZhciBvPUJ1ZmZlci5pc0J1ZmZlcihlKT9lOkJ1ZmZlci5mcm9tKGUsZik7dmFyIHU9by5sZW5ndGg7aWYodT09PTApe3Rocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJyl9Zm9yKGk9MDtpPHQtcjsrK2kpe3RoaXNbaStyXT1vW2kldV19fXJldHVybiB0aGlzfTt2YXIgYT0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIGJhc2U2NGNsZWFuKGUpe2U9ZS5zcGxpdChcIj1cIilbMF07ZT1lLnRyaW0oKS5yZXBsYWNlKGEsXCJcIik7aWYoZS5sZW5ndGg8MilyZXR1cm5cIlwiO3doaWxlKGUubGVuZ3RoJTQhPT0wKXtlPWUrXCI9XCJ9cmV0dXJuIGV9ZnVuY3Rpb24gdXRmOFRvQnl0ZXMoZSxyKXtyPXJ8fEluZmluaXR5O3ZhciB0O3ZhciBmPWUubGVuZ3RoO3ZhciBuPW51bGw7dmFyIGk9W107Zm9yKHZhciBvPTA7bzxmOysrbyl7dD1lLmNoYXJDb2RlQXQobyk7aWYodD41NTI5NSYmdDw1NzM0NCl7aWYoIW4pe2lmKHQ+NTYzMTkpe2lmKChyLT0zKT4tMSlpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYobysxPT09Zil7aWYoKHItPTMpPi0xKWkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bj10O2NvbnRpbnVlfWlmKHQ8NTYzMjApe2lmKChyLT0zKT4tMSlpLnB1c2goMjM5LDE5MSwxODkpO249dDtjb250aW51ZX10PShuLTU1Mjk2PDwxMHx0LTU2MzIwKSs2NTUzNn1lbHNlIGlmKG4pe2lmKChyLT0zKT4tMSlpLnB1c2goMjM5LDE5MSwxODkpfW49bnVsbDtpZih0PDEyOCl7aWYoKHItPTEpPDApYnJlYWs7aS5wdXNoKHQpfWVsc2UgaWYodDwyMDQ4KXtpZigoci09Mik8MClicmVhaztpLnB1c2godD4+NnwxOTIsdCY2M3wxMjgpfWVsc2UgaWYodDw2NTUzNil7aWYoKHItPTMpPDApYnJlYWs7aS5wdXNoKHQ+PjEyfDIyNCx0Pj42JjYzfDEyOCx0JjYzfDEyOCl9ZWxzZSBpZih0PDExMTQxMTIpe2lmKChyLT00KTwwKWJyZWFrO2kucHVzaCh0Pj4xOHwyNDAsdD4+MTImNjN8MTI4LHQ+PjYmNjN8MTI4LHQmNjN8MTI4KX1lbHNle3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKX19cmV0dXJuIGl9ZnVuY3Rpb24gYXNjaWlUb0J5dGVzKGUpe3ZhciByPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXtyLnB1c2goZS5jaGFyQ29kZUF0KHQpJjI1NSl9cmV0dXJuIHJ9ZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMoZSxyKXt2YXIgdCxmLG47dmFyIGk9W107Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28pe2lmKChyLT0yKTwwKWJyZWFrO3Q9ZS5jaGFyQ29kZUF0KG8pO2Y9dD4+ODtuPXQlMjU2O2kucHVzaChuKTtpLnB1c2goZil9cmV0dXJuIGl9ZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyhlKXtyZXR1cm4gZi50b0J5dGVBcnJheShiYXNlNjRjbGVhbihlKSl9ZnVuY3Rpb24gYmxpdEJ1ZmZlcihlLHIsdCxmKXtmb3IodmFyIG49MDtuPGY7KytuKXtpZihuK3Q+PXIubGVuZ3RofHxuPj1lLmxlbmd0aClicmVhaztyW24rdF09ZVtuXX1yZXR1cm4gbn1mdW5jdGlvbiBpc0luc3RhbmNlKGUscil7cmV0dXJuIGUgaW5zdGFuY2VvZiByfHxlIT1udWxsJiZlLmNvbnN0cnVjdG9yIT1udWxsJiZlLmNvbnN0cnVjdG9yLm5hbWUhPW51bGwmJmUuY29uc3RydWN0b3IubmFtZT09PXIubmFtZX1mdW5jdGlvbiBudW1iZXJJc05hTihlKXtyZXR1cm4gZSE9PWV9dmFyIHM9ZnVuY3Rpb24oKXt2YXIgZT1cIjAxMjM0NTY3ODlhYmNkZWZcIjt2YXIgcj1uZXcgQXJyYXkoMjU2KTtmb3IodmFyIHQ9MDt0PDE2OysrdCl7dmFyIGY9dCoxNjtmb3IodmFyIG49MDtuPDE2Oysrbil7cltmK25dPWVbdF0rZVtuXX19cmV0dXJuIHJ9KCl9LDc1OTpmdW5jdGlvbihlLHIpe3IucmVhZD1mdW5jdGlvbihlLHIsdCxmLG4pe3ZhciBpLG87dmFyIHU9bio4LWYtMTt2YXIgYT0oMTw8dSktMTt2YXIgcz1hPj4xO3ZhciBoPS03O3ZhciBjPXQ/bi0xOjA7dmFyIGw9dD8tMToxO3ZhciBwPWVbcitjXTtjKz1sO2k9cCYoMTw8LWgpLTE7cD4+PS1oO2grPXU7Zm9yKDtoPjA7aT1pKjI1NitlW3IrY10sYys9bCxoLT04KXt9bz1pJigxPDwtaCktMTtpPj49LWg7aCs9Zjtmb3IoO2g+MDtvPW8qMjU2K2VbcitjXSxjKz1sLGgtPTgpe31pZihpPT09MCl7aT0xLXN9ZWxzZSBpZihpPT09YSl7cmV0dXJuIG8/TmFOOihwPy0xOjEpKkluZmluaXR5fWVsc2V7bz1vK01hdGgucG93KDIsZik7aT1pLXN9cmV0dXJuKHA/LTE6MSkqbypNYXRoLnBvdygyLGktZil9O3Iud3JpdGU9ZnVuY3Rpb24oZSxyLHQsZixuLGkpe3ZhciBvLHUsYTt2YXIgcz1pKjgtbi0xO3ZhciBoPSgxPDxzKS0xO3ZhciBjPWg+PjE7dmFyIGw9bj09PTIzP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MDt2YXIgcD1mPzA6aS0xO3ZhciB5PWY/MTotMTt2YXIgZz1yPDB8fHI9PT0wJiYxL3I8MD8xOjA7cj1NYXRoLmFicyhyKTtpZihpc05hTihyKXx8cj09PUluZmluaXR5KXt1PWlzTmFOKHIpPzE6MDtvPWh9ZWxzZXtvPU1hdGguZmxvb3IoTWF0aC5sb2cocikvTWF0aC5MTjIpO2lmKHIqKGE9TWF0aC5wb3coMiwtbykpPDEpe28tLTthKj0yfWlmKG8rYz49MSl7cis9bC9hfWVsc2V7cis9bCpNYXRoLnBvdygyLDEtYyl9aWYociphPj0yKXtvKys7YS89Mn1pZihvK2M+PWgpe3U9MDtvPWh9ZWxzZSBpZihvK2M+PTEpe3U9KHIqYS0xKSpNYXRoLnBvdygyLG4pO289bytjfWVsc2V7dT1yKk1hdGgucG93KDIsYy0xKSpNYXRoLnBvdygyLG4pO289MH19Zm9yKDtuPj04O2VbdCtwXT11JjI1NSxwKz15LHUvPTI1NixuLT04KXt9bz1vPDxufHU7cys9bjtmb3IoO3M+MDtlW3QrcF09byYyNTUscCs9eSxvLz0yNTYscy09OCl7fWVbdCtwLXldfD1nKjEyOH19fTt2YXIgcj17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKHQpe3ZhciBmPXJbdF07aWYoZiE9PXVuZGVmaW5lZCl7cmV0dXJuIGYuZXhwb3J0c312YXIgbj1yW3RdPXtleHBvcnRzOnt9fTt2YXIgaT10cnVlO3RyeXtlW3RdKG4sbi5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO2k9ZmFsc2V9ZmluYWxseXtpZihpKWRlbGV0ZSByW3RdfXJldHVybiBuLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciB0PV9fbmNjd3Bja19yZXF1aXJlX18oMjkzKTttb2R1bGUuZXhwb3J0cz10fSkoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/buffer/index.js\n");

/***/ }),

/***/ "./node_modules/next/dist/compiled/native-url/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/next/dist/compiled/native-url/index.js ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var __dirname = \"/\";\n(function(){var e={477:function(e){\"use strict\";e.exports=__webpack_require__(/*! querystring */ \"./node_modules/next/dist/compiled/querystring-es3/index.js\")}};var t={};function __nccwpck_require__(o){var a=t[o];if(a!==undefined){return a.exports}var s=t[o]={exports:{}};var n=true;try{e[o](s,s.exports,__nccwpck_require__);n=false}finally{if(n)delete t[o]}return s.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var o={};!function(){var e=o;var t,a=(t=__nccwpck_require__(477))&&\"object\"==typeof t&&\"default\"in t?t.default:t,s=/https?|ftp|gopher|file/;function r(e){\"string\"==typeof e&&(e=d(e));var t=function(e,t,o){var a=e.auth,s=e.hostname,n=e.protocol||\"\",p=e.pathname||\"\",c=e.hash||\"\",i=e.query||\"\",u=!1;a=a?encodeURIComponent(a).replace(/%3A/i,\":\")+\"@\":\"\",e.host?u=a+e.host:s&&(u=a+(~s.indexOf(\":\")?\"[\"+s+\"]\":s),e.port&&(u+=\":\"+e.port)),i&&\"object\"==typeof i&&(i=t.encode(i));var f=e.search||i&&\"?\"+i||\"\";return n&&\":\"!==n.substr(-1)&&(n+=\":\"),e.slashes||(!n||o.test(n))&&!1!==u?(u=\"//\"+(u||\"\"),p&&\"/\"!==p[0]&&(p=\"/\"+p)):u||(u=\"\"),c&&\"#\"!==c[0]&&(c=\"#\"+c),f&&\"?\"!==f[0]&&(f=\"?\"+f),{protocol:n,host:u,pathname:p=p.replace(/[?#]/g,encodeURIComponent),search:f=f.replace(\"#\",\"%23\"),hash:c}}(e,a,s);return\"\"+t.protocol+t.host+t.pathname+t.search+t.hash}var n=\"http://\",p=\"w.w\",c=n+p,i=/^([a-z0-9.+-]*:\\/\\/\\/)([a-z0-9.+-]:\\/*)?/i,u=/https?|ftp|gopher|file/;function h(e,t){var o=\"string\"==typeof e?d(e):e;e=\"object\"==typeof e?r(e):e;var a=d(t),s=\"\";o.protocol&&!o.slashes&&(s=o.protocol,e=e.replace(o.protocol,\"\"),s+=\"/\"===t[0]||\"/\"===e[0]?\"/\":\"\"),s&&a.protocol&&(s=\"\",a.slashes||(s=a.protocol,t=t.replace(a.protocol,\"\")));var p=e.match(i);p&&!a.protocol&&(e=e.substr((s=p[1]+(p[2]||\"\")).length),/^\\/\\/[^/]/.test(t)&&(s=s.slice(0,-1)));var f=new URL(e,c+\"/\"),m=new URL(t,f).toString().replace(c,\"\"),v=a.protocol||o.protocol;return v+=o.slashes||a.slashes?\"//\":\"\",!s&&v?m=m.replace(n,v):s&&(m=m.replace(n,\"\")),u.test(m)||~t.indexOf(\".\")||\"/\"===e.slice(-1)||\"/\"===t.slice(-1)||\"/\"!==m.slice(-1)||(m=m.slice(0,-1)),s&&(m=s+(\"/\"===m[0]?m.substr(1):m)),m}function l(){}l.prototype.parse=d,l.prototype.format=r,l.prototype.resolve=h,l.prototype.resolveObject=h;var f=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,v=/^([a-z0-9.+-]*:)(\\/{0,3})(.*)/i,_=/^([a-z0-9.+-]*:)?\\/\\/\\/*/i,b=/^([a-z0-9.+-]*:)(\\/{0,2})\\[(.*)\\]$/i;function d(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=!1),e&&\"object\"==typeof e&&e instanceof l)return e;var s=(e=e.trim()).match(m);e=s?s[1].replace(/\\\\/g,\"/\")+s[2]:e.replace(/\\\\/g,\"/\"),b.test(e)&&\"/\"!==e.slice(-1)&&(e+=\"/\");var n=!/(^javascript)/.test(e)&&e.match(v),i=_.test(e),u=\"\";n&&(f.test(n[1])||(u=n[1].toLowerCase(),e=\"\"+n[2]+n[3]),n[2]||(i=!1,f.test(n[1])?(u=n[1],e=\"\"+n[3]):e=\"//\"+n[3]),3!==n[2].length&&1!==n[2].length||(u=n[1],e=\"/\"+n[3]));var g,y=(s?s[1]:e).match(/^https?:\\/\\/[^/]+(:[0-9]+)(?=\\/|$)/),w=y&&y[1],C=new l,U=\"\",j=\"\";try{g=new URL(e)}catch(t){U=t,u||o||!/^\\/\\//.test(e)||/^\\/\\/.+[@.]/.test(e)||(j=\"/\",e=e.substr(1));try{g=new URL(e,c)}catch(e){return C.protocol=u,C.href=u,C}}C.slashes=i&&!j,C.host=g.host===p?\"\":g.host,C.hostname=g.hostname===p?\"\":g.hostname.replace(/(\\[|\\])/g,\"\"),C.protocol=U?u||null:g.protocol,C.search=g.search.replace(/\\\\/g,\"%5C\"),C.hash=g.hash.replace(/\\\\/g,\"%5C\");var x=e.split(\"#\");!C.search&&~x[0].indexOf(\"?\")&&(C.search=\"?\"),C.hash||\"\"!==x[1]||(C.hash=\"#\"),C.query=t?a.decode(g.search.substr(1)):C.search.substr(1),C.pathname=j+(n?function(e){return e.replace(/['^|`]/g,(function(e){return\"%\"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split(\"\").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:\"%\"+t.toString(16).toUpperCase()})).join(\"\")}catch(e){return t}}))}(g.pathname):g.pathname),\"about:\"===C.protocol&&\"blank\"===C.pathname&&(C.protocol=\"\",C.pathname=\"\"),U&&\"/\"!==e[0]&&(C.pathname=C.pathname.substr(1)),u&&!f.test(u)&&\"/\"!==e.slice(-1)&&\"/\"===C.pathname&&(C.pathname=\"\"),C.path=C.pathname+C.search,C.auth=[g.username,g.password].map(decodeURIComponent).filter(Boolean).join(\":\"),C.port=g.port,w&&!C.host.endsWith(w)&&(C.host+=w,C.port=w.slice(1)),C.href=j?\"\"+C.pathname+C.search+C.hash:r(C);var q=/^(file)/.test(C.href)?[\"host\",\"hostname\"]:[];return Object.keys(C).forEach((function(e){~q.indexOf(e)||(C[e]=C[e]||null)})),C}e.parse=d,e.format=r,e.resolve=h,e.resolveObject=function(e,t){return d(h(e,t))},e.Url=l}();module.exports=o})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL25hdGl2ZS11cmwvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IjtBQUFBLFlBQVksT0FBTyxnQkFBZ0IsYUFBYSxVQUFVLG1CQUFPLENBQUMsK0VBQWEsSUFBSSxTQUFTLGdDQUFnQyxXQUFXLGtCQUFrQixpQkFBaUIsWUFBWSxZQUFZLFdBQVcsSUFBSSxzQ0FBc0MsUUFBUSxRQUFRLGlCQUFpQixpQkFBaUIsbUVBQW1FLFNBQVMsS0FBSyxTQUFTLFlBQVksUUFBUSwrR0FBK0csY0FBYyw2QkFBNkIsc0JBQXNCLDRGQUE0Riw2S0FBNkssNkJBQTZCLGlMQUFpTCx5R0FBeUcsUUFBUSxzREFBc0QsdUdBQXVHLGdCQUFnQixnQ0FBZ0MsNEJBQTRCLGdCQUFnQiw4S0FBOEssaUJBQWlCLGdHQUFnRyx3RkFBd0Ysa09BQWtPLGNBQWMsMkZBQTJGLDBFQUEwRSxJQUFJLDZEQUE2RCxJQUFJLGFBQWEsa0JBQWtCLHdGQUF3Riw0QkFBNEIsNkZBQTZGLDREQUE0RCx3S0FBd0ssMkZBQTJGLElBQUksYUFBYSxTQUFTLHlFQUF5RSxJQUFJLGVBQWUsU0FBUyxnQ0FBZ0MscU5BQXFOLG1CQUFtQixvS0FBb0ssd0NBQXdDLG9EQUFvRCwwQkFBMEIsRUFBRSxxQkFBcUIsSUFBSSx3REFBd0QscUJBQXFCLHVFQUF1RSxZQUFZLFNBQVMsVUFBVSxHQUFHLHFiQUFxYixvREFBb0QsMkNBQTJDLGlDQUFpQyxLQUFLLCtEQUErRCxpQkFBaUIsU0FBUyxHQUFHLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL25hdGl2ZS11cmwvaW5kZXguanM/NzI0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17NDc3OmZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1yZXF1aXJlKFwicXVlcnlzdHJpbmdcIil9fTt2YXIgdD17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKG8pe3ZhciBhPXRbb107aWYoYSE9PXVuZGVmaW5lZCl7cmV0dXJuIGEuZXhwb3J0c312YXIgcz10W29dPXtleHBvcnRzOnt9fTt2YXIgbj10cnVlO3RyeXtlW29dKHMscy5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO249ZmFsc2V9ZmluYWxseXtpZihuKWRlbGV0ZSB0W29dfXJldHVybiBzLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciBvPXt9OyFmdW5jdGlvbigpe3ZhciBlPW87dmFyIHQsYT0odD1fX25jY3dwY2tfcmVxdWlyZV9fKDQ3NykpJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJkZWZhdWx0XCJpbiB0P3QuZGVmYXVsdDp0LHM9L2h0dHBzP3xmdHB8Z29waGVyfGZpbGUvO2Z1bmN0aW9uIHIoZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWQoZSkpO3ZhciB0PWZ1bmN0aW9uKGUsdCxvKXt2YXIgYT1lLmF1dGgscz1lLmhvc3RuYW1lLG49ZS5wcm90b2NvbHx8XCJcIixwPWUucGF0aG5hbWV8fFwiXCIsYz1lLmhhc2h8fFwiXCIsaT1lLnF1ZXJ5fHxcIlwiLHU9ITE7YT1hP2VuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lM0EvaSxcIjpcIikrXCJAXCI6XCJcIixlLmhvc3Q/dT1hK2UuaG9zdDpzJiYodT1hKyh+cy5pbmRleE9mKFwiOlwiKT9cIltcIitzK1wiXVwiOnMpLGUucG9ydCYmKHUrPVwiOlwiK2UucG9ydCkpLGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiYoaT10LmVuY29kZShpKSk7dmFyIGY9ZS5zZWFyY2h8fGkmJlwiP1wiK2l8fFwiXCI7cmV0dXJuIG4mJlwiOlwiIT09bi5zdWJzdHIoLTEpJiYobis9XCI6XCIpLGUuc2xhc2hlc3x8KCFufHxvLnRlc3QobikpJiYhMSE9PXU/KHU9XCIvL1wiKyh1fHxcIlwiKSxwJiZcIi9cIiE9PXBbMF0mJihwPVwiL1wiK3ApKTp1fHwodT1cIlwiKSxjJiZcIiNcIiE9PWNbMF0mJihjPVwiI1wiK2MpLGYmJlwiP1wiIT09ZlswXSYmKGY9XCI/XCIrZikse3Byb3RvY29sOm4saG9zdDp1LHBhdGhuYW1lOnA9cC5yZXBsYWNlKC9bPyNdL2csZW5jb2RlVVJJQ29tcG9uZW50KSxzZWFyY2g6Zj1mLnJlcGxhY2UoXCIjXCIsXCIlMjNcIiksaGFzaDpjfX0oZSxhLHMpO3JldHVyblwiXCIrdC5wcm90b2NvbCt0Lmhvc3QrdC5wYXRobmFtZSt0LnNlYXJjaCt0Lmhhc2h9dmFyIG49XCJodHRwOi8vXCIscD1cIncud1wiLGM9bitwLGk9L14oW2EtejAtOS4rLV0qOlxcL1xcL1xcLykoW2EtejAtOS4rLV06XFwvKik/L2ksdT0vaHR0cHM/fGZ0cHxnb3BoZXJ8ZmlsZS87ZnVuY3Rpb24gaChlLHQpe3ZhciBvPVwic3RyaW5nXCI9PXR5cGVvZiBlP2QoZSk6ZTtlPVwib2JqZWN0XCI9PXR5cGVvZiBlP3IoZSk6ZTt2YXIgYT1kKHQpLHM9XCJcIjtvLnByb3RvY29sJiYhby5zbGFzaGVzJiYocz1vLnByb3RvY29sLGU9ZS5yZXBsYWNlKG8ucHJvdG9jb2wsXCJcIikscys9XCIvXCI9PT10WzBdfHxcIi9cIj09PWVbMF0/XCIvXCI6XCJcIikscyYmYS5wcm90b2NvbCYmKHM9XCJcIixhLnNsYXNoZXN8fChzPWEucHJvdG9jb2wsdD10LnJlcGxhY2UoYS5wcm90b2NvbCxcIlwiKSkpO3ZhciBwPWUubWF0Y2goaSk7cCYmIWEucHJvdG9jb2wmJihlPWUuc3Vic3RyKChzPXBbMV0rKHBbMl18fFwiXCIpKS5sZW5ndGgpLC9eXFwvXFwvW14vXS8udGVzdCh0KSYmKHM9cy5zbGljZSgwLC0xKSkpO3ZhciBmPW5ldyBVUkwoZSxjK1wiL1wiKSxtPW5ldyBVUkwodCxmKS50b1N0cmluZygpLnJlcGxhY2UoYyxcIlwiKSx2PWEucHJvdG9jb2x8fG8ucHJvdG9jb2w7cmV0dXJuIHYrPW8uc2xhc2hlc3x8YS5zbGFzaGVzP1wiLy9cIjpcIlwiLCFzJiZ2P209bS5yZXBsYWNlKG4sdik6cyYmKG09bS5yZXBsYWNlKG4sXCJcIikpLHUudGVzdChtKXx8fnQuaW5kZXhPZihcIi5cIil8fFwiL1wiPT09ZS5zbGljZSgtMSl8fFwiL1wiPT09dC5zbGljZSgtMSl8fFwiL1wiIT09bS5zbGljZSgtMSl8fChtPW0uc2xpY2UoMCwtMSkpLHMmJihtPXMrKFwiL1wiPT09bVswXT9tLnN1YnN0cigxKTptKSksbX1mdW5jdGlvbiBsKCl7fWwucHJvdG90eXBlLnBhcnNlPWQsbC5wcm90b3R5cGUuZm9ybWF0PXIsbC5wcm90b3R5cGUucmVzb2x2ZT1oLGwucHJvdG90eXBlLnJlc29sdmVPYmplY3Q9aDt2YXIgZj0vXmh0dHBzP3xmdHB8Z29waGVyfGZpbGUvLG09L14oLio/KShbIz9dLiopLyx2PS9eKFthLXowLTkuKy1dKjopKFxcL3swLDN9KSguKikvaSxfPS9eKFthLXowLTkuKy1dKjopP1xcL1xcL1xcLyovaSxiPS9eKFthLXowLTkuKy1dKjopKFxcL3swLDJ9KVxcWyguKilcXF0kL2k7ZnVuY3Rpb24gZChlLHQsbyl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PW8mJihvPSExKSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSBpbnN0YW5jZW9mIGwpcmV0dXJuIGU7dmFyIHM9KGU9ZS50cmltKCkpLm1hdGNoKG0pO2U9cz9zWzFdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIikrc1syXTplLnJlcGxhY2UoL1xcXFwvZyxcIi9cIiksYi50ZXN0KGUpJiZcIi9cIiE9PWUuc2xpY2UoLTEpJiYoZSs9XCIvXCIpO3ZhciBuPSEvKF5qYXZhc2NyaXB0KS8udGVzdChlKSYmZS5tYXRjaCh2KSxpPV8udGVzdChlKSx1PVwiXCI7biYmKGYudGVzdChuWzFdKXx8KHU9blsxXS50b0xvd2VyQ2FzZSgpLGU9XCJcIituWzJdK25bM10pLG5bMl18fChpPSExLGYudGVzdChuWzFdKT8odT1uWzFdLGU9XCJcIituWzNdKTplPVwiLy9cIituWzNdKSwzIT09blsyXS5sZW5ndGgmJjEhPT1uWzJdLmxlbmd0aHx8KHU9blsxXSxlPVwiL1wiK25bM10pKTt2YXIgZyx5PShzP3NbMV06ZSkubWF0Y2goL15odHRwcz86XFwvXFwvW14vXSsoOlswLTldKykoPz1cXC98JCkvKSx3PXkmJnlbMV0sQz1uZXcgbCxVPVwiXCIsaj1cIlwiO3RyeXtnPW5ldyBVUkwoZSl9Y2F0Y2godCl7VT10LHV8fG98fCEvXlxcL1xcLy8udGVzdChlKXx8L15cXC9cXC8uK1tALl0vLnRlc3QoZSl8fChqPVwiL1wiLGU9ZS5zdWJzdHIoMSkpO3RyeXtnPW5ldyBVUkwoZSxjKX1jYXRjaChlKXtyZXR1cm4gQy5wcm90b2NvbD11LEMuaHJlZj11LEN9fUMuc2xhc2hlcz1pJiYhaixDLmhvc3Q9Zy5ob3N0PT09cD9cIlwiOmcuaG9zdCxDLmhvc3RuYW1lPWcuaG9zdG5hbWU9PT1wP1wiXCI6Zy5ob3N0bmFtZS5yZXBsYWNlKC8oXFxbfFxcXSkvZyxcIlwiKSxDLnByb3RvY29sPVU/dXx8bnVsbDpnLnByb3RvY29sLEMuc2VhcmNoPWcuc2VhcmNoLnJlcGxhY2UoL1xcXFwvZyxcIiU1Q1wiKSxDLmhhc2g9Zy5oYXNoLnJlcGxhY2UoL1xcXFwvZyxcIiU1Q1wiKTt2YXIgeD1lLnNwbGl0KFwiI1wiKTshQy5zZWFyY2gmJn54WzBdLmluZGV4T2YoXCI/XCIpJiYoQy5zZWFyY2g9XCI/XCIpLEMuaGFzaHx8XCJcIiE9PXhbMV18fChDLmhhc2g9XCIjXCIpLEMucXVlcnk9dD9hLmRlY29kZShnLnNlYXJjaC5zdWJzdHIoMSkpOkMuc2VhcmNoLnN1YnN0cigxKSxDLnBhdGhuYW1lPWorKG4/ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvWydefGBdL2csKGZ1bmN0aW9uKGUpe3JldHVyblwiJVwiK2UuY2hhckNvZGVBdCgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSkpLnJlcGxhY2UoLygoPzolWzAtOUEtRl17Mn0pKykvZywoZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KS5zcGxpdChcIlwiKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgpO3JldHVybiB0PjI1Nnx8L15bYS16MC05XSQvaS50ZXN0KGUpP2U6XCIlXCIrdC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pKS5qb2luKFwiXCIpfWNhdGNoKGUpe3JldHVybiB0fX0pKX0oZy5wYXRobmFtZSk6Zy5wYXRobmFtZSksXCJhYm91dDpcIj09PUMucHJvdG9jb2wmJlwiYmxhbmtcIj09PUMucGF0aG5hbWUmJihDLnByb3RvY29sPVwiXCIsQy5wYXRobmFtZT1cIlwiKSxVJiZcIi9cIiE9PWVbMF0mJihDLnBhdGhuYW1lPUMucGF0aG5hbWUuc3Vic3RyKDEpKSx1JiYhZi50ZXN0KHUpJiZcIi9cIiE9PWUuc2xpY2UoLTEpJiZcIi9cIj09PUMucGF0aG5hbWUmJihDLnBhdGhuYW1lPVwiXCIpLEMucGF0aD1DLnBhdGhuYW1lK0Muc2VhcmNoLEMuYXV0aD1bZy51c2VybmFtZSxnLnBhc3N3b3JkXS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KS5maWx0ZXIoQm9vbGVhbikuam9pbihcIjpcIiksQy5wb3J0PWcucG9ydCx3JiYhQy5ob3N0LmVuZHNXaXRoKHcpJiYoQy5ob3N0Kz13LEMucG9ydD13LnNsaWNlKDEpKSxDLmhyZWY9aj9cIlwiK0MucGF0aG5hbWUrQy5zZWFyY2grQy5oYXNoOnIoQyk7dmFyIHE9L14oZmlsZSkvLnRlc3QoQy5ocmVmKT9bXCJob3N0XCIsXCJob3N0bmFtZVwiXTpbXTtyZXR1cm4gT2JqZWN0LmtleXMoQykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7fnEuaW5kZXhPZihlKXx8KENbZV09Q1tlXXx8bnVsbCl9KSksQ31lLnBhcnNlPWQsZS5mb3JtYXQ9cixlLnJlc29sdmU9aCxlLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZChoKGUsdCkpfSxlLlVybD1sfSgpO21vZHVsZS5leHBvcnRzPW99KSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/native-url/index.js\n");

/***/ }),

/***/ "./node_modules/next/dist/compiled/process/browser.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/compiled/process/browser.js ***!
  \************************************************************/
/***/ (function(module) {

eval("var __dirname = \"/\";\n(function(){var e={162:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(162);module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3MvYnJvd3Nlci5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxPQUFPLGdCQUFnQixtQkFBbUIsTUFBTSxNQUFNLDRCQUE0QixtREFBbUQsK0JBQStCLHFEQUFxRCxZQUFZLElBQUksbUNBQW1DLGFBQWEsS0FBSyxvQkFBb0IsU0FBUyxtQkFBbUIsSUFBSSxxQ0FBcUMsZUFBZSxLQUFLLHVCQUF1QixTQUFTLHVCQUF1QixJQUFJLHVCQUF1QixtQkFBbUIsdUJBQXVCLDJDQUEyQyxhQUFhLHVCQUF1QixJQUFJLGNBQWMsU0FBUyxJQUFJLHdCQUF3QixTQUFTLDBCQUEwQiw0QkFBNEIscUJBQXFCLHVCQUF1QixnREFBZ0QsZUFBZSx1QkFBdUIsSUFBSSxZQUFZLFNBQVMsSUFBSSxzQkFBc0IsU0FBUyx3QkFBd0IsU0FBUyxZQUFZLE1BQU0sU0FBUywyQkFBMkIsV0FBVyxPQUFPLFFBQVEsYUFBYSxjQUFjLEtBQUssS0FBSyxhQUFhLGNBQWMsc0JBQXNCLE1BQU0sT0FBTyxrQ0FBa0MsT0FBTyxlQUFlLFNBQVMsSUFBSSxLQUFLLGFBQWEsTUFBTSxZQUFZLEtBQUssV0FBVyxPQUFPLFFBQVEsbUJBQW1CLHVCQUF1QixvQ0FBb0MsdUJBQXVCLFlBQVksbUJBQW1CLEtBQUsscUJBQXFCLHNCQUFzQixxQkFBcUIseUJBQXlCLG1CQUFtQixXQUFXLGFBQWEsOEJBQThCLGlDQUFpQyxrQkFBa0IsZUFBZSxTQUFTLFVBQVUsYUFBYSxjQUFjLGlCQUFpQixVQUFVLG1CQUFtQixZQUFZLFdBQVcsc0JBQXNCLDBCQUEwQixZQUFZLHVCQUF1QiwyQkFBMkIsd0JBQXdCLFVBQVUsc0JBQXNCLHFEQUFxRCxpQkFBaUIsV0FBVyxvQkFBb0IsbURBQW1ELG1CQUFtQixZQUFZLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHNDQUFzQyxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLCtCQUErQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9wcm9jZXNzL2Jyb3dzZXIuanM/MWIxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17MTYyOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZXhwb3J0cz17fTt2YXIgcjt2YXIgbjtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXtpZih0eXBlb2Ygc2V0VGltZW91dD09PVwiZnVuY3Rpb25cIil7cj1zZXRUaW1lb3V0fWVsc2V7cj1kZWZhdWx0U2V0VGltb3V0fX1jYXRjaChlKXtyPWRlZmF1bHRTZXRUaW1vdXR9dHJ5e2lmKHR5cGVvZiBjbGVhclRpbWVvdXQ9PT1cImZ1bmN0aW9uXCIpe249Y2xlYXJUaW1lb3V0fWVsc2V7bj1kZWZhdWx0Q2xlYXJUaW1lb3V0fX1jYXRjaChlKXtuPWRlZmF1bHRDbGVhclRpbWVvdXR9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGUpe2lmKHI9PT1zZXRUaW1lb3V0KXtyZXR1cm4gc2V0VGltZW91dChlLDApfWlmKChyPT09ZGVmYXVsdFNldFRpbW91dHx8IXIpJiZzZXRUaW1lb3V0KXtyPXNldFRpbWVvdXQ7cmV0dXJuIHNldFRpbWVvdXQoZSwwKX10cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQoZSl7aWYobj09PWNsZWFyVGltZW91dCl7cmV0dXJuIGNsZWFyVGltZW91dChlKX1pZigobj09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFuKSYmY2xlYXJUaW1lb3V0KXtuPWNsZWFyVGltZW91dDtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfXRyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fXZhciBpPVtdO3ZhciBvPWZhbHNlO3ZhciB1O3ZhciBhPS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2lmKCFvfHwhdSl7cmV0dXJufW89ZmFsc2U7aWYodS5sZW5ndGgpe2k9dS5jb25jYXQoaSl9ZWxzZXthPS0xfWlmKGkubGVuZ3RoKXtkcmFpblF1ZXVlKCl9fWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZihvKXtyZXR1cm59dmFyIGU9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO289dHJ1ZTt2YXIgdD1pLmxlbmd0aDt3aGlsZSh0KXt1PWk7aT1bXTt3aGlsZSgrK2E8dCl7aWYodSl7dVthXS5ydW4oKX19YT0tMTt0PWkubGVuZ3RofXU9bnVsbDtvPWZhbHNlO3J1bkNsZWFyVGltZW91dChlKX10Lm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dFtyLTFdPWFyZ3VtZW50c1tyXX19aS5wdXNoKG5ldyBJdGVtKGUsdCkpO2lmKGkubGVuZ3RoPT09MSYmIW8pe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSl9fTtmdW5jdGlvbiBJdGVtKGUsdCl7dGhpcy5mdW49ZTt0aGlzLmFycmF5PXR9SXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX07dC50aXRsZT1cImJyb3dzZXJcIjt0LmJyb3dzZXI9dHJ1ZTt0LmVudj17fTt0LmFyZ3Y9W107dC52ZXJzaW9uPVwiXCI7dC52ZXJzaW9ucz17fTtmdW5jdGlvbiBub29wKCl7fXQub249bm9vcDt0LmFkZExpc3RlbmVyPW5vb3A7dC5vbmNlPW5vb3A7dC5vZmY9bm9vcDt0LnJlbW92ZUxpc3RlbmVyPW5vb3A7dC5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcDt0LmVtaXQ9bm9vcDt0LnByZXBlbmRMaXN0ZW5lcj1ub29wO3QucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wO3QubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfTt0LmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9O3QuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9O3QuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfTt0LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fX07dmFyIHQ9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhyKXt2YXIgbj10W3JdO2lmKG4hPT11bmRlZmluZWQpe3JldHVybiBuLmV4cG9ydHN9dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07dmFyIG89dHJ1ZTt0cnl7ZVtyXShpLGkuZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTtvPWZhbHNlfWZpbmFsbHl7aWYobylkZWxldGUgdFtyXX1yZXR1cm4gaS5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgcj1fX25jY3dwY2tfcmVxdWlyZV9fKDE2Mik7bW9kdWxlLmV4cG9ydHM9cn0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/process/browser.js\n");

/***/ }),

/***/ "./node_modules/next/dist/compiled/querystring-es3/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/querystring-es3/index.js ***!
  \******************************************************************/
/***/ (function(module) {

eval("var __dirname = \"/\";\n(function(){\"use strict\";var e={540:function(e){function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}e.exports=function(e,n,t,o){n=n||\"&\";t=t||\"=\";var a={};if(typeof e!==\"string\"||e.length===0){return a}var i=/\\+/g;e=e.split(n);var u=1e3;if(o&&typeof o.maxKeys===\"number\"){u=o.maxKeys}var c=e.length;if(u>0&&c>u){c=u}for(var p=0;p<c;++p){var f=e[p].replace(i,\"%20\"),s=f.indexOf(t),_,l,y,d;if(s>=0){_=f.substr(0,s);l=f.substr(s+1)}else{_=f;l=\"\"}y=decodeURIComponent(_);d=decodeURIComponent(l);if(!hasOwnProperty(a,y)){a[y]=d}else if(r(a[y])){a[y].push(d)}else{a[y]=[a[y],d]}}return a};var r=Array.isArray||function(e){return Object.prototype.toString.call(e)===\"[object Array]\"}},128:function(e){var stringifyPrimitive=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};e.exports=function(e,t,o,a){t=t||\"&\";o=o||\"=\";if(e===null){e=undefined}if(typeof e===\"object\"){return map(n(e),(function(n){var a=encodeURIComponent(stringifyPrimitive(n))+o;if(r(e[n])){return map(e[n],(function(e){return a+encodeURIComponent(stringifyPrimitive(e))})).join(t)}else{return a+encodeURIComponent(stringifyPrimitive(e[n]))}})).join(t)}if(!a)return\"\";return encodeURIComponent(stringifyPrimitive(a))+o+encodeURIComponent(stringifyPrimitive(e))};var r=Array.isArray||function(e){return Object.prototype.toString.call(e)===\"[object Array]\"};function map(e,r){if(e.map)return e.map(r);var n=[];for(var t=0;t<e.length;t++){n.push(r(e[t],t))}return n}var n=Object.keys||function(e){var r=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))r.push(n)}return r}}};var r={};function __nccwpck_require__(n){var t=r[n];if(t!==undefined){return t.exports}var o=r[n]={exports:{}};var a=true;try{e[n](o,o.exports,__nccwpck_require__);a=false}finally{if(a)delete r[n]}return o.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var n={};!function(){var e=n;e.decode=e.parse=__nccwpck_require__(540);e.encode=e.stringify=__nccwpck_require__(128)}();module.exports=n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxhQUFhLE9BQU8sZ0JBQWdCLDZCQUE2QixpREFBaUQsNEJBQTRCLFNBQVMsU0FBUyxTQUFTLHNDQUFzQyxTQUFTLFlBQVksYUFBYSxVQUFVLG1DQUFtQyxZQUFZLGVBQWUsYUFBYSxJQUFJLFlBQVksSUFBSSxLQUFLLG1EQUFtRCxTQUFTLGdCQUFnQixnQkFBZ0IsS0FBSyxJQUFJLEtBQUssd0JBQXdCLHdCQUF3Qix5QkFBeUIsT0FBTyxpQkFBaUIsYUFBYSxLQUFLLGVBQWUsVUFBVSxpQ0FBaUMsNkRBQTZELGlCQUFpQixtQ0FBbUMsaUJBQWlCLHNCQUFzQixzQ0FBc0MscUNBQXFDLG1CQUFtQiw0QkFBNEIsU0FBUyxTQUFTLGFBQWEsWUFBWSx3QkFBd0IsNkJBQTZCLGtEQUFrRCxZQUFZLDZCQUE2QixtREFBbUQsV0FBVyxLQUFLLHVEQUF1RCxXQUFXLGVBQWUsOEZBQThGLGlDQUFpQyw2REFBNkQsa0JBQWtCLHlCQUF5QixTQUFTLFlBQVksV0FBVyxLQUFLLGtCQUFrQixTQUFTLCtCQUErQixTQUFTLGdCQUFnQix1REFBdUQsWUFBWSxTQUFTLGdDQUFnQyxXQUFXLGtCQUFrQixpQkFBaUIsWUFBWSxZQUFZLFdBQVcsSUFBSSxzQ0FBc0MsUUFBUSxRQUFRLGlCQUFpQixpQkFBaUIsbUVBQW1FLFNBQVMsS0FBSyxTQUFTLFlBQVksUUFBUSwwQ0FBMEMsOENBQThDLEdBQUcsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzPzI0MWYiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezU0MDpmdW5jdGlvbihlKXtmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShlLHIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHQsbyl7bj1ufHxcIiZcIjt0PXR8fFwiPVwiO3ZhciBhPXt9O2lmKHR5cGVvZiBlIT09XCJzdHJpbmdcInx8ZS5sZW5ndGg9PT0wKXtyZXR1cm4gYX12YXIgaT0vXFwrL2c7ZT1lLnNwbGl0KG4pO3ZhciB1PTFlMztpZihvJiZ0eXBlb2Ygby5tYXhLZXlzPT09XCJudW1iZXJcIil7dT1vLm1heEtleXN9dmFyIGM9ZS5sZW5ndGg7aWYodT4wJiZjPnUpe2M9dX1mb3IodmFyIHA9MDtwPGM7KytwKXt2YXIgZj1lW3BdLnJlcGxhY2UoaSxcIiUyMFwiKSxzPWYuaW5kZXhPZih0KSxfLGwseSxkO2lmKHM+PTApe189Zi5zdWJzdHIoMCxzKTtsPWYuc3Vic3RyKHMrMSl9ZWxzZXtfPWY7bD1cIlwifXk9ZGVjb2RlVVJJQ29tcG9uZW50KF8pO2Q9ZGVjb2RlVVJJQ29tcG9uZW50KGwpO2lmKCFoYXNPd25Qcm9wZXJ0eShhLHkpKXthW3ldPWR9ZWxzZSBpZihyKGFbeV0pKXthW3ldLnB1c2goZCl9ZWxzZXthW3ldPVthW3ldLGRdfX1yZXR1cm4gYX07dmFyIHI9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09PVwiW29iamVjdCBBcnJheV1cIn19LDEyODpmdW5jdGlvbihlKXt2YXIgc3RyaW5naWZ5UHJpbWl0aXZlPWZ1bmN0aW9uKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGU7Y2FzZVwiYm9vbGVhblwiOnJldHVybiBlP1widHJ1ZVwiOlwiZmFsc2VcIjtjYXNlXCJudW1iZXJcIjpyZXR1cm4gaXNGaW5pdGUoZSk/ZTpcIlwiO2RlZmF1bHQ6cmV0dXJuXCJcIn19O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbyxhKXt0PXR8fFwiJlwiO289b3x8XCI9XCI7aWYoZT09PW51bGwpe2U9dW5kZWZpbmVkfWlmKHR5cGVvZiBlPT09XCJvYmplY3RcIil7cmV0dXJuIG1hcChuKGUpLChmdW5jdGlvbihuKXt2YXIgYT1lbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG4pKStvO2lmKHIoZVtuXSkpe3JldHVybiBtYXAoZVtuXSwoZnVuY3Rpb24oZSl7cmV0dXJuIGErZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShlKSl9KSkuam9pbih0KX1lbHNle3JldHVybiBhK2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoZVtuXSkpfX0pKS5qb2luKHQpfWlmKCFhKXJldHVyblwiXCI7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoYSkpK28rZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShlKSl9O3ZhciByPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PT1cIltvYmplY3QgQXJyYXldXCJ9O2Z1bmN0aW9uIG1hcChlLHIpe2lmKGUubWFwKXJldHVybiBlLm1hcChyKTt2YXIgbj1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7bi5wdXNoKHIoZVt0XSx0KSl9cmV0dXJuIG59dmFyIG49T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSlyLnB1c2gobil9cmV0dXJuIHJ9fX07dmFyIHI9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhuKXt2YXIgdD1yW25dO2lmKHQhPT11bmRlZmluZWQpe3JldHVybiB0LmV4cG9ydHN9dmFyIG89cltuXT17ZXhwb3J0czp7fX07dmFyIGE9dHJ1ZTt0cnl7ZVtuXShvLG8uZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTthPWZhbHNlfWZpbmFsbHl7aWYoYSlkZWxldGUgcltuXX1yZXR1cm4gby5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgbj17fTshZnVuY3Rpb24oKXt2YXIgZT1uO2UuZGVjb2RlPWUucGFyc2U9X19uY2N3cGNrX3JlcXVpcmVfXyg1NDApO2UuZW5jb2RlPWUuc3RyaW5naWZ5PV9fbmNjd3Bja19yZXF1aXJlX18oMTI4KX0oKTttb2R1bGUuZXhwb3J0cz1ufSkoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/querystring-es3/index.js\n");

/***/ }),

/***/ "./node_modules/next/head.js":
/*!***********************************!*\
  !*** ./node_modules/next/head.js ***!
  \***********************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./dist/shared/lib/head */ \"./node_modules/next/dist/shared/lib/head.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9oZWFkLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlIQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9oZWFkLmpzPzg4NDkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3Qvc2hhcmVkL2xpYi9oZWFkJylcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/head.js\n");

/***/ }),

/***/ "./node_modules/pdfjs-dist/build/pdf.js":
/*!**********************************************!*\
  !*** ./node_modules/pdfjs-dist/build/pdf.js ***!
  \**********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ([\n/* 0 */,\n/* 1 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.VerbosityLevel = exports.Util = exports.UnknownErrorException = exports.UnexpectedResponseException = exports.UNSUPPORTED_FEATURES = exports.TextRenderingMode = exports.StreamType = exports.RenderingIntentFlag = exports.PermissionFlag = exports.PasswordResponses = exports.PasswordException = exports.PageActionEventType = exports.OPS = exports.MissingPDFException = exports.InvalidPDFException = exports.ImageKind = exports.IDENTITY_MATRIX = exports.FormatError = exports.FontType = exports.FeatureTest = exports.FONT_IDENTITY_MATRIX = exports.DocumentActionEventType = exports.CMapCompressionType = exports.BaseException = exports.AnnotationType = exports.AnnotationStateModelType = exports.AnnotationReviewState = exports.AnnotationReplyType = exports.AnnotationMode = exports.AnnotationMarkedState = exports.AnnotationFlag = exports.AnnotationFieldFlag = exports.AnnotationBorderStyleType = exports.AnnotationActionEventType = exports.AbortException = void 0;\nexports.arrayByteLength = arrayByteLength;\nexports.arraysToBytes = arraysToBytes;\nexports.assert = assert;\nexports.bytesToString = bytesToString;\nexports.createPromiseCapability = createPromiseCapability;\nexports.createValidAbsoluteUrl = createValidAbsoluteUrl;\nexports.escapeString = escapeString;\nexports.getModificationDate = getModificationDate;\nexports.getVerbosityLevel = getVerbosityLevel;\nexports.info = info;\nexports.isArrayBuffer = isArrayBuffer;\nexports.isArrayEqual = isArrayEqual;\nexports.isAscii = isAscii;\nexports.objectFromMap = objectFromMap;\nexports.objectSize = objectSize;\nexports.setVerbosityLevel = setVerbosityLevel;\nexports.shadow = shadow;\nexports.string32 = string32;\nexports.stringToBytes = stringToBytes;\nexports.stringToPDFString = stringToPDFString;\nexports.stringToUTF16BEString = stringToUTF16BEString;\nexports.stringToUTF8String = stringToUTF8String;\nexports.unreachable = unreachable;\nexports.utf8StringToString = utf8StringToString;\nexports.warn = warn;\n\n__w_pdfjs_require__(2);\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nexports.IDENTITY_MATRIX = IDENTITY_MATRIX;\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nexports.FONT_IDENTITY_MATRIX = FONT_IDENTITY_MATRIX;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100\n};\nexports.RenderingIntentFlag = RenderingIntentFlag;\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nexports.AnnotationMode = AnnotationMode;\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nexports.PermissionFlag = PermissionFlag;\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nexports.TextRenderingMode = TextRenderingMode;\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nexports.ImageKind = ImageKind;\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nexports.AnnotationType = AnnotationType;\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\"\n};\nexports.AnnotationStateModelType = AnnotationStateModelType;\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\"\n};\nexports.AnnotationMarkedState = AnnotationMarkedState;\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\"\n};\nexports.AnnotationReviewState = AnnotationReviewState;\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nexports.AnnotationReplyType = AnnotationReplyType;\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nexports.AnnotationFlag = AnnotationFlag;\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nexports.AnnotationFieldFlag = AnnotationFieldFlag;\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nexports.AnnotationBorderStyleType = AnnotationBorderStyleType;\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nexports.AnnotationActionEventType = AnnotationActionEventType;\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nexports.DocumentActionEventType = DocumentActionEventType;\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nexports.PageActionEventType = PageActionEventType;\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\"\n};\nexports.StreamType = StreamType;\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1STANDARD: \"TYPE1STANDARD\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\"\n};\nexports.FontType = FontType;\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nexports.VerbosityLevel = VerbosityLevel;\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2\n};\nexports.CMapCompressionType = CMapCompressionType;\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\nexports.OPS = OPS;\nconst UNSUPPORTED_FEATURES = {\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  signatures: \"signatures\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontBuildPath: \"errorFontBuildPath\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n  errorContentSubStream: \"errorContentSubStream\"\n};\nexports.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nexports.PasswordResponses = PasswordResponses;\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n\n    default:\n      return false;\n  }\n}\n\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n\n        if (dots && dots.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch (ex) {}\n      }\n    }\n\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {}\n\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\n\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n\n    this.message = message;\n    this.name = name;\n  }\n\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\n\nexports.BaseException = BaseException;\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n\n}\n\nexports.PasswordException = PasswordException;\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n\n}\n\nexports.UnknownErrorException = UnknownErrorException;\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n\n}\n\nexports.InvalidPDFException = InvalidPDFException;\n\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n\n}\n\nexports.MissingPDFException = MissingPDFException;\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n\n}\n\nexports.UnexpectedResponseException = UnexpectedResponseException;\n\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n\n}\n\nexports.FormatError = FormatError;\n\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n\n}\n\nexports.AbortException = AbortException;\n\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes === null || bytes.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n\n  const strBuf = [];\n\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n\n  return bytes;\n}\n\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n\n  if (arr.byteLength !== undefined) {\n    return arr.byteLength;\n  }\n\n  unreachable(\"Invalid argument for arrayByteLength\");\n}\n\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n\n  let resultLength = 0;\n\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\n\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n\n}\n\nexports.FeatureTest = FeatureTest;\nconst hexNumbers = [...Array(256).keys()].map(n => n.toString(16).padStart(2, \"0\"));\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  static scaleMinMax(transform, minMax) {\n    let temp;\n\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[1];\n        minMax[1] = temp;\n      }\n\n      minMax[0] *= transform[0];\n      minMax[1] *= transform[0];\n\n      if (transform[3] < 0) {\n        temp = minMax[2];\n        minMax[2] = minMax[3];\n        minMax[3] = temp;\n      }\n\n      minMax[2] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[2];\n      minMax[2] = temp;\n      temp = minMax[1];\n      minMax[1] = minMax[3];\n      minMax[3] = temp;\n\n      if (transform[1] < 0) {\n        temp = minMax[2];\n        minMax[2] = minMax[3];\n        minMax[3] = temp;\n      }\n\n      minMax[2] *= transform[1];\n      minMax[3] *= transform[1];\n\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[1];\n        minMax[1] = temp;\n      }\n\n      minMax[0] *= transform[2];\n      minMax[1] *= transform[2];\n    }\n\n    minMax[0] += transform[4];\n    minMax[1] += transform[4];\n    minMax[2] += transform[5];\n    minMax[3] += transform[5];\n  }\n\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n\n  static apply3dTransform(m, v) {\n    return [m[0] * v[0] + m[1] * v[1] + m[2] * v[2], m[3] * v[0] + m[4] * v[1] + m[5] * v[2], m[6] * v[0] + m[7] * v[1] + m[8] * v[2]];\n  }\n\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n\n    return r;\n  }\n\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n\n    if (xLow > xHigh) {\n      return null;\n    }\n\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n\n    if (yLow > yHigh) {\n      return null;\n    }\n\n    return [xLow, yLow, xHigh, yHigh];\n  }\n\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n    const tvalues = [],\n          bounds = [[], []];\n    let a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n    for (let i = 0; i < 2; ++i) {\n      if (i === 0) {\n        b = 6 * x0 - 12 * x1 + 6 * x2;\n        a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n        c = 3 * x1 - 3 * x0;\n      } else {\n        b = 6 * y0 - 12 * y1 + 6 * y2;\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n        c = 3 * y1 - 3 * y0;\n      }\n\n      if (Math.abs(a) < 1e-12) {\n        if (Math.abs(b) < 1e-12) {\n          continue;\n        }\n\n        t = -c / b;\n\n        if (0 < t && t < 1) {\n          tvalues.push(t);\n        }\n\n        continue;\n      }\n\n      b2ac = b * b - 4 * c * a;\n      sqrtb2ac = Math.sqrt(b2ac);\n\n      if (b2ac < 0) {\n        continue;\n      }\n\n      t1 = (-b + sqrtb2ac) / (2 * a);\n\n      if (0 < t1 && t1 < 1) {\n        tvalues.push(t1);\n      }\n\n      t2 = (-b - sqrtb2ac) / (2 * a);\n\n      if (0 < t2 && t2 < 1) {\n        tvalues.push(t2);\n      }\n    }\n\n    let j = tvalues.length,\n        mt;\n    const jlen = j;\n\n    while (j--) {\n      t = tvalues[j];\n      mt = 1 - t;\n      bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n      bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return [Math.min(...bounds[0]), Math.min(...bounds[1]), Math.max(...bounds[0]), Math.max(...bounds[1])];\n  }\n\n}\n\nexports.Util = Util;\nconst PDFStringTranslateTable = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac];\n\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        return decoder.decode(buffer);\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n\n  const strBuf = [];\n\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const code = PDFStringTranslateTable[str.charCodeAt(i)];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  return str.replace(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n\n    return `\\\\${match}`;\n  });\n}\n\nfunction isAscii(str) {\n  return /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16BEString(str) {\n  const buf = [\"\\xFE\\xFF\"];\n\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(String.fromCharCode(char >> 8 & 0xff), String.fromCharCode(char & 0xff));\n  }\n\n  return buf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\n\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    }\n\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\n/***/ }),\n/* 2 */\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __w_pdfjs_require__) => {\n\n\n\nvar _is_node = __w_pdfjs_require__(3);\n\n;\n\n/***/ }),\n/* 3 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.isNodeJS = void 0;\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nexports.isNodeJS = isNodeJS;\n\n/***/ }),\n/* 4 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.build = exports.RenderTask = exports.PDFWorkerUtil = exports.PDFWorker = exports.PDFPageProxy = exports.PDFDocumentProxy = exports.PDFDocumentLoadingTask = exports.PDFDataRangeTransport = exports.LoopbackPort = exports.DefaultStandardFontDataFactory = exports.DefaultCanvasFactory = exports.DefaultCMapReaderFactory = void 0;\nexports.getDocument = getDocument;\nexports.setPDFNetworkStreamFactory = setPDFNetworkStreamFactory;\nexports.version = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nvar _font_loader = __w_pdfjs_require__(7);\n\nvar _annotation_storage = __w_pdfjs_require__(8);\n\nvar _canvas = __w_pdfjs_require__(10);\n\nvar _worker_options = __w_pdfjs_require__(13);\n\nvar _is_node = __w_pdfjs_require__(3);\n\nvar _message_handler = __w_pdfjs_require__(14);\n\nvar _metadata = __w_pdfjs_require__(15);\n\nvar _optional_content_config = __w_pdfjs_require__(16);\n\nvar _transport_stream = __w_pdfjs_require__(17);\n\nvar _xfa_text = __w_pdfjs_require__(18);\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nlet DefaultCanvasFactory = _display_utils.DOMCanvasFactory;\nexports.DefaultCanvasFactory = DefaultCanvasFactory;\nlet DefaultCMapReaderFactory = _display_utils.DOMCMapReaderFactory;\nexports.DefaultCMapReaderFactory = DefaultCMapReaderFactory;\nlet DefaultStandardFontDataFactory = _display_utils.DOMStandardFontDataFactory;\nexports.DefaultStandardFontDataFactory = DefaultStandardFontDataFactory;\n\nif (_is_node.isNodeJS) {\n  const {\n    NodeCanvasFactory,\n    NodeCMapReaderFactory,\n    NodeStandardFontDataFactory\n  } = __w_pdfjs_require__(19);\n\n  exports.DefaultCanvasFactory = DefaultCanvasFactory = NodeCanvasFactory;\n  exports.DefaultCMapReaderFactory = DefaultCMapReaderFactory = NodeCMapReaderFactory;\n  exports.DefaultStandardFontDataFactory = DefaultStandardFontDataFactory = NodeStandardFontDataFactory;\n}\n\nlet createPDFNetworkStream;\n\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n  let source;\n\n  if (typeof src === \"string\" || src instanceof URL) {\n    source = {\n      url: src\n    };\n  } else if ((0, _util.isArrayBuffer)(src)) {\n    source = {\n      data: src\n    };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = {\n      range: src\n    };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\"Invalid parameter in getDocument, \" + \"need either string, URL, Uint8Array, or parameter object.\");\n    }\n\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n    }\n\n    source = src;\n  }\n\n  const params = Object.create(null);\n  let rangeTransport = null,\n      worker = null;\n\n  for (const key in source) {\n    const value = source[key];\n\n    switch (key) {\n      case \"url\":\n        if (typeof window !== \"undefined\") {\n          try {\n            params[key] = new URL(value, window.location).href;\n            continue;\n          } catch (ex) {\n            (0, _util.warn)(`Cannot create valid URL: \"${ex}\".`);\n          }\n        } else if (typeof value === \"string\" || value instanceof URL) {\n          params[key] = value.toString();\n          continue;\n        }\n\n        throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n\n      case \"range\":\n        rangeTransport = value;\n        continue;\n\n      case \"worker\":\n        worker = value;\n        continue;\n\n      case \"data\":\n        if (_is_node.isNodeJS && typeof Buffer !== \"undefined\" && value instanceof Buffer) {\n          params[key] = new Uint8Array(value);\n        } else if (value instanceof Uint8Array) {\n          break;\n        } else if (typeof value === \"string\") {\n          params[key] = (0, _util.stringToBytes)(value);\n        } else if (typeof value === \"object\" && value !== null && !isNaN(value.length)) {\n          params[key] = new Uint8Array(value);\n        } else if ((0, _util.isArrayBuffer)(value)) {\n          params[key] = new Uint8Array(value);\n        } else {\n          throw new Error(\"Invalid PDF binary data: either typed array, \" + \"string, or array-like object is expected in the data property.\");\n        }\n\n        continue;\n    }\n\n    params[key] = value;\n  }\n\n  params.CMapReaderFactory = params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.StandardFontDataFactory = params.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n  params.enableXfa = params.enableXfa === true;\n\n  if (!Number.isInteger(params.rangeChunkSize) || params.rangeChunkSize < 1) {\n    params.rangeChunkSize = DEFAULT_RANGE_CHUNK_SIZE;\n  }\n\n  if (typeof params.docBaseUrl !== \"string\" || (0, _display_utils.isDataScheme)(params.docBaseUrl)) {\n    params.docBaseUrl = null;\n  }\n\n  if (!Number.isInteger(params.maxImageSize) || params.maxImageSize < -1) {\n    params.maxImageSize = -1;\n  }\n\n  if (typeof params.cMapUrl !== \"string\") {\n    params.cMapUrl = null;\n  }\n\n  if (typeof params.standardFontDataUrl !== \"string\") {\n    params.standardFontDataUrl = null;\n  }\n\n  if (typeof params.useWorkerFetch !== \"boolean\") {\n    params.useWorkerFetch = params.CMapReaderFactory === _display_utils.DOMCMapReaderFactory && params.StandardFontDataFactory === _display_utils.DOMStandardFontDataFactory;\n  }\n\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace = _is_node.isNodeJS;\n  }\n\n  if (typeof params.useSystemFonts !== \"boolean\") {\n    params.useSystemFonts = !_is_node.isNodeJS && !params.disableFontFace;\n  }\n\n  if (typeof params.ownerDocument !== \"object\" || params.ownerDocument === null) {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  (0, _util.setVerbosityLevel)(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: _worker_options.GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n\n  const docId = task.docId;\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n\n    const workerIdPromise = _fetchDocument(worker, params, rangeTransport, docId);\n\n    const networkStreamPromise = new Promise(function (resolve) {\n      let networkStream;\n\n      if (rangeTransport) {\n        networkStream = new _transport_stream.PDFDataTransportStream({\n          length: params.length,\n          initialData: params.initialData,\n          progressiveDone: params.progressiveDone,\n          contentDispositionFilename: params.contentDispositionFilename,\n          disableRange: params.disableRange,\n          disableStream: params.disableStream\n        }, rangeTransport);\n      } else if (!params.data) {\n        networkStream = createPDFNetworkStream({\n          url: params.url,\n          length: params.length,\n          httpHeaders: params.httpHeaders,\n          withCredentials: params.withCredentials,\n          rangeChunkSize: params.rangeChunkSize,\n          disableRange: params.disableRange,\n          disableStream: params.disableStream\n        });\n      }\n\n      resolve(networkStream);\n    });\n    return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const messageHandler = new _message_handler.MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, params);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\n\nasync function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n    source.contentDispositionFilename = pdfDataRangeTransport.contentDispositionFilename;\n  }\n\n  const workerId = await worker.messageHandler.sendWithPromise(\"GetDocRequest\", {\n    docId,\n    apiVersion: '2.14.305',\n    source: {\n      data: source.data,\n      url: source.url,\n      password: source.password,\n      disableAutoFetch: source.disableAutoFetch,\n      rangeChunkSize: source.rangeChunkSize,\n      length: source.length\n    },\n    maxImageSize: source.maxImageSize,\n    disableFontFace: source.disableFontFace,\n    docBaseUrl: source.docBaseUrl,\n    ignoreErrors: source.ignoreErrors,\n    isEvalSupported: source.isEvalSupported,\n    fontExtraProperties: source.fontExtraProperties,\n    enableXfa: source.enableXfa,\n    useSystemFonts: source.useSystemFonts,\n    cMapUrl: source.useWorkerFetch ? source.cMapUrl : null,\n    standardFontDataUrl: source.useWorkerFetch ? source.standardFontDataUrl : null\n  });\n\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n\n  return workerId;\n}\n\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n\n  constructor() {\n    this._capability = (0, _util.createPromiseCapability)();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n    this.onUnsupportedFeature = null;\n  }\n\n  get promise() {\n    return this._capability.promise;\n  }\n\n  async destroy() {\n    this.destroyed = true;\n    await this._transport?.destroy();\n    this._transport = null;\n\n    if (this._worker) {\n      this._worker.destroy();\n\n      this._worker = null;\n    }\n  }\n\n}\n\nexports.PDFDocumentLoadingTask = PDFDocumentLoadingTask;\n\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = (0, _util.createPromiseCapability)();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    (0, _util.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n\n}\n\nexports.PDFDataRangeTransport = PDFDataRangeTransport;\n\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n    Object.defineProperty(this, \"fingerprint\", {\n      get() {\n        (0, _display_utils.deprecated)(\"`PDFDocumentProxy.fingerprint`, \" + \"please use `PDFDocumentProxy.fingerprints` instead.\");\n        return this.fingerprints[0];\n      }\n\n    });\n    Object.defineProperty(this, \"getStats\", {\n      value: async () => {\n        (0, _display_utils.deprecated)(\"`PDFDocumentProxy.getStats`, \" + \"please use the `PDFDocumentProxy.stats`-getter instead.\");\n        return this.stats || {\n          streamTypes: {},\n          fontTypes: {}\n        };\n      }\n    });\n  }\n\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n\n  get stats() {\n    return this._transport.stats;\n  }\n\n  get isPureXfa() {\n    return !!this._transport._htmlForXfa;\n  }\n\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  getData() {\n    return this._transport.getData();\n  }\n\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  saveDocument() {\n    if (this._transport.annotationStorage.size <= 0) {\n      (0, _display_utils.deprecated)(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n\n    return this._transport.saveDocument();\n  }\n\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n\n}\n\nexports.PDFDocumentProxy = PDFDocumentProxy;\n\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new _display_utils.StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._bitmaps = new Set();\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this._annotationPromises = new Map();\n    this.destroyed = false;\n  }\n\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new _display_utils.PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const intentArgs = this._transport.getRenderingIntent(intent);\n\n    let promise = this._annotationPromises.get(intentArgs.cacheKey);\n\n    if (!promise) {\n      promise = this._transport.getAnnotations(this._pageIndex, intentArgs.renderingIntent);\n\n      this._annotationPromises.set(intentArgs.cacheKey, promise);\n\n      promise = promise.then(annotations => {\n        for (const annotation of annotations) {\n          if (annotation.titleObj !== undefined) {\n            Object.defineProperty(annotation, \"title\", {\n              get() {\n                (0, _display_utils.deprecated)(\"`title`-property on annotation, please use `titleObj` instead.\");\n                return annotation.titleObj.str;\n              }\n\n            });\n          }\n\n          if (annotation.contentsObj !== undefined) {\n            Object.defineProperty(annotation, \"contents\", {\n              get() {\n                (0, _display_utils.deprecated)(\"`contents`-property on annotation, please use `contentsObj` instead.\");\n                return annotation.contentsObj.str;\n              }\n\n            });\n          }\n        }\n\n        return annotations;\n      });\n    }\n\n    return promise;\n  }\n\n  getJSActions() {\n    return this._jsActionsPromise ||= this._transport.getPageJSActions(this._pageIndex);\n  }\n\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = _util.AnnotationMode.ENABLE,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null\n  }) {\n    if (arguments[0]?.renderInteractiveForms !== undefined) {\n      (0, _display_utils.deprecated)(\"render no longer accepts the `renderInteractiveForms`-option, \" + \"please use the `annotationMode`-option instead.\");\n\n      if (arguments[0].renderInteractiveForms === true && annotationMode === _util.AnnotationMode.ENABLE) {\n        annotationMode = _util.AnnotationMode.ENABLE_FORMS;\n      }\n    }\n\n    if (arguments[0]?.includeAnnotationStorage !== undefined) {\n      (0, _display_utils.deprecated)(\"render no longer accepts the `includeAnnotationStorage`-option, \" + \"please use the `annotationMode`-option instead.\");\n\n      if (arguments[0].includeAnnotationStorage === true && annotationMode === _util.AnnotationMode.ENABLE) {\n        annotationMode = _util.AnnotationMode.ENABLE_STORAGE;\n      }\n    }\n\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode);\n\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n\n    if (!intentState) {\n      intentState = Object.create(null);\n\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance = canvasFactory || new DefaultCanvasFactory({\n      ownerDocument: this._ownerDocument\n    });\n    const intentPrint = !!(intentArgs.renderingIntent & _util.RenderingIntentFlag.PRINT);\n\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = (0, _util.createPromiseCapability)();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n\n      this._pumpOperatorList(intentArgs);\n    }\n\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n\n      if (this.cleanupAfterRender || intentPrint) {\n        this.pendingCleanup = true;\n      }\n\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.pendingCleanup) {\n        complete();\n        return;\n      }\n\n      if (this._stats) {\n        this._stats.time(\"Rendering\");\n      }\n\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = _util.AnnotationMode.ENABLE\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, true);\n\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n\n    if (!intentState) {\n      intentState = Object.create(null);\n\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = (0, _util.createPromiseCapability)();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n\n      this._pumpOperatorList(intentArgs);\n    }\n\n    return intentState.opListReadCapability.promise;\n  }\n\n  streamTextContent({\n    disableCombineTextItems = false,\n    includeMarkedContent = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      combineTextItems: disableCombineTextItems !== true,\n      includeMarkedContent: includeMarkedContent === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n\n      size(textContent) {\n        return textContent.items.length;\n      }\n\n    });\n  }\n\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => {\n        return _xfa_text.XfaText.textContent(xfa);\n      });\n    }\n\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null)\n      };\n      pump();\n    });\n  }\n\n  getStructTree() {\n    return this._structTreePromise ||= this._transport.getStructTree(this._pageIndex);\n  }\n\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n\n    this.objs.clear();\n\n    for (const bitmap of this._bitmaps) {\n      bitmap.close();\n    }\n\n    this._bitmaps.clear();\n\n    this._annotationPromises.clear();\n\n    this._jsActionsPromise = null;\n    this._structTreePromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n\n    this.objs.clear();\n\n    this._annotationPromises.clear();\n\n    this._jsActionsPromise = null;\n    this._structTreePromise = null;\n\n    if (resetStats && this._stats) {\n      this._stats = new _display_utils.StatTimer();\n    }\n\n    for (const bitmap of this._bitmaps) {\n      bitmap.close();\n    }\n\n    this._bitmaps.clear();\n\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n\n    if (!intentState) {\n      return;\n    }\n\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey\n  }) {\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: renderingIntent & _util.RenderingIntentFlag.ANNOTATIONS_STORAGE ? this._transport.annotationStorage.serializable : null\n    });\n\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(cacheKey);\n\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n\n        if (this._transport.destroyed) {\n          return;\n        }\n\n        this._renderPageChunk(value, intentState);\n\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n\n        if (this._transport.destroyed) {\n          return;\n        }\n\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n\n          this._tryCleanup();\n        }\n\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n\n    pump();\n  }\n\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n\n      if (reason instanceof _display_utils.RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n\n    intentState.streamReader.cancel(new _util.AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return;\n    }\n\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n\n        break;\n      }\n    }\n\n    this.cleanup();\n  }\n\n  get stats() {\n    return this._stats;\n  }\n\n}\n\nexports.PDFPageProxy = PDFPageProxy;\n\nclass LoopbackPort {\n  constructor() {\n    this._listeners = [];\n    this._deferred = Promise.resolve();\n  }\n\n  postMessage(obj, transfers) {\n    const event = {\n      data: structuredClone(obj, transfers)\n    };\n\n    this._deferred.then(() => {\n      for (const listener of this._listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n\n}\n\nexports.LoopbackPort = LoopbackPort;\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fallbackWorkerSrc: null,\n  fakeWorkerId: 0\n};\nexports.PDFWorkerUtil = PDFWorkerUtil;\n{\n  if (_is_node.isNodeJS && \"function\" === \"function\") {\n    PDFWorkerUtil.isWorkerDisabled = true;\n    PDFWorkerUtil.fallbackWorkerSrc = \"./pdf.worker.js\";\n  } else if (typeof document === \"object\") {\n    const pdfjsFilePath = document?.currentScript?.src;\n\n    if (pdfjsFilePath) {\n      PDFWorkerUtil.fallbackWorkerSrc = pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, \".worker$1$2\");\n    }\n  }\n\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n\n    try {\n      base = new URL(baseUrl);\n\n      if (!base.origin || base.origin === \"null\") {\n        return false;\n      }\n    } catch (e) {\n      return false;\n    }\n\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    const wrapper = `importScripts(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper]));\n  };\n}\n\nclass PDFWorker {\n  static #workerPorts = new WeakMap();\n\n  constructor({\n    name = null,\n    port = null,\n    verbosity = (0, _util.getVerbosityLevel)()\n  } = {}) {\n    if (port && PDFWorker.#workerPorts.has(port)) {\n      throw new Error(\"Cannot use more than one PDFWorker per port.\");\n    }\n\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = (0, _util.createPromiseCapability)();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (port) {\n      PDFWorker.#workerPorts.set(port, this);\n\n      this._initializeFromPort(port);\n\n      return;\n    }\n\n    this._initialize();\n  }\n\n  get promise() {\n    return this._readyCapability.promise;\n  }\n\n  get port() {\n    return this._port;\n  }\n\n  get messageHandler() {\n    return this._messageHandler;\n  }\n\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new _message_handler.MessageHandler(\"main\", \"worker\", port);\n\n    this._messageHandler.on(\"ready\", function () {});\n\n    this._readyCapability.resolve();\n  }\n\n  _initialize() {\n    if (typeof Worker !== \"undefined\" && !PDFWorkerUtil.isWorkerDisabled && !PDFWorker._mainThreadWorkerMessageHandler) {\n      let workerSrc = PDFWorker.workerSrc;\n\n      try {\n        if (!PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n        }\n\n        const worker = new Worker(workerSrc);\n        const messageHandler = new _message_handler.MessageHandler(\"main\", \"worker\", worker);\n\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            this._setupFakeWorker();\n          }\n        };\n\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            terminateEarly();\n          }\n        };\n\n        worker.addEventListener(\"error\", onWorkerError);\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n\n            this._readyCapability.resolve();\n\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity\n            });\n          } else {\n            this._setupFakeWorker();\n\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n\n          try {\n            sendTest();\n          } catch (e) {\n            this._setupFakeWorker();\n          }\n        });\n\n        const sendTest = () => {\n          const testObj = new Uint8Array();\n          messageHandler.send(\"test\", testObj, [testObj.buffer]);\n        };\n\n        sendTest();\n        return;\n      } catch (e) {\n        (0, _util.info)(\"The worker has been disabled.\");\n      }\n    }\n\n    this._setupFakeWorker();\n  }\n\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      (0, _util.warn)(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n\n        return;\n      }\n\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n      const workerHandler = new _message_handler.MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      const messageHandler = new _message_handler.MessageHandler(id, id + \"_worker\", port);\n      this._messageHandler = messageHandler;\n\n      this._readyCapability.resolve();\n\n      messageHandler.send(\"configure\", {\n        verbosity: this.verbosity\n      });\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n\n  destroy() {\n    this.destroyed = true;\n\n    if (this._webWorker) {\n      this._webWorker.terminate();\n\n      this._webWorker = null;\n    }\n\n    PDFWorker.#workerPorts.delete(this._port);\n    this._port = null;\n\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n\n      this._messageHandler = null;\n    }\n  }\n\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n\n    if (this.#workerPorts.has(params.port)) {\n      return this.#workerPorts.get(params.port);\n    }\n\n    return new PDFWorker(params);\n  }\n\n  static get workerSrc() {\n    if (_worker_options.GlobalWorkerOptions.workerSrc) {\n      return _worker_options.GlobalWorkerOptions.workerSrc;\n    }\n\n    if (PDFWorkerUtil.fallbackWorkerSrc !== null) {\n      if (!_is_node.isNodeJS) {\n        (0, _display_utils.deprecated)('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n\n      return PDFWorkerUtil.fallbackWorkerSrc;\n    }\n\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  static get _mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch (ex) {\n      return null;\n    }\n  }\n\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      const mainWorkerMessageHandler = this._mainThreadWorkerMessageHandler;\n\n      if (mainWorkerMessageHandler) {\n        return mainWorkerMessageHandler;\n      }\n\n      if (_is_node.isNodeJS && \"function\" === \"function\") {\n        const worker = eval(\"require\")(this.workerSrc);\n        return worker.WorkerMessageHandler;\n      }\n\n      await (0, _display_utils.loadScript)(this.workerSrc);\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n\n    return (0, _util.shadow)(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n\n}\n\nexports.PDFWorker = PDFWorker;\n{\n  PDFWorker.getWorkerSrc = function () {\n    (0, _display_utils.deprecated)(\"`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead.\");\n    return this.workerSrc;\n  };\n}\n\nclass WorkerTransport {\n  #docStats = null;\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #metadataPromise = null;\n\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new _font_loader.FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this._params = params;\n\n    if (!params.useWorkerFetch) {\n      this.CMapReaderFactory = new params.CMapReaderFactory({\n        baseUrl: params.cMapUrl,\n        isCompressed: params.cMapPacked\n      });\n      this.StandardFontDataFactory = new params.StandardFontDataFactory({\n        baseUrl: params.standardFontDataUrl\n      });\n    }\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = (0, _util.createPromiseCapability)();\n    this.setupMessageHandler();\n  }\n\n  get annotationStorage() {\n    return (0, _util.shadow)(this, \"annotationStorage\", new _annotation_storage.AnnotationStorage());\n  }\n\n  get stats() {\n    return this.#docStats;\n  }\n\n  getRenderingIntent(intent, annotationMode = _util.AnnotationMode.ENABLE, isOpList = false) {\n    let renderingIntent = _util.RenderingIntentFlag.DISPLAY;\n    let annotationHash = \"\";\n\n    switch (intent) {\n      case \"any\":\n        renderingIntent = _util.RenderingIntentFlag.ANY;\n        break;\n\n      case \"display\":\n        break;\n\n      case \"print\":\n        renderingIntent = _util.RenderingIntentFlag.PRINT;\n        break;\n\n      default:\n        (0, _util.warn)(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n\n    switch (annotationMode) {\n      case _util.AnnotationMode.DISABLE:\n        renderingIntent += _util.RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n\n      case _util.AnnotationMode.ENABLE:\n        break;\n\n      case _util.AnnotationMode.ENABLE_FORMS:\n        renderingIntent += _util.RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n\n      case _util.AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += _util.RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        annotationHash = this.annotationStorage.hash;\n        break;\n\n      default:\n        (0, _util.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n\n    if (isOpList) {\n      renderingIntent += _util.RenderingIntentFlag.OPLIST;\n    }\n\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${annotationHash}`\n    };\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = (0, _util.createPromiseCapability)();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    }\n\n    const waitOn = [];\n\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#metadataPromise = null;\n      this._getFieldObjectsPromise = null;\n      this._hasJSActionsPromise = null;\n\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(new _util.AbortException(\"Worker was terminated.\"));\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      (0, _util.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n\n          (0, _util.assert)((0, _util.isArrayBuffer)(value), \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = (0, _util.createPromiseCapability)();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total\n            });\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      (0, _util.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n\n          (0, _util.assert)((0, _util.isArrayBuffer)(value), \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new _util.PasswordException(ex.message, ex.code);\n          break;\n\n        case \"InvalidPDFException\":\n          reason = new _util.InvalidPDFException(ex.message);\n          break;\n\n        case \"MissingPDFException\":\n          reason = new _util.MissingPDFException(ex.message);\n          break;\n\n        case \"UnexpectedResponseException\":\n          reason = new _util.UnexpectedResponseException(ex.message, ex.status);\n          break;\n\n        case \"UnknownErrorException\":\n          reason = new _util.UnknownErrorException(ex.message, ex.details);\n          break;\n\n        default:\n          (0, _util.unreachable)(\"DocException - expected a valid Error.\");\n      }\n\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = (0, _util.createPromiseCapability)();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this._passwordCapability.reject(password);\n          } else {\n            this._passwordCapability.resolve({\n              password\n            });\n          }\n        };\n\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(new _util.PasswordException(exception.message, exception.code));\n      }\n\n      return this._passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n\n      const page = this.#pageCache.get(data.pageIndex);\n\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return;\n      }\n\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            (0, _util.warn)(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n\n          if (params.pdfBug && globalThis.FontInspector?.enabled) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              }\n\n            };\n          }\n\n          const font = new _font_loader.FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry\n          });\n          this.fontLoader.bind(font).catch(reason => {\n            return messageHandler.sendWithPromise(\"FontFallback\", {\n              id\n            });\n          }).finally(() => {\n            if (!params.fontExtraProperties && font.data) {\n              font.data = null;\n            }\n\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n\n      const pageProxy = this.#pageCache.get(pageIndex);\n\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n\n          if (imageData) {\n            let length;\n\n            if (imageData.bitmap) {\n              const {\n                bitmap,\n                width,\n                height\n              } = imageData;\n              length = width * height * 4;\n\n              pageProxy._bitmaps.add(bitmap);\n            } else {\n              length = imageData.data?.length || 0;\n            }\n\n            if (length > MAX_IMAGE_SIZE_TO_STORE) {\n              pageProxy.cleanupAfterRender = true;\n            }\n          }\n\n          break;\n\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"DocStats\", data => {\n      if (this.destroyed) {\n        return;\n      }\n\n      this.#docStats = Object.freeze({\n        streamTypes: Object.freeze(data.streamTypes),\n        fontTypes: Object.freeze(data.fontTypes)\n      });\n    });\n    messageHandler.on(\"UnsupportedFeature\", this._onUnsupportedFeature.bind(this));\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n\n      if (!this.CMapReaderFactory) {\n        return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n\n      return this.CMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n\n      if (!this.StandardFontDataFactory) {\n        return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n\n      return this.StandardFontDataFactory.fetch(data);\n    });\n  }\n\n  _onUnsupportedFeature({\n    featureId\n  }) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.loadingTask.onUnsupportedFeature?.(featureId);\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n\n    const pageIndex = pageNumber - 1,\n          cachedPromise = this.#pagePromises.get(pageIndex);\n\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.ownerDocument, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    if (typeof ref !== \"object\" || ref === null || !Number.isInteger(ref.num) || ref.num < 0 || !Number.isInteger(ref.gen) || ref.gen < 0) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n\n  saveDocument() {\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: this.annotationStorage.serializable,\n      filename: this._fullReader?.filename ?? null\n    }).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n\n  getFieldObjects() {\n    return this._getFieldObjectsPromise ||= this.messageHandler.sendWithPromise(\"GetFieldObjects\", null);\n  }\n\n  hasJSActions() {\n    return this._hasJSActionsPromise ||= this.messageHandler.sendWithPromise(\"HasJSActions\", null);\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getDocJSActions() {\n    return this.messageHandler.sendWithPromise(\"GetDocJSActions\", null);\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler.sendWithPromise(\"GetOptionalContentConfig\", null).then(results => {\n      return new _optional_content_config.OptionalContentConfig(results);\n    });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.#metadataPromise ||= this.messageHandler.sendWithPromise(\"GetMetadata\", null).then(results => {\n      return {\n        info: results[0],\n        metadata: results[1] ? new _metadata.Metadata(results[1]) : null,\n        contentDispositionFilename: this._fullReader?.filename ?? null,\n        contentLength: this._fullReader?.contentLength ?? null\n      };\n    });\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  async startCleanup(keepLoadedFonts = false) {\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n\n    if (this.destroyed) {\n      return;\n    }\n\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n\n    this.commonObjs.clear();\n\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n\n    this.#metadataPromise = null;\n    this._getFieldObjectsPromise = null;\n    this._hasJSActionsPromise = null;\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return (0, _util.shadow)(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      enableXfa: params.enableXfa\n    });\n  }\n\n}\n\nclass PDFObjects {\n  #objs = Object.create(null);\n\n  #ensureObj(objId) {\n    const obj = this.#objs[objId];\n\n    if (obj) {\n      return obj;\n    }\n\n    return this.#objs[objId] = {\n      capability: (0, _util.createPromiseCapability)(),\n      data: null\n    };\n  }\n\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.capability.promise.then(() => callback(obj.data));\n      return null;\n    }\n\n    const obj = this.#objs[objId];\n\n    if (!obj?.capability.settled) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this.#objs[objId];\n    return obj?.capability.settled || false;\n  }\n\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.capability.resolve();\n  }\n\n  clear() {\n    this.#objs = Object.create(null);\n  }\n\n}\n\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n\n}\n\nexports.RenderTask = RenderTask;\n\nclass InternalRenderTask {\n  static #canvasInUse = new WeakSet();\n\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = (0, _util.createPromiseCapability)();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      imageLayer,\n      background\n    } = this.params;\n    this.gfx = new _canvas.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, imageLayer, optionalContentConfig, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n\n    if (this.graphicsReadyCallback) {\n      this.graphicsReadyCallback();\n    }\n  }\n\n  cancel(error = null) {\n    this.running = false;\n    this.cancelled = true;\n\n    if (this.gfx) {\n      this.gfx.endDrawing();\n    }\n\n    if (this._canvas) {\n      InternalRenderTask.#canvasInUse.delete(this._canvas);\n    }\n\n    this.callback(error || new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, \"canvas\"));\n  }\n\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      if (!this.graphicsReadyCallback) {\n        this.graphicsReadyCallback = this._continueBound;\n      }\n\n      return;\n    }\n\n    if (this.stepper) {\n      this.stepper.updateOperatorList(this.operatorList);\n    }\n\n    if (this.running) {\n      return;\n    }\n\n    this._continue();\n  }\n\n  _continue() {\n    this.running = true;\n\n    if (this.cancelled) {\n      return;\n    }\n\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n\n        if (this._canvas) {\n          InternalRenderTask.#canvasInUse.delete(this._canvas);\n        }\n\n        this.callback();\n      }\n    }\n  }\n\n}\n\nconst version = '2.14.305';\nexports.version = version;\nconst build = 'eaaa8b4ad';\nexports.build = build;\n\n/***/ }),\n/* 5 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.StatTimer = exports.RenderingCancelledException = exports.PixelsPerInch = exports.PageViewport = exports.PDFDateString = exports.DOMStandardFontDataFactory = exports.DOMSVGFactory = exports.DOMCanvasFactory = exports.DOMCMapReaderFactory = void 0;\nexports.deprecated = deprecated;\nexports.getFilenameFromUrl = getFilenameFromUrl;\nexports.getPdfFilenameFromUrl = getPdfFilenameFromUrl;\nexports.getXfaPageViewport = getXfaPageViewport;\nexports.isDataScheme = isDataScheme;\nexports.isPdfFile = isPdfFile;\nexports.isValidFetchUrl = isValidFetchUrl;\nexports.loadScript = loadScript;\n\nvar _base_factory = __w_pdfjs_require__(6);\n\nvar _util = __w_pdfjs_require__(1);\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\n\nexports.PixelsPerInch = PixelsPerInch;\n\nclass DOMCanvasFactory extends _base_factory.BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n}\n\nexports.DOMCanvasFactory = DOMCanvasFactory;\n\nasync function fetchData(url, asTypedArray = false) {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return asTypedArray ? new Uint8Array(await response.arrayBuffer()) : (0, _util.stringToBytes)(await response.text());\n  }\n\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n\n    if (asTypedArray) {\n      request.responseType = \"arraybuffer\";\n    }\n\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n\n      if (request.status === 200 || request.status === 0) {\n        let data;\n\n        if (asTypedArray && request.response) {\n          data = new Uint8Array(request.response);\n        } else if (!asTypedArray && request.responseText) {\n          data = (0, _util.stringToBytes)(request.responseText);\n        }\n\n        if (data) {\n          resolve(data);\n          return;\n        }\n      }\n\n      reject(new Error(request.statusText));\n    };\n\n    request.send(null);\n  });\n}\n\nclass DOMCMapReaderFactory extends _base_factory.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, this.isCompressed).then(data => {\n      return {\n        cMapData: data,\n        compressionType\n      };\n    });\n  }\n\n}\n\nexports.DOMCMapReaderFactory = DOMCMapReaderFactory;\n\nclass DOMStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, true);\n  }\n\n}\n\nexports.DOMStandardFontDataFactory = DOMStandardFontDataFactory;\n\nclass DOMSVGFactory extends _base_factory.BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n\n}\n\nexports.DOMSVGFactory = DOMSVGFactory;\n\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n\n    if (rotation < 0) {\n      rotation += 360;\n    }\n\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n\n  convertToViewportPoint(x, y) {\n    return _util.Util.applyTransform([x, y], this.transform);\n  }\n\n  convertToViewportRectangle(rect) {\n    const topLeft = _util.Util.applyTransform([rect[0], rect[1]], this.transform);\n\n    const bottomRight = _util.Util.applyTransform([rect[2], rect[3]], this.transform);\n\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  convertToPdfPoint(x, y) {\n    return _util.Util.applyInverseTransform([x, y], this.transform);\n  }\n\n}\n\nexports.PageViewport = PageViewport;\n\nclass RenderingCancelledException extends _util.BaseException {\n  constructor(msg, type) {\n    super(msg, \"RenderingCancelledException\");\n    this.type = type;\n  }\n\n}\n\nexports.RenderingCancelledException = RenderingCancelledException;\n\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\n\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(anchor > 0 ? anchor : url.length, query > 0 ? query : url.length);\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataScheme(url)) {\n    (0, _util.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      (0, _util.warn)(`Timer is already running for ${name}`);\n    }\n\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      (0, _util.warn)(`Timer has not been started for ${name}`);\n    }\n\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n\n    for (const time of this.times) {\n      const name = time.name;\n\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n\n    return outBuf.join(\"\");\n  }\n\n}\n\nexports.StatTimer = StatTimer;\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false;\n  }\n}\n\nfunction loadScript(src, removeScriptElement = false) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = function (evt) {\n      if (removeScriptElement) {\n        script.remove();\n      }\n\n      resolve(evt);\n    };\n\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    }\n\n    const matches = pdfDateStringRegex.exec(input);\n\n    if (!matches) {\n      return null;\n    }\n\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n\n}\n\nexports.PDFDateString = PDFDateString;\n\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\n\n/***/ }),\n/* 6 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseStandardFontDataFactory = exports.BaseSVGFactory = exports.BaseCanvasFactory = exports.BaseCMapReaderFactory = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      (0, _util.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n\n    const canvas = this._createCanvas(width, height);\n\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\")\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  _createCanvas(width, height) {\n    (0, _util.unreachable)(\"Abstract method `_createCanvas` called.\");\n  }\n\n}\n\nexports.BaseCanvasFactory = BaseCanvasFactory;\n\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = false\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      (0, _util.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? _util.CMapCompressionType.BINARY : _util.CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n\n  _fetchData(url, compressionType) {\n    (0, _util.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n\n}\n\nexports.BaseCMapReaderFactory = BaseCMapReaderFactory;\n\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      (0, _util.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n    }\n\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n\n  _fetchData(url) {\n    (0, _util.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n\n}\n\nexports.BaseStandardFontDataFactory = BaseStandardFontDataFactory;\n\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      (0, _util.unreachable)(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n\n    const svg = this._createSVG(\"svg:svg\");\n\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", `${width}px`);\n    svg.setAttribute(\"height\", `${height}px`);\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n\n    return this._createSVG(type);\n  }\n\n  _createSVG(type) {\n    (0, _util.unreachable)(\"Abstract method `_createSVG` called.\");\n  }\n\n}\n\nexports.BaseSVGFactory = BaseSVGFactory;\n\n/***/ }),\n/* 7 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FontLoader = exports.FontFaceObject = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      (0, _util.unreachable)(\"Cannot initialize BaseFontLoader.\");\n    }\n\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n    this.nativeFontFaces = [];\n    this.styleElement = null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n\n      this._document.documentElement.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    if (font.attached || font.missingFile) {\n      return;\n    }\n\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: _util.UNSUPPORTED_FEATURES.errorFontLoadNative\n          });\n\n          (0, _util.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n\n      return;\n    }\n\n    const rule = font.createFontFaceRule();\n\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    (0, _util.unreachable)(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return (0, _util.shadow)(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n\n  get isSyncFontLoadingSupported() {\n    (0, _util.unreachable)(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  get _loadTestFont() {\n    (0, _util.unreachable)(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    (0, _util.unreachable)(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n\n}\n\nlet FontLoader;\nexports.FontLoader = FontLoader;\n{\n  exports.FontLoader = FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n\n      if (typeof navigator === \"undefined\") {\n        supported = true;\n      } else {\n        const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n\n        if (m?.[1] >= 14) {\n          supported = true;\n        }\n      }\n\n      return (0, _util.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        (0, _util.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        return atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n      };\n\n      return (0, _util.shadow)(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      function int32(data, offset) {\n        return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n      }\n\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n\n      let i, ii;\n\n      const canvas = this._document.createElement(\"canvas\");\n\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n      let called = 0;\n\n      function isFontReady(name, callback) {\n        called++;\n\n        if (called > 30) {\n          (0, _util.warn)(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976;\n      data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858;\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n      }\n\n      if (i < loadTestFontId.length) {\n        checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n      }\n\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0, _util.string32)(checksum));\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n      const names = [];\n\n      for (const font of fonts) {\n        names.push(font.loadedName);\n      }\n\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (const name of names) {\n        const span = this._document.createElement(\"span\");\n\n        span.textContent = \"Hi\";\n        span.style.fontFamily = name;\n        div.appendChild(span);\n      }\n\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        div.remove();\n        request.complete();\n      });\n    }\n\n  };\n}\n\nclass FontFaceObject {\n  constructor(translatedData, {\n    isEvalSupported = true,\n    disableFontFace = false,\n    ignoreErrors = false,\n    onUnsupportedFeature,\n    fontRegistry = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n\n    let nativeFontFace;\n\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n\n    const data = (0, _util.bytesToString)(this.data);\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds;\n\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n\n      this._onUnsupportedFeature({\n        featureId: _util.UNSUPPORTED_FEATURES.errorFontGetPath\n      });\n\n      (0, _util.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n\n    if (this.isEvalSupported && _util.FeatureTest.isEvalSupported) {\n      const jsBuf = [];\n\n      for (const current of cmds) {\n        const args = current.args !== undefined ? current.args.join(\",\") : \"\";\n        jsBuf.push(\"c.\", current.cmd, \"(\", args, \");\\n\");\n      }\n\n      return this.compiledGlyphs[character] = new Function(\"c\", \"size\", jsBuf.join(\"\"));\n    }\n\n    return this.compiledGlyphs[character] = function (c, size) {\n      for (const current of cmds) {\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n\n        c[current.cmd].apply(c, current.args);\n      }\n    };\n  }\n\n}\n\nexports.FontFaceObject = FontFaceObject;\n\n/***/ }),\n/* 8 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AnnotationStorage = void 0;\n\nvar _murmurhash = __w_pdfjs_require__(9);\n\nvar _util = __w_pdfjs_require__(1);\n\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._modified = false;\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  getValue(key, defaultValue) {\n    const value = this._storage.get(key);\n\n    if (value === undefined) {\n      return defaultValue;\n    }\n\n    return Object.assign(defaultValue, value);\n  }\n\n  getRawValue(key) {\n    return this._storage.get(key);\n  }\n\n  setValue(key, value) {\n    const obj = this._storage.get(key);\n\n    let modified = false;\n\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n\n      this._storage.set(key, value);\n    }\n\n    if (modified) {\n      this._setModified();\n    }\n  }\n\n  getAll() {\n    return this._storage.size > 0 ? (0, _util.objectFromMap)(this._storage) : null;\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n  get serializable() {\n    return this._storage.size > 0 ? this._storage : null;\n  }\n\n  get hash() {\n    const hash = new _murmurhash.MurmurHash3_64();\n\n    for (const [key, value] of this._storage) {\n      hash.update(`${key}:${JSON.stringify(value)}`);\n    }\n\n    return hash.hexdigest();\n  }\n\n}\n\nexports.AnnotationStorage = AnnotationStorage;\n\n/***/ }),\n/* 9 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.MurmurHash3_64 = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\n\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n\n  update(input) {\n    let data, length;\n\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if ((0, _util.isArrayBuffer)(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Wrong data format in MurmurHash3_64_update. \" + \"Input must be a string or array.\");\n    }\n\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n        k2 = 0;\n    let h1 = this.h1,\n        h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n          C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n          C2_LOW = C2 & MASK_LOW;\n\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n\n    k1 = 0;\n\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n\n    }\n\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n\n  hexdigest() {\n    let h1 = this.h1,\n        h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    const hex1 = (h1 >>> 0).toString(16),\n          hex2 = (h2 >>> 0).toString(16);\n    return hex1.padStart(8, \"0\") + hex2.padStart(8, \"0\");\n  }\n\n}\n\nexports.MurmurHash3_64 = MurmurHash3_64;\n\n/***/ }),\n/* 10 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CanvasGraphics = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _pattern_helper = __w_pdfjs_require__(11);\n\nvar _image_utils = __w_pdfjs_require__(12);\n\nvar _is_node = __w_pdfjs_require__(3);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst COMPILE_TYPE3_GLYPHS = true;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nconst LINEWIDTH_SCALE_FACTOR = 1.000001;\n\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n\n  ctx.save = function ctxSave() {\n    destCtx.save();\n\n    this.__originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n\n    this.__originalRestore();\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n\n    this.__originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n\n    this.__originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n\n    this.__originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n\n    this.__originalRotate(angle);\n  };\n\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n\n    this.__originalClip(rule);\n  };\n\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n\n    this.__originalMoveTo(x, y);\n  };\n\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n\n    this.__originalLineTo(x, y);\n  };\n\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n\n    this.__originalRect(x, y, width, height);\n  };\n\n  ctx.closePath = function () {\n    destCtx.closePath();\n\n    this.__originalClosePath();\n  };\n\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n\n    this.__originalBeginPath();\n  };\n}\n\nfunction addContextCurrentTransform(ctx) {\n  if (ctx._transformStack) {\n    ctx._transformStack = [];\n  }\n\n  if (ctx.mozCurrentTransform) {\n    return;\n  }\n\n  ctx._originalSave = ctx.save;\n  ctx._originalRestore = ctx.restore;\n  ctx._originalRotate = ctx.rotate;\n  ctx._originalScale = ctx.scale;\n  ctx._originalTranslate = ctx.translate;\n  ctx._originalTransform = ctx.transform;\n  ctx._originalSetTransform = ctx.setTransform;\n  ctx._originalResetTransform = ctx.resetTransform;\n  ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n  ctx._transformStack = [];\n\n  try {\n    const desc = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ctx), \"lineWidth\");\n    ctx._setLineWidth = desc.set;\n    ctx._getLineWidth = desc.get;\n    Object.defineProperty(ctx, \"lineWidth\", {\n      set: function setLineWidth(width) {\n        this._setLineWidth(width * LINEWIDTH_SCALE_FACTOR);\n      },\n      get: function getLineWidth() {\n        return this._getLineWidth();\n      }\n    });\n  } catch (_) {}\n\n  Object.defineProperty(ctx, \"mozCurrentTransform\", {\n    get: function getCurrentTransform() {\n      return this._transformMatrix;\n    }\n  });\n  Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n    get: function getCurrentTransformInverse() {\n      const [a, b, c, d, e, f] = this._transformMatrix;\n      const ad_bc = a * d - b * c;\n      const bc_ad = b * c - a * d;\n      return [d / ad_bc, b / bc_ad, c / bc_ad, a / ad_bc, (d * e - c * f) / bc_ad, (b * e - a * f) / ad_bc];\n    }\n  });\n\n  ctx.save = function ctxSave() {\n    const old = this._transformMatrix;\n\n    this._transformStack.push(old);\n\n    this._transformMatrix = old.slice(0, 6);\n\n    this._originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    if (this._transformStack.length === 0) {\n      (0, _util.warn)(\"Tried to restore a ctx when the stack was already empty.\");\n    }\n\n    const prev = this._transformStack.pop();\n\n    if (prev) {\n      this._transformMatrix = prev;\n\n      this._originalRestore();\n    }\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    const m = this._transformMatrix;\n    m[4] = m[0] * x + m[2] * y + m[4];\n    m[5] = m[1] * x + m[3] * y + m[5];\n\n    this._originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    const m = this._transformMatrix;\n    m[0] *= x;\n    m[1] *= x;\n    m[2] *= y;\n    m[3] *= y;\n\n    this._originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    const m = this._transformMatrix;\n    this._transformMatrix = [m[0] * a + m[2] * b, m[1] * a + m[3] * b, m[0] * c + m[2] * d, m[1] * c + m[3] * d, m[0] * e + m[2] * f + m[4], m[1] * e + m[3] * f + m[5]];\n\n    ctx._originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    this._transformMatrix = [a, b, c, d, e, f];\n\n    ctx._originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    this._transformMatrix = [1, 0, 0, 1, 0, 0];\n\n    ctx._originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    const cosValue = Math.cos(angle);\n    const sinValue = Math.sin(angle);\n    const m = this._transformMatrix;\n    this._transformMatrix = [m[0] * cosValue + m[2] * sinValue, m[1] * cosValue + m[3] * sinValue, m[0] * -sinValue + m[2] * cosValue, m[1] * -sinValue + m[3] * cosValue, m[4], m[5]];\n\n    this._originalRotate(angle);\n  };\n}\n\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  getCanvas(id, width, height, trackTransform) {\n    let canvasEntry;\n\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n      canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n\n    if (trackTransform) {\n      addContextCurrentTransform(canvasEntry.context);\n    }\n\n    return canvasEntry;\n  }\n\n  delete(id) {\n    delete this.cache[id];\n  }\n\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n\n}\n\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = ctx.mozCurrentTransform;\n\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\n\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n\n  if (!COMPILE_TYPE3_GLYPHS || width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n      pos = 0;\n\n  for (const elem of imgData.data) {\n    let mask = 128;\n\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  let count = 0;\n  pos = 0;\n\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n\n    pos++;\n  }\n\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n\n      pos++;\n    }\n\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n\n    pos++;\n  }\n\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  let path, outlines, coords;\n\n  if (!_is_node.isNodeJS) {\n    path = new Path2D();\n  } else {\n    outlines = [];\n  }\n\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n\n    while (p < end && !points[p]) {\n      p++;\n    }\n\n    if (p === end) {\n      continue;\n    }\n\n    if (path) {\n      path.moveTo(p % width1, i);\n    } else {\n      coords = [p % width1, i];\n    }\n\n    const p0 = p;\n    let type = points[p];\n\n    do {\n      const step = steps[type];\n\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n\n      if (path) {\n        path.lineTo(p % width1, p / width1 | 0);\n      } else {\n        coords.push(p % width1, p / width1 | 0);\n      }\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n\n    if (!path) {\n      outlines.push(coords);\n    }\n\n    --i;\n  }\n\n  data = null;\n  points = null;\n\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n\n    if (path) {\n      c.fill(path);\n    } else {\n      c.beginPath();\n\n      for (const o of outlines) {\n        c.moveTo(o[0], o[1]);\n\n        for (let l = 2, ll = o.length; l < ll; l += 2) {\n          c.lineTo(o[l], o[l + 1]);\n        }\n      }\n\n      c.fill();\n    }\n\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = _util.IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = _util.TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = null;\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  updatePathMinMax(transform, x, y) {\n    [x, y] = _util.Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n\n  updateRectMinMax(transform, rect) {\n    const p1 = _util.Util.applyTransform(rect, transform);\n\n    const p2 = _util.Util.applyTransform(rect.slice(2), transform);\n\n    this.minX = Math.min(this.minX, p1[0], p2[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1]);\n  }\n\n  updateScalingPathMinMax(transform, minMax) {\n    _util.Util.scaleMinMax(transform, minMax);\n\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.maxX = Math.max(this.maxX, minMax[1]);\n    this.minY = Math.min(this.minY, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = _util.Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3);\n\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], box[0], box[2]);\n      minMax[1] = Math.max(minMax[1], box[0], box[2]);\n      minMax[2] = Math.min(minMax[2], box[1], box[3]);\n      minMax[3] = Math.max(minMax[3], box[1], box[3]);\n      return;\n    }\n\n    this.updateRectMinMax(transform, box);\n  }\n\n  getPathBoundingBox(pathType = _pattern_helper.PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n\n    if (pathType === _pattern_helper.PathType.STROKE) {\n      if (!transform) {\n        (0, _util.unreachable)(\"Stroke bounding box must include transform.\");\n      }\n\n      const scale = _util.Util.singularValueDecompose2dScale(transform);\n\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n\n    return box;\n  }\n\n  updateClipFromPath() {\n    const intersect = _util.Util.intersect(this.clipBox, this.getPathBoundingBox());\n\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n\n  getClippedPathBoundingBox(pathType = _pattern_helper.PathType.FILL, transform = null) {\n    return _util.Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n\n}\n\nfunction putBinaryImageData(ctx, imgData, transferMaps = null) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n\n  const height = imgData.height,\n        width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n      destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n\n  if (transferMaps) {\n    switch (transferMaps.length) {\n      case 1:\n        transferMapRed = transferMaps[0];\n        transferMapGreen = transferMaps[0];\n        transferMapBlue = transferMaps[0];\n        transferMapGray = transferMaps[0];\n        break;\n\n      case 4:\n        transferMapRed = transferMaps[0];\n        transferMapGreen = transferMaps[1];\n        transferMapBlue = transferMaps[2];\n        transferMapGray = transferMaps[3];\n        break;\n    }\n  }\n\n  if (imgData.kind === _util.ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    let white = 0xffffffff;\n    let black = _util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n\n    if (transferMapGray) {\n      if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n        [white, black] = [black, white];\n      }\n    }\n\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === _util.ImageKind.RGBA_32BPP) {\n    const hasTransferMaps = !!(transferMapRed || transferMapGreen || transferMapBlue);\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < elemsInThisChunk; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < elemsInThisChunk; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === _util.ImageKind.RGB_24BPP) {\n    const hasTransferMaps = !!(transferMapRed || transferMapGreen || transferMapBlue);\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n\n      destPos = 0;\n\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < destPos; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\n\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n\n  const height = imgData.height,\n        width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = (0, _image_utils.applyMaskImageData)({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\n\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\"];\n\n  for (let i = 0, ii = properties.length; i < ii; i++) {\n    const property = properties[i];\n\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\n\nfunction resetCtxToDefault(ctx, foregroundColor) {\n  ctx.strokeStyle = ctx.fillStyle = foregroundColor || \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n}\n\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n      bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n      bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n    }\n  }\n}\n\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = layerData[i] * alpha * scale | 0;\n  }\n}\n\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n\n  for (let i = 3; i < length; i += 4) {\n    const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n    layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n  }\n}\n\nfunction genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n  let composeFn;\n\n  if (subtype === \"Luminosity\") {\n    composeFn = composeSMaskLuminosity;\n  } else {\n    composeFn = composeSMaskAlpha;\n  }\n\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(layerOffsetX - maskOffsetX, row + (layerOffsetY - maskOffsetY), width, chunkHeight);\n    const layerData = layerCtx.getImageData(layerOffsetX, row + layerOffsetY, width, chunkHeight);\n\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n\n    composeFn(maskData.data, layerData.data, transferMap);\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\n\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n\n  genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\n\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  const scale = _util.Util.singularValueDecompose2dScale(transform);\n\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * _display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n\n  if (interpolate !== undefined) {\n    return interpolate;\n  } else if (scale[0] <= actualScale || scale[1] <= actualScale) {\n    return true;\n  }\n\n  return false;\n}\n\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\n\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, imageLayer, optionalContentConfig, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.backgroundColor = pageColors?.background || null;\n    this.foregroundColor = pageColors?.foreground || null;\n\n    if (canvasCtx) {\n      addContextCurrentTransform(canvasCtx);\n    }\n\n    this._cachedScaleForStroking = null;\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n\n    return fallback;\n  }\n\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const defaultBackgroundColor = background || \"#ffffff\";\n    this.ctx.save();\n\n    if (this.foregroundColor && this.backgroundColor) {\n      this.ctx.fillStyle = this.foregroundColor;\n      const fg = this.foregroundColor = this.ctx.fillStyle;\n      this.ctx.fillStyle = this.backgroundColor;\n      const bg = this.backgroundColor = this.ctx.fillStyle;\n      let isValidDefaultBg = true;\n      let defaultBg = defaultBackgroundColor;\n      this.ctx.fillStyle = defaultBackgroundColor;\n      defaultBg = this.ctx.fillStyle;\n      isValidDefaultBg = typeof defaultBg === \"string\" && /^#[0-9A-Fa-f]{6}$/.test(defaultBg);\n\n      if (fg === \"#000000\" && bg === \"#ffffff\" || fg === bg || !isValidDefaultBg) {\n        this.foregroundColor = this.backgroundColor = null;\n      } else {\n        const cB = parseInt(defaultBg.slice(1), 16);\n        const rB = (cB && 0xff0000) >> 16;\n        const gB = (cB && 0x00ff00) >> 8;\n        const bB = cB && 0x0000ff;\n\n        const newComp = x => {\n          x /= 255;\n          return x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n        };\n\n        const lumB = Math.round(0.2126 * newComp(rB) + 0.7152 * newComp(gB) + 0.0722 * newComp(bB));\n\n        this.selectColor = (r, g, b) => {\n          const lumC = 0.2126 * newComp(r) + 0.7152 * newComp(g) + 0.0722 * newComp(b);\n          return Math.round(lumC) === lumB ? bg : fg;\n        };\n      }\n    }\n\n    this.ctx.fillStyle = this.backgroundColor || defaultBackgroundColor;\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.restore();\n\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height, true);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n    }\n\n    this.ctx.save();\n    resetCtxToDefault(this.ctx, this.foregroundColor);\n\n    if (transform) {\n      this.ctx.transform.apply(this.ctx, transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n\n    this.ctx.transform.apply(this.ctx, viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n    if (this.imageLayer) {\n      this.imageLayer.beginLayout();\n    }\n  }\n\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n\n    if (argsArrayLen === i) {\n      return i;\n    }\n\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n\n      fnId = fnArray[i];\n\n      if (fnId !== _util.OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n\n      i++;\n\n      if (i === argsArrayLen) {\n        return i;\n      }\n\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n\n        steps = 0;\n      }\n    }\n  }\n\n  endDrawing() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n\n    this.ctx.restore();\n\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n\n      cache.clear();\n    }\n\n    this._cachedBitmapsMap.clear();\n\n    if (this.imageLayer) {\n      this.imageLayer.endLayout();\n    }\n  }\n\n  _scaleImage(img, inverseTransform) {\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n        paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n          newHeight = paintHeight;\n\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = Math.ceil(paintHeight / 2);\n        heightScale /= paintHeight / newHeight;\n      }\n\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight, false);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = ctx.mozCurrentTransform;\n    let cache, cacheKey, scaled, maskCanvas;\n\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      const withoutTranslation = currentTransform.slice(0, 4);\n      cacheKey = JSON.stringify(isPatternFill ? withoutTranslation : [withoutTranslation, fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n\n      if (!cache) {\n        cache = new Map();\n\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n\n      const cachedImage = cache.get(cacheKey);\n\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n\n      scaled = cachedImage;\n    }\n\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height, false);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n\n    let maskToCanvas = _util.Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n\n    maskToCanvas = _util.Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n\n    const cord1 = _util.Util.applyTransform([0, 0], maskToCanvas);\n\n    const cord2 = _util.Util.applyTransform([width, height], maskToCanvas);\n\n    const rect = _util.Util.normalizeRect([cord1[0], cord1[1], cord2[0], cord2[1]]);\n\n    const drawnWidth = Math.round(rect[2] - rect[0]) || 1;\n    const drawnHeight = Math.round(rect[3] - rect[1]) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight, true);\n    const fillCtx = fillCanvas.context;\n    const offsetX = Math.min(cord1[0], cord2[0]);\n    const offsetY = Math.min(cord1[1], cord2[1]);\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform.apply(fillCtx, maskToCanvas);\n\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, fillCtx.mozCurrentTransformInverse);\n      scaled = scaled.img;\n\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(fillCtx.mozCurrentTransform, img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n\n    const inverse = _util.Util.transform(fillCtx.mozCurrentTransformInverse, [1, 0, 0, 1, -offsetX, -offsetY]);\n\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, _pattern_helper.PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking = null;\n    }\n\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n\n  setRenderingIntent(intent) {}\n\n  setFlatness(flatness) {}\n\n  setGState(states) {\n    for (let i = 0, ii = states.length; i < ii; i++) {\n      const state = states[i];\n      const key = state[0];\n      const value = state[1];\n\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n\n        case \"CA\":\n          this.current.strokeAlpha = state[1];\n          break;\n\n        case \"ca\":\n          this.current.fillAlpha = state[1];\n          this.ctx.globalAlpha = state[1];\n          break;\n\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n\n        case \"TR\":\n          this.current.transferMaps = value;\n      }\n    }\n  }\n\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform.apply(ctx, this.suspendedCtx.mozCurrentTransform);\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n\n    this.ctx._removeMirroring();\n\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking = null;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking = null;\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n        y = current.y;\n    let startX, startY;\n    const currentTransform = ctx.mozCurrentTransform;\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case _util.OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n\n          ctx.closePath();\n          break;\n\n        case _util.OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n\n          break;\n\n        case _util.OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n\n          break;\n\n        case _util.OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n\n        case _util.OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n\n        case _util.OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n\n        case _util.OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n\n    current.setCurrentPoint(x, y);\n  }\n\n  closePath() {\n    this.ctx.closePath();\n  }\n\n  stroke(consumePath) {\n    consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, ctx.mozCurrentTransformInverse, _pattern_helper.PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n\n  fill(consumePath) {\n    consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, ctx.mozCurrentTransformInverse, _pattern_helper.PathType.FILL);\n      needRestore = true;\n    }\n\n    const intersect = this.current.getClippedPathBoundingBox();\n\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n\n    if (needRestore) {\n      ctx.restore();\n    }\n\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n\n  endPath() {\n    this.consumePath();\n  }\n\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n\n  beginText() {\n    this.current.textMatrix = _util.IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n\n    ctx.save();\n    ctx.beginPath();\n\n    for (let i = 0; i < paths.length; i++) {\n      const path = paths[i];\n      ctx.setTransform.apply(ctx, path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n\n    current.fontMatrix = fontObj.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      (0, _util.warn)(\"Invalid font matrix for font \" + fontRefName);\n    }\n\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n\n    if (fontObj.isType3Font) {\n      return;\n    }\n\n    const name = fontObj.loadedName || \"sans-serif\";\n    let bold = \"normal\";\n\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    const typeface = `\"${name}\", ${fontObj.fallbackName}`;\n    let browserFontSize = size;\n\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n\n      if (patternTransform) {\n        ctx.setTransform.apply(ctx, patternTransform);\n      }\n\n      if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n\n      if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n\n      if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n      paths.push({\n        transform: ctx.mozCurrentTransform,\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10, false);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n\n    return (0, _util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n\n    const fontSize = current.fontSize;\n\n    if (fontSize === 0) {\n      return undefined;\n    }\n\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === _util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform.apply(ctx, current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n\n    let patternTransform;\n\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, ctx.mozCurrentTransformInverse, _pattern_helper.PathType.FILL);\n      patternTransform = ctx.mozCurrentTransform;\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n\n      if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n\n    ctx.lineWidth = lineWidth;\n    let x = 0,\n        i;\n\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n\n      let charWidth;\n\n      if (vertical) {\n        charWidth = width * widthAdvanceScale - spacing * fontDirection;\n      } else {\n        charWidth = width * widthAdvanceScale + spacing * fontDirection;\n      }\n\n      x += charWidth;\n\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === _util.TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n\n    this._cachedScaleForStroking = null;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform.apply(ctx, current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n\n      if (!operatorList) {\n        (0, _util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n\n      const transformed = _util.Util.applyTransform([glyph.width, 0], fontMatrix);\n\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n\n    ctx.restore();\n    this.processingType3 = null;\n  }\n\n  setCharWidth(xWidth, yWidth) {}\n\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n\n  getColorN_Pattern(IR) {\n    let pattern;\n\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || this.ctx.mozCurrentTransform.slice();\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => {\n          return new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory);\n        }\n      };\n      pattern = new _pattern_helper.TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n\n    return pattern;\n  }\n\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n\n  setStrokeRGBColor(r, g, b) {\n    const color = this.selectColor?.(r, g, b) || _util.Util.makeHexColor(r, g, b);\n\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n\n  setFillRGBColor(r, g, b) {\n    const color = this.selectColor?.(r, g, b) || _util.Util.makeHexColor(r, g, b);\n\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n\n  _getPattern(objId, matrix = null) {\n    let pattern;\n\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = (0, _pattern_helper.getShadingPattern)(this.objs.get(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n\n    return pattern;\n  }\n\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const ctx = this.ctx;\n    this.save();\n\n    const pattern = this._getPattern(objId);\n\n    ctx.fillStyle = pattern.getPattern(ctx, this, ctx.mozCurrentTransformInverse, _pattern_helper.PathType.SHADING);\n    const inv = ctx.mozCurrentTransformInverse;\n\n    if (inv) {\n      const canvas = ctx.canvas;\n      const width = canvas.width;\n      const height = canvas.height;\n\n      const bl = _util.Util.applyTransform([0, 0], inv);\n\n      const br = _util.Util.applyTransform([0, height], inv);\n\n      const ul = _util.Util.applyTransform([width, 0], inv);\n\n      const ur = _util.Util.applyTransform([width, height], inv);\n\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n\n  beginInlineImage() {\n    (0, _util.unreachable)(\"Should not call beginInlineImage\");\n  }\n\n  beginImageData() {\n    (0, _util.unreachable)(\"Should not call beginImageData\");\n  }\n\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform.apply(this, matrix);\n    }\n\n    this.baseTransform = this.ctx.mozCurrentTransform;\n\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax(this.ctx.mozCurrentTransform, bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save();\n\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n\n    const currentCtx = this.ctx;\n\n    if (!group.isolated) {\n      (0, _util.info)(\"TODO: Support non-isolated groups.\");\n    }\n\n    if (group.knockout) {\n      (0, _util.warn)(\"Knockout groups not supported.\");\n    }\n\n    const currentTransform = currentCtx.mozCurrentTransform;\n\n    if (group.matrix) {\n      currentCtx.transform.apply(currentCtx, group.matrix);\n    }\n\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n\n    let bounds = _util.Util.getAxialAlignedBoundingBox(group.bbox, currentCtx.mozCurrentTransform);\n\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = _util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n        scaleY = 1;\n\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform.apply(groupCtx, currentTransform);\n\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = this.ctx.mozCurrentTransform;\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform.apply(this.ctx, currentMtx);\n\n      const dirtyBox = _util.Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n\n  beginAnnotations() {\n    this.save();\n\n    if (this.baseTransform) {\n      this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n    }\n  }\n\n  endAnnotations() {\n    this.restore();\n  }\n\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.save();\n\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n\n        const [scaleX, scaleY] = _util.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform);\n\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        const viewportScaleFactorStr = `var(--zoom-factor) * ${_display_utils.PixelsPerInch.PDF_TO_CSS_UNITS}`;\n        canvas.style.width = `calc(${width}px * ${viewportScaleFactorStr})`;\n        canvas.style.height = `calc(${height}px * ${viewportScaleFactorStr})`;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        addContextCurrentTransform(this.ctx);\n        resetCtxToDefault(this.ctx, this.foregroundColor);\n      } else {\n        resetCtxToDefault(this.ctx, this.foregroundColor);\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform.apply(this, transform);\n    this.transform.apply(this, matrix);\n  }\n\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n\n    this.restore();\n  }\n\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n\n    const mask = this._createMaskCanvas(img);\n\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = ctx.mozCurrentTransform;\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n\n    const mask = this._createMaskCanvas(img);\n\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = _util.Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n\n      const [x, y] = _util.Util.applyTransform([0, 0], trans);\n\n      ctx.drawImage(mask.canvas, x, y);\n    }\n\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n\n    for (let i = 0, ii = images.length; i < ii; i++) {\n      const image = images[i];\n      const width = image.width,\n            height = image.height;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height, false);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      putBinaryImageMask(maskCtx, image);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, ctx.mozCurrentTransformInverse, _pattern_helper.PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform.apply(ctx, image.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n\n    this.compose();\n  }\n\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const imgData = this.getObject(objId);\n\n    if (!imgData) {\n      (0, _util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    this.paintInlineImageXObject(imgData);\n  }\n\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const imgData = this.getObject(objId);\n\n    if (!imgData) {\n      (0, _util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n\n    if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height, false);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n      imgToPaint = tmpCanvas.canvas;\n    }\n\n    const scaled = this._scaleImage(imgToPaint, ctx.mozCurrentTransformInverse);\n\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(ctx.mozCurrentTransform, imgData.interpolate);\n    const [rWidth, rHeight] = drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n\n    if (this.imageLayer) {\n      const position = this.getCanvasPosition(0, -height);\n      this.imageLayer.appendImage({\n        imgData,\n        left: position[0],\n        top: position[1],\n        width: rWidth,\n        height: rHeight\n      });\n    }\n\n    this.compose();\n    this.restore();\n  }\n\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const ctx = this.ctx;\n    const w = imgData.width;\n    const h = imgData.height;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h, false);\n    const tmpCtx = tmpCanvas.context;\n    putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n    for (let i = 0, ii = map.length; i < ii; i++) {\n      const entry = map[i];\n      ctx.save();\n      ctx.transform.apply(ctx, entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n\n      if (this.imageLayer) {\n        const position = this.getCanvasPosition(entry.x, entry.y);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: w,\n          height: h\n        });\n      }\n\n      ctx.restore();\n    }\n\n    this.compose();\n  }\n\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n\n  markPoint(tag) {}\n\n  markPointProps(tag, properties) {}\n\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n\n    this.contentVisible = this.isContentVisible();\n  }\n\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n\n  beginCompat() {}\n\n  endCompat() {}\n\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n\n    const ctx = this.ctx;\n\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n\n      this.pendingClip = null;\n    }\n\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = this.ctx.mozCurrentTransform;\n\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n\n    return this._cachedGetSinglePixelWidth;\n  }\n\n  getScaleForStroking() {\n    if (!this._cachedScaleForStroking) {\n      const {\n        lineWidth\n      } = this.current;\n      const m = this.ctx.mozCurrentTransform;\n      let scaleX, scaleY;\n\n      if (m[1] === 0 && m[2] === 0) {\n        const normX = Math.abs(m[0]);\n        const normY = Math.abs(m[3]);\n\n        if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[1]);\n        const normY = Math.hypot(m[2], m[3]);\n\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n\n      this._cachedScaleForStroking = [scaleX, scaleY];\n    }\n\n    return this._cachedScaleForStroking;\n  }\n\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n\n    let savedMatrix, savedDashes, savedDashOffset;\n\n    if (saveRestore) {\n      savedMatrix = ctx.mozCurrentTransform.slice();\n      savedDashes = ctx.getLineDash().slice();\n      savedDashOffset = ctx.lineDashOffset;\n    }\n\n    ctx.scale(scaleX, scaleY);\n    const scale = Math.max(scaleX, scaleY);\n    ctx.setLineDash(ctx.getLineDash().map(x => x / scale));\n    ctx.lineDashOffset /= scale;\n    ctx.stroke();\n\n    if (saveRestore) {\n      ctx.setTransform(...savedMatrix);\n      ctx.setLineDash(savedDashes);\n      ctx.lineDashOffset = savedDashOffset;\n    }\n  }\n\n  getCanvasPosition(x, y) {\n    const transform = this.ctx.mozCurrentTransform;\n    return [transform[0] * x + transform[2] * y + transform[4], transform[1] * x + transform[3] * y + transform[5]];\n  }\n\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n}\n\nexports.CanvasGraphics = CanvasGraphics;\n\nfor (const op in _util.OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[_util.OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n/***/ }),\n/* 11 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TilingPattern = exports.PathType = void 0;\nexports.getShadingPattern = getShadingPattern;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _is_node = __w_pdfjs_require__(3);\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nexports.PathType = PathType;\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || _is_node.isNodeJS) {\n    return;\n  }\n\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      (0, _util.unreachable)(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n\n  getPattern() {\n    (0, _util.unreachable)(\"Abstract method `getPattern` called.\");\n  }\n\n}\n\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n\n  _createGradient(ctx) {\n    let grad;\n\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n\n    return grad;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, ctx.mozCurrentTransform) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height, true);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = _util.Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform.apply(tmpCtx, owner.baseTransform);\n\n      if (this.matrix) {\n        tmpCtx.transform.apply(tmpCtx, this.matrix);\n      }\n\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n\n      try {\n        pattern.setTransform(domMatrix);\n      } catch (ex) {\n        (0, _util.warn)(`RadialAxialShadingPattern.getPattern: \"${ex?.message}\".`);\n      }\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n\n    return pattern;\n  }\n\n}\n\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n        colors = context.colors;\n  const bytes = data.data,\n        rowSize = data.width * 4;\n  let tmp;\n\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n\n  if (y1 >= y3) {\n    return;\n  }\n\n  const c1r = colors[c1],\n        c1g = colors[c1 + 1],\n        c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n        c2g = colors[c2 + 1],\n        c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n        c3g = colors[c3 + 1],\n        c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n        maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      let k;\n\n      if (y < y1) {\n        k = 0;\n      } else {\n        k = (y1 - y) / (y1 - y2);\n      }\n\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n\n    let k;\n\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\n\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n\n      break;\n\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n\n      break;\n\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\n\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n\n    if (backgroundColor) {\n      const bytes = data.data;\n\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n\n    if (pathType === PathType.SHADING) {\n      scale = _util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n    } else {\n      scale = _util.Util.singularValueDecompose2dScale(owner.baseTransform);\n\n      if (this.matrix) {\n        const matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform.apply(ctx, owner.baseTransform);\n\n      if (this.matrix) {\n        ctx.transform.apply(ctx, this.matrix);\n      }\n    }\n\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n\n}\n\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n\n}\n\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\n\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\n\nclass TilingPattern {\n  static get MAX_PATTERN_SIZE() {\n    return (0, _util.shadow)(this, \"MAX_PATTERN_SIZE\", 3000);\n  }\n\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n    (0, _util.info)(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n          y0 = bbox[1],\n          x1 = bbox[2],\n          y1 = bbox[3];\n\n    const matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n\n    const curMatrixScale = _util.Util.singularValueDecompose2dScale(this.baseTransform);\n\n    const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n    const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n    const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n    graphics.baseTransform = graphics.ctx.mozCurrentTransform.slice();\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0\n    };\n  }\n\n  getSizeAndScale(step, realOutputSize, scale) {\n    step = Math.abs(step);\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n\n    return {\n      scale,\n      size\n    };\n  }\n\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax(graphics.ctx.mozCurrentTransform, [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n          current = graphics.current;\n\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n\n      case PaintType.UNCOLORED:\n        const cssColor = _util.Util.makeHexColor(color[0], color[1], color[2]);\n\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n\n      default:\n        throw new _util.FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n\n    if (pathType !== PathType.SHADING) {\n      matrix = _util.Util.transform(matrix, owner.baseTransform);\n\n      if (this.matrix) {\n        matrix = _util.Util.transform(matrix, this.matrix);\n      }\n    }\n\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n\n    try {\n      pattern.setTransform(domMatrix);\n    } catch (ex) {\n      (0, _util.warn)(`TilingPattern.getPattern: \"${ex?.message}\".`);\n    }\n\n    return pattern;\n  }\n\n}\n\nexports.TilingPattern = TilingPattern;\n\n/***/ }),\n/* 12 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.applyMaskImageData = applyMaskImageData;\n\nvar _util = __w_pdfjs_require__(1);\n\nfunction applyMaskImageData({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height,\n  inverseDecode = false\n}) {\n  const opaque = _util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = !inverseDecode ? [opaque, 0] : [0, opaque];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n\n    if (widthRemainder === 0) {\n      continue;\n    }\n\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n\n  return {\n    srcPos,\n    destPos\n  };\n}\n\n/***/ }),\n/* 13 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.GlobalWorkerOptions = void 0;\nconst GlobalWorkerOptions = Object.create(null);\nexports.GlobalWorkerOptions = GlobalWorkerOptions;\nGlobalWorkerOptions.workerPort = GlobalWorkerOptions.workerPort === undefined ? null : GlobalWorkerOptions.workerPort;\nGlobalWorkerOptions.workerSrc = GlobalWorkerOptions.workerSrc === undefined ? \"\" : GlobalWorkerOptions.workerSrc;\n\n/***/ }),\n/* 14 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.MessageHandler = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\n\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    (0, _util.unreachable)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n\n  switch (reason.name) {\n    case \"AbortException\":\n      return new _util.AbortException(reason.message);\n\n    case \"MissingPDFException\":\n      return new _util.MissingPDFException(reason.message);\n\n    case \"PasswordException\":\n      return new _util.PasswordException(reason.message, reason.code);\n\n    case \"UnexpectedResponseException\":\n      return new _util.UnexpectedResponseException(reason.message, reason.status);\n\n    case \"UnknownErrorException\":\n      return new _util.UnknownErrorException(reason.message, reason.details);\n\n    default:\n      return new _util.UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n\n      if (data.stream) {\n        this._processStreamMessage(data);\n\n        return;\n      }\n\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n\n        return;\n      }\n\n      const action = this.actionHandler[data.action];\n\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n\n      if (data.streamId) {\n        this._createStreamSink(data);\n\n        return;\n      }\n\n      action(data.data);\n    };\n\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n\n    ah[actionName] = handler;\n  }\n\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = (0, _util.createPromiseCapability)();\n    this.callbackCapabilities[callbackId] = capability;\n\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n\n    return capability.promise;\n  }\n\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n          sourceName = this.sourceName,\n          targetName = this.targetName,\n          comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = (0, _util.createPromiseCapability)();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = (0, _util.createPromiseCapability)();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        (0, _util.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = (0, _util.createPromiseCapability)();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n\n  _createStreamSink(data) {\n    const streamId = data.streamId,\n          sourceName = this.sourceName,\n          targetName = data.sourceName,\n          comObj = this.comObj;\n    const self = this,\n          action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = (0, _util.createPromiseCapability)();\n          this.ready = this.sinkCapability.promise;\n        }\n\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        (0, _util.assert)(reason instanceof Error, \"error must have a valid reason\");\n\n        if (this.isCancelled) {\n          return;\n        }\n\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n\n      sinkCapability: (0, _util.createPromiseCapability)(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n\n  _processStreamMessage(data) {\n    const streamId = data.streamId,\n          sourceName = this.sourceName,\n          targetName = data.sourceName,\n          comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n          streamSink = this.streamSinks[streamId];\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n\n        break;\n\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n\n        break;\n\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull && streamSink.onPull());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n\n      case StreamKind.ENQUEUE:\n        (0, _util.assert)(streamController, \"enqueue should have stream controller\");\n\n        if (streamController.isClosed) {\n          break;\n        }\n\n        streamController.controller.enqueue(data.chunk);\n        break;\n\n      case StreamKind.CLOSE:\n        (0, _util.assert)(streamController, \"close should have stream controller\");\n\n        if (streamController.isClosed) {\n          break;\n        }\n\n        streamController.isClosed = true;\n        streamController.controller.close();\n\n        this._deleteStreamController(streamController, streamId);\n\n        break;\n\n      case StreamKind.ERROR:\n        (0, _util.assert)(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n\n        this._deleteStreamController(streamController, streamId);\n\n        break;\n\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n\n        this._deleteStreamController(streamController, streamId);\n\n        break;\n\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel && streamSink.onCancel(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  async _deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall && streamController.startCall.promise, streamController.pullCall && streamController.pullCall.promise, streamController.cancelCall && streamController.cancelCall.promise]);\n    delete this.streamControllers[streamId];\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n}\n\nexports.MessageHandler = MessageHandler;\n\n/***/ }),\n/* 15 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Metadata = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nclass Metadata {\n  #metadataMap;\n  #data;\n\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n\n  getRaw() {\n    return this.#data;\n  }\n\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return (0, _util.objectFromMap)(this.#metadataMap);\n  }\n\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n\n}\n\nexports.Metadata = Metadata;\n\n/***/ }),\n/* 16 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.OptionalContentConfig = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n\n    for (const group of data.groups) {\n      this._groups.set(group.id, new OptionalContentGroup(group.name, group.intent));\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  _evaluateVisibilityExpression(array) {\n    const length = array.length;\n\n    if (length < 2) {\n      return true;\n    }\n\n    const operator = array[0];\n\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n\n      if (Array.isArray(element)) {\n        state = this._evaluateVisibilityExpression(element);\n      } else if (this._groups.has(element)) {\n        state = this._groups.get(element).visible;\n      } else {\n        (0, _util.warn)(`Optional content group not found: ${element}`);\n        return true;\n      }\n\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n\n          break;\n\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n\n          break;\n\n        case \"Not\":\n          return !state;\n\n        default:\n          return true;\n      }\n    }\n\n    return operator === \"And\";\n  }\n\n  isVisible(group) {\n    if (this._groups.size === 0) {\n      return true;\n    }\n\n    if (!group) {\n      (0, _util.warn)(\"Optional content group not defined.\");\n      return true;\n    }\n\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        (0, _util.warn)(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this._evaluateVisibilityExpression(group.expression);\n      }\n\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      (0, _util.warn)(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n\n    (0, _util.warn)(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      (0, _util.warn)(`Optional content group not found: ${id}`);\n      return;\n    }\n\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n\n    if (this._order) {\n      return this._order.slice();\n    }\n\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    return this._groups.size > 0 ? (0, _util.objectFromMap)(this._groups) : null;\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n\n}\n\nexports.OptionalContentConfig = OptionalContentConfig;\n\n/***/ }),\n/* 17 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFDataTransportStream = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    (0, _util.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n    this._contentDispositionFilename = params.contentDispositionFilename || null;\n    const initialData = params.initialData;\n\n    if (initialData?.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n\n        rangeReader._enqueue(buffer);\n\n        return true;\n      });\n\n      (0, _util.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      const firstReader = this._rangeReaders[0];\n\n      if (firstReader?.onProgress) {\n        firstReader.onProgress({\n          loaded: evt.loaded\n        });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n\n      if (fullReader?.onProgress) {\n        fullReader.onProgress({\n          loaded: evt.loaded,\n          total: evt.total\n        });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n\n    this._rangeReaders.push(reader);\n\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n\n    this._pdfDataRangeTransport.abort();\n  }\n\n}\n\nexports.PDFDataTransportStream = PDFDataTransportStream;\n\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = (0, _display_utils.isPdfFile)(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n\n    this._requests.length = 0;\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n\n    this._done = true;\n  }\n\n}\n\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n\n      this._requests.length = 0;\n    }\n\n    this._done = true;\n\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n\n    this._requests.length = 0;\n\n    this._stream._removeRangeReader(this);\n  }\n\n}\n\n/***/ }),\n/* 18 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.XfaText = void 0;\n\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n\n      let str = null;\n      const name = node.name;\n\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n\n      if (!node.children) {\n        return;\n      }\n\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n\n    walk(xfa);\n    return output;\n  }\n\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n\n}\n\nexports.XfaText = XfaText;\n\n/***/ }),\n/* 19 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.NodeStandardFontDataFactory = exports.NodeCanvasFactory = exports.NodeCMapReaderFactory = void 0;\n\nvar _base_factory = __w_pdfjs_require__(6);\n\n;\n\nconst fetchData = function (url) {\n  return new Promise((resolve, reject) => {\n    const fs = __webpack_require__(/*! fs */ \"?f8c1\");\n\n    fs.readFile(url, (error, data) => {\n      if (error || !data) {\n        reject(new Error(error));\n        return;\n      }\n\n      resolve(new Uint8Array(data));\n    });\n  });\n};\n\nclass NodeCanvasFactory extends _base_factory.BaseCanvasFactory {\n  _createCanvas(width, height) {\n    const Canvas = __webpack_require__(/*! canvas */ \"?8412\");\n\n    return Canvas.createCanvas(width, height);\n  }\n\n}\n\nexports.NodeCanvasFactory = NodeCanvasFactory;\n\nclass NodeCMapReaderFactory extends _base_factory.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url).then(data => {\n      return {\n        cMapData: data,\n        compressionType\n      };\n    });\n  }\n\n}\n\nexports.NodeCMapReaderFactory = NodeCMapReaderFactory;\n\nclass NodeStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url);\n  }\n\n}\n\nexports.NodeStandardFontDataFactory = NodeStandardFontDataFactory;\n\n/***/ }),\n/* 20 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AnnotationLayer = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nvar _annotation_storage = __w_pdfjs_require__(8);\n\nvar _scripting_utils = __w_pdfjs_require__(21);\n\nvar _xfa_layer = __w_pdfjs_require__(22);\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst GetElementsByNameSet = new WeakSet();\n\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\n\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case _util.AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case _util.AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case _util.AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n\n            return new PushButtonWidgetAnnotationElement(parameters);\n\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n\n        return new WidgetAnnotationElement(parameters);\n\n      case _util.AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case _util.AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case _util.AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case _util.AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case _util.AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case _util.AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case _util.AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case _util.AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case _util.AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case _util.AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case _util.AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case _util.AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case _util.AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case _util.AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case _util.AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n\n}\n\nclass AnnotationElement {\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this._mouseState = parameters.mouseState;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n\n    if (createQuadrilaterals) {\n      this.quadrilaterals = this._createQuadrilaterals(ignoreBorder);\n    }\n  }\n\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n          page = this.page,\n          viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let {\n      width,\n      height\n    } = getRectDims(data.rect);\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    const rect = _util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n\n    if (data.hasOwnCanvas) {\n      const transform = viewport.transform.slice();\n\n      const [scaleX, scaleY] = _util.Util.singularValueDecompose2dScale(transform);\n\n      width = Math.ceil(width * scaleX);\n      height = Math.ceil(height * scaleY);\n      rect[0] *= scaleX;\n      rect[1] *= scaleY;\n\n      for (let i = 0; i < 4; i++) {\n        transform[i] = Math.sign(transform[i]);\n      }\n\n      container.style.transform = `matrix(${transform.join(\",\")})`;\n    } else {\n      container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    }\n\n    container.style.transformOrigin = `${-rect[0]}px ${-rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n\n      if (data.borderStyle.style !== _util.AnnotationBorderStyleType.UNDERLINE) {\n        width -= 2 * data.borderStyle.width;\n        height -= 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case _util.AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case _util.AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case _util.AnnotationBorderStyleType.BEVELED:\n          (0, _util.warn)(\"Unimplemented border style: beveled\");\n          break;\n\n        case _util.AnnotationBorderStyleType.INSET:\n          (0, _util.warn)(\"Unimplemented border style: inset\");\n          break;\n\n        case _util.AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      const borderColor = data.borderColor || data.color || null;\n\n      if (borderColor) {\n        container.style.borderColor = _util.Util.makeHexColor(data.color[0] | 0, data.color[1] | 0, data.color[2] | 0);\n      } else {\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n\n    if (data.hasOwnCanvas) {\n      container.style.width = container.style.height = \"auto\";\n    } else {\n      container.style.width = `${width}px`;\n      container.style.height = `${height}px`;\n    }\n\n    return container;\n  }\n\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      event.target.style[styleName] = _scripting_utils.ColorConverters[`${color[0]}_HTML`](color.slice(1));\n    };\n\n    return (0, _util.shadow)(this, \"_commonActions\", {\n      display: event => {\n        const hidden = event.detail.display % 2 === 1;\n        event.target.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          hidden,\n          print: event.detail.display === 0 || event.detail.display === 3\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          print: event.detail.print\n        });\n      },\n      hidden: event => {\n        event.target.style.visibility = event.detail.hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          hidden: event.detail.hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        if (event.detail.readonly) {\n          event.target.setAttribute(\"readonly\", \"\");\n        } else {\n          event.target.removeAttribute(\"readonly\");\n        }\n      },\n      required: event => {\n        if (event.detail.required) {\n          event.target.setAttribute(\"required\", \"\");\n        } else {\n          event.target.removeAttribute(\"required\");\n        }\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      }\n    });\n  }\n\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n\n      if (action) {\n        action(jsEvent);\n      }\n    }\n  }\n\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n\n    if (!storedData) {\n      return;\n    }\n\n    const commonActions = this._commonActions;\n\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n\n      if (action) {\n        action({\n          detail,\n          target: element\n        });\n        delete storedData[actionName];\n      }\n    }\n  }\n\n  _createQuadrilaterals(ignoreBorder = false) {\n    if (!this.data.quadPoints) {\n      return null;\n    }\n\n    const quadrilaterals = [];\n    const savedRect = this.data.rect;\n\n    for (const quadPoint of this.data.quadPoints) {\n      this.data.rect = [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y];\n      quadrilaterals.push(this._createContainer(ignoreBorder));\n    }\n\n    this.data.rect = savedRect;\n    return quadrilaterals;\n  }\n\n  _createPopup(trigger, data) {\n    let container = this.container;\n\n    if (this.quadrilaterals) {\n      trigger = trigger || this.quadrilaterals;\n      container = this.quadrilaterals[0];\n    }\n\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      titleObj: data.titleObj,\n      modificationDate: data.modificationDate,\n      contentsObj: data.contentsObj,\n      richText: data.richText,\n      hideWrapper: true\n    });\n    const popup = popupElement.render();\n    popup.style.left = container.style.width;\n    container.appendChild(popup);\n  }\n\n  _renderQuadrilaterals(className) {\n    for (const quadrilateral of this.quadrilaterals) {\n      quadrilateral.className = className;\n    }\n\n    return this.quadrilaterals;\n  }\n\n  render() {\n    (0, _util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n\n          if (id === skipId) {\n            continue;\n          }\n\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.getElementById(id);\n\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            (0, _util.warn)(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n\n      return fields;\n    }\n\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        id,\n        exportValue\n      } = domElement;\n\n      if (id === skipId) {\n        continue;\n      }\n\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n\n    return fields;\n  }\n\n  static get platform() {\n    const platform = typeof navigator !== \"undefined\" ? navigator.platform : \"\";\n    return (0, _util.shadow)(this, \"platform\", {\n      isWin: platform.includes(\"Win\"),\n      isMac: platform.includes(\"Mac\")\n    });\n  }\n\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    const isRenderable = !!(parameters.data.url || parameters.data.dest || parameters.data.action || parameters.data.isTooltipOnly || parameters.data.resetForm || parameters.data.actions && (parameters.data.actions.Action || parameters.data.actions[\"Mouse Up\"] || parameters.data.actions[\"Mouse Down\"]));\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n    } else {\n      let hasClickAction = false;\n\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        hasClickAction = true;\n\n        this._bindJSAction(link, data);\n      }\n\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n      } else if (!hasClickAction) {\n        this._bindLink(link, \"\");\n      }\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"linkAnnotation\").map((quadrilateral, index) => {\n        const linkElement = index === 0 ? link : link.cloneNode();\n        quadrilateral.appendChild(linkElement);\n        return quadrilateral;\n      });\n    }\n\n    this.container.className = \"linkAnnotation\";\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n\n      return false;\n    };\n\n    if (destination || destination === \"\") {\n      link.className = \"internalLink\";\n    }\n  }\n\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n\n    link.className = \"internalLink\";\n  }\n\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n\n      if (!jsName) {\n        continue;\n      }\n\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n\n    link.className = \"internalLink\";\n  }\n\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n\n    link.className = \"internalLink\";\n\n    if (!this._fieldObjects) {\n      (0, _util.warn)(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n\n      return;\n    }\n\n    link.onclick = () => {\n      if (otherClickAction) {\n        otherClickAction();\n      }\n\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n\n      const storage = this.annotationStorage;\n      const allIds = [];\n\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n\n          default:\n            continue;\n        }\n\n        const domElement = document.getElementById(id);\n\n        if (!domElement || !GetElementsByNameSet.has(domElement)) {\n          continue;\n        }\n\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n\n      return false;\n    };\n  }\n\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable\n    });\n  }\n\n  render() {\n    this.container.className = \"textAnnotation\";\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({\n      type: this.data.name\n    });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n\n    return this.container;\n  }\n\n  _getKeyModifier(event) {\n    const {\n      isWin,\n      isMac\n    } = AnnotationElement.platform;\n    return isWin && event.ctrlKey || isMac && event.metaKey;\n  }\n\n  _setEventListener(element, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        this._setEventListener(element, baseName, eventName, getter);\n      }\n    }\n  }\n\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : _util.Util.makeHexColor(color[0], color[1], color[2]);\n  }\n\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.className = \"textWidgetAnnotation\";\n    let element = null;\n\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      const textContent = storedData.formattedValue || storedData.value || \"\";\n      const elementData = {\n        userValue: null,\n        formattedValue: null,\n        valueOnFocus: \"\"\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n\n      GetElementsByNameSet.add(element);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      elementData.userValue = textContent;\n      element.setAttribute(\"id\", id);\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n\n        event.target.scrollLeft = 0;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.userValue) {\n            event.target.value = elementData.userValue;\n          }\n\n          elementData.valueOnFocus = event.target.value;\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            }\n\n          };\n\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          let commitKey = -1;\n\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\") {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            commitKey = 3;\n          }\n\n          if (commitKey === -1) {\n            return;\n          }\n\n          const {\n            value\n          } = event.target;\n\n          if (elementData.valueOnFocus === value) {\n            return;\n          }\n\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n\n          if (this._mouseState.isDown && elementData.valueOnFocus !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: 1,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n\n          _blurListener(event);\n        });\n\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n                selEnd = selectionEnd;\n\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n\n                  break;\n                }\n\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n\n                  break;\n                }\n\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n\n                break;\n\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n\n                break;\n            }\n\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n\n        this._setEventListeners(element, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n    }\n\n    this._setTextStyle(element);\n\n    this._setBackgroundColor(element);\n\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontSize,\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const style = element.style;\n\n    if (fontSize) {\n      style.fontSize = `${fontSize}px`;\n    }\n\n    style.color = _util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.setAttribute(\"id\", id);\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n\n        };\n\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(element, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n\n    this._setBackgroundColor(element);\n\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.setAttribute(\"id\", id);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(element, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n\n    this._setBackgroundColor(element);\n\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n\n  render() {\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n\n    this._setDefaultPropertiesFromJS(container);\n\n    return container;\n  }\n\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    let {\n      fontSize\n    } = this.data.defaultAppearanceData;\n\n    if (!fontSize) {\n      fontSize = 9;\n    }\n\n    const fontSizeStyle = `calc(${fontSize}px * var(--zoom-factor))`;\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n    selectElement.setAttribute(\"id\", id);\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    selectElement.style.fontSize = `${fontSize}px`;\n\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n\n      if (this.data.combo) {\n        optionElement.style.fontSize = fontSizeStyle;\n      }\n\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n\n      selectElement.appendChild(optionElement);\n    }\n\n    const getValue = (event, isExport) => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const options = event.target.options;\n\n      if (!event.target.multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => {\n        return {\n          displayValue: option.textContent,\n          exportValue: option.value\n        };\n      });\n    };\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n\n            storage.setValue(id, {\n              value: getValue(event, true)\n            });\n          },\n\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n\n            storage.setValue(id, {\n              value: getValue(event, true),\n              items: getItems(event)\n            });\n          },\n\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n          },\n\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            selectElement.insertBefore(optionElement, selectElement.children[index]);\n            storage.setValue(id, {\n              value: getValue(event, true),\n              items: getItems(event)\n            });\n          },\n\n          items(event) {\n            const {\n              items\n            } = event.detail;\n\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.appendChild(optionElement);\n            }\n\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n\n            storage.setValue(id, {\n              value: getValue(event, true),\n              items: getItems(event)\n            });\n          },\n\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n\n            storage.setValue(id, {\n              value: getValue(event, true)\n            });\n          },\n\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n\n        };\n\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(event, true);\n        const value = getValue(event, false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value,\n            changeEx: exportValue,\n            willCommit: true,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n\n      this._setEventListeners(selectElement, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"]], event => event.target.checked);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(event, true)\n        });\n      });\n    }\n\n    this._setBackgroundColor(selectElement);\n\n    this._setDefaultPropertiesFromJS(selectElement);\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable\n    });\n  }\n\n  render() {\n    const IGNORE_TYPES = [\"Line\", \"Square\", \"Circle\", \"PolyLine\", \"Polygon\", \"Ink\"];\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElements = this.layer.querySelectorAll(selector);\n\n    if (parentElements.length === 0) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: Array.from(parentElements),\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText\n    });\n    const page = this.page;\n\n    const rect = _util.Util.normalizeRect([this.data.parentRect[0], page.view[3] - this.data.parentRect[1] + page.view[1], this.data.parentRect[2], page.view[3] - this.data.parentRect[3] + page.view[1]]);\n\n    const popupLeft = rect[0] + this.data.parentRect[2] - this.data.parentRect[0];\n    const popupTop = rect[1];\n    this.container.style.transformOrigin = `${-popupLeft}px ${-popupTop}px`;\n    this.container.style.left = `${popupLeft}px`;\n    this.container.style.top = `${popupTop}px`;\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.titleObj = parameters.titleObj;\n    this.modificationDate = parameters.modificationDate;\n    this.contentsObj = parameters.contentsObj;\n    this.richText = parameters.richText;\n    this.hideWrapper = parameters.hideWrapper || false;\n    this.pinned = false;\n  }\n\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.hidden = true;\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    const color = this.color;\n\n    if (color) {\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = _util.Util.makeHexColor(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.dir = this.titleObj.dir;\n    title.textContent = this.titleObj.str;\n    popup.appendChild(title);\n\n    const dateObject = _display_utils.PDFDateString.toDateObject(this.modificationDate);\n\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.className = \"popupDate\";\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString()\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    if (this.richText?.str && (!this.contentsObj?.str || this.contentsObj.str === this.richText.str)) {\n      _xfa_layer.XfaLayer.render({\n        xfaHtml: this.richText.html,\n        intent: \"richText\",\n        div: popup\n      });\n\n      popup.lastChild.className = \"richText popupContent\";\n    } else {\n      const contents = this._formatContents(this.contentsObj);\n\n      popup.appendChild(contents);\n    }\n\n    if (!Array.isArray(this.trigger)) {\n      this.trigger = [this.trigger];\n    }\n\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this._toggle.bind(this));\n      element.addEventListener(\"mouseover\", this._show.bind(this, false));\n      element.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    }\n\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.className = \"popupContent\";\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n\n    return p;\n  }\n\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n\n    if (this.hideElement.hidden) {\n      this.hideElement.hidden = false;\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n\n    if (!this.hideElement.hidden && !this.pinned) {\n      this.hideElement.hidden = true;\n      this.container.style.zIndex -= 1;\n    }\n  }\n\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    return this.container;\n  }\n\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"lineAnnotation\";\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height);\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    this._createPopup(line, data);\n\n    return this.container;\n  }\n\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"squareAnnotation\";\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height);\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    this._createPopup(square, data);\n\n    return this.container;\n  }\n\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"circleAnnotation\";\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    this._createPopup(circle, data);\n\n    return this.container;\n  }\n\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height);\n    let points = [];\n\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n\n    points = points.join(\" \");\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    this._createPopup(polyline, data);\n\n    return this.container;\n  }\n\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    return this.container;\n  }\n\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      let points = [];\n\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n\n      this._createPopup(polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"highlightAnnotation\");\n    }\n\n    this.container.className = \"highlightAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"underlineAnnotation\");\n    }\n\n    this.container.className = \"underlineAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"squigglyAnnotation\");\n    }\n\n    this.container.className = \"squigglyAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"strikeoutAnnotation\");\n    }\n\n    this.container.className = \"strikeoutAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.titleObj?.str || parameters.data.contentsObj?.str || parameters.data.richText?.str);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    return this.container;\n  }\n\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      filename,\n      content\n    } = this.data.file;\n    this.filename = (0, _display_utils.getFilenameFromUrl)(filename);\n    this.content = content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      filename,\n      content\n    });\n  }\n\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.titleObj?.str || this.data.contentsObj?.str || this.data.richText)) {\n      this._createPopup(trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  _download() {\n    this.downloadManager?.openOrDownloadData(this.container, this.content, this.filename);\n  }\n\n}\n\nclass AnnotationLayer {\n  static render(parameters) {\n    const sortedAnnotations = [],\n          popupAnnotations = [];\n\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n\n      const {\n        width,\n        height\n      } = getRectDims(data.rect);\n\n      if (width <= 0 || height <= 0) {\n        continue;\n      }\n\n      if (data.annotationType === _util.AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n\n      sortedAnnotations.push(data);\n    }\n\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    const div = parameters.div;\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderForms: parameters.renderForms !== false,\n        svgFactory: new _display_utils.DOMSVGFactory(),\n        annotationStorage: parameters.annotationStorage || new _annotation_storage.AnnotationStorage(),\n        enableScripting: parameters.enableScripting,\n        hasJSActions: parameters.hasJSActions,\n        fieldObjects: parameters.fieldObjects,\n        mouseState: parameters.mouseState || {\n          isDown: false\n        }\n      });\n\n      if (element.isRenderable) {\n        const rendered = element.render();\n\n        if (data.hidden) {\n          rendered.style.visibility = \"hidden\";\n        }\n\n        if (Array.isArray(rendered)) {\n          for (const renderedElement of rendered) {\n            div.appendChild(renderedElement);\n          }\n        } else {\n          if (element instanceof PopupAnnotationElement) {\n            div.prepend(rendered);\n          } else {\n            div.appendChild(rendered);\n          }\n        }\n      }\n    }\n\n    this.#setAnnotationCanvasMap(div, parameters.annotationCanvasMap);\n  }\n\n  static update(parameters) {\n    const {\n      page,\n      viewport,\n      annotations,\n      annotationCanvasMap,\n      div\n    } = parameters;\n    const transform = viewport.transform;\n    const matrix = `matrix(${transform.join(\",\")})`;\n    let scale, ownMatrix;\n\n    for (const data of annotations) {\n      const elements = div.querySelectorAll(`[data-annotation-id=\"${data.id}\"]`);\n\n      if (elements) {\n        for (const element of elements) {\n          if (data.hasOwnCanvas) {\n            const rect = _util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n\n            if (!ownMatrix) {\n              scale = Math.abs(transform[0] || transform[1]);\n              const ownTransform = transform.slice();\n\n              for (let i = 0; i < 4; i++) {\n                ownTransform[i] = Math.sign(ownTransform[i]);\n              }\n\n              ownMatrix = `matrix(${ownTransform.join(\",\")})`;\n            }\n\n            const left = rect[0] * scale;\n            const top = rect[1] * scale;\n            element.style.left = `${left}px`;\n            element.style.top = `${top}px`;\n            element.style.transformOrigin = `${-left}px ${-top}px`;\n            element.style.transform = ownMatrix;\n          } else {\n            element.style.transform = matrix;\n          }\n        }\n      }\n    }\n\n    this.#setAnnotationCanvasMap(div, annotationCanvasMap);\n    div.hidden = false;\n  }\n\n  static #setAnnotationCanvasMap(div, annotationCanvasMap) {\n    if (!annotationCanvasMap) {\n      return;\n    }\n\n    for (const [id, canvas] of annotationCanvasMap) {\n      const element = div.querySelector(`[data-annotation-id=\"${id}\"]`);\n\n      if (!element) {\n        continue;\n      }\n\n      const {\n        firstChild\n      } = element;\n\n      if (firstChild.nodeName === \"CANVAS\") {\n        element.replaceChild(canvas, firstChild);\n      } else {\n        element.insertBefore(canvas, firstChild);\n      }\n    }\n\n    annotationCanvasMap.clear();\n  }\n\n}\n\nexports.AnnotationLayer = AnnotationLayer;\n\n/***/ }),\n/* 21 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ColorConverters = void 0;\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\n\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_HTML([r, g, b]) {\n    const R = makeColorComp(r);\n    const G = makeColorComp(g);\n    const B = makeColorComp(b);\n    return `#${R}${G}${B}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n\n  static CMYK_HTML(components) {\n    return this.RGB_HTML(this.CMYK_RGB(components));\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n\n}\n\nexports.ColorConverters = ColorConverters;\n\n/***/ }),\n/* 22 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.XfaLayer = void 0;\n\nvar _xfa_text = __w_pdfjs_require__(18);\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n\n        if (intent === \"print\") {\n          break;\n        }\n\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n\n          if (intent === \"print\") {\n            break;\n          }\n\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n\n          if (intent === \"print\") {\n            break;\n          }\n\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n\n        break;\n\n      case \"select\":\n        if (storedData.value !== null) {\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            }\n          }\n        }\n\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined || key === \"dataId\") {\n        continue;\n      }\n\n      if (key !== \"style\") {\n        if (key === \"textContent\") {\n          html.textContent = value;\n        } else if (key === \"class\") {\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n        } else {\n          if (isHTMLAnchorElement && (key === \"href\" || key === \"newWindow\")) {\n            continue;\n          }\n\n          html.setAttribute(key, value);\n        }\n      } else {\n        Object.assign(html.style, value);\n      }\n    }\n\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n\n    const stack = [[root, -1, rootHtml]];\n    const rootDiv = parameters.div;\n    rootDiv.appendChild(rootHtml);\n\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n\n    if (intent !== \"richText\") {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n\n    const textDivs = [];\n\n    while (stack.length > 0) {\n      const [parent, i, html] = stack[stack.length - 1];\n\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n\n      const child = parent.children[++stack[stack.length - 1][1]];\n\n      if (child === null) {\n        continue;\n      }\n\n      const {\n        name\n      } = child;\n\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.appendChild(node);\n        continue;\n      }\n\n      let childHtml;\n\n      if (child?.attributes?.xmlns) {\n        childHtml = document.createElementNS(child.attributes.xmlns, name);\n      } else {\n        childHtml = document.createElement(name);\n      }\n\n      html.appendChild(childHtml);\n\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n\n      if (child.children && child.children.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n\n        if (_xfa_text.XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n\n        childHtml.appendChild(node);\n      }\n    }\n\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n\n    return {\n      textDivs\n    };\n  }\n\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n\n}\n\nexports.XfaLayer = XfaLayer;\n\n/***/ }),\n/* 23 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.renderTextLayer = renderTextLayer;\n\nvar _util = __w_pdfjs_require__(1);\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nconst AllWhitespaceRegexp = /^\\s+$/g;\n\nfunction getAscent(fontFamily, ctx) {\n  const cachedAscent = ascentCache.get(fontFamily);\n\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n\n  ctx.save();\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n\n  if (ascent) {\n    ctx.restore();\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  descent = 0;\n\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  ctx.restore();\n\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\n\nfunction appendText(task, geom, styles, ctx) {\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = task._enhanceTextSelection ? {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL,\n    originalTransform: null,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    paddingRight: 0,\n    paddingTop: 0,\n    scale: 1\n  } : {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL\n  };\n\n  task._textDivs.push(textDiv);\n\n  const tx = _util.Util.transform(task._viewport.transform, geom.transform);\n\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(style.fontFamily, ctx);\n  let left, top;\n\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n\n  textDiv.style.left = `${left}px`;\n  textDiv.style.top = `${top}px`;\n  textDiv.style.fontSize = `${fontHeight}px`;\n  textDiv.style.fontFamily = style.fontFamily;\n  textDiv.setAttribute(\"role\", \"presentation\");\n  textDiv.textContent = geom.str;\n  textDiv.dir = geom.dir;\n\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = geom.fontName;\n  }\n\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n\n  let shouldScaleText = false;\n\n  if (geom.str.length > 1 || task._enhanceTextSelection && AllWhitespaceRegexp.test(geom.str)) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n          absScaleY = Math.abs(geom.transform[3]);\n\n    if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n      shouldScaleText = true;\n    }\n  }\n\n  if (shouldScaleText) {\n    if (style.vertical) {\n      textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n    } else {\n      textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n    }\n  }\n\n  task._textDivProperties.set(textDiv, textDivProperties);\n\n  if (task._textContentStream) {\n    task._layoutText(textDiv);\n  }\n\n  if (task._enhanceTextSelection && textDivProperties.hasText) {\n    let angleCos = 1,\n        angleSin = 0;\n\n    if (angle !== 0) {\n      angleCos = Math.cos(angle);\n      angleSin = Math.sin(angle);\n    }\n\n    const divWidth = (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n    const divHeight = fontHeight;\n    let m, b;\n\n    if (angle !== 0) {\n      m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n      b = _util.Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n    } else {\n      b = [left, top, left + divWidth, top + divHeight];\n    }\n\n    task._bounds.push({\n      left: b[0],\n      top: b[1],\n      right: b[2],\n      bottom: b[3],\n      div: textDiv,\n      size: [divWidth, divHeight],\n      m\n    });\n  }\n}\n\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    task._renderingDone = true;\n    capability.resolve();\n    return;\n  }\n\n  if (!task._textContentStream) {\n    for (let i = 0; i < textDivsLength; i++) {\n      task._layoutText(textDivs[i]);\n    }\n  }\n\n  task._renderingDone = true;\n  capability.resolve();\n}\n\nfunction findPositiveMin(ts, offset, count) {\n  let result = 0;\n\n  for (let i = 0; i < count; i++) {\n    const t = ts[offset++];\n\n    if (t > 0) {\n      result = result ? Math.min(t, result) : t;\n    }\n  }\n\n  return result;\n}\n\nfunction expand(task) {\n  const bounds = task._bounds;\n  const viewport = task._viewport;\n  const expanded = expandBounds(viewport.width, viewport.height, bounds);\n\n  for (let i = 0; i < expanded.length; i++) {\n    const div = bounds[i].div;\n\n    const divProperties = task._textDivProperties.get(div);\n\n    if (divProperties.angle === 0) {\n      divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n      divProperties.paddingTop = bounds[i].top - expanded[i].top;\n      divProperties.paddingRight = expanded[i].right - bounds[i].right;\n      divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n\n      task._textDivProperties.set(div, divProperties);\n\n      continue;\n    }\n\n    const e = expanded[i],\n          b = bounds[i];\n    const m = b.m,\n          c = m[0],\n          s = m[1];\n    const points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n    const ts = new Float64Array(64);\n\n    for (let j = 0, jj = points.length; j < jj; j++) {\n      const t = _util.Util.applyTransform(points[j], m);\n\n      ts[j + 0] = c && (e.left - t[0]) / c;\n      ts[j + 4] = s && (e.top - t[1]) / s;\n      ts[j + 8] = c && (e.right - t[0]) / c;\n      ts[j + 12] = s && (e.bottom - t[1]) / s;\n      ts[j + 16] = s && (e.left - t[0]) / -s;\n      ts[j + 20] = c && (e.top - t[1]) / c;\n      ts[j + 24] = s && (e.right - t[0]) / -s;\n      ts[j + 28] = c && (e.bottom - t[1]) / c;\n      ts[j + 32] = c && (e.left - t[0]) / -c;\n      ts[j + 36] = s && (e.top - t[1]) / -s;\n      ts[j + 40] = c && (e.right - t[0]) / -c;\n      ts[j + 44] = s && (e.bottom - t[1]) / -s;\n      ts[j + 48] = s && (e.left - t[0]) / s;\n      ts[j + 52] = c && (e.top - t[1]) / -c;\n      ts[j + 56] = s && (e.right - t[0]) / s;\n      ts[j + 60] = c && (e.bottom - t[1]) / -c;\n    }\n\n    const boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n    divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n    divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n    divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n    divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n\n    task._textDivProperties.set(div, divProperties);\n  }\n}\n\nfunction expandBounds(width, height, boxes) {\n  const bounds = boxes.map(function (box, i) {\n    return {\n      x1: box.left,\n      y1: box.top,\n      x2: box.right,\n      y2: box.bottom,\n      index: i,\n      x1New: undefined,\n      x2New: undefined\n    };\n  });\n  expandBoundsLTR(width, bounds);\n  const expanded = new Array(boxes.length);\n\n  for (const b of bounds) {\n    const i = b.index;\n    expanded[i] = {\n      left: b.x1New,\n      top: 0,\n      right: b.x2New,\n      bottom: 0\n    };\n  }\n\n  boxes.map(function (box, i) {\n    const e = expanded[i],\n          b = bounds[i];\n    b.x1 = box.top;\n    b.y1 = width - e.right;\n    b.x2 = box.bottom;\n    b.y2 = width - e.left;\n    b.index = i;\n    b.x1New = undefined;\n    b.x2New = undefined;\n  });\n  expandBoundsLTR(height, bounds);\n\n  for (const b of bounds) {\n    const i = b.index;\n    expanded[i].top = b.x1New;\n    expanded[i].bottom = b.x2New;\n  }\n\n  return expanded;\n}\n\nfunction expandBoundsLTR(width, bounds) {\n  bounds.sort(function (a, b) {\n    return a.x1 - b.x1 || a.index - b.index;\n  });\n  const fakeBoundary = {\n    x1: -Infinity,\n    y1: -Infinity,\n    x2: 0,\n    y2: Infinity,\n    index: -1,\n    x1New: 0,\n    x2New: 0\n  };\n  const horizon = [{\n    start: -Infinity,\n    end: Infinity,\n    boundary: fakeBoundary\n  }];\n\n  for (const boundary of bounds) {\n    let i = 0;\n\n    while (i < horizon.length && horizon[i].end <= boundary.y1) {\n      i++;\n    }\n\n    let j = horizon.length - 1;\n\n    while (j >= 0 && horizon[j].start >= boundary.y2) {\n      j--;\n    }\n\n    let horizonPart, affectedBoundary;\n    let q,\n        k,\n        maxXNew = -Infinity;\n\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      let xNew;\n\n      if (affectedBoundary.x2 > boundary.x1) {\n        xNew = affectedBoundary.index > boundary.index ? affectedBoundary.x1New : boundary.x1;\n      } else if (affectedBoundary.x2New === undefined) {\n        xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n      } else {\n        xNew = affectedBoundary.x2New;\n      }\n\n      if (xNew > maxXNew) {\n        maxXNew = xNew;\n      }\n    }\n\n    boundary.x1New = maxXNew;\n\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n\n      if (affectedBoundary.x2New === undefined) {\n        if (affectedBoundary.x2 > boundary.x1) {\n          if (affectedBoundary.index > boundary.index) {\n            affectedBoundary.x2New = affectedBoundary.x2;\n          }\n        } else {\n          affectedBoundary.x2New = maxXNew;\n        }\n      } else if (affectedBoundary.x2New > maxXNew) {\n        affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n      }\n    }\n\n    const changedHorizon = [];\n    let lastBoundary = null;\n\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      const useBoundary = affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n\n      if (lastBoundary === useBoundary) {\n        changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n      } else {\n        changedHorizon.push({\n          start: horizonPart.start,\n          end: horizonPart.end,\n          boundary: useBoundary\n        });\n        lastBoundary = useBoundary;\n      }\n    }\n\n    if (horizon[i].start < boundary.y1) {\n      changedHorizon[0].start = boundary.y1;\n      changedHorizon.unshift({\n        start: horizon[i].start,\n        end: boundary.y1,\n        boundary: horizon[i].boundary\n      });\n    }\n\n    if (boundary.y2 < horizon[j].end) {\n      changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n      changedHorizon.push({\n        start: boundary.y2,\n        end: horizon[j].end,\n        boundary: horizon[j].boundary\n      });\n    }\n\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n\n      if (affectedBoundary.x2New !== undefined) {\n        continue;\n      }\n\n      let used = false;\n\n      for (k = i - 1; !used && k >= 0 && horizon[k].start >= affectedBoundary.y1; k--) {\n        used = horizon[k].boundary === affectedBoundary;\n      }\n\n      for (k = j + 1; !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2; k++) {\n        used = horizon[k].boundary === affectedBoundary;\n      }\n\n      for (k = 0; !used && k < changedHorizon.length; k++) {\n        used = changedHorizon[k].boundary === affectedBoundary;\n      }\n\n      if (!used) {\n        affectedBoundary.x2New = maxXNew;\n      }\n    }\n\n    Array.prototype.splice.apply(horizon, [i, j - i + 1].concat(changedHorizon));\n  }\n\n  for (const horizonPart of horizon) {\n    const affectedBoundary = horizonPart.boundary;\n\n    if (affectedBoundary.x2New === undefined) {\n      affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n    }\n  }\n}\n\nclass TextLayerRenderTask {\n  constructor({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = (0, _util.createPromiseCapability)();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    this._capability.promise.finally(() => {\n      if (!this._enhanceTextSelection) {\n        this._textDivProperties = null;\n      }\n\n      if (this._layoutTextCtx) {\n        this._layoutTextCtx.canvas.width = 0;\n        this._layoutTextCtx.canvas.height = 0;\n        this._layoutTextCtx = null;\n      }\n    }).catch(() => {});\n  }\n\n  get promise() {\n    return this._capability.promise;\n  }\n\n  cancel() {\n    this._canceled = true;\n\n    if (this._reader) {\n      this._reader.cancel(new _util.AbortException(\"TextLayer task cancelled.\")).catch(() => {});\n\n      this._reader = null;\n    }\n\n    if (this._renderTimer !== null) {\n      clearTimeout(this._renderTimer);\n      this._renderTimer = null;\n    }\n\n    this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n  }\n\n  _processItems(items, styleCache) {\n    for (let i = 0, len = items.length; i < len; i++) {\n      if (items[i].str === undefined) {\n        if (items[i].type === \"beginMarkedContentProps\" || items[i].type === \"beginMarkedContent\") {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n\n          this._container.classList.add(\"markedContent\");\n\n          if (items[i].id !== null) {\n            this._container.setAttribute(\"id\", `${items[i].id}`);\n          }\n\n          parent.appendChild(this._container);\n        } else if (items[i].type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n\n        continue;\n      }\n\n      this._textContentItemsStr.push(items[i].str);\n\n      appendText(this, items[i], styleCache, this._layoutTextCtx);\n    }\n  }\n\n  _layoutText(textDiv) {\n    const textDivProperties = this._textDivProperties.get(textDiv);\n\n    let transform = \"\";\n\n    if (textDivProperties.canvasWidth !== 0 && textDivProperties.hasText) {\n      const {\n        fontSize,\n        fontFamily\n      } = textDiv.style;\n\n      if (fontSize !== this._layoutTextLastFontSize || fontFamily !== this._layoutTextLastFontFamily) {\n        this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n        this._layoutTextLastFontSize = fontSize;\n        this._layoutTextLastFontFamily = fontFamily;\n      }\n\n      const {\n        width\n      } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n      if (width > 0) {\n        const scale = textDivProperties.canvasWidth / width;\n\n        if (this._enhanceTextSelection) {\n          textDivProperties.scale = scale;\n        }\n\n        transform = `scaleX(${scale})`;\n      }\n    }\n\n    if (textDivProperties.angle !== 0) {\n      transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n    }\n\n    if (transform.length > 0) {\n      if (this._enhanceTextSelection) {\n        textDivProperties.originalTransform = transform;\n      }\n\n      textDiv.style.transform = transform;\n    }\n\n    if (textDivProperties.hasText) {\n      this._container.appendChild(textDiv);\n    }\n\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n\n      this._container.appendChild(br);\n    }\n  }\n\n  _render(timeout = 0) {\n    const capability = (0, _util.createPromiseCapability)();\n    let styleCache = Object.create(null);\n\n    const canvas = this._document.createElement(\"canvas\");\n\n    canvas.height = canvas.width = DEFAULT_FONT_SIZE;\n    this._layoutTextCtx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n\n    if (this._textContent) {\n      const textItems = this._textContent.items;\n      const textStyles = this._textContent.styles;\n\n      this._processItems(textItems, textStyles);\n\n      capability.resolve();\n    } else if (this._textContentStream) {\n      const pump = () => {\n        this._reader.read().then(({\n          value,\n          done\n        }) => {\n          if (done) {\n            capability.resolve();\n            return;\n          }\n\n          Object.assign(styleCache, value.styles);\n\n          this._processItems(value.items, styleCache);\n\n          pump();\n        }, capability.reject);\n      };\n\n      this._reader = this._textContentStream.getReader();\n      pump();\n    } else {\n      throw new Error('Neither \"textContent\" nor \"textContentStream\" parameters specified.');\n    }\n\n    capability.promise.then(() => {\n      styleCache = null;\n\n      if (!timeout) {\n        render(this);\n      } else {\n        this._renderTimer = setTimeout(() => {\n          render(this);\n          this._renderTimer = null;\n        }, timeout);\n      }\n    }, this._capability.reject);\n  }\n\n  expandTextDivs(expandDivs = false) {\n    if (!this._enhanceTextSelection || !this._renderingDone) {\n      return;\n    }\n\n    if (this._bounds !== null) {\n      expand(this);\n      this._bounds = null;\n    }\n\n    const transformBuf = [],\n          paddingBuf = [];\n\n    for (let i = 0, ii = this._textDivs.length; i < ii; i++) {\n      const div = this._textDivs[i];\n\n      const divProps = this._textDivProperties.get(div);\n\n      if (!divProps.hasText) {\n        continue;\n      }\n\n      if (expandDivs) {\n        transformBuf.length = 0;\n        paddingBuf.length = 0;\n\n        if (divProps.originalTransform) {\n          transformBuf.push(divProps.originalTransform);\n        }\n\n        if (divProps.paddingTop > 0) {\n          paddingBuf.push(`${divProps.paddingTop}px`);\n          transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n        } else {\n          paddingBuf.push(0);\n        }\n\n        if (divProps.paddingRight > 0) {\n          paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n        } else {\n          paddingBuf.push(0);\n        }\n\n        if (divProps.paddingBottom > 0) {\n          paddingBuf.push(`${divProps.paddingBottom}px`);\n        } else {\n          paddingBuf.push(0);\n        }\n\n        if (divProps.paddingLeft > 0) {\n          paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n          transformBuf.push(`translateX(${-divProps.paddingLeft / divProps.scale}px)`);\n        } else {\n          paddingBuf.push(0);\n        }\n\n        div.style.padding = paddingBuf.join(\" \");\n\n        if (transformBuf.length) {\n          div.style.transform = transformBuf.join(\" \");\n        }\n      } else {\n        div.style.padding = null;\n        div.style.transform = divProps.originalTransform;\n      }\n    }\n  }\n\n}\n\nfunction renderTextLayer(renderParameters) {\n  const task = new TextLayerRenderTask({\n    textContent: renderParameters.textContent,\n    textContentStream: renderParameters.textContentStream,\n    container: renderParameters.container,\n    viewport: renderParameters.viewport,\n    textDivs: renderParameters.textDivs,\n    textContentItemsStr: renderParameters.textContentItemsStr,\n    enhanceTextSelection: renderParameters.enhanceTextSelection\n  });\n\n  task._render(renderParameters.timeout);\n\n  return task;\n}\n\n/***/ }),\n/* 24 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SVGGraphics = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nvar _is_node = __w_pdfjs_require__(3);\n\nlet SVGGraphics = class {\n  constructor() {\n    (0, _util.unreachable)(\"Not implemented: SVGGraphics\");\n  }\n\n};\nexports.SVGGraphics = SVGGraphics;\n{\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\"\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const createObjectURL = function (data, contentType = \"\", forceDataSchema = false) {\n    if (URL.createObjectURL && typeof Blob !== \"undefined\" && !forceDataSchema) {\n      return URL.createObjectURL(new Blob([data], {\n        type: contentType\n      }));\n    }\n\n    const digits = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    let buffer = `data:${contentType};base64,`;\n\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n            d2 = (b1 & 3) << 4 | b2 >> 4;\n      const d3 = i + 1 < ii ? (b2 & 0xf) << 2 | b3 >> 6 : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n\n    return buffer;\n  };\n\n  const convertImgDataToPng = function () {\n    const PNG_HEADER = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n    const CHUNK_WRAPPER_SIZE = 12;\n    const crcTable = new Int32Array(256);\n\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ c >> 1 & 0x7fffffff;\n        } else {\n          c = c >> 1 & 0x7fffffff;\n        }\n      }\n\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = crc >>> 8 ^ b;\n      }\n\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n      data[p] = len >> 24 & 0xff;\n      data[p + 1] = len >> 16 & 0xff;\n      data[p + 2] = len >> 8 & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n      data.set(body, p);\n      p += body.length;\n      const crc = crc32(data, offset + 4, p);\n      data[p] = crc >> 24 & 0xff;\n      data[p + 1] = crc >> 16 & 0xff;\n      data[p + 2] = crc >> 8 & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n\n      return b << 16 | a;\n    }\n\n    function deflateSync(literals) {\n      if (!_is_node.isNodeJS) {\n        return deflateSyncUncompressed(literals);\n      }\n\n      try {\n        let input;\n\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          input = Buffer.from(literals);\n        }\n\n        const output = (__webpack_require__(/*! zlib */ \"?f1a1\").deflateSync)(input, {\n          level: 9\n        });\n\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        (0, _util.warn)(\"Not compressing PNG because zlib.deflateSync is unavailable: \" + e);\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78;\n      idat[pi++] = 0x9c;\n      let pos = 0;\n\n      while (len > maxBlockLength) {\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = len >> 8 & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n      const adler = adler32(literals, 0, literals.length);\n      idat[pi++] = adler >> 24 & 0xff;\n      idat[pi++] = adler >> 16 & 0xff;\n      idat[pi++] = adler >> 8 & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case _util.ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = width + 7 >> 3;\n          break;\n\n        case _util.ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n\n        case _util.ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n          offsetBytes = 0;\n\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0;\n        literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize), offsetLiterals);\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === _util.ImageKind.GRAYSCALE_1BPP && isMask) {\n        offsetLiterals = 0;\n\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++;\n\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([width >> 24 & 0xff, width >> 16 & 0xff, width >> 8 & 0xff, width & 0xff, height >> 24 & 0xff, height >> 16 & 0xff, height >> 8 & 0xff, height & 0xff, bitDepth, colorType, 0x00, 0x00, 0x00]);\n      const idat = deflateSync(literals);\n      const pngLength = PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind = imgData.kind === undefined ? _util.ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  }();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n      this.textMatrix = _util.IDENTITY_MATRIX;\n      this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = _util.TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n      this.x = 0;\n      this.y = 0;\n      this.lineX = 0;\n      this.lineY = 0;\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n      this.dashArray = [];\n      this.dashPhase = 0;\n      this.dependencies = [];\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n\n  }\n\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({\n          fnId: 92,\n          fn: \"group\",\n          items: []\n        });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n\n    return opTree;\n  }\n\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    do {\n      i--;\n    } while (s[i] === \"0\");\n\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = Math.acos(m[0]) * 180 / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n\n    return `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` + `${pf(m[5])})`;\n  }\n\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n  exports.SVGGraphics = SVGGraphics = class {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new _display_utils.DOMSVGFactory();\n      this.current = new SVGExtraState();\n      this.transformMatrix = _util.IDENTITY_MATRIX;\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n      this._operatorIdMapping = [];\n\n      for (const op in _util.OPS) {\n        this._operatorIdMapping[_util.OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== _util.OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = _util.Util.transform(this.transformMatrix, transformMatrix);\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = _util.IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i]\n        });\n      }\n\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case _util.OPS.beginText:\n            this.beginText();\n            break;\n\n          case _util.OPS.dependency:\n            break;\n\n          case _util.OPS.setLeading:\n            this.setLeading(args);\n            break;\n\n          case _util.OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n\n          case _util.OPS.setFont:\n            this.setFont(args);\n            break;\n\n          case _util.OPS.showText:\n            this.showText(args[0]);\n            break;\n\n          case _util.OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n\n          case _util.OPS.endText:\n            this.endText();\n            break;\n\n          case _util.OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n\n          case _util.OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n\n          case _util.OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n\n          case _util.OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n\n          case _util.OPS.setTextMatrix:\n            this.setTextMatrix(args[0], args[1], args[2], args[3], args[4], args[5]);\n            break;\n\n          case _util.OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n\n          case _util.OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n\n          case _util.OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n\n          case _util.OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n\n          case _util.OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n\n          case _util.OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n\n          case _util.OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n\n          case _util.OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n\n          case _util.OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n\n          case _util.OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n\n          case _util.OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n\n          case _util.OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n\n          case _util.OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n\n          case _util.OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n\n          case _util.OPS.setGState:\n            this.setGState(args[0]);\n            break;\n\n          case _util.OPS.fill:\n            this.fill();\n            break;\n\n          case _util.OPS.eoFill:\n            this.eoFill();\n            break;\n\n          case _util.OPS.stroke:\n            this.stroke();\n            break;\n\n          case _util.OPS.fillStroke:\n            this.fillStroke();\n            break;\n\n          case _util.OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n\n          case _util.OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n\n          case _util.OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n\n          case _util.OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n\n          case _util.OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n\n          case _util.OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n\n          case _util.OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n\n          case _util.OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n\n          case _util.OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n\n          case _util.OPS.closePath:\n            this.closePath();\n            break;\n\n          case _util.OPS.closeStroke:\n            this.closeStroke();\n            break;\n\n          case _util.OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n\n          case _util.OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n\n          case _util.OPS.nextLine:\n            this.nextLine();\n            break;\n\n          case _util.OPS.transform:\n            this.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n            break;\n\n          case _util.OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n\n          case _util.OPS.endPath:\n            this.endPath();\n            break;\n\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n\n          default:\n            (0, _util.warn)(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.hypot(a, b);\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = _util.IDENTITY_MATRIX;\n      current.lineMatrix = _util.IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n      let x = 0;\n\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (typeof glyph === \"number\") {\n          x += spacingDir * glyph * fontSize / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n\n          current.tspan.textContent += character;\n        } else {}\n\n        let charWidth;\n\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n\n      current.tspan.setAttributeNS(null, \"x\", current.xcoords.map(pf).join(\" \"));\n\n      if (vertical) {\n        current.tspan.setAttributeNS(null, \"y\", current.ycoords.map(pf).join(\" \"));\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n\n      if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === _util.TextRenderingMode.ADD_TO_PATH) {\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      let textMatrix = current.textMatrix;\n\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(null, \"transform\", `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`);\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\"addFontStyle: No font data available, \" + 'ensure that the \"fontExtraProperties\" API parameter is set.');\n      }\n\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(fontObj.data, fontObj.mimetype, this.forceDataSchema);\n      this.cssStyle.textContent += `@font-face { font-family: \"${fontObj.loadedName}\";` + ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (this.embedFonts && !fontObj.missingFile && !this.embeddedFonts[fontObj.loadedName]) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = fontObj.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n      let bold = \"normal\";\n\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n\n      if (current.textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG && current.txtElement?.hasChildNodes()) {\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = _util.Util.makeHexColor(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = _util.Util.makeHexColor(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n\n      const inv = _util.Util.inverseTransform(this.transformMatrix);\n\n      const bl = _util.Util.applyTransform([0, 0], inv);\n\n      const br = _util.Util.applyTransform([0, height], inv);\n\n      const ul = _util.Util.applyTransform([width, 0], inv);\n\n      const ur = _util.Util.applyTransform([width, height], inv);\n\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n\n      return this._makeShadingPattern(args);\n    }\n\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || _util.IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n      const tilingId = `shading${shadingCount++}`;\n\n      const [tx0, ty0, tx1, ty1] = _util.Util.normalizeRect([..._util.Util.applyTransform([x0, y0], matrix), ..._util.Util.applyTransform([x1, y1], matrix)]);\n\n      const [xscale, yscale] = _util.Util.singularValueDecompose2dScale(matrix);\n\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n\n      if (paintType === 2) {\n        const cssColor = _util.Util.makeHexColor(...color);\n\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n\n      this.executeOpTree(this.convertOpList(operatorList));\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    _makeShadingPattern(args) {\n      if (typeof args === \"string\") {\n        args = this.objs.get(args);\n      }\n\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n\n        case \"Mesh\":\n          (0, _util.warn)(\"Unimplemented pattern Mesh\");\n          return null;\n\n        case \"Dummy\":\n          return \"hotpink\";\n\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n          y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case _util.OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\"M\", pf(x), pf(y), \"L\", pf(xw), pf(y), \"L\", pf(xw), pf(yh), \"L\", pf(x), pf(yh), \"Z\");\n            break;\n\n          case _util.OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n\n          case _util.OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n\n          case _util.OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]), pf(x), pf(y));\n            j += 6;\n            break;\n\n          case _util.OPS.curveTo2:\n            d.push(\"C\", pf(x), pf(y), pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]));\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n\n          case _util.OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(x), pf(y), pf(x), pf(y));\n            j += 4;\n            break;\n\n          case _util.OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (current.path && ops.length > 0 && ops[0] !== _util.OPS.rectangle && ops[0] !== _util.OPS.moveTo) {\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n      const clipElement = current.element.cloneNode(true);\n\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        current.clipGroup = null;\n\n        for (const prev of this.extraStack) {\n          prev.clipGroup = null;\n        }\n\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n\n      current.activeClipUrl = `url(#${clipId})`;\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {}\n\n    setFlatness(flatness) {}\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n\n          case \"Font\":\n            this.setFont(value);\n            break;\n\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n\n          default:\n            (0, _util.warn)(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(null, \"stroke-width\", pf(lineWidthScale * current.lineWidth) + \"px\");\n      element.setAttributeNS(null, \"stroke-dasharray\", dashArray.map(pf).join(\" \"));\n      element.setAttributeNS(null, \"stroke-dashoffset\", pf(lineWidthScale * current.dashPhase) + \"px\");\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n\n      this.fill();\n    }\n\n    fillStroke() {\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n\n      if (!imgData) {\n        (0, _util.warn)(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(null, \"transform\", `scale(${pf(1 / width)} ${pf(-1 / height)})`);\n\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n      this.defs.appendChild(mask);\n\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n      this.svg = rootGroup;\n      return svg;\n    }\n\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n\n      return this.current.clipGroup;\n    }\n\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n\n      return this.tgrp;\n    }\n\n  };\n}\n\n/***/ }),\n/* 25 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFNodeStream = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _network_utils = __w_pdfjs_require__(26);\n\n;\n\nconst fs = __webpack_require__(/*! fs */ \"?f8c1\");\n\nconst http = __webpack_require__(/*! http */ \"?c937\");\n\nconst https = __webpack_require__(/*! https */ \"?a6fc\");\n\nconst url = __webpack_require__(/*! url */ \"./node_modules/next/dist/compiled/native-url/index.js\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n\n    this._rangeRequestReaders.push(rangeReader);\n\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n\n}\n\nexports.PDFNodeStream = PDFNodeStream;\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = (0, _util.createPromiseCapability)();\n    this._headersCapability = (0, _util.createPromiseCapability)();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n\n    if (chunk === null) {\n      this._readCapability = (0, _util.createPromiseCapability)();\n      return this.read();\n    }\n\n    this._loaded += chunk.length;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength\n      });\n    }\n\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n\n      return;\n    }\n\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new _util.AbortException(\"streaming is disabled\"));\n    }\n\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = (0, _util.createPromiseCapability)();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n\n    if (chunk === null) {\n      this._readCapability = (0, _util.createPromiseCapability)();\n      return this.read();\n    }\n\n    this._loaded += chunk.length;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded\n      });\n    }\n\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n\n      return;\n    }\n\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _util.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n\n        this._headersCapability.reject(error);\n\n        return;\n      }\n\n      this._headersCapability.resolve();\n\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0, _network_utils.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n    };\n\n    this._request = null;\n\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n\n      this._headersCapability.reject(reason);\n    });\n\n    this._request.end();\n  }\n\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n\n      this._httpHeaders[property] = value;\n    }\n\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _util.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n\n    this._request.end();\n  }\n\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new _util.MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n\n        this._storedError = error;\n\n        this._headersCapability.reject(error);\n\n        return;\n      }\n\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n\n      this._headersCapability.resolve();\n    });\n  }\n\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n\n}\n\n/***/ }),\n/* 26 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.createResponseStatusError = createResponseStatusError;\nexports.extractFilenameFromHeader = extractFilenameFromHeader;\nexports.validateRangeRequestCapabilities = validateRangeRequestCapabilities;\nexports.validateResponseStatus = validateResponseStatus;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _content_disposition = __w_pdfjs_require__(27);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n\n  if (contentDisposition) {\n    let filename = (0, _content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);\n\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n\n    if ((0, _display_utils.isPdfFile)(filename)) {\n      return filename;\n    }\n  }\n\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new _util.MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n\n  return new _util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n/***/ }),\n/* 27 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getFilenameFromContentDispositionHeader = getFilenameFromContentDispositionHeader;\n\nvar _util = __w_pdfjs_require__(1);\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  tmp = rfc2231getparam(contentDisposition);\n\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = (0, _util.stringToBytes)(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch (e) {}\n    }\n\n    return value;\n  }\n\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n\n    return value;\n  }\n\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n\n        continue;\n      }\n\n      matches[n] = [quot, part];\n    }\n\n    const parts = [];\n\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n\n      if (quot) {\n        part = unescape(part);\n\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n\n      parts.push(part);\n    }\n\n    return parts.join(\"\");\n  }\n\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n\n      value = parts.join('\"');\n    }\n\n    return value;\n  }\n\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n\n    if (encodingend === -1) {\n      return extvalue;\n    }\n\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n\n    return value.replace(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replace(/_/g, \" \");\n        text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n\n      try {\n        text = atob(text);\n      } catch (e) {}\n\n      return textdecode(charset, text);\n    });\n  }\n\n  return \"\";\n}\n\n/***/ }),\n/* 28 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFNetworkStream = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _network_utils = __w_pdfjs_require__(26);\n\n;\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n\n  if (typeof data !== \"string\") {\n    return data;\n  }\n\n  const array = (0, _util.stringToBytes)(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n\n    this.getXhr = args.getXhr || function NetworkManager_getXhr() {\n      return new XMLHttpRequest();\n    };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n\n      xhr.setRequestHeader(property, value);\n    }\n\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n\n    if (!pendingRequest) {\n      return;\n    }\n\n    pendingRequest.onProgress?.(evt);\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n\n    if (!pendingRequest) {\n      return;\n    }\n\n    const xhr = pendingRequest.xhr;\n\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n\n}\n\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n\n    this._rangeRequestReaders.push(reader);\n\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n\n}\n\nexports.PDFNetworkStream = PDFNetworkStream;\n\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = (0, _util.createPromiseCapability)();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = (0, _network_utils.validateRangeRequestCapabilities)({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n\n    this._done = true;\n\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n\n    this._requests.length = 0;\n  }\n\n  _onError(status) {\n    this._storedError = (0, _network_utils.createResponseStatusError)(status, this._url);\n\n    this._headersReceivedCapability.reject(this._storedError);\n\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    this._headersReceivedCapability.reject(reason);\n\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n\n    this._requests.length = 0;\n\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n\n    this._fullRequestReader = null;\n  }\n\n}\n\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    this.onClosed?.(this);\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n\n    this._done = true;\n\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n\n    this._requests.length = 0;\n\n    this._close();\n  }\n\n  _onError(status) {\n    this._storedError = (0, _network_utils.createResponseStatusError)(status, this._url);\n\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n\n    this._requests.length = 0;\n\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n\n    this._close();\n  }\n\n}\n\n/***/ }),\n/* 29 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFFetchStream = void 0;\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _network_utils = __w_pdfjs_require__(26);\n\n;\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController?.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n\n    headers.append(property, value);\n  }\n\n  return headers;\n}\n\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n\n    this._rangeRequestReaders.push(reader);\n\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n\n}\n\nexports.PDFFetchStream = PDFFetchStream;\n\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = (0, _util.createPromiseCapability)();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n        throw (0, _network_utils.createResponseStatusError)(response.status, url);\n      }\n\n      this._reader = response.body.getReader();\n\n      this._headersCapability.resolve();\n\n      const getResponseHeader = name => {\n        return response.headers.get(name);\n      };\n\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0, _network_utils.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new _util.AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n\n    this._loaded += value.byteLength;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength\n      });\n    }\n\n    const buffer = new Uint8Array(value).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n\n}\n\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = (0, _util.createPromiseCapability)();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n        throw (0, _network_utils.createResponseStatusError)(response.status, url);\n      }\n\n      this._readCapability.resolve();\n\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n\n    this._loaded += value.byteLength;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded\n      });\n    }\n\n    const buffer = new Uint8Array(value).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n\n}\n\n/***/ })\n/******/ \t]);\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __w_pdfjs_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(() => {\nvar exports = __webpack_exports__;\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"AnnotationLayer\", ({\n  enumerable: true,\n  get: function () {\n    return _annotation_layer.AnnotationLayer;\n  }\n}));\nObject.defineProperty(exports, \"AnnotationMode\", ({\n  enumerable: true,\n  get: function () {\n    return _util.AnnotationMode;\n  }\n}));\nObject.defineProperty(exports, \"CMapCompressionType\", ({\n  enumerable: true,\n  get: function () {\n    return _util.CMapCompressionType;\n  }\n}));\nObject.defineProperty(exports, \"GlobalWorkerOptions\", ({\n  enumerable: true,\n  get: function () {\n    return _worker_options.GlobalWorkerOptions;\n  }\n}));\nObject.defineProperty(exports, \"InvalidPDFException\", ({\n  enumerable: true,\n  get: function () {\n    return _util.InvalidPDFException;\n  }\n}));\nObject.defineProperty(exports, \"LoopbackPort\", ({\n  enumerable: true,\n  get: function () {\n    return _api.LoopbackPort;\n  }\n}));\nObject.defineProperty(exports, \"MissingPDFException\", ({\n  enumerable: true,\n  get: function () {\n    return _util.MissingPDFException;\n  }\n}));\nObject.defineProperty(exports, \"OPS\", ({\n  enumerable: true,\n  get: function () {\n    return _util.OPS;\n  }\n}));\nObject.defineProperty(exports, \"PDFDataRangeTransport\", ({\n  enumerable: true,\n  get: function () {\n    return _api.PDFDataRangeTransport;\n  }\n}));\nObject.defineProperty(exports, \"PDFDateString\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.PDFDateString;\n  }\n}));\nObject.defineProperty(exports, \"PDFWorker\", ({\n  enumerable: true,\n  get: function () {\n    return _api.PDFWorker;\n  }\n}));\nObject.defineProperty(exports, \"PasswordResponses\", ({\n  enumerable: true,\n  get: function () {\n    return _util.PasswordResponses;\n  }\n}));\nObject.defineProperty(exports, \"PermissionFlag\", ({\n  enumerable: true,\n  get: function () {\n    return _util.PermissionFlag;\n  }\n}));\nObject.defineProperty(exports, \"PixelsPerInch\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.PixelsPerInch;\n  }\n}));\nObject.defineProperty(exports, \"RenderingCancelledException\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.RenderingCancelledException;\n  }\n}));\nObject.defineProperty(exports, \"SVGGraphics\", ({\n  enumerable: true,\n  get: function () {\n    return _svg.SVGGraphics;\n  }\n}));\nObject.defineProperty(exports, \"UNSUPPORTED_FEATURES\", ({\n  enumerable: true,\n  get: function () {\n    return _util.UNSUPPORTED_FEATURES;\n  }\n}));\nObject.defineProperty(exports, \"UnexpectedResponseException\", ({\n  enumerable: true,\n  get: function () {\n    return _util.UnexpectedResponseException;\n  }\n}));\nObject.defineProperty(exports, \"Util\", ({\n  enumerable: true,\n  get: function () {\n    return _util.Util;\n  }\n}));\nObject.defineProperty(exports, \"VerbosityLevel\", ({\n  enumerable: true,\n  get: function () {\n    return _util.VerbosityLevel;\n  }\n}));\nObject.defineProperty(exports, \"XfaLayer\", ({\n  enumerable: true,\n  get: function () {\n    return _xfa_layer.XfaLayer;\n  }\n}));\nObject.defineProperty(exports, \"build\", ({\n  enumerable: true,\n  get: function () {\n    return _api.build;\n  }\n}));\nObject.defineProperty(exports, \"createPromiseCapability\", ({\n  enumerable: true,\n  get: function () {\n    return _util.createPromiseCapability;\n  }\n}));\nObject.defineProperty(exports, \"createValidAbsoluteUrl\", ({\n  enumerable: true,\n  get: function () {\n    return _util.createValidAbsoluteUrl;\n  }\n}));\nObject.defineProperty(exports, \"getDocument\", ({\n  enumerable: true,\n  get: function () {\n    return _api.getDocument;\n  }\n}));\nObject.defineProperty(exports, \"getFilenameFromUrl\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.getFilenameFromUrl;\n  }\n}));\nObject.defineProperty(exports, \"getPdfFilenameFromUrl\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.getPdfFilenameFromUrl;\n  }\n}));\nObject.defineProperty(exports, \"getXfaPageViewport\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.getXfaPageViewport;\n  }\n}));\nObject.defineProperty(exports, \"isPdfFile\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.isPdfFile;\n  }\n}));\nObject.defineProperty(exports, \"loadScript\", ({\n  enumerable: true,\n  get: function () {\n    return _display_utils.loadScript;\n  }\n}));\nObject.defineProperty(exports, \"renderTextLayer\", ({\n  enumerable: true,\n  get: function () {\n    return _text_layer.renderTextLayer;\n  }\n}));\nObject.defineProperty(exports, \"shadow\", ({\n  enumerable: true,\n  get: function () {\n    return _util.shadow;\n  }\n}));\nObject.defineProperty(exports, \"version\", ({\n  enumerable: true,\n  get: function () {\n    return _api.version;\n  }\n}));\n\nvar _util = __w_pdfjs_require__(1);\n\nvar _api = __w_pdfjs_require__(4);\n\nvar _display_utils = __w_pdfjs_require__(5);\n\nvar _annotation_layer = __w_pdfjs_require__(20);\n\nvar _worker_options = __w_pdfjs_require__(13);\n\nvar _is_node = __w_pdfjs_require__(3);\n\nvar _text_layer = __w_pdfjs_require__(23);\n\nvar _svg = __w_pdfjs_require__(24);\n\nvar _xfa_layer = __w_pdfjs_require__(22);\n\nconst pdfjsVersion = '2.14.305';\nconst pdfjsBuild = 'eaaa8b4ad';\n{\n  if (_is_node.isNodeJS) {\n    const {\n      PDFNodeStream\n    } = __w_pdfjs_require__(25);\n\n    (0, _api.setPDFNetworkStreamFactory)(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const {\n      PDFNetworkStream\n    } = __w_pdfjs_require__(28);\n\n    const {\n      PDFFetchStream\n    } = __w_pdfjs_require__(29);\n\n    (0, _api.setPDFNetworkStreamFactory)(params => {\n      if ((0, _display_utils.isValidFetchUrl)(params.url)) {\n        return new PDFFetchStream(params);\n      }\n\n      return new PDFNetworkStream(params);\n    });\n  }\n}\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n//# sourceMappingURL=pdf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcGRmanMtZGlzdC9idWlsZC9wZGYuanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLElBQXlEO0FBQzdEO0FBQ0EsTUFBTSxFQUtxRDtBQUMzRCxDQUFDO0FBQ0QseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCLElBQUk7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLElBQUk7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQixJQUFJO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLFlBQVk7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxjQUFjLEVBQUUsY0FBYyxFQUFFLGNBQWM7QUFDN0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isb0NBQW9DLEdBQUc7QUFDdkM7QUFDQTtBQUNBOztBQUVBOztBQUVBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUEsZ0JBQWdCLE1BQU07QUFDdEIsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxRQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBOztBQUVBOztBQUVBLE9BQU87QUFDUDtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLHdCQUF3QixPQUFPLGlCQUFpQixPQUFPLGlDQUFpQyxPQUFPLGtCQUFrQixPQUFPLHNCQUFzQixPQUFPLFNBQVMsT0FBTztBQUNySzs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWix5REFBeUQsR0FBRztBQUM1RDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxNQUFNLHFDQUFxQyxNQUFNO0FBQ3pGO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0NBQWdDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUk7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7O0FBRUEsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FB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QTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEU7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0REFBNEQsS0FBSztBQUNqRTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EscURBQXFELEtBQUs7QUFDMUQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEMsaUJBQWlCO0FBQy9EO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1FQUFtRSxNQUFNO0FBQ3pFOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUdBQXVHLG9CQUFvQjtBQUMzSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0RBQXNELEtBQUs7QUFDM0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdELEtBQUs7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLDJCQUEyQixFQUFFLFNBQVM7QUFDM0Q7O0FBRUE7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLElBQUksR0FBRyxzQkFBc0I7QUFDbEQ7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDLFFBQVE7QUFDakQ7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLE9BQU87QUFDUDtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLFdBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0IsV0FBVztBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxXQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUEsdUNBQXVDLFFBQVE7QUFDL0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBOztBQUVBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWUsa0JBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUNBQWlDLElBQUk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHVDQUF1QyxhQUFhO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwwQ0FBMEMsUUFBUTtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxFQUFFOztBQUUzRTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QyxZQUFZO0FBQ3pEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixLQUFLLEtBQUsscUJBQXFCO0FBQ3hEOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixRQUFRLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixLQUFLLFNBQVM7QUFDdkU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLHFCQUFxQjtBQUNqRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViwrREFBK0QsOENBQThDO0FBQzdHLHFDQUFxQyxNQUFNLE9BQU8sdUJBQXVCO0FBQ3pFLHNDQUFzQyxPQUFPLE9BQU8sdUJBQXVCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsMkNBQTJDLFFBQVE7QUFDbkQ7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQyxRQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxREFBcUQsUUFBUTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGtFQUFrRSxZQUFZO0FBQzlFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixXQUFXO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsVUFBVTtBQUNoQzs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsVUFBVTtBQUM1Qjs7QUFFQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0MsTUFBTTtBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrREFBK0QsVUFBVTtBQUN6RTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sb0RBQW9ELFlBQVk7QUFDaEU7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLFlBQVk7QUFDOUIsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFEQUFxRCxXQUFXO0FBQ2hFOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsdURBQXVELFlBQVk7QUFDbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0UsV0FBVztBQUMzRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1IsNkRBQTZELFFBQVE7QUFDckU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkRBQTZELFNBQVM7QUFDdEU7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLEdBQUc7QUFDcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsaUVBQWlFLEdBQUc7QUFDcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsaUVBQWlFLEdBQUc7QUFDcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsaUVBQWlFLEdBQUc7QUFDcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlEQUF5RCxhQUFhO0FBQ3RFO0FBQ0E7O0FBRUEsMENBQTBDLFdBQVc7QUFDckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkRBQTJELEdBQUc7QUFDOUQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNB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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlFQUF5RSxHQUFHO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0EsMEJBQTBCLFNBQVM7QUFDbkM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7O0FBRUE7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVB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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0RBQXNELEdBQUc7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQscUJBQXFCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQscUJBQXFCO0FBQzlFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTs7QUFFVjs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EseURBQXlELHFCQUFxQjs7QUFFOUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOERBQThELGdCQUFnQixRQUFRLGVBQWU7QUFDckc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRCxnQkFBZ0IsbUJBQW1CLEVBQUUsaUJBQWlCLElBQUksSUFBSTtBQUMvRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsZUFBZTs7QUFFaEQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsSUFBSTtBQUM5QywwQ0FBMEMsSUFBSTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0MsZUFBZTtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyREFBMkQsUUFBUTtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIsVUFBVTs7QUFFbkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDLFlBQVk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsdUNBQXVDO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLElBQUk7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwwREFBMEQsT0FBTztBQUNqRTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxlQUFlLEVBQUUsZ0JBQWdCOztBQUV4RjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFlBQVk7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxlQUFlO0FBQy9EOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsV0FBVyxtQkFBTyxDQUFDLGlCQUFJOztBQUV2QixhQUFhLG1CQUFPLENBQUMsbUJBQU07O0FBRTNCLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTzs7QUFFN0IsWUFBWSxtQkFBTyxDQUFDLGtFQUFLOztBQUV6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxVQUFVO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9FQUFvRSxVQUFVO0FBQzlFOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHVDQUF1QyxNQUFNLEdBQUcsUUFBUTs7QUFFeEQ7QUFDQTtBQUNBLG9FQUFvRSxVQUFVO0FBQzlFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsS0FBSztBQUNyRTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEVBQThFLE9BQU8sMEJBQTBCLElBQUk7QUFDbkg7O0FBRUE7QUFDQTtBQUNBOztBQUVBLE9BQU87QUFDUDtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIscURBQXFELE9BQU87QUFDekY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isa0JBQWtCO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLEVBQUU7QUFDN0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBLE9BQU87QUFDUDtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkNBQTZDLFdBQVcsR0FBRyxhQUFhO0FBQ3hFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsT0FBTztBQUNQO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDJDQUEyQyxNQUFNLEdBQUcsUUFBUTs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3BkZmpzLWRpc3QvYnVpbGQvcGRmLmpzPzdhYTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljc3RhcnQgVGhlIGZvbGxvd2luZyBpcyB0aGUgZW50aXJlIGxpY2Vuc2Ugbm90aWNlIGZvciB0aGVcbiAqIEphdmFTY3JpcHQgY29kZSBpbiB0aGlzIHBhZ2VcbiAqXG4gKiBDb3B5cmlnaHQgMjAyMiBNb3ppbGxhIEZvdW5kYXRpb25cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQGxpY2VuZCBUaGUgYWJvdmUgaXMgdGhlIGVudGlyZSBsaWNlbnNlIG5vdGljZSBmb3IgdGhlXG4gKiBKYXZhU2NyaXB0IGNvZGUgaW4gdGhpcyBwYWdlXG4gKi9cblxuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJwZGZqcy1kaXN0L2J1aWxkL3BkZlwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJwZGZqcy1kaXN0L2J1aWxkL3BkZlwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJwZGZqcy1kaXN0L2J1aWxkL3BkZlwiXSA9IHJvb3QucGRmanNMaWIgPSBmYWN0b3J5KCk7XG59KSh0aGlzLCAoKSA9PiB7XG5yZXR1cm4gLyoqKioqKi8gKCgpID0+IHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHRcInVzZSBzdHJpY3RcIjtcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVzX18gPSAoW1xuLyogMCAqLyxcbi8qIDEgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuVmVyYm9zaXR5TGV2ZWwgPSBleHBvcnRzLlV0aWwgPSBleHBvcnRzLlVua25vd25FcnJvckV4Y2VwdGlvbiA9IGV4cG9ydHMuVW5leHBlY3RlZFJlc3BvbnNlRXhjZXB0aW9uID0gZXhwb3J0cy5VTlNVUFBPUlRFRF9GRUFUVVJFUyA9IGV4cG9ydHMuVGV4dFJlbmRlcmluZ01vZGUgPSBleHBvcnRzLlN0cmVhbVR5cGUgPSBleHBvcnRzLlJlbmRlcmluZ0ludGVudEZsYWcgPSBleHBvcnRzLlBlcm1pc3Npb25GbGFnID0gZXhwb3J0cy5QYXNzd29yZFJlc3BvbnNlcyA9IGV4cG9ydHMuUGFzc3dvcmRFeGNlcHRpb24gPSBleHBvcnRzLlBhZ2VBY3Rpb25FdmVudFR5cGUgPSBleHBvcnRzLk9QUyA9IGV4cG9ydHMuTWlzc2luZ1BERkV4Y2VwdGlvbiA9IGV4cG9ydHMuSW52YWxpZFBERkV4Y2VwdGlvbiA9IGV4cG9ydHMuSW1hZ2VLaW5kID0gZXhwb3J0cy5JREVOVElUWV9NQVRSSVggPSBleHBvcnRzLkZvcm1hdEVycm9yID0gZXhwb3J0cy5Gb250VHlwZSA9IGV4cG9ydHMuRmVhdHVyZVRlc3QgPSBleHBvcnRzLkZPTlRfSURFTlRJVFlfTUFUUklYID0gZXhwb3J0cy5Eb2N1bWVudEFjdGlvbkV2ZW50VHlwZSA9IGV4cG9ydHMuQ01hcENvbXByZXNzaW9uVHlwZSA9IGV4cG9ydHMuQmFzZUV4Y2VwdGlvbiA9IGV4cG9ydHMuQW5ub3RhdGlvblR5cGUgPSBleHBvcnRzLkFubm90YXRpb25TdGF0ZU1vZGVsVHlwZSA9IGV4cG9ydHMuQW5ub3RhdGlvblJldmlld1N0YXRlID0gZXhwb3J0cy5Bbm5vdGF0aW9uUmVwbHlUeXBlID0gZXhwb3J0cy5Bbm5vdGF0aW9uTW9kZSA9IGV4cG9ydHMuQW5ub3RhdGlvbk1hcmtlZFN0YXRlID0gZXhwb3J0cy5Bbm5vdGF0aW9uRmxhZyA9IGV4cG9ydHMuQW5ub3RhdGlvbkZpZWxkRmxhZyA9IGV4cG9ydHMuQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZSA9IGV4cG9ydHMuQW5ub3RhdGlvbkFjdGlvbkV2ZW50VHlwZSA9IGV4cG9ydHMuQWJvcnRFeGNlcHRpb24gPSB2b2lkIDA7XG5leHBvcnRzLmFycmF5Qnl0ZUxlbmd0aCA9IGFycmF5Qnl0ZUxlbmd0aDtcbmV4cG9ydHMuYXJyYXlzVG9CeXRlcyA9IGFycmF5c1RvQnl0ZXM7XG5leHBvcnRzLmFzc2VydCA9IGFzc2VydDtcbmV4cG9ydHMuYnl0ZXNUb1N0cmluZyA9IGJ5dGVzVG9TdHJpbmc7XG5leHBvcnRzLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5ID0gY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHk7XG5leHBvcnRzLmNyZWF0ZVZhbGlkQWJzb2x1dGVVcmwgPSBjcmVhdGVWYWxpZEFic29sdXRlVXJsO1xuZXhwb3J0cy5lc2NhcGVTdHJpbmcgPSBlc2NhcGVTdHJpbmc7XG5leHBvcnRzLmdldE1vZGlmaWNhdGlvbkRhdGUgPSBnZXRNb2RpZmljYXRpb25EYXRlO1xuZXhwb3J0cy5nZXRWZXJib3NpdHlMZXZlbCA9IGdldFZlcmJvc2l0eUxldmVsO1xuZXhwb3J0cy5pbmZvID0gaW5mbztcbmV4cG9ydHMuaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG5leHBvcnRzLmlzQXJyYXlFcXVhbCA9IGlzQXJyYXlFcXVhbDtcbmV4cG9ydHMuaXNBc2NpaSA9IGlzQXNjaWk7XG5leHBvcnRzLm9iamVjdEZyb21NYXAgPSBvYmplY3RGcm9tTWFwO1xuZXhwb3J0cy5vYmplY3RTaXplID0gb2JqZWN0U2l6ZTtcbmV4cG9ydHMuc2V0VmVyYm9zaXR5TGV2ZWwgPSBzZXRWZXJib3NpdHlMZXZlbDtcbmV4cG9ydHMuc2hhZG93ID0gc2hhZG93O1xuZXhwb3J0cy5zdHJpbmczMiA9IHN0cmluZzMyO1xuZXhwb3J0cy5zdHJpbmdUb0J5dGVzID0gc3RyaW5nVG9CeXRlcztcbmV4cG9ydHMuc3RyaW5nVG9QREZTdHJpbmcgPSBzdHJpbmdUb1BERlN0cmluZztcbmV4cG9ydHMuc3RyaW5nVG9VVEYxNkJFU3RyaW5nID0gc3RyaW5nVG9VVEYxNkJFU3RyaW5nO1xuZXhwb3J0cy5zdHJpbmdUb1VURjhTdHJpbmcgPSBzdHJpbmdUb1VURjhTdHJpbmc7XG5leHBvcnRzLnVucmVhY2hhYmxlID0gdW5yZWFjaGFibGU7XG5leHBvcnRzLnV0ZjhTdHJpbmdUb1N0cmluZyA9IHV0ZjhTdHJpbmdUb1N0cmluZztcbmV4cG9ydHMud2FybiA9IHdhcm47XG5cbl9fd19wZGZqc19yZXF1aXJlX18oMik7XG5cbmNvbnN0IElERU5USVRZX01BVFJJWCA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcbmV4cG9ydHMuSURFTlRJVFlfTUFUUklYID0gSURFTlRJVFlfTUFUUklYO1xuY29uc3QgRk9OVF9JREVOVElUWV9NQVRSSVggPSBbMC4wMDEsIDAsIDAsIDAuMDAxLCAwLCAwXTtcbmV4cG9ydHMuRk9OVF9JREVOVElUWV9NQVRSSVggPSBGT05UX0lERU5USVRZX01BVFJJWDtcbmNvbnN0IFJlbmRlcmluZ0ludGVudEZsYWcgPSB7XG4gIEFOWTogMHgwMSxcbiAgRElTUExBWTogMHgwMixcbiAgUFJJTlQ6IDB4MDQsXG4gIEFOTk9UQVRJT05TX0ZPUk1TOiAweDEwLFxuICBBTk5PVEFUSU9OU19TVE9SQUdFOiAweDIwLFxuICBBTk5PVEFUSU9OU19ESVNBQkxFOiAweDQwLFxuICBPUExJU1Q6IDB4MTAwXG59O1xuZXhwb3J0cy5SZW5kZXJpbmdJbnRlbnRGbGFnID0gUmVuZGVyaW5nSW50ZW50RmxhZztcbmNvbnN0IEFubm90YXRpb25Nb2RlID0ge1xuICBESVNBQkxFOiAwLFxuICBFTkFCTEU6IDEsXG4gIEVOQUJMRV9GT1JNUzogMixcbiAgRU5BQkxFX1NUT1JBR0U6IDNcbn07XG5leHBvcnRzLkFubm90YXRpb25Nb2RlID0gQW5ub3RhdGlvbk1vZGU7XG5jb25zdCBQZXJtaXNzaW9uRmxhZyA9IHtcbiAgUFJJTlQ6IDB4MDQsXG4gIE1PRElGWV9DT05URU5UUzogMHgwOCxcbiAgQ09QWTogMHgxMCxcbiAgTU9ESUZZX0FOTk9UQVRJT05TOiAweDIwLFxuICBGSUxMX0lOVEVSQUNUSVZFX0ZPUk1TOiAweDEwMCxcbiAgQ09QWV9GT1JfQUNDRVNTSUJJTElUWTogMHgyMDAsXG4gIEFTU0VNQkxFOiAweDQwMCxcbiAgUFJJTlRfSElHSF9RVUFMSVRZOiAweDgwMFxufTtcbmV4cG9ydHMuUGVybWlzc2lvbkZsYWcgPSBQZXJtaXNzaW9uRmxhZztcbmNvbnN0IFRleHRSZW5kZXJpbmdNb2RlID0ge1xuICBGSUxMOiAwLFxuICBTVFJPS0U6IDEsXG4gIEZJTExfU1RST0tFOiAyLFxuICBJTlZJU0lCTEU6IDMsXG4gIEZJTExfQUREX1RPX1BBVEg6IDQsXG4gIFNUUk9LRV9BRERfVE9fUEFUSDogNSxcbiAgRklMTF9TVFJPS0VfQUREX1RPX1BBVEg6IDYsXG4gIEFERF9UT19QQVRIOiA3LFxuICBGSUxMX1NUUk9LRV9NQVNLOiAzLFxuICBBRERfVE9fUEFUSF9GTEFHOiA0XG59O1xuZXhwb3J0cy5UZXh0UmVuZGVyaW5nTW9kZSA9IFRleHRSZW5kZXJpbmdNb2RlO1xuY29uc3QgSW1hZ2VLaW5kID0ge1xuICBHUkFZU0NBTEVfMUJQUDogMSxcbiAgUkdCXzI0QlBQOiAyLFxuICBSR0JBXzMyQlBQOiAzXG59O1xuZXhwb3J0cy5JbWFnZUtpbmQgPSBJbWFnZUtpbmQ7XG5jb25zdCBBbm5vdGF0aW9uVHlwZSA9IHtcbiAgVEVYVDogMSxcbiAgTElOSzogMixcbiAgRlJFRVRFWFQ6IDMsXG4gIExJTkU6IDQsXG4gIFNRVUFSRTogNSxcbiAgQ0lSQ0xFOiA2LFxuICBQT0xZR09OOiA3LFxuICBQT0xZTElORTogOCxcbiAgSElHSExJR0hUOiA5LFxuICBVTkRFUkxJTkU6IDEwLFxuICBTUVVJR0dMWTogMTEsXG4gIFNUUklLRU9VVDogMTIsXG4gIFNUQU1QOiAxMyxcbiAgQ0FSRVQ6IDE0LFxuICBJTks6IDE1LFxuICBQT1BVUDogMTYsXG4gIEZJTEVBVFRBQ0hNRU5UOiAxNyxcbiAgU09VTkQ6IDE4LFxuICBNT1ZJRTogMTksXG4gIFdJREdFVDogMjAsXG4gIFNDUkVFTjogMjEsXG4gIFBSSU5URVJNQVJLOiAyMixcbiAgVFJBUE5FVDogMjMsXG4gIFdBVEVSTUFSSzogMjQsXG4gIFRIUkVFRDogMjUsXG4gIFJFREFDVDogMjZcbn07XG5leHBvcnRzLkFubm90YXRpb25UeXBlID0gQW5ub3RhdGlvblR5cGU7XG5jb25zdCBBbm5vdGF0aW9uU3RhdGVNb2RlbFR5cGUgPSB7XG4gIE1BUktFRDogXCJNYXJrZWRcIixcbiAgUkVWSUVXOiBcIlJldmlld1wiXG59O1xuZXhwb3J0cy5Bbm5vdGF0aW9uU3RhdGVNb2RlbFR5cGUgPSBBbm5vdGF0aW9uU3RhdGVNb2RlbFR5cGU7XG5jb25zdCBBbm5vdGF0aW9uTWFya2VkU3RhdGUgPSB7XG4gIE1BUktFRDogXCJNYXJrZWRcIixcbiAgVU5NQVJLRUQ6IFwiVW5tYXJrZWRcIlxufTtcbmV4cG9ydHMuQW5ub3RhdGlvbk1hcmtlZFN0YXRlID0gQW5ub3RhdGlvbk1hcmtlZFN0YXRlO1xuY29uc3QgQW5ub3RhdGlvblJldmlld1N0YXRlID0ge1xuICBBQ0NFUFRFRDogXCJBY2NlcHRlZFwiLFxuICBSRUpFQ1RFRDogXCJSZWplY3RlZFwiLFxuICBDQU5DRUxMRUQ6IFwiQ2FuY2VsbGVkXCIsXG4gIENPTVBMRVRFRDogXCJDb21wbGV0ZWRcIixcbiAgTk9ORTogXCJOb25lXCJcbn07XG5leHBvcnRzLkFubm90YXRpb25SZXZpZXdTdGF0ZSA9IEFubm90YXRpb25SZXZpZXdTdGF0ZTtcbmNvbnN0IEFubm90YXRpb25SZXBseVR5cGUgPSB7XG4gIEdST1VQOiBcIkdyb3VwXCIsXG4gIFJFUExZOiBcIlJcIlxufTtcbmV4cG9ydHMuQW5ub3RhdGlvblJlcGx5VHlwZSA9IEFubm90YXRpb25SZXBseVR5cGU7XG5jb25zdCBBbm5vdGF0aW9uRmxhZyA9IHtcbiAgSU5WSVNJQkxFOiAweDAxLFxuICBISURERU46IDB4MDIsXG4gIFBSSU5UOiAweDA0LFxuICBOT1pPT006IDB4MDgsXG4gIE5PUk9UQVRFOiAweDEwLFxuICBOT1ZJRVc6IDB4MjAsXG4gIFJFQURPTkxZOiAweDQwLFxuICBMT0NLRUQ6IDB4ODAsXG4gIFRPR0dMRU5PVklFVzogMHgxMDAsXG4gIExPQ0tFRENPTlRFTlRTOiAweDIwMFxufTtcbmV4cG9ydHMuQW5ub3RhdGlvbkZsYWcgPSBBbm5vdGF0aW9uRmxhZztcbmNvbnN0IEFubm90YXRpb25GaWVsZEZsYWcgPSB7XG4gIFJFQURPTkxZOiAweDAwMDAwMDEsXG4gIFJFUVVJUkVEOiAweDAwMDAwMDIsXG4gIE5PRVhQT1JUOiAweDAwMDAwMDQsXG4gIE1VTFRJTElORTogMHgwMDAxMDAwLFxuICBQQVNTV09SRDogMHgwMDAyMDAwLFxuICBOT1RPR0dMRVRPT0ZGOiAweDAwMDQwMDAsXG4gIFJBRElPOiAweDAwMDgwMDAsXG4gIFBVU0hCVVRUT046IDB4MDAxMDAwMCxcbiAgQ09NQk86IDB4MDAyMDAwMCxcbiAgRURJVDogMHgwMDQwMDAwLFxuICBTT1JUOiAweDAwODAwMDAsXG4gIEZJTEVTRUxFQ1Q6IDB4MDEwMDAwMCxcbiAgTVVMVElTRUxFQ1Q6IDB4MDIwMDAwMCxcbiAgRE9OT1RTUEVMTENIRUNLOiAweDA0MDAwMDAsXG4gIERPTk9UU0NST0xMOiAweDA4MDAwMDAsXG4gIENPTUI6IDB4MTAwMDAwMCxcbiAgUklDSFRFWFQ6IDB4MjAwMDAwMCxcbiAgUkFESU9TSU5VTklTT046IDB4MjAwMDAwMCxcbiAgQ09NTUlUT05TRUxDSEFOR0U6IDB4NDAwMDAwMFxufTtcbmV4cG9ydHMuQW5ub3RhdGlvbkZpZWxkRmxhZyA9IEFubm90YXRpb25GaWVsZEZsYWc7XG5jb25zdCBBbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlID0ge1xuICBTT0xJRDogMSxcbiAgREFTSEVEOiAyLFxuICBCRVZFTEVEOiAzLFxuICBJTlNFVDogNCxcbiAgVU5ERVJMSU5FOiA1XG59O1xuZXhwb3J0cy5Bbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlID0gQW5ub3RhdGlvbkJvcmRlclN0eWxlVHlwZTtcbmNvbnN0IEFubm90YXRpb25BY3Rpb25FdmVudFR5cGUgPSB7XG4gIEU6IFwiTW91c2UgRW50ZXJcIixcbiAgWDogXCJNb3VzZSBFeGl0XCIsXG4gIEQ6IFwiTW91c2UgRG93blwiLFxuICBVOiBcIk1vdXNlIFVwXCIsXG4gIEZvOiBcIkZvY3VzXCIsXG4gIEJsOiBcIkJsdXJcIixcbiAgUE86IFwiUGFnZU9wZW5cIixcbiAgUEM6IFwiUGFnZUNsb3NlXCIsXG4gIFBWOiBcIlBhZ2VWaXNpYmxlXCIsXG4gIFBJOiBcIlBhZ2VJbnZpc2libGVcIixcbiAgSzogXCJLZXlzdHJva2VcIixcbiAgRjogXCJGb3JtYXRcIixcbiAgVjogXCJWYWxpZGF0ZVwiLFxuICBDOiBcIkNhbGN1bGF0ZVwiXG59O1xuZXhwb3J0cy5Bbm5vdGF0aW9uQWN0aW9uRXZlbnRUeXBlID0gQW5ub3RhdGlvbkFjdGlvbkV2ZW50VHlwZTtcbmNvbnN0IERvY3VtZW50QWN0aW9uRXZlbnRUeXBlID0ge1xuICBXQzogXCJXaWxsQ2xvc2VcIixcbiAgV1M6IFwiV2lsbFNhdmVcIixcbiAgRFM6IFwiRGlkU2F2ZVwiLFxuICBXUDogXCJXaWxsUHJpbnRcIixcbiAgRFA6IFwiRGlkUHJpbnRcIlxufTtcbmV4cG9ydHMuRG9jdW1lbnRBY3Rpb25FdmVudFR5cGUgPSBEb2N1bWVudEFjdGlvbkV2ZW50VHlwZTtcbmNvbnN0IFBhZ2VBY3Rpb25FdmVudFR5cGUgPSB7XG4gIE86IFwiUGFnZU9wZW5cIixcbiAgQzogXCJQYWdlQ2xvc2VcIlxufTtcbmV4cG9ydHMuUGFnZUFjdGlvbkV2ZW50VHlwZSA9IFBhZ2VBY3Rpb25FdmVudFR5cGU7XG5jb25zdCBTdHJlYW1UeXBlID0ge1xuICBVTktOT1dOOiBcIlVOS05PV05cIixcbiAgRkxBVEU6IFwiRkxBVEVcIixcbiAgTFpXOiBcIkxaV1wiLFxuICBEQ1Q6IFwiRENUXCIsXG4gIEpQWDogXCJKUFhcIixcbiAgSkJJRzogXCJKQklHXCIsXG4gIEE4NTogXCJBODVcIixcbiAgQUhYOiBcIkFIWFwiLFxuICBDQ0Y6IFwiQ0NGXCIsXG4gIFJMWDogXCJSTFhcIlxufTtcbmV4cG9ydHMuU3RyZWFtVHlwZSA9IFN0cmVhbVR5cGU7XG5jb25zdCBGb250VHlwZSA9IHtcbiAgVU5LTk9XTjogXCJVTktOT1dOXCIsXG4gIFRZUEUxOiBcIlRZUEUxXCIsXG4gIFRZUEUxU1RBTkRBUkQ6IFwiVFlQRTFTVEFOREFSRFwiLFxuICBUWVBFMUM6IFwiVFlQRTFDXCIsXG4gIENJREZPTlRUWVBFMDogXCJDSURGT05UVFlQRTBcIixcbiAgQ0lERk9OVFRZUEUwQzogXCJDSURGT05UVFlQRTBDXCIsXG4gIFRSVUVUWVBFOiBcIlRSVUVUWVBFXCIsXG4gIENJREZPTlRUWVBFMjogXCJDSURGT05UVFlQRTJcIixcbiAgVFlQRTM6IFwiVFlQRTNcIixcbiAgT1BFTlRZUEU6IFwiT1BFTlRZUEVcIixcbiAgVFlQRTA6IFwiVFlQRTBcIixcbiAgTU1UWVBFMTogXCJNTVRZUEUxXCJcbn07XG5leHBvcnRzLkZvbnRUeXBlID0gRm9udFR5cGU7XG5jb25zdCBWZXJib3NpdHlMZXZlbCA9IHtcbiAgRVJST1JTOiAwLFxuICBXQVJOSU5HUzogMSxcbiAgSU5GT1M6IDVcbn07XG5leHBvcnRzLlZlcmJvc2l0eUxldmVsID0gVmVyYm9zaXR5TGV2ZWw7XG5jb25zdCBDTWFwQ29tcHJlc3Npb25UeXBlID0ge1xuICBOT05FOiAwLFxuICBCSU5BUlk6IDEsXG4gIFNUUkVBTTogMlxufTtcbmV4cG9ydHMuQ01hcENvbXByZXNzaW9uVHlwZSA9IENNYXBDb21wcmVzc2lvblR5cGU7XG5jb25zdCBPUFMgPSB7XG4gIGRlcGVuZGVuY3k6IDEsXG4gIHNldExpbmVXaWR0aDogMixcbiAgc2V0TGluZUNhcDogMyxcbiAgc2V0TGluZUpvaW46IDQsXG4gIHNldE1pdGVyTGltaXQ6IDUsXG4gIHNldERhc2g6IDYsXG4gIHNldFJlbmRlcmluZ0ludGVudDogNyxcbiAgc2V0RmxhdG5lc3M6IDgsXG4gIHNldEdTdGF0ZTogOSxcbiAgc2F2ZTogMTAsXG4gIHJlc3RvcmU6IDExLFxuICB0cmFuc2Zvcm06IDEyLFxuICBtb3ZlVG86IDEzLFxuICBsaW5lVG86IDE0LFxuICBjdXJ2ZVRvOiAxNSxcbiAgY3VydmVUbzI6IDE2LFxuICBjdXJ2ZVRvMzogMTcsXG4gIGNsb3NlUGF0aDogMTgsXG4gIHJlY3RhbmdsZTogMTksXG4gIHN0cm9rZTogMjAsXG4gIGNsb3NlU3Ryb2tlOiAyMSxcbiAgZmlsbDogMjIsXG4gIGVvRmlsbDogMjMsXG4gIGZpbGxTdHJva2U6IDI0LFxuICBlb0ZpbGxTdHJva2U6IDI1LFxuICBjbG9zZUZpbGxTdHJva2U6IDI2LFxuICBjbG9zZUVPRmlsbFN0cm9rZTogMjcsXG4gIGVuZFBhdGg6IDI4LFxuICBjbGlwOiAyOSxcbiAgZW9DbGlwOiAzMCxcbiAgYmVnaW5UZXh0OiAzMSxcbiAgZW5kVGV4dDogMzIsXG4gIHNldENoYXJTcGFjaW5nOiAzMyxcbiAgc2V0V29yZFNwYWNpbmc6IDM0LFxuICBzZXRIU2NhbGU6IDM1LFxuICBzZXRMZWFkaW5nOiAzNixcbiAgc2V0Rm9udDogMzcsXG4gIHNldFRleHRSZW5kZXJpbmdNb2RlOiAzOCxcbiAgc2V0VGV4dFJpc2U6IDM5LFxuICBtb3ZlVGV4dDogNDAsXG4gIHNldExlYWRpbmdNb3ZlVGV4dDogNDEsXG4gIHNldFRleHRNYXRyaXg6IDQyLFxuICBuZXh0TGluZTogNDMsXG4gIHNob3dUZXh0OiA0NCxcbiAgc2hvd1NwYWNlZFRleHQ6IDQ1LFxuICBuZXh0TGluZVNob3dUZXh0OiA0NixcbiAgbmV4dExpbmVTZXRTcGFjaW5nU2hvd1RleHQ6IDQ3LFxuICBzZXRDaGFyV2lkdGg6IDQ4LFxuICBzZXRDaGFyV2lkdGhBbmRCb3VuZHM6IDQ5LFxuICBzZXRTdHJva2VDb2xvclNwYWNlOiA1MCxcbiAgc2V0RmlsbENvbG9yU3BhY2U6IDUxLFxuICBzZXRTdHJva2VDb2xvcjogNTIsXG4gIHNldFN0cm9rZUNvbG9yTjogNTMsXG4gIHNldEZpbGxDb2xvcjogNTQsXG4gIHNldEZpbGxDb2xvck46IDU1LFxuICBzZXRTdHJva2VHcmF5OiA1NixcbiAgc2V0RmlsbEdyYXk6IDU3LFxuICBzZXRTdHJva2VSR0JDb2xvcjogNTgsXG4gIHNldEZpbGxSR0JDb2xvcjogNTksXG4gIHNldFN0cm9rZUNNWUtDb2xvcjogNjAsXG4gIHNldEZpbGxDTVlLQ29sb3I6IDYxLFxuICBzaGFkaW5nRmlsbDogNjIsXG4gIGJlZ2luSW5saW5lSW1hZ2U6IDYzLFxuICBiZWdpbkltYWdlRGF0YTogNjQsXG4gIGVuZElubGluZUltYWdlOiA2NSxcbiAgcGFpbnRYT2JqZWN0OiA2NixcbiAgbWFya1BvaW50OiA2NyxcbiAgbWFya1BvaW50UHJvcHM6IDY4LFxuICBiZWdpbk1hcmtlZENvbnRlbnQ6IDY5LFxuICBiZWdpbk1hcmtlZENvbnRlbnRQcm9wczogNzAsXG4gIGVuZE1hcmtlZENvbnRlbnQ6IDcxLFxuICBiZWdpbkNvbXBhdDogNzIsXG4gIGVuZENvbXBhdDogNzMsXG4gIHBhaW50Rm9ybVhPYmplY3RCZWdpbjogNzQsXG4gIHBhaW50Rm9ybVhPYmplY3RFbmQ6IDc1LFxuICBiZWdpbkdyb3VwOiA3NixcbiAgZW5kR3JvdXA6IDc3LFxuICBiZWdpbkFubm90YXRpb25zOiA3OCxcbiAgZW5kQW5ub3RhdGlvbnM6IDc5LFxuICBiZWdpbkFubm90YXRpb246IDgwLFxuICBlbmRBbm5vdGF0aW9uOiA4MSxcbiAgcGFpbnRKcGVnWE9iamVjdDogODIsXG4gIHBhaW50SW1hZ2VNYXNrWE9iamVjdDogODMsXG4gIHBhaW50SW1hZ2VNYXNrWE9iamVjdEdyb3VwOiA4NCxcbiAgcGFpbnRJbWFnZVhPYmplY3Q6IDg1LFxuICBwYWludElubGluZUltYWdlWE9iamVjdDogODYsXG4gIHBhaW50SW5saW5lSW1hZ2VYT2JqZWN0R3JvdXA6IDg3LFxuICBwYWludEltYWdlWE9iamVjdFJlcGVhdDogODgsXG4gIHBhaW50SW1hZ2VNYXNrWE9iamVjdFJlcGVhdDogODksXG4gIHBhaW50U29saWRDb2xvckltYWdlTWFzazogOTAsXG4gIGNvbnN0cnVjdFBhdGg6IDkxXG59O1xuZXhwb3J0cy5PUFMgPSBPUFM7XG5jb25zdCBVTlNVUFBPUlRFRF9GRUFUVVJFUyA9IHtcbiAgdW5rbm93bjogXCJ1bmtub3duXCIsXG4gIGZvcm1zOiBcImZvcm1zXCIsXG4gIGphdmFTY3JpcHQ6IFwiamF2YVNjcmlwdFwiLFxuICBzaWduYXR1cmVzOiBcInNpZ25hdHVyZXNcIixcbiAgc21hc2s6IFwic21hc2tcIixcbiAgc2hhZGluZ1BhdHRlcm46IFwic2hhZGluZ1BhdHRlcm5cIixcbiAgZm9udDogXCJmb250XCIsXG4gIGVycm9yVGlsaW5nUGF0dGVybjogXCJlcnJvclRpbGluZ1BhdHRlcm5cIixcbiAgZXJyb3JFeHRHU3RhdGU6IFwiZXJyb3JFeHRHU3RhdGVcIixcbiAgZXJyb3JYT2JqZWN0OiBcImVycm9yWE9iamVjdFwiLFxuICBlcnJvckZvbnRMb2FkVHlwZTM6IFwiZXJyb3JGb250TG9hZFR5cGUzXCIsXG4gIGVycm9yRm9udFN0YXRlOiBcImVycm9yRm9udFN0YXRlXCIsXG4gIGVycm9yRm9udE1pc3Npbmc6IFwiZXJyb3JGb250TWlzc2luZ1wiLFxuICBlcnJvckZvbnRUcmFuc2xhdGU6IFwiZXJyb3JGb250VHJhbnNsYXRlXCIsXG4gIGVycm9yQ29sb3JTcGFjZTogXCJlcnJvckNvbG9yU3BhY2VcIixcbiAgZXJyb3JPcGVyYXRvckxpc3Q6IFwiZXJyb3JPcGVyYXRvckxpc3RcIixcbiAgZXJyb3JGb250VG9Vbmljb2RlOiBcImVycm9yRm9udFRvVW5pY29kZVwiLFxuICBlcnJvckZvbnRMb2FkTmF0aXZlOiBcImVycm9yRm9udExvYWROYXRpdmVcIixcbiAgZXJyb3JGb250QnVpbGRQYXRoOiBcImVycm9yRm9udEJ1aWxkUGF0aFwiLFxuICBlcnJvckZvbnRHZXRQYXRoOiBcImVycm9yRm9udEdldFBhdGhcIixcbiAgZXJyb3JNYXJrZWRDb250ZW50OiBcImVycm9yTWFya2VkQ29udGVudFwiLFxuICBlcnJvckNvbnRlbnRTdWJTdHJlYW06IFwiZXJyb3JDb250ZW50U3ViU3RyZWFtXCJcbn07XG5leHBvcnRzLlVOU1VQUE9SVEVEX0ZFQVRVUkVTID0gVU5TVVBQT1JURURfRkVBVFVSRVM7XG5jb25zdCBQYXNzd29yZFJlc3BvbnNlcyA9IHtcbiAgTkVFRF9QQVNTV09SRDogMSxcbiAgSU5DT1JSRUNUX1BBU1NXT1JEOiAyXG59O1xuZXhwb3J0cy5QYXNzd29yZFJlc3BvbnNlcyA9IFBhc3N3b3JkUmVzcG9uc2VzO1xubGV0IHZlcmJvc2l0eSA9IFZlcmJvc2l0eUxldmVsLldBUk5JTkdTO1xuXG5mdW5jdGlvbiBzZXRWZXJib3NpdHlMZXZlbChsZXZlbCkge1xuICBpZiAoTnVtYmVyLmlzSW50ZWdlcihsZXZlbCkpIHtcbiAgICB2ZXJib3NpdHkgPSBsZXZlbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRWZXJib3NpdHlMZXZlbCgpIHtcbiAgcmV0dXJuIHZlcmJvc2l0eTtcbn1cblxuZnVuY3Rpb24gaW5mbyhtc2cpIHtcbiAgaWYgKHZlcmJvc2l0eSA+PSBWZXJib3NpdHlMZXZlbC5JTkZPUykge1xuICAgIGNvbnNvbGUubG9nKGBJbmZvOiAke21zZ31gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICBpZiAodmVyYm9zaXR5ID49IFZlcmJvc2l0eUxldmVsLldBUk5JTkdTKSB7XG4gICAgY29uc29sZS5sb2coYFdhcm5pbmc6ICR7bXNnfWApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVucmVhY2hhYmxlKG1zZykge1xuICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0KGNvbmQsIG1zZykge1xuICBpZiAoIWNvbmQpIHtcbiAgICB1bnJlYWNoYWJsZShtc2cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9pc1ZhbGlkUHJvdG9jb2wodXJsKSB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3dpdGNoICh1cmwucHJvdG9jb2wpIHtcbiAgICBjYXNlIFwiaHR0cDpcIjpcbiAgICBjYXNlIFwiaHR0cHM6XCI6XG4gICAgY2FzZSBcImZ0cDpcIjpcbiAgICBjYXNlIFwibWFpbHRvOlwiOlxuICAgIGNhc2UgXCJ0ZWw6XCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVmFsaWRBYnNvbHV0ZVVybCh1cmwsIGJhc2VVcmwgPSBudWxsLCBvcHRpb25zID0gbnVsbCkge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAob3B0aW9ucy5hZGREZWZhdWx0UHJvdG9jb2wgJiYgdXJsLnN0YXJ0c1dpdGgoXCJ3d3cuXCIpKSB7XG4gICAgICAgIGNvbnN0IGRvdHMgPSB1cmwubWF0Y2goL1xcLi9nKTtcblxuICAgICAgICBpZiAoZG90cyAmJiBkb3RzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgdXJsID0gYGh0dHA6Ly8ke3VybH1gO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnRyeUNvbnZlcnRFbmNvZGluZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHVybCA9IHN0cmluZ1RvVVRGOFN0cmluZyh1cmwpO1xuICAgICAgICB9IGNhdGNoIChleCkge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhYnNvbHV0ZVVybCA9IGJhc2VVcmwgPyBuZXcgVVJMKHVybCwgYmFzZVVybCkgOiBuZXcgVVJMKHVybCk7XG5cbiAgICBpZiAoX2lzVmFsaWRQcm90b2NvbChhYnNvbHV0ZVVybCkpIHtcbiAgICAgIHJldHVybiBhYnNvbHV0ZVVybDtcbiAgICB9XG4gIH0gY2F0Y2ggKGV4KSB7fVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBzaGFkb3cob2JqLCBwcm9wLCB2YWx1ZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCB7XG4gICAgdmFsdWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmNvbnN0IEJhc2VFeGNlcHRpb24gPSBmdW5jdGlvbiBCYXNlRXhjZXB0aW9uQ2xvc3VyZSgpIHtcbiAgZnVuY3Rpb24gQmFzZUV4Y2VwdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IEJhc2VFeGNlcHRpb24pIHtcbiAgICAgIHVucmVhY2hhYmxlKFwiQ2Fubm90IGluaXRpYWxpemUgQmFzZUV4Y2VwdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG5cbiAgQmFzZUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbiAgQmFzZUV4Y2VwdGlvbi5jb25zdHJ1Y3RvciA9IEJhc2VFeGNlcHRpb247XG4gIHJldHVybiBCYXNlRXhjZXB0aW9uO1xufSgpO1xuXG5leHBvcnRzLkJhc2VFeGNlcHRpb24gPSBCYXNlRXhjZXB0aW9uO1xuXG5jbGFzcyBQYXNzd29yZEV4Y2VwdGlvbiBleHRlbmRzIEJhc2VFeGNlcHRpb24ge1xuICBjb25zdHJ1Y3Rvcihtc2csIGNvZGUpIHtcbiAgICBzdXBlcihtc2csIFwiUGFzc3dvcmRFeGNlcHRpb25cIik7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuUGFzc3dvcmRFeGNlcHRpb24gPSBQYXNzd29yZEV4Y2VwdGlvbjtcblxuY2xhc3MgVW5rbm93bkVycm9yRXhjZXB0aW9uIGV4dGVuZHMgQmFzZUV4Y2VwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG1zZywgZGV0YWlscykge1xuICAgIHN1cGVyKG1zZywgXCJVbmtub3duRXJyb3JFeGNlcHRpb25cIik7XG4gICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgfVxuXG59XG5cbmV4cG9ydHMuVW5rbm93bkVycm9yRXhjZXB0aW9uID0gVW5rbm93bkVycm9yRXhjZXB0aW9uO1xuXG5jbGFzcyBJbnZhbGlkUERGRXhjZXB0aW9uIGV4dGVuZHMgQmFzZUV4Y2VwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG1zZykge1xuICAgIHN1cGVyKG1zZywgXCJJbnZhbGlkUERGRXhjZXB0aW9uXCIpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5JbnZhbGlkUERGRXhjZXB0aW9uID0gSW52YWxpZFBERkV4Y2VwdGlvbjtcblxuY2xhc3MgTWlzc2luZ1BERkV4Y2VwdGlvbiBleHRlbmRzIEJhc2VFeGNlcHRpb24ge1xuICBjb25zdHJ1Y3Rvcihtc2cpIHtcbiAgICBzdXBlcihtc2csIFwiTWlzc2luZ1BERkV4Y2VwdGlvblwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuTWlzc2luZ1BERkV4Y2VwdGlvbiA9IE1pc3NpbmdQREZFeGNlcHRpb247XG5cbmNsYXNzIFVuZXhwZWN0ZWRSZXNwb25zZUV4Y2VwdGlvbiBleHRlbmRzIEJhc2VFeGNlcHRpb24ge1xuICBjb25zdHJ1Y3Rvcihtc2csIHN0YXR1cykge1xuICAgIHN1cGVyKG1zZywgXCJVbmV4cGVjdGVkUmVzcG9uc2VFeGNlcHRpb25cIik7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIH1cblxufVxuXG5leHBvcnRzLlVuZXhwZWN0ZWRSZXNwb25zZUV4Y2VwdGlvbiA9IFVuZXhwZWN0ZWRSZXNwb25zZUV4Y2VwdGlvbjtcblxuY2xhc3MgRm9ybWF0RXJyb3IgZXh0ZW5kcyBCYXNlRXhjZXB0aW9uIHtcbiAgY29uc3RydWN0b3IobXNnKSB7XG4gICAgc3VwZXIobXNnLCBcIkZvcm1hdEVycm9yXCIpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5Gb3JtYXRFcnJvciA9IEZvcm1hdEVycm9yO1xuXG5jbGFzcyBBYm9ydEV4Y2VwdGlvbiBleHRlbmRzIEJhc2VFeGNlcHRpb24ge1xuICBjb25zdHJ1Y3Rvcihtc2cpIHtcbiAgICBzdXBlcihtc2csIFwiQWJvcnRFeGNlcHRpb25cIik7XG4gIH1cblxufVxuXG5leHBvcnRzLkFib3J0RXhjZXB0aW9uID0gQWJvcnRFeGNlcHRpb247XG5cbmZ1bmN0aW9uIGJ5dGVzVG9TdHJpbmcoYnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBieXRlcyAhPT0gXCJvYmplY3RcIiB8fCBieXRlcyA9PT0gbnVsbCB8fCBieXRlcy5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIHVucmVhY2hhYmxlKFwiSW52YWxpZCBhcmd1bWVudCBmb3IgYnl0ZXNUb1N0cmluZ1wiKTtcbiAgfVxuXG4gIGNvbnN0IGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcbiAgY29uc3QgTUFYX0FSR1VNRU5UX0NPVU5UID0gODE5MjtcblxuICBpZiAobGVuZ3RoIDwgTUFYX0FSR1VNRU5UX0NPVU5UKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYnl0ZXMpO1xuICB9XG5cbiAgY29uc3Qgc3RyQnVmID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gTUFYX0FSR1VNRU5UX0NPVU5UKSB7XG4gICAgY29uc3QgY2h1bmtFbmQgPSBNYXRoLm1pbihpICsgTUFYX0FSR1VNRU5UX0NPVU5ULCBsZW5ndGgpO1xuICAgIGNvbnN0IGNodW5rID0gYnl0ZXMuc3ViYXJyYXkoaSwgY2h1bmtFbmQpO1xuICAgIHN0ckJ1Zi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgY2h1bmspKTtcbiAgfVxuXG4gIHJldHVybiBzdHJCdWYuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09IFwic3RyaW5nXCIpIHtcbiAgICB1bnJlYWNoYWJsZShcIkludmFsaWQgYXJndW1lbnQgZm9yIHN0cmluZ1RvQnl0ZXNcIik7XG4gIH1cblxuICBjb25zdCBsZW5ndGggPSBzdHIubGVuZ3RoO1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzW2ldID0gc3RyLmNoYXJDb2RlQXQoaSkgJiAweGZmO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5mdW5jdGlvbiBhcnJheUJ5dGVMZW5ndGgoYXJyKSB7XG4gIGlmIChhcnIubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gYXJyLmxlbmd0aDtcbiAgfVxuXG4gIGlmIChhcnIuYnl0ZUxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGFyci5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgdW5yZWFjaGFibGUoXCJJbnZhbGlkIGFyZ3VtZW50IGZvciBhcnJheUJ5dGVMZW5ndGhcIik7XG59XG5cbmZ1bmN0aW9uIGFycmF5c1RvQnl0ZXMoYXJyKSB7XG4gIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG5cbiAgaWYgKGxlbmd0aCA9PT0gMSAmJiBhcnJbMF0gaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgcmV0dXJuIGFyclswXTtcbiAgfVxuXG4gIGxldCByZXN1bHRMZW5ndGggPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRMZW5ndGggKz0gYXJyYXlCeXRlTGVuZ3RoKGFycltpXSk7XG4gIH1cblxuICBsZXQgcG9zID0gMDtcbiAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KHJlc3VsdExlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGxldCBpdGVtID0gYXJyW2ldO1xuXG4gICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaXRlbSA9IHN0cmluZ1RvQnl0ZXMoaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtID0gbmV3IFVpbnQ4QXJyYXkoaXRlbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXRlbUxlbmd0aCA9IGl0ZW0uYnl0ZUxlbmd0aDtcbiAgICBkYXRhLnNldChpdGVtLCBwb3MpO1xuICAgIHBvcyArPSBpdGVtTGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIHN0cmluZzMyKHZhbHVlKSB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlID4+IDI0ICYgMHhmZiwgdmFsdWUgPj4gMTYgJiAweGZmLCB2YWx1ZSA+PiA4ICYgMHhmZiwgdmFsdWUgJiAweGZmKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0U2l6ZShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBvYmplY3RGcm9tTWFwKG1hcCkge1xuICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIG1hcCkge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBpc0xpdHRsZUVuZGlhbigpIHtcbiAgY29uc3QgYnVmZmVyOCA9IG5ldyBVaW50OEFycmF5KDQpO1xuICBidWZmZXI4WzBdID0gMTtcbiAgY29uc3QgdmlldzMyID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcjguYnVmZmVyLCAwLCAxKTtcbiAgcmV0dXJuIHZpZXczMlswXSA9PT0gMTtcbn1cblxuZnVuY3Rpb24gaXNFdmFsU3VwcG9ydGVkKCkge1xuICB0cnkge1xuICAgIG5ldyBGdW5jdGlvbihcIlwiKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBGZWF0dXJlVGVzdCB7XG4gIHN0YXRpYyBnZXQgaXNMaXR0bGVFbmRpYW4oKSB7XG4gICAgcmV0dXJuIHNoYWRvdyh0aGlzLCBcImlzTGl0dGxlRW5kaWFuXCIsIGlzTGl0dGxlRW5kaWFuKCkpO1xuICB9XG5cbiAgc3RhdGljIGdldCBpc0V2YWxTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHNoYWRvdyh0aGlzLCBcImlzRXZhbFN1cHBvcnRlZFwiLCBpc0V2YWxTdXBwb3J0ZWQoKSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGlzT2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBzaGFkb3codGhpcywgXCJpc09mZnNjcmVlbkNhbnZhc1N1cHBvcnRlZFwiLCB0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzICE9PSBcInVuZGVmaW5lZFwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuRmVhdHVyZVRlc3QgPSBGZWF0dXJlVGVzdDtcbmNvbnN0IGhleE51bWJlcnMgPSBbLi4uQXJyYXkoMjU2KS5rZXlzKCldLm1hcChuID0+IG4udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSk7XG5cbmNsYXNzIFV0aWwge1xuICBzdGF0aWMgbWFrZUhleENvbG9yKHIsIGcsIGIpIHtcbiAgICByZXR1cm4gYCMke2hleE51bWJlcnNbcl19JHtoZXhOdW1iZXJzW2ddfSR7aGV4TnVtYmVyc1tiXX1gO1xuICB9XG5cbiAgc3RhdGljIHNjYWxlTWluTWF4KHRyYW5zZm9ybSwgbWluTWF4KSB7XG4gICAgbGV0IHRlbXA7XG5cbiAgICBpZiAodHJhbnNmb3JtWzBdKSB7XG4gICAgICBpZiAodHJhbnNmb3JtWzBdIDwgMCkge1xuICAgICAgICB0ZW1wID0gbWluTWF4WzBdO1xuICAgICAgICBtaW5NYXhbMF0gPSBtaW5NYXhbMV07XG4gICAgICAgIG1pbk1heFsxXSA9IHRlbXA7XG4gICAgICB9XG5cbiAgICAgIG1pbk1heFswXSAqPSB0cmFuc2Zvcm1bMF07XG4gICAgICBtaW5NYXhbMV0gKj0gdHJhbnNmb3JtWzBdO1xuXG4gICAgICBpZiAodHJhbnNmb3JtWzNdIDwgMCkge1xuICAgICAgICB0ZW1wID0gbWluTWF4WzJdO1xuICAgICAgICBtaW5NYXhbMl0gPSBtaW5NYXhbM107XG4gICAgICAgIG1pbk1heFszXSA9IHRlbXA7XG4gICAgICB9XG5cbiAgICAgIG1pbk1heFsyXSAqPSB0cmFuc2Zvcm1bM107XG4gICAgICBtaW5NYXhbM10gKj0gdHJhbnNmb3JtWzNdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wID0gbWluTWF4WzBdO1xuICAgICAgbWluTWF4WzBdID0gbWluTWF4WzJdO1xuICAgICAgbWluTWF4WzJdID0gdGVtcDtcbiAgICAgIHRlbXAgPSBtaW5NYXhbMV07XG4gICAgICBtaW5NYXhbMV0gPSBtaW5NYXhbM107XG4gICAgICBtaW5NYXhbM10gPSB0ZW1wO1xuXG4gICAgICBpZiAodHJhbnNmb3JtWzFdIDwgMCkge1xuICAgICAgICB0ZW1wID0gbWluTWF4WzJdO1xuICAgICAgICBtaW5NYXhbMl0gPSBtaW5NYXhbM107XG4gICAgICAgIG1pbk1heFszXSA9IHRlbXA7XG4gICAgICB9XG5cbiAgICAgIG1pbk1heFsyXSAqPSB0cmFuc2Zvcm1bMV07XG4gICAgICBtaW5NYXhbM10gKj0gdHJhbnNmb3JtWzFdO1xuXG4gICAgICBpZiAodHJhbnNmb3JtWzJdIDwgMCkge1xuICAgICAgICB0ZW1wID0gbWluTWF4WzBdO1xuICAgICAgICBtaW5NYXhbMF0gPSBtaW5NYXhbMV07XG4gICAgICAgIG1pbk1heFsxXSA9IHRlbXA7XG4gICAgICB9XG5cbiAgICAgIG1pbk1heFswXSAqPSB0cmFuc2Zvcm1bMl07XG4gICAgICBtaW5NYXhbMV0gKj0gdHJhbnNmb3JtWzJdO1xuICAgIH1cblxuICAgIG1pbk1heFswXSArPSB0cmFuc2Zvcm1bNF07XG4gICAgbWluTWF4WzFdICs9IHRyYW5zZm9ybVs0XTtcbiAgICBtaW5NYXhbMl0gKz0gdHJhbnNmb3JtWzVdO1xuICAgIG1pbk1heFszXSArPSB0cmFuc2Zvcm1bNV07XG4gIH1cblxuICBzdGF0aWMgdHJhbnNmb3JtKG0xLCBtMikge1xuICAgIHJldHVybiBbbTFbMF0gKiBtMlswXSArIG0xWzJdICogbTJbMV0sIG0xWzFdICogbTJbMF0gKyBtMVszXSAqIG0yWzFdLCBtMVswXSAqIG0yWzJdICsgbTFbMl0gKiBtMlszXSwgbTFbMV0gKiBtMlsyXSArIG0xWzNdICogbTJbM10sIG0xWzBdICogbTJbNF0gKyBtMVsyXSAqIG0yWzVdICsgbTFbNF0sIG0xWzFdICogbTJbNF0gKyBtMVszXSAqIG0yWzVdICsgbTFbNV1dO1xuICB9XG5cbiAgc3RhdGljIGFwcGx5VHJhbnNmb3JtKHAsIG0pIHtcbiAgICBjb25zdCB4dCA9IHBbMF0gKiBtWzBdICsgcFsxXSAqIG1bMl0gKyBtWzRdO1xuICAgIGNvbnN0IHl0ID0gcFswXSAqIG1bMV0gKyBwWzFdICogbVszXSArIG1bNV07XG4gICAgcmV0dXJuIFt4dCwgeXRdO1xuICB9XG5cbiAgc3RhdGljIGFwcGx5SW52ZXJzZVRyYW5zZm9ybShwLCBtKSB7XG4gICAgY29uc3QgZCA9IG1bMF0gKiBtWzNdIC0gbVsxXSAqIG1bMl07XG4gICAgY29uc3QgeHQgPSAocFswXSAqIG1bM10gLSBwWzFdICogbVsyXSArIG1bMl0gKiBtWzVdIC0gbVs0XSAqIG1bM10pIC8gZDtcbiAgICBjb25zdCB5dCA9ICgtcFswXSAqIG1bMV0gKyBwWzFdICogbVswXSArIG1bNF0gKiBtWzFdIC0gbVs1XSAqIG1bMF0pIC8gZDtcbiAgICByZXR1cm4gW3h0LCB5dF07XG4gIH1cblxuICBzdGF0aWMgZ2V0QXhpYWxBbGlnbmVkQm91bmRpbmdCb3gociwgbSkge1xuICAgIGNvbnN0IHAxID0gVXRpbC5hcHBseVRyYW5zZm9ybShyLCBtKTtcbiAgICBjb25zdCBwMiA9IFV0aWwuYXBwbHlUcmFuc2Zvcm0oci5zbGljZSgyLCA0KSwgbSk7XG4gICAgY29uc3QgcDMgPSBVdGlsLmFwcGx5VHJhbnNmb3JtKFtyWzBdLCByWzNdXSwgbSk7XG4gICAgY29uc3QgcDQgPSBVdGlsLmFwcGx5VHJhbnNmb3JtKFtyWzJdLCByWzFdXSwgbSk7XG4gICAgcmV0dXJuIFtNYXRoLm1pbihwMVswXSwgcDJbMF0sIHAzWzBdLCBwNFswXSksIE1hdGgubWluKHAxWzFdLCBwMlsxXSwgcDNbMV0sIHA0WzFdKSwgTWF0aC5tYXgocDFbMF0sIHAyWzBdLCBwM1swXSwgcDRbMF0pLCBNYXRoLm1heChwMVsxXSwgcDJbMV0sIHAzWzFdLCBwNFsxXSldO1xuICB9XG5cbiAgc3RhdGljIGludmVyc2VUcmFuc2Zvcm0obSkge1xuICAgIGNvbnN0IGQgPSBtWzBdICogbVszXSAtIG1bMV0gKiBtWzJdO1xuICAgIHJldHVybiBbbVszXSAvIGQsIC1tWzFdIC8gZCwgLW1bMl0gLyBkLCBtWzBdIC8gZCwgKG1bMl0gKiBtWzVdIC0gbVs0XSAqIG1bM10pIC8gZCwgKG1bNF0gKiBtWzFdIC0gbVs1XSAqIG1bMF0pIC8gZF07XG4gIH1cblxuICBzdGF0aWMgYXBwbHkzZFRyYW5zZm9ybShtLCB2KSB7XG4gICAgcmV0dXJuIFttWzBdICogdlswXSArIG1bMV0gKiB2WzFdICsgbVsyXSAqIHZbMl0sIG1bM10gKiB2WzBdICsgbVs0XSAqIHZbMV0gKyBtWzVdICogdlsyXSwgbVs2XSAqIHZbMF0gKyBtWzddICogdlsxXSArIG1bOF0gKiB2WzJdXTtcbiAgfVxuXG4gIHN0YXRpYyBzaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZShtKSB7XG4gICAgY29uc3QgdHJhbnNwb3NlID0gW21bMF0sIG1bMl0sIG1bMV0sIG1bM11dO1xuICAgIGNvbnN0IGEgPSBtWzBdICogdHJhbnNwb3NlWzBdICsgbVsxXSAqIHRyYW5zcG9zZVsyXTtcbiAgICBjb25zdCBiID0gbVswXSAqIHRyYW5zcG9zZVsxXSArIG1bMV0gKiB0cmFuc3Bvc2VbM107XG4gICAgY29uc3QgYyA9IG1bMl0gKiB0cmFuc3Bvc2VbMF0gKyBtWzNdICogdHJhbnNwb3NlWzJdO1xuICAgIGNvbnN0IGQgPSBtWzJdICogdHJhbnNwb3NlWzFdICsgbVszXSAqIHRyYW5zcG9zZVszXTtcbiAgICBjb25zdCBmaXJzdCA9IChhICsgZCkgLyAyO1xuICAgIGNvbnN0IHNlY29uZCA9IE1hdGguc3FydCgoYSArIGQpICoqIDIgLSA0ICogKGEgKiBkIC0gYyAqIGIpKSAvIDI7XG4gICAgY29uc3Qgc3ggPSBmaXJzdCArIHNlY29uZCB8fCAxO1xuICAgIGNvbnN0IHN5ID0gZmlyc3QgLSBzZWNvbmQgfHwgMTtcbiAgICByZXR1cm4gW01hdGguc3FydChzeCksIE1hdGguc3FydChzeSldO1xuICB9XG5cbiAgc3RhdGljIG5vcm1hbGl6ZVJlY3QocmVjdCkge1xuICAgIGNvbnN0IHIgPSByZWN0LnNsaWNlKDApO1xuXG4gICAgaWYgKHJlY3RbMF0gPiByZWN0WzJdKSB7XG4gICAgICByWzBdID0gcmVjdFsyXTtcbiAgICAgIHJbMl0gPSByZWN0WzBdO1xuICAgIH1cblxuICAgIGlmIChyZWN0WzFdID4gcmVjdFszXSkge1xuICAgICAgclsxXSA9IHJlY3RbM107XG4gICAgICByWzNdID0gcmVjdFsxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIHN0YXRpYyBpbnRlcnNlY3QocmVjdDEsIHJlY3QyKSB7XG4gICAgY29uc3QgeExvdyA9IE1hdGgubWF4KE1hdGgubWluKHJlY3QxWzBdLCByZWN0MVsyXSksIE1hdGgubWluKHJlY3QyWzBdLCByZWN0MlsyXSkpO1xuICAgIGNvbnN0IHhIaWdoID0gTWF0aC5taW4oTWF0aC5tYXgocmVjdDFbMF0sIHJlY3QxWzJdKSwgTWF0aC5tYXgocmVjdDJbMF0sIHJlY3QyWzJdKSk7XG5cbiAgICBpZiAoeExvdyA+IHhIaWdoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB5TG93ID0gTWF0aC5tYXgoTWF0aC5taW4ocmVjdDFbMV0sIHJlY3QxWzNdKSwgTWF0aC5taW4ocmVjdDJbMV0sIHJlY3QyWzNdKSk7XG4gICAgY29uc3QgeUhpZ2ggPSBNYXRoLm1pbihNYXRoLm1heChyZWN0MVsxXSwgcmVjdDFbM10pLCBNYXRoLm1heChyZWN0MlsxXSwgcmVjdDJbM10pKTtcblxuICAgIGlmICh5TG93ID4geUhpZ2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBbeExvdywgeUxvdywgeEhpZ2gsIHlIaWdoXTtcbiAgfVxuXG4gIHN0YXRpYyBiZXppZXJCb3VuZGluZ0JveCh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgICBjb25zdCB0dmFsdWVzID0gW10sXG4gICAgICAgICAgYm91bmRzID0gW1tdLCBbXV07XG4gICAgbGV0IGEsIGIsIGMsIHQsIHQxLCB0MiwgYjJhYywgc3FydGIyYWM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7ICsraSkge1xuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgYiA9IDYgKiB4MCAtIDEyICogeDEgKyA2ICogeDI7XG4gICAgICAgIGEgPSAtMyAqIHgwICsgOSAqIHgxIC0gOSAqIHgyICsgMyAqIHgzO1xuICAgICAgICBjID0gMyAqIHgxIC0gMyAqIHgwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYiA9IDYgKiB5MCAtIDEyICogeTEgKyA2ICogeTI7XG4gICAgICAgIGEgPSAtMyAqIHkwICsgOSAqIHkxIC0gOSAqIHkyICsgMyAqIHkzO1xuICAgICAgICBjID0gMyAqIHkxIC0gMyAqIHkwO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYSkgPCAxZS0xMikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoYikgPCAxZS0xMikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdCA9IC1jIC8gYjtcblxuICAgICAgICBpZiAoMCA8IHQgJiYgdCA8IDEpIHtcbiAgICAgICAgICB0dmFsdWVzLnB1c2godCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgYjJhYyA9IGIgKiBiIC0gNCAqIGMgKiBhO1xuICAgICAgc3FydGIyYWMgPSBNYXRoLnNxcnQoYjJhYyk7XG5cbiAgICAgIGlmIChiMmFjIDwgMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdDEgPSAoLWIgKyBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuXG4gICAgICBpZiAoMCA8IHQxICYmIHQxIDwgMSkge1xuICAgICAgICB0dmFsdWVzLnB1c2godDEpO1xuICAgICAgfVxuXG4gICAgICB0MiA9ICgtYiAtIHNxcnRiMmFjKSAvICgyICogYSk7XG5cbiAgICAgIGlmICgwIDwgdDIgJiYgdDIgPCAxKSB7XG4gICAgICAgIHR2YWx1ZXMucHVzaCh0Mik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGogPSB0dmFsdWVzLmxlbmd0aCxcbiAgICAgICAgbXQ7XG4gICAgY29uc3QgamxlbiA9IGo7XG5cbiAgICB3aGlsZSAoai0tKSB7XG4gICAgICB0ID0gdHZhbHVlc1tqXTtcbiAgICAgIG10ID0gMSAtIHQ7XG4gICAgICBib3VuZHNbMF1bal0gPSBtdCAqIG10ICogbXQgKiB4MCArIDMgKiBtdCAqIG10ICogdCAqIHgxICsgMyAqIG10ICogdCAqIHQgKiB4MiArIHQgKiB0ICogdCAqIHgzO1xuICAgICAgYm91bmRzWzFdW2pdID0gbXQgKiBtdCAqIG10ICogeTAgKyAzICogbXQgKiBtdCAqIHQgKiB5MSArIDMgKiBtdCAqIHQgKiB0ICogeTIgKyB0ICogdCAqIHQgKiB5MztcbiAgICB9XG5cbiAgICBib3VuZHNbMF1bamxlbl0gPSB4MDtcbiAgICBib3VuZHNbMV1bamxlbl0gPSB5MDtcbiAgICBib3VuZHNbMF1bamxlbiArIDFdID0geDM7XG4gICAgYm91bmRzWzFdW2psZW4gKyAxXSA9IHkzO1xuICAgIGJvdW5kc1swXS5sZW5ndGggPSBib3VuZHNbMV0ubGVuZ3RoID0gamxlbiArIDI7XG4gICAgcmV0dXJuIFtNYXRoLm1pbiguLi5ib3VuZHNbMF0pLCBNYXRoLm1pbiguLi5ib3VuZHNbMV0pLCBNYXRoLm1heCguLi5ib3VuZHNbMF0pLCBNYXRoLm1heCguLi5ib3VuZHNbMV0pXTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuVXRpbCA9IFV0aWw7XG5jb25zdCBQREZTdHJpbmdUcmFuc2xhdGVUYWJsZSA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAweDJkOCwgMHgyYzcsIDB4MmM2LCAweDJkOSwgMHgyZGQsIDB4MmRiLCAweDJkYSwgMHgyZGMsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDB4MjAyMiwgMHgyMDIwLCAweDIwMjEsIDB4MjAyNiwgMHgyMDE0LCAweDIwMTMsIDB4MTkyLCAweDIwNDQsIDB4MjAzOSwgMHgyMDNhLCAweDIyMTIsIDB4MjAzMCwgMHgyMDFlLCAweDIwMWMsIDB4MjAxZCwgMHgyMDE4LCAweDIwMTksIDB4MjAxYSwgMHgyMTIyLCAweGZiMDEsIDB4ZmIwMiwgMHgxNDEsIDB4MTUyLCAweDE2MCwgMHgxNzgsIDB4MTdkLCAweDEzMSwgMHgxNDIsIDB4MTUzLCAweDE2MSwgMHgxN2UsIDAsIDB4MjBhY107XG5cbmZ1bmN0aW9uIHN0cmluZ1RvUERGU3RyaW5nKHN0cikge1xuICBpZiAoc3RyWzBdID49IFwiXFx4RUZcIikge1xuICAgIGxldCBlbmNvZGluZztcblxuICAgIGlmIChzdHJbMF0gPT09IFwiXFx4RkVcIiAmJiBzdHJbMV0gPT09IFwiXFx4RkZcIikge1xuICAgICAgZW5jb2RpbmcgPSBcInV0Zi0xNmJlXCI7XG4gICAgfSBlbHNlIGlmIChzdHJbMF0gPT09IFwiXFx4RkZcIiAmJiBzdHJbMV0gPT09IFwiXFx4RkVcIikge1xuICAgICAgZW5jb2RpbmcgPSBcInV0Zi0xNmxlXCI7XG4gICAgfSBlbHNlIGlmIChzdHJbMF0gPT09IFwiXFx4RUZcIiAmJiBzdHJbMV0gPT09IFwiXFx4QkJcIiAmJiBzdHJbMl0gPT09IFwiXFx4QkZcIikge1xuICAgICAgZW5jb2RpbmcgPSBcInV0Zi04XCI7XG4gICAgfVxuXG4gICAgaWYgKGVuY29kaW5nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKGVuY29kaW5nLCB7XG4gICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHN0cmluZ1RvQnl0ZXMoc3RyKTtcbiAgICAgICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICB3YXJuKGBzdHJpbmdUb1BERlN0cmluZzogXCIke2V4fVwiLmApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHN0ckJ1ZiA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0ci5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgY29uc3QgY29kZSA9IFBERlN0cmluZ1RyYW5zbGF0ZVRhYmxlW3N0ci5jaGFyQ29kZUF0KGkpXTtcbiAgICBzdHJCdWYucHVzaChjb2RlID8gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSA6IHN0ci5jaGFyQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIHN0ckJ1Zi5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsoKVxcXFxcXG5cXHJdKS9nLCBtYXRjaCA9PiB7XG4gICAgaWYgKG1hdGNoID09PSBcIlxcblwiKSB7XG4gICAgICByZXR1cm4gXCJcXFxcblwiO1xuICAgIH0gZWxzZSBpZiAobWF0Y2ggPT09IFwiXFxyXCIpIHtcbiAgICAgIHJldHVybiBcIlxcXFxyXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBcXFxcJHttYXRjaH1gO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNBc2NpaShzdHIpIHtcbiAgcmV0dXJuIC9eW1xceDAwLVxceDdGXSokLy50ZXN0KHN0cik7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ1RvVVRGMTZCRVN0cmluZyhzdHIpIHtcbiAgY29uc3QgYnVmID0gW1wiXFx4RkVcXHhGRlwiXTtcblxuICBmb3IgKGxldCBpID0gMCwgaWkgPSBzdHIubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBidWYucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXIgPj4gOCAmIDB4ZmYpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXIgJiAweGZmKSk7XG4gIH1cblxuICByZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ1RvVVRGOFN0cmluZyhzdHIpIHtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3RyKSk7XG59XG5cbmZ1bmN0aW9uIHV0ZjhTdHJpbmdUb1N0cmluZyhzdHIpIHtcbiAgcmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2KSB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9PSBudWxsICYmIHYuYnl0ZUxlbmd0aCAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5RXF1YWwoYXJyMSwgYXJyMikge1xuICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXJyMS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgaWYgKGFycjFbaV0gIT09IGFycjJbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0TW9kaWZpY2F0aW9uRGF0ZShkYXRlID0gbmV3IERhdGUoKSkge1xuICBjb25zdCBidWZmZXIgPSBbZGF0ZS5nZXRVVENGdWxsWWVhcigpLnRvU3RyaW5nKCksIChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSwgZGF0ZS5nZXRVVENEYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIiksIGRhdGUuZ2V0VVRDSG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSwgZGF0ZS5nZXRVVENNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIiksIGRhdGUuZ2V0VVRDU2Vjb25kcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpXTtcbiAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSgpIHtcbiAgY29uc3QgY2FwYWJpbGl0eSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGxldCBpc1NldHRsZWQgPSBmYWxzZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhcGFiaWxpdHksIFwic2V0dGxlZFwiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGlzU2V0dGxlZDtcbiAgICB9XG5cbiAgfSk7XG4gIGNhcGFiaWxpdHkucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjYXBhYmlsaXR5LnJlc29sdmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaXNTZXR0bGVkID0gdHJ1ZTtcbiAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgfTtcblxuICAgIGNhcGFiaWxpdHkucmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaXNTZXR0bGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChyZWFzb24pO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gY2FwYWJpbGl0eTtcbn1cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbnZhciBfaXNfbm9kZSA9IF9fd19wZGZqc19yZXF1aXJlX18oMyk7XG5cbjtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLmlzTm9kZUpTID0gdm9pZCAwO1xuY29uc3QgaXNOb2RlSlMgPSB0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzICsgXCJcIiA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIgJiYgIXByb2Nlc3MudmVyc2lvbnMubncgJiYgIShwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uICYmIHByb2Nlc3MudHlwZSAmJiBwcm9jZXNzLnR5cGUgIT09IFwiYnJvd3NlclwiKTtcbmV4cG9ydHMuaXNOb2RlSlMgPSBpc05vZGVKUztcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLmJ1aWxkID0gZXhwb3J0cy5SZW5kZXJUYXNrID0gZXhwb3J0cy5QREZXb3JrZXJVdGlsID0gZXhwb3J0cy5QREZXb3JrZXIgPSBleHBvcnRzLlBERlBhZ2VQcm94eSA9IGV4cG9ydHMuUERGRG9jdW1lbnRQcm94eSA9IGV4cG9ydHMuUERGRG9jdW1lbnRMb2FkaW5nVGFzayA9IGV4cG9ydHMuUERGRGF0YVJhbmdlVHJhbnNwb3J0ID0gZXhwb3J0cy5Mb29wYmFja1BvcnQgPSBleHBvcnRzLkRlZmF1bHRTdGFuZGFyZEZvbnREYXRhRmFjdG9yeSA9IGV4cG9ydHMuRGVmYXVsdENhbnZhc0ZhY3RvcnkgPSBleHBvcnRzLkRlZmF1bHRDTWFwUmVhZGVyRmFjdG9yeSA9IHZvaWQgMDtcbmV4cG9ydHMuZ2V0RG9jdW1lbnQgPSBnZXREb2N1bWVudDtcbmV4cG9ydHMuc2V0UERGTmV0d29ya1N0cmVhbUZhY3RvcnkgPSBzZXRQREZOZXR3b3JrU3RyZWFtRmFjdG9yeTtcbmV4cG9ydHMudmVyc2lvbiA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxudmFyIF9kaXNwbGF5X3V0aWxzID0gX193X3BkZmpzX3JlcXVpcmVfXyg1KTtcblxudmFyIF9mb250X2xvYWRlciA9IF9fd19wZGZqc19yZXF1aXJlX18oNyk7XG5cbnZhciBfYW5ub3RhdGlvbl9zdG9yYWdlID0gX193X3BkZmpzX3JlcXVpcmVfXyg4KTtcblxudmFyIF9jYW52YXMgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEwKTtcblxudmFyIF93b3JrZXJfb3B0aW9ucyA9IF9fd19wZGZqc19yZXF1aXJlX18oMTMpO1xuXG52YXIgX2lzX25vZGUgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDMpO1xuXG52YXIgX21lc3NhZ2VfaGFuZGxlciA9IF9fd19wZGZqc19yZXF1aXJlX18oMTQpO1xuXG52YXIgX21ldGFkYXRhID0gX193X3BkZmpzX3JlcXVpcmVfXygxNSk7XG5cbnZhciBfb3B0aW9uYWxfY29udGVudF9jb25maWcgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDE2KTtcblxudmFyIF90cmFuc3BvcnRfc3RyZWFtID0gX193X3BkZmpzX3JlcXVpcmVfXygxNyk7XG5cbnZhciBfeGZhX3RleHQgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDE4KTtcblxuY29uc3QgREVGQVVMVF9SQU5HRV9DSFVOS19TSVpFID0gNjU1MzY7XG5jb25zdCBSRU5ERVJJTkdfQ0FOQ0VMTEVEX1RJTUVPVVQgPSAxMDA7XG5sZXQgRGVmYXVsdENhbnZhc0ZhY3RvcnkgPSBfZGlzcGxheV91dGlscy5ET01DYW52YXNGYWN0b3J5O1xuZXhwb3J0cy5EZWZhdWx0Q2FudmFzRmFjdG9yeSA9IERlZmF1bHRDYW52YXNGYWN0b3J5O1xubGV0IERlZmF1bHRDTWFwUmVhZGVyRmFjdG9yeSA9IF9kaXNwbGF5X3V0aWxzLkRPTUNNYXBSZWFkZXJGYWN0b3J5O1xuZXhwb3J0cy5EZWZhdWx0Q01hcFJlYWRlckZhY3RvcnkgPSBEZWZhdWx0Q01hcFJlYWRlckZhY3Rvcnk7XG5sZXQgRGVmYXVsdFN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gX2Rpc3BsYXlfdXRpbHMuRE9NU3RhbmRhcmRGb250RGF0YUZhY3Rvcnk7XG5leHBvcnRzLkRlZmF1bHRTdGFuZGFyZEZvbnREYXRhRmFjdG9yeSA9IERlZmF1bHRTdGFuZGFyZEZvbnREYXRhRmFjdG9yeTtcblxuaWYgKF9pc19ub2RlLmlzTm9kZUpTKSB7XG4gIGNvbnN0IHtcbiAgICBOb2RlQ2FudmFzRmFjdG9yeSxcbiAgICBOb2RlQ01hcFJlYWRlckZhY3RvcnksXG4gICAgTm9kZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5XG4gIH0gPSBfX3dfcGRmanNfcmVxdWlyZV9fKDE5KTtcblxuICBleHBvcnRzLkRlZmF1bHRDYW52YXNGYWN0b3J5ID0gRGVmYXVsdENhbnZhc0ZhY3RvcnkgPSBOb2RlQ2FudmFzRmFjdG9yeTtcbiAgZXhwb3J0cy5EZWZhdWx0Q01hcFJlYWRlckZhY3RvcnkgPSBEZWZhdWx0Q01hcFJlYWRlckZhY3RvcnkgPSBOb2RlQ01hcFJlYWRlckZhY3Rvcnk7XG4gIGV4cG9ydHMuRGVmYXVsdFN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gRGVmYXVsdFN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gTm9kZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5O1xufVxuXG5sZXQgY3JlYXRlUERGTmV0d29ya1N0cmVhbTtcblxuZnVuY3Rpb24gc2V0UERGTmV0d29ya1N0cmVhbUZhY3RvcnkocGRmTmV0d29ya1N0cmVhbUZhY3RvcnkpIHtcbiAgY3JlYXRlUERGTmV0d29ya1N0cmVhbSA9IHBkZk5ldHdvcmtTdHJlYW1GYWN0b3J5O1xufVxuXG5mdW5jdGlvbiBnZXREb2N1bWVudChzcmMpIHtcbiAgY29uc3QgdGFzayA9IG5ldyBQREZEb2N1bWVudExvYWRpbmdUYXNrKCk7XG4gIGxldCBzb3VyY2U7XG5cbiAgaWYgKHR5cGVvZiBzcmMgPT09IFwic3RyaW5nXCIgfHwgc3JjIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgc291cmNlID0ge1xuICAgICAgdXJsOiBzcmNcbiAgICB9O1xuICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5pc0FycmF5QnVmZmVyKShzcmMpKSB7XG4gICAgc291cmNlID0ge1xuICAgICAgZGF0YTogc3JjXG4gICAgfTtcbiAgfSBlbHNlIGlmIChzcmMgaW5zdGFuY2VvZiBQREZEYXRhUmFuZ2VUcmFuc3BvcnQpIHtcbiAgICBzb3VyY2UgPSB7XG4gICAgICByYW5nZTogc3JjXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHNyYyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXIgaW4gZ2V0RG9jdW1lbnQsIFwiICsgXCJuZWVkIGVpdGhlciBzdHJpbmcsIFVSTCwgVWludDhBcnJheSwgb3IgcGFyYW1ldGVyIG9iamVjdC5cIik7XG4gICAgfVxuXG4gICAgaWYgKCFzcmMudXJsICYmICFzcmMuZGF0YSAmJiAhc3JjLnJhbmdlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBvYmplY3Q6IG5lZWQgZWl0aGVyIC5kYXRhLCAucmFuZ2Ugb3IgLnVybFwiKTtcbiAgICB9XG5cbiAgICBzb3VyY2UgPSBzcmM7XG4gIH1cblxuICBjb25zdCBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBsZXQgcmFuZ2VUcmFuc3BvcnQgPSBudWxsLFxuICAgICAgd29ya2VyID0gbnVsbDtcblxuICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCJ1cmxcIjpcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyYW1zW2tleV0gPSBuZXcgVVJMKHZhbHVlLCB3aW5kb3cubG9jYXRpb24pLmhyZWY7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgKDAsIF91dGlsLndhcm4pKGBDYW5ub3QgY3JlYXRlIHZhbGlkIFVSTDogXCIke2V4fVwiLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdmFsdWUgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBERiB1cmwgZGF0YTogXCIgKyBcImVpdGhlciBzdHJpbmcgb3IgVVJMLW9iamVjdCBpcyBleHBlY3RlZCBpbiB0aGUgdXJsIHByb3BlcnR5LlwiKTtcblxuICAgICAgY2FzZSBcInJhbmdlXCI6XG4gICAgICAgIHJhbmdlVHJhbnNwb3J0ID0gdmFsdWU7XG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBjYXNlIFwid29ya2VyXCI6XG4gICAgICAgIHdvcmtlciA9IHZhbHVlO1xuICAgICAgICBjb250aW51ZTtcblxuICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgaWYgKF9pc19ub2RlLmlzTm9kZUpTICYmIHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgdmFsdWUgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICBwYXJhbXNba2V5XSA9IG5ldyBVaW50OEFycmF5KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBwYXJhbXNba2V5XSA9ICgwLCBfdXRpbC5zdHJpbmdUb0J5dGVzKSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmICFpc05hTih2YWx1ZS5sZW5ndGgpKSB7XG4gICAgICAgICAgcGFyYW1zW2tleV0gPSBuZXcgVWludDhBcnJheSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzQXJyYXlCdWZmZXIpKHZhbHVlKSkge1xuICAgICAgICAgIHBhcmFtc1trZXldID0gbmV3IFVpbnQ4QXJyYXkodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUERGIGJpbmFyeSBkYXRhOiBlaXRoZXIgdHlwZWQgYXJyYXksIFwiICsgXCJzdHJpbmcsIG9yIGFycmF5LWxpa2Ugb2JqZWN0IGlzIGV4cGVjdGVkIGluIHRoZSBkYXRhIHByb3BlcnR5LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHBhcmFtc1trZXldID0gdmFsdWU7XG4gIH1cblxuICBwYXJhbXMuQ01hcFJlYWRlckZhY3RvcnkgPSBwYXJhbXMuQ01hcFJlYWRlckZhY3RvcnkgfHwgRGVmYXVsdENNYXBSZWFkZXJGYWN0b3J5O1xuICBwYXJhbXMuU3RhbmRhcmRGb250RGF0YUZhY3RvcnkgPSBwYXJhbXMuU3RhbmRhcmRGb250RGF0YUZhY3RvcnkgfHwgRGVmYXVsdFN0YW5kYXJkRm9udERhdGFGYWN0b3J5O1xuICBwYXJhbXMuaWdub3JlRXJyb3JzID0gcGFyYW1zLnN0b3BBdEVycm9ycyAhPT0gdHJ1ZTtcbiAgcGFyYW1zLmZvbnRFeHRyYVByb3BlcnRpZXMgPSBwYXJhbXMuZm9udEV4dHJhUHJvcGVydGllcyA9PT0gdHJ1ZTtcbiAgcGFyYW1zLnBkZkJ1ZyA9IHBhcmFtcy5wZGZCdWcgPT09IHRydWU7XG4gIHBhcmFtcy5lbmFibGVYZmEgPSBwYXJhbXMuZW5hYmxlWGZhID09PSB0cnVlO1xuXG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihwYXJhbXMucmFuZ2VDaHVua1NpemUpIHx8IHBhcmFtcy5yYW5nZUNodW5rU2l6ZSA8IDEpIHtcbiAgICBwYXJhbXMucmFuZ2VDaHVua1NpemUgPSBERUZBVUxUX1JBTkdFX0NIVU5LX1NJWkU7XG4gIH1cblxuICBpZiAodHlwZW9mIHBhcmFtcy5kb2NCYXNlVXJsICE9PSBcInN0cmluZ1wiIHx8ICgwLCBfZGlzcGxheV91dGlscy5pc0RhdGFTY2hlbWUpKHBhcmFtcy5kb2NCYXNlVXJsKSkge1xuICAgIHBhcmFtcy5kb2NCYXNlVXJsID0gbnVsbDtcbiAgfVxuXG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihwYXJhbXMubWF4SW1hZ2VTaXplKSB8fCBwYXJhbXMubWF4SW1hZ2VTaXplIDwgLTEpIHtcbiAgICBwYXJhbXMubWF4SW1hZ2VTaXplID0gLTE7XG4gIH1cblxuICBpZiAodHlwZW9mIHBhcmFtcy5jTWFwVXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcGFyYW1zLmNNYXBVcmwgPSBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwYXJhbXMuc3RhbmRhcmRGb250RGF0YVVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHBhcmFtcy5zdGFuZGFyZEZvbnREYXRhVXJsID0gbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyYW1zLnVzZVdvcmtlckZldGNoICE9PSBcImJvb2xlYW5cIikge1xuICAgIHBhcmFtcy51c2VXb3JrZXJGZXRjaCA9IHBhcmFtcy5DTWFwUmVhZGVyRmFjdG9yeSA9PT0gX2Rpc3BsYXlfdXRpbHMuRE9NQ01hcFJlYWRlckZhY3RvcnkgJiYgcGFyYW1zLlN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID09PSBfZGlzcGxheV91dGlscy5ET01TdGFuZGFyZEZvbnREYXRhRmFjdG9yeTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyYW1zLmlzRXZhbFN1cHBvcnRlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICBwYXJhbXMuaXNFdmFsU3VwcG9ydGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyYW1zLmRpc2FibGVGb250RmFjZSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICBwYXJhbXMuZGlzYWJsZUZvbnRGYWNlID0gX2lzX25vZGUuaXNOb2RlSlM7XG4gIH1cblxuICBpZiAodHlwZW9mIHBhcmFtcy51c2VTeXN0ZW1Gb250cyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICBwYXJhbXMudXNlU3lzdGVtRm9udHMgPSAhX2lzX25vZGUuaXNOb2RlSlMgJiYgIXBhcmFtcy5kaXNhYmxlRm9udEZhY2U7XG4gIH1cblxuICBpZiAodHlwZW9mIHBhcmFtcy5vd25lckRvY3VtZW50ICE9PSBcIm9iamVjdFwiIHx8IHBhcmFtcy5vd25lckRvY3VtZW50ID09PSBudWxsKSB7XG4gICAgcGFyYW1zLm93bmVyRG9jdW1lbnQgPSBnbG9iYWxUaGlzLmRvY3VtZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwYXJhbXMuZGlzYWJsZVJhbmdlICE9PSBcImJvb2xlYW5cIikge1xuICAgIHBhcmFtcy5kaXNhYmxlUmFuZ2UgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyYW1zLmRpc2FibGVTdHJlYW0gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgcGFyYW1zLmRpc2FibGVTdHJlYW0gPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGFyYW1zLmRpc2FibGVBdXRvRmV0Y2ggIT09IFwiYm9vbGVhblwiKSB7XG4gICAgcGFyYW1zLmRpc2FibGVBdXRvRmV0Y2ggPSBmYWxzZTtcbiAgfVxuXG4gICgwLCBfdXRpbC5zZXRWZXJib3NpdHlMZXZlbCkocGFyYW1zLnZlcmJvc2l0eSk7XG5cbiAgaWYgKCF3b3JrZXIpIHtcbiAgICBjb25zdCB3b3JrZXJQYXJhbXMgPSB7XG4gICAgICB2ZXJib3NpdHk6IHBhcmFtcy52ZXJib3NpdHksXG4gICAgICBwb3J0OiBfd29ya2VyX29wdGlvbnMuR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJQb3J0XG4gICAgfTtcbiAgICB3b3JrZXIgPSB3b3JrZXJQYXJhbXMucG9ydCA/IFBERldvcmtlci5mcm9tUG9ydCh3b3JrZXJQYXJhbXMpIDogbmV3IFBERldvcmtlcih3b3JrZXJQYXJhbXMpO1xuICAgIHRhc2suX3dvcmtlciA9IHdvcmtlcjtcbiAgfVxuXG4gIGNvbnN0IGRvY0lkID0gdGFzay5kb2NJZDtcbiAgd29ya2VyLnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRhc2suZGVzdHJveWVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2FkaW5nIGFib3J0ZWRcIik7XG4gICAgfVxuXG4gICAgY29uc3Qgd29ya2VySWRQcm9taXNlID0gX2ZldGNoRG9jdW1lbnQod29ya2VyLCBwYXJhbXMsIHJhbmdlVHJhbnNwb3J0LCBkb2NJZCk7XG5cbiAgICBjb25zdCBuZXR3b3JrU3RyZWFtUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBsZXQgbmV0d29ya1N0cmVhbTtcblxuICAgICAgaWYgKHJhbmdlVHJhbnNwb3J0KSB7XG4gICAgICAgIG5ldHdvcmtTdHJlYW0gPSBuZXcgX3RyYW5zcG9ydF9zdHJlYW0uUERGRGF0YVRyYW5zcG9ydFN0cmVhbSh7XG4gICAgICAgICAgbGVuZ3RoOiBwYXJhbXMubGVuZ3RoLFxuICAgICAgICAgIGluaXRpYWxEYXRhOiBwYXJhbXMuaW5pdGlhbERhdGEsXG4gICAgICAgICAgcHJvZ3Jlc3NpdmVEb25lOiBwYXJhbXMucHJvZ3Jlc3NpdmVEb25lLFxuICAgICAgICAgIGNvbnRlbnREaXNwb3NpdGlvbkZpbGVuYW1lOiBwYXJhbXMuY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWUsXG4gICAgICAgICAgZGlzYWJsZVJhbmdlOiBwYXJhbXMuZGlzYWJsZVJhbmdlLFxuICAgICAgICAgIGRpc2FibGVTdHJlYW06IHBhcmFtcy5kaXNhYmxlU3RyZWFtXG4gICAgICAgIH0sIHJhbmdlVHJhbnNwb3J0KTtcbiAgICAgIH0gZWxzZSBpZiAoIXBhcmFtcy5kYXRhKSB7XG4gICAgICAgIG5ldHdvcmtTdHJlYW0gPSBjcmVhdGVQREZOZXR3b3JrU3RyZWFtKHtcbiAgICAgICAgICB1cmw6IHBhcmFtcy51cmwsXG4gICAgICAgICAgbGVuZ3RoOiBwYXJhbXMubGVuZ3RoLFxuICAgICAgICAgIGh0dHBIZWFkZXJzOiBwYXJhbXMuaHR0cEhlYWRlcnMsXG4gICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBwYXJhbXMud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgIHJhbmdlQ2h1bmtTaXplOiBwYXJhbXMucmFuZ2VDaHVua1NpemUsXG4gICAgICAgICAgZGlzYWJsZVJhbmdlOiBwYXJhbXMuZGlzYWJsZVJhbmdlLFxuICAgICAgICAgIGRpc2FibGVTdHJlYW06IHBhcmFtcy5kaXNhYmxlU3RyZWFtXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlKG5ldHdvcmtTdHJlYW0pO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbd29ya2VySWRQcm9taXNlLCBuZXR3b3JrU3RyZWFtUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24gKFt3b3JrZXJJZCwgbmV0d29ya1N0cmVhbV0pIHtcbiAgICAgIGlmICh0YXNrLmRlc3Ryb3llZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2FkaW5nIGFib3J0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2VIYW5kbGVyID0gbmV3IF9tZXNzYWdlX2hhbmRsZXIuTWVzc2FnZUhhbmRsZXIoZG9jSWQsIHdvcmtlcklkLCB3b3JrZXIucG9ydCk7XG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSBuZXcgV29ya2VyVHJhbnNwb3J0KG1lc3NhZ2VIYW5kbGVyLCB0YXNrLCBuZXR3b3JrU3RyZWFtLCBwYXJhbXMpO1xuICAgICAgdGFzay5fdHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgbWVzc2FnZUhhbmRsZXIuc2VuZChcIlJlYWR5XCIsIG51bGwpO1xuICAgIH0pO1xuICB9KS5jYXRjaCh0YXNrLl9jYXBhYmlsaXR5LnJlamVjdCk7XG4gIHJldHVybiB0YXNrO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZmV0Y2hEb2N1bWVudCh3b3JrZXIsIHNvdXJjZSwgcGRmRGF0YVJhbmdlVHJhbnNwb3J0LCBkb2NJZCkge1xuICBpZiAod29ya2VyLmRlc3Ryb3llZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtlciB3YXMgZGVzdHJveWVkXCIpO1xuICB9XG5cbiAgaWYgKHBkZkRhdGFSYW5nZVRyYW5zcG9ydCkge1xuICAgIHNvdXJjZS5sZW5ndGggPSBwZGZEYXRhUmFuZ2VUcmFuc3BvcnQubGVuZ3RoO1xuICAgIHNvdXJjZS5pbml0aWFsRGF0YSA9IHBkZkRhdGFSYW5nZVRyYW5zcG9ydC5pbml0aWFsRGF0YTtcbiAgICBzb3VyY2UucHJvZ3Jlc3NpdmVEb25lID0gcGRmRGF0YVJhbmdlVHJhbnNwb3J0LnByb2dyZXNzaXZlRG9uZTtcbiAgICBzb3VyY2UuY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWUgPSBwZGZEYXRhUmFuZ2VUcmFuc3BvcnQuY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWU7XG4gIH1cblxuICBjb25zdCB3b3JrZXJJZCA9IGF3YWl0IHdvcmtlci5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXREb2NSZXF1ZXN0XCIsIHtcbiAgICBkb2NJZCxcbiAgICBhcGlWZXJzaW9uOiAnMi4xNC4zMDUnLFxuICAgIHNvdXJjZToge1xuICAgICAgZGF0YTogc291cmNlLmRhdGEsXG4gICAgICB1cmw6IHNvdXJjZS51cmwsXG4gICAgICBwYXNzd29yZDogc291cmNlLnBhc3N3b3JkLFxuICAgICAgZGlzYWJsZUF1dG9GZXRjaDogc291cmNlLmRpc2FibGVBdXRvRmV0Y2gsXG4gICAgICByYW5nZUNodW5rU2l6ZTogc291cmNlLnJhbmdlQ2h1bmtTaXplLFxuICAgICAgbGVuZ3RoOiBzb3VyY2UubGVuZ3RoXG4gICAgfSxcbiAgICBtYXhJbWFnZVNpemU6IHNvdXJjZS5tYXhJbWFnZVNpemUsXG4gICAgZGlzYWJsZUZvbnRGYWNlOiBzb3VyY2UuZGlzYWJsZUZvbnRGYWNlLFxuICAgIGRvY0Jhc2VVcmw6IHNvdXJjZS5kb2NCYXNlVXJsLFxuICAgIGlnbm9yZUVycm9yczogc291cmNlLmlnbm9yZUVycm9ycyxcbiAgICBpc0V2YWxTdXBwb3J0ZWQ6IHNvdXJjZS5pc0V2YWxTdXBwb3J0ZWQsXG4gICAgZm9udEV4dHJhUHJvcGVydGllczogc291cmNlLmZvbnRFeHRyYVByb3BlcnRpZXMsXG4gICAgZW5hYmxlWGZhOiBzb3VyY2UuZW5hYmxlWGZhLFxuICAgIHVzZVN5c3RlbUZvbnRzOiBzb3VyY2UudXNlU3lzdGVtRm9udHMsXG4gICAgY01hcFVybDogc291cmNlLnVzZVdvcmtlckZldGNoID8gc291cmNlLmNNYXBVcmwgOiBudWxsLFxuICAgIHN0YW5kYXJkRm9udERhdGFVcmw6IHNvdXJjZS51c2VXb3JrZXJGZXRjaCA/IHNvdXJjZS5zdGFuZGFyZEZvbnREYXRhVXJsIDogbnVsbFxuICB9KTtcblxuICBpZiAod29ya2VyLmRlc3Ryb3llZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtlciB3YXMgZGVzdHJveWVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHdvcmtlcklkO1xufVxuXG5jbGFzcyBQREZEb2N1bWVudExvYWRpbmdUYXNrIHtcbiAgc3RhdGljICNkb2NJZCA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgICB0aGlzLl90cmFuc3BvcnQgPSBudWxsO1xuICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgdGhpcy5kb2NJZCA9IGBkJHtQREZEb2N1bWVudExvYWRpbmdUYXNrLiNkb2NJZCsrfWA7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm9uUGFzc3dvcmQgPSBudWxsO1xuICAgIHRoaXMub25Qcm9ncmVzcyA9IG51bGw7XG4gICAgdGhpcy5vblVuc3VwcG9ydGVkRmVhdHVyZSA9IG51bGw7XG4gIH1cblxuICBnZXQgcHJvbWlzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0Py5kZXN0cm95KCk7XG4gICAgdGhpcy5fdHJhbnNwb3J0ID0gbnVsbDtcblxuICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgIHRoaXMuX3dvcmtlci5kZXN0cm95KCk7XG5cbiAgICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0cy5QREZEb2N1bWVudExvYWRpbmdUYXNrID0gUERGRG9jdW1lbnRMb2FkaW5nVGFzaztcblxuY2xhc3MgUERGRGF0YVJhbmdlVHJhbnNwb3J0IHtcbiAgY29uc3RydWN0b3IobGVuZ3RoLCBpbml0aWFsRGF0YSwgcHJvZ3Jlc3NpdmVEb25lID0gZmFsc2UsIGNvbnRlbnREaXNwb3NpdGlvbkZpbGVuYW1lID0gbnVsbCkge1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIHRoaXMuaW5pdGlhbERhdGEgPSBpbml0aWFsRGF0YTtcbiAgICB0aGlzLnByb2dyZXNzaXZlRG9uZSA9IHByb2dyZXNzaXZlRG9uZTtcbiAgICB0aGlzLmNvbnRlbnREaXNwb3NpdGlvbkZpbGVuYW1lID0gY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWU7XG4gICAgdGhpcy5fcmFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLl9wcm9ncmVzc0xpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuX3Byb2dyZXNzaXZlUmVhZExpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuX3Byb2dyZXNzaXZlRG9uZUxpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuX3JlYWR5Q2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgfVxuXG4gIGFkZFJhbmdlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICB0aGlzLl9yYW5nZUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIGFkZFByb2dyZXNzTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICB0aGlzLl9wcm9ncmVzc0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIGFkZFByb2dyZXNzaXZlUmVhZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5fcHJvZ3Jlc3NpdmVSZWFkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgYWRkUHJvZ3Jlc3NpdmVEb25lTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICB0aGlzLl9wcm9ncmVzc2l2ZURvbmVMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICBvbkRhdGFSYW5nZShiZWdpbiwgY2h1bmspIHtcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuX3JhbmdlTGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcihiZWdpbiwgY2h1bmspO1xuICAgIH1cbiAgfVxuXG4gIG9uRGF0YVByb2dyZXNzKGxvYWRlZCwgdG90YWwpIHtcbiAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5fcHJvZ3Jlc3NMaXN0ZW5lcnMpIHtcbiAgICAgICAgbGlzdGVuZXIobG9hZGVkLCB0b3RhbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvbkRhdGFQcm9ncmVzc2l2ZVJlYWQoY2h1bmspIHtcbiAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5fcHJvZ3Jlc3NpdmVSZWFkTGlzdGVuZXJzKSB7XG4gICAgICAgIGxpc3RlbmVyKGNodW5rKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uRGF0YVByb2dyZXNzaXZlRG9uZSgpIHtcbiAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5fcHJvZ3Jlc3NpdmVEb25lTGlzdGVuZXJzKSB7XG4gICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB0cmFuc3BvcnRSZWFkeSgpIHtcbiAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmVxdWVzdERhdGFSYW5nZShiZWdpbiwgZW5kKSB7XG4gICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkFic3RyYWN0IG1ldGhvZCBQREZEYXRhUmFuZ2VUcmFuc3BvcnQucmVxdWVzdERhdGFSYW5nZVwiKTtcbiAgfVxuXG4gIGFib3J0KCkge31cblxufVxuXG5leHBvcnRzLlBERkRhdGFSYW5nZVRyYW5zcG9ydCA9IFBERkRhdGFSYW5nZVRyYW5zcG9ydDtcblxuY2xhc3MgUERGRG9jdW1lbnRQcm94eSB7XG4gIGNvbnN0cnVjdG9yKHBkZkluZm8sIHRyYW5zcG9ydCkge1xuICAgIHRoaXMuX3BkZkluZm8gPSBwZGZJbmZvO1xuICAgIHRoaXMuX3RyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaW5nZXJwcmludFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgICgwLCBfZGlzcGxheV91dGlscy5kZXByZWNhdGVkKShcImBQREZEb2N1bWVudFByb3h5LmZpbmdlcnByaW50YCwgXCIgKyBcInBsZWFzZSB1c2UgYFBERkRvY3VtZW50UHJveHkuZmluZ2VycHJpbnRzYCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZ2VycHJpbnRzWzBdO1xuICAgICAgfVxuXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0U3RhdHNcIiwge1xuICAgICAgdmFsdWU6IGFzeW5jICgpID0+IHtcbiAgICAgICAgKDAsIF9kaXNwbGF5X3V0aWxzLmRlcHJlY2F0ZWQpKFwiYFBERkRvY3VtZW50UHJveHkuZ2V0U3RhdHNgLCBcIiArIFwicGxlYXNlIHVzZSB0aGUgYFBERkRvY3VtZW50UHJveHkuc3RhdHNgLWdldHRlciBpbnN0ZWFkLlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHMgfHwge1xuICAgICAgICAgIHN0cmVhbVR5cGVzOiB7fSxcbiAgICAgICAgICBmb250VHlwZXM6IHt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXQgYW5ub3RhdGlvblN0b3JhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5hbm5vdGF0aW9uU3RvcmFnZTtcbiAgfVxuXG4gIGdldCBudW1QYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGRmSW5mby5udW1QYWdlcztcbiAgfVxuXG4gIGdldCBmaW5nZXJwcmludHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BkZkluZm8uZmluZ2VycHJpbnRzO1xuICB9XG5cbiAgZ2V0IHN0YXRzKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuc3RhdHM7XG4gIH1cblxuICBnZXQgaXNQdXJlWGZhKCkge1xuICAgIHJldHVybiAhIXRoaXMuX3RyYW5zcG9ydC5faHRtbEZvclhmYTtcbiAgfVxuXG4gIGdldCBhbGxYZmFIdG1sKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuX2h0bWxGb3JYZmE7XG4gIH1cblxuICBnZXRQYWdlKHBhZ2VOdW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmdldFBhZ2UocGFnZU51bWJlcik7XG4gIH1cblxuICBnZXRQYWdlSW5kZXgocmVmKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRQYWdlSW5kZXgocmVmKTtcbiAgfVxuXG4gIGdldERlc3RpbmF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmdldERlc3RpbmF0aW9ucygpO1xuICB9XG5cbiAgZ2V0RGVzdGluYXRpb24oaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmdldERlc3RpbmF0aW9uKGlkKTtcbiAgfVxuXG4gIGdldFBhZ2VMYWJlbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRQYWdlTGFiZWxzKCk7XG4gIH1cblxuICBnZXRQYWdlTGF5b3V0KCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuZ2V0UGFnZUxheW91dCgpO1xuICB9XG5cbiAgZ2V0UGFnZU1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRQYWdlTW9kZSgpO1xuICB9XG5cbiAgZ2V0Vmlld2VyUHJlZmVyZW5jZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRWaWV3ZXJQcmVmZXJlbmNlcygpO1xuICB9XG5cbiAgZ2V0T3BlbkFjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmdldE9wZW5BY3Rpb24oKTtcbiAgfVxuXG4gIGdldEF0dGFjaG1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuZ2V0QXR0YWNobWVudHMoKTtcbiAgfVxuXG4gIGdldEphdmFTY3JpcHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRKYXZhU2NyaXB0KCk7XG4gIH1cblxuICBnZXRKU0FjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXREb2NKU0FjdGlvbnMoKTtcbiAgfVxuXG4gIGdldE91dGxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRPdXRsaW5lKCk7XG4gIH1cblxuICBnZXRPcHRpb25hbENvbnRlbnRDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRPcHRpb25hbENvbnRlbnRDb25maWcoKTtcbiAgfVxuXG4gIGdldFBlcm1pc3Npb25zKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuZ2V0UGVybWlzc2lvbnMoKTtcbiAgfVxuXG4gIGdldE1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuZ2V0TWV0YWRhdGEoKTtcbiAgfVxuXG4gIGdldE1hcmtJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuZ2V0TWFya0luZm8oKTtcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXREYXRhKCk7XG4gIH1cblxuICBnZXREb3dubG9hZEluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5kb3dubG9hZEluZm9DYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cblxuICBjbGVhbnVwKGtlZXBMb2FkZWRGb250cyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5zdGFydENsZWFudXAoa2VlcExvYWRlZEZvbnRzIHx8IHRoaXMuaXNQdXJlWGZhKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGluZ1Rhc2suZGVzdHJveSgpO1xuICB9XG5cbiAgZ2V0IGxvYWRpbmdQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5sb2FkaW5nUGFyYW1zO1xuICB9XG5cbiAgZ2V0IGxvYWRpbmdUYXNrKCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQubG9hZGluZ1Rhc2s7XG4gIH1cblxuICBzYXZlRG9jdW1lbnQoKSB7XG4gICAgaWYgKHRoaXMuX3RyYW5zcG9ydC5hbm5vdGF0aW9uU3RvcmFnZS5zaXplIDw9IDApIHtcbiAgICAgICgwLCBfZGlzcGxheV91dGlscy5kZXByZWNhdGVkKShcInNhdmVEb2N1bWVudCBjYWxsZWQgd2hpbGUgYGFubm90YXRpb25TdG9yYWdlYCBpcyBlbXB0eSwgXCIgKyBcInBsZWFzZSB1c2UgdGhlIGdldERhdGEtbWV0aG9kIGluc3RlYWQuXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuc2F2ZURvY3VtZW50KCk7XG4gIH1cblxuICBnZXRGaWVsZE9iamVjdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5nZXRGaWVsZE9iamVjdHMoKTtcbiAgfVxuXG4gIGhhc0pTQWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0Lmhhc0pTQWN0aW9ucygpO1xuICB9XG5cbiAgZ2V0Q2FsY3VsYXRpb25PcmRlcklkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LmdldENhbGN1bGF0aW9uT3JkZXJJZHMoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuUERGRG9jdW1lbnRQcm94eSA9IFBERkRvY3VtZW50UHJveHk7XG5cbmNsYXNzIFBERlBhZ2VQcm94eSB7XG4gIGNvbnN0cnVjdG9yKHBhZ2VJbmRleCwgcGFnZUluZm8sIHRyYW5zcG9ydCwgb3duZXJEb2N1bWVudCwgcGRmQnVnID0gZmFsc2UpIHtcbiAgICB0aGlzLl9wYWdlSW5kZXggPSBwYWdlSW5kZXg7XG4gICAgdGhpcy5fcGFnZUluZm8gPSBwYWdlSW5mbztcbiAgICB0aGlzLl9vd25lckRvY3VtZW50ID0gb3duZXJEb2N1bWVudDtcbiAgICB0aGlzLl90cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgdGhpcy5fc3RhdHMgPSBwZGZCdWcgPyBuZXcgX2Rpc3BsYXlfdXRpbHMuU3RhdFRpbWVyKCkgOiBudWxsO1xuICAgIHRoaXMuX3BkZkJ1ZyA9IHBkZkJ1ZztcbiAgICB0aGlzLmNvbW1vbk9ianMgPSB0cmFuc3BvcnQuY29tbW9uT2JqcztcbiAgICB0aGlzLm9ianMgPSBuZXcgUERGT2JqZWN0cygpO1xuICAgIHRoaXMuX2JpdG1hcHMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5jbGVhbnVwQWZ0ZXJSZW5kZXIgPSBmYWxzZTtcbiAgICB0aGlzLnBlbmRpbmdDbGVhbnVwID0gZmFsc2U7XG4gICAgdGhpcy5faW50ZW50U3RhdGVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2Fubm90YXRpb25Qcm9taXNlcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICB9XG5cbiAgZ2V0IHBhZ2VOdW1iZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhZ2VJbmRleCArIDE7XG4gIH1cblxuICBnZXQgcm90YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9wYWdlSW5mby5yb3RhdGU7XG4gIH1cblxuICBnZXQgcmVmKCkge1xuICAgIHJldHVybiB0aGlzLl9wYWdlSW5mby5yZWY7XG4gIH1cblxuICBnZXQgdXNlclVuaXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhZ2VJbmZvLnVzZXJVbml0O1xuICB9XG5cbiAgZ2V0IHZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhZ2VJbmZvLnZpZXc7XG4gIH1cblxuICBnZXRWaWV3cG9ydCh7XG4gICAgc2NhbGUsXG4gICAgcm90YXRpb24gPSB0aGlzLnJvdGF0ZSxcbiAgICBvZmZzZXRYID0gMCxcbiAgICBvZmZzZXRZID0gMCxcbiAgICBkb250RmxpcCA9IGZhbHNlXG4gIH0gPSB7fSkge1xuICAgIHJldHVybiBuZXcgX2Rpc3BsYXlfdXRpbHMuUGFnZVZpZXdwb3J0KHtcbiAgICAgIHZpZXdCb3g6IHRoaXMudmlldyxcbiAgICAgIHNjYWxlLFxuICAgICAgcm90YXRpb24sXG4gICAgICBvZmZzZXRYLFxuICAgICAgb2Zmc2V0WSxcbiAgICAgIGRvbnRGbGlwXG4gICAgfSk7XG4gIH1cblxuICBnZXRBbm5vdGF0aW9ucyh7XG4gICAgaW50ZW50ID0gXCJkaXNwbGF5XCJcbiAgfSA9IHt9KSB7XG4gICAgY29uc3QgaW50ZW50QXJncyA9IHRoaXMuX3RyYW5zcG9ydC5nZXRSZW5kZXJpbmdJbnRlbnQoaW50ZW50KTtcblxuICAgIGxldCBwcm9taXNlID0gdGhpcy5fYW5ub3RhdGlvblByb21pc2VzLmdldChpbnRlbnRBcmdzLmNhY2hlS2V5KTtcblxuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IHRoaXMuX3RyYW5zcG9ydC5nZXRBbm5vdGF0aW9ucyh0aGlzLl9wYWdlSW5kZXgsIGludGVudEFyZ3MucmVuZGVyaW5nSW50ZW50KTtcblxuICAgICAgdGhpcy5fYW5ub3RhdGlvblByb21pc2VzLnNldChpbnRlbnRBcmdzLmNhY2hlS2V5LCBwcm9taXNlKTtcblxuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihhbm5vdGF0aW9ucyA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgYW5ub3RhdGlvbiBvZiBhbm5vdGF0aW9ucykge1xuICAgICAgICAgIGlmIChhbm5vdGF0aW9uLnRpdGxlT2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhbm5vdGF0aW9uLCBcInRpdGxlXCIsIHtcbiAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICgwLCBfZGlzcGxheV91dGlscy5kZXByZWNhdGVkKShcImB0aXRsZWAtcHJvcGVydHkgb24gYW5ub3RhdGlvbiwgcGxlYXNlIHVzZSBgdGl0bGVPYmpgIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9uLnRpdGxlT2JqLnN0cjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5ub3RhdGlvbi5jb250ZW50c09iaiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYW5ub3RhdGlvbiwgXCJjb250ZW50c1wiLCB7XG4gICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2Rpc3BsYXlfdXRpbHMuZGVwcmVjYXRlZCkoXCJgY29udGVudHNgLXByb3BlcnR5IG9uIGFubm90YXRpb24sIHBsZWFzZSB1c2UgYGNvbnRlbnRzT2JqYCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbi5jb250ZW50c09iai5zdHI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFubm90YXRpb25zO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRKU0FjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2pzQWN0aW9uc1Byb21pc2UgfHw9IHRoaXMuX3RyYW5zcG9ydC5nZXRQYWdlSlNBY3Rpb25zKHRoaXMuX3BhZ2VJbmRleCk7XG4gIH1cblxuICBhc3luYyBnZXRYZmEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5faHRtbEZvclhmYT8uY2hpbGRyZW5bdGhpcy5fcGFnZUluZGV4XSB8fCBudWxsO1xuICB9XG5cbiAgcmVuZGVyKHtcbiAgICBjYW52YXNDb250ZXh0LFxuICAgIHZpZXdwb3J0LFxuICAgIGludGVudCA9IFwiZGlzcGxheVwiLFxuICAgIGFubm90YXRpb25Nb2RlID0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFLFxuICAgIHRyYW5zZm9ybSA9IG51bGwsXG4gICAgaW1hZ2VMYXllciA9IG51bGwsXG4gICAgY2FudmFzRmFjdG9yeSA9IG51bGwsXG4gICAgYmFja2dyb3VuZCA9IG51bGwsXG4gICAgb3B0aW9uYWxDb250ZW50Q29uZmlnUHJvbWlzZSA9IG51bGwsXG4gICAgYW5ub3RhdGlvbkNhbnZhc01hcCA9IG51bGwsXG4gICAgcGFnZUNvbG9ycyA9IG51bGxcbiAgfSkge1xuICAgIGlmIChhcmd1bWVudHNbMF0/LnJlbmRlckludGVyYWN0aXZlRm9ybXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgKDAsIF9kaXNwbGF5X3V0aWxzLmRlcHJlY2F0ZWQpKFwicmVuZGVyIG5vIGxvbmdlciBhY2NlcHRzIHRoZSBgcmVuZGVySW50ZXJhY3RpdmVGb3Jtc2Atb3B0aW9uLCBcIiArIFwicGxlYXNlIHVzZSB0aGUgYGFubm90YXRpb25Nb2RlYC1vcHRpb24gaW5zdGVhZC5cIik7XG5cbiAgICAgIGlmIChhcmd1bWVudHNbMF0ucmVuZGVySW50ZXJhY3RpdmVGb3JtcyA9PT0gdHJ1ZSAmJiBhbm5vdGF0aW9uTW9kZSA9PT0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFKSB7XG4gICAgICAgIGFubm90YXRpb25Nb2RlID0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFX0ZPUk1TO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHNbMF0/LmluY2x1ZGVBbm5vdGF0aW9uU3RvcmFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAoMCwgX2Rpc3BsYXlfdXRpbHMuZGVwcmVjYXRlZCkoXCJyZW5kZXIgbm8gbG9uZ2VyIGFjY2VwdHMgdGhlIGBpbmNsdWRlQW5ub3RhdGlvblN0b3JhZ2VgLW9wdGlvbiwgXCIgKyBcInBsZWFzZSB1c2UgdGhlIGBhbm5vdGF0aW9uTW9kZWAtb3B0aW9uIGluc3RlYWQuXCIpO1xuXG4gICAgICBpZiAoYXJndW1lbnRzWzBdLmluY2x1ZGVBbm5vdGF0aW9uU3RvcmFnZSA9PT0gdHJ1ZSAmJiBhbm5vdGF0aW9uTW9kZSA9PT0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFKSB7XG4gICAgICAgIGFubm90YXRpb25Nb2RlID0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFX1NUT1JBR0U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0YXRzKSB7XG4gICAgICB0aGlzLl9zdGF0cy50aW1lKFwiT3ZlcmFsbFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlbnRBcmdzID0gdGhpcy5fdHJhbnNwb3J0LmdldFJlbmRlcmluZ0ludGVudChpbnRlbnQsIGFubm90YXRpb25Nb2RlKTtcblxuICAgIHRoaXMucGVuZGluZ0NsZWFudXAgPSBmYWxzZTtcblxuICAgIGlmICghb3B0aW9uYWxDb250ZW50Q29uZmlnUHJvbWlzZSkge1xuICAgICAgb3B0aW9uYWxDb250ZW50Q29uZmlnUHJvbWlzZSA9IHRoaXMuX3RyYW5zcG9ydC5nZXRPcHRpb25hbENvbnRlbnRDb25maWcoKTtcbiAgICB9XG5cbiAgICBsZXQgaW50ZW50U3RhdGUgPSB0aGlzLl9pbnRlbnRTdGF0ZXMuZ2V0KGludGVudEFyZ3MuY2FjaGVLZXkpO1xuXG4gICAgaWYgKCFpbnRlbnRTdGF0ZSkge1xuICAgICAgaW50ZW50U3RhdGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgICB0aGlzLl9pbnRlbnRTdGF0ZXMuc2V0KGludGVudEFyZ3MuY2FjaGVLZXksIGludGVudFN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoaW50ZW50U3RhdGUuc3RyZWFtUmVhZGVyQ2FuY2VsVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGludGVudFN0YXRlLnN0cmVhbVJlYWRlckNhbmNlbFRpbWVvdXQpO1xuICAgICAgaW50ZW50U3RhdGUuc3RyZWFtUmVhZGVyQ2FuY2VsVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY2FudmFzRmFjdG9yeUluc3RhbmNlID0gY2FudmFzRmFjdG9yeSB8fCBuZXcgRGVmYXVsdENhbnZhc0ZhY3Rvcnkoe1xuICAgICAgb3duZXJEb2N1bWVudDogdGhpcy5fb3duZXJEb2N1bWVudFxuICAgIH0pO1xuICAgIGNvbnN0IGludGVudFByaW50ID0gISEoaW50ZW50QXJncy5yZW5kZXJpbmdJbnRlbnQgJiBfdXRpbC5SZW5kZXJpbmdJbnRlbnRGbGFnLlBSSU5UKTtcblxuICAgIGlmICghaW50ZW50U3RhdGUuZGlzcGxheVJlYWR5Q2FwYWJpbGl0eSkge1xuICAgICAgaW50ZW50U3RhdGUuZGlzcGxheVJlYWR5Q2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgICAgIGludGVudFN0YXRlLm9wZXJhdG9yTGlzdCA9IHtcbiAgICAgICAgZm5BcnJheTogW10sXG4gICAgICAgIGFyZ3NBcnJheTogW10sXG4gICAgICAgIGxhc3RDaHVuazogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLl9zdGF0cykge1xuICAgICAgICB0aGlzLl9zdGF0cy50aW1lKFwiUGFnZSBSZXF1ZXN0XCIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wdW1wT3BlcmF0b3JMaXN0KGludGVudEFyZ3MpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBsZXRlID0gZXJyb3IgPT4ge1xuICAgICAgaW50ZW50U3RhdGUucmVuZGVyVGFza3MuZGVsZXRlKGludGVybmFsUmVuZGVyVGFzayk7XG5cbiAgICAgIGlmICh0aGlzLmNsZWFudXBBZnRlclJlbmRlciB8fCBpbnRlbnRQcmludCkge1xuICAgICAgICB0aGlzLnBlbmRpbmdDbGVhbnVwID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdHJ5Q2xlYW51cCgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgaW50ZXJuYWxSZW5kZXJUYXNrLmNhcGFiaWxpdHkucmVqZWN0KGVycm9yKTtcblxuICAgICAgICB0aGlzLl9hYm9ydE9wZXJhdG9yTGlzdCh7XG4gICAgICAgICAgaW50ZW50U3RhdGUsXG4gICAgICAgICAgcmVhc29uOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3IpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW50ZXJuYWxSZW5kZXJUYXNrLmNhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fc3RhdHMpIHtcbiAgICAgICAgdGhpcy5fc3RhdHMudGltZUVuZChcIlJlbmRlcmluZ1wiKTtcblxuICAgICAgICB0aGlzLl9zdGF0cy50aW1lRW5kKFwiT3ZlcmFsbFwiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaW50ZXJuYWxSZW5kZXJUYXNrID0gbmV3IEludGVybmFsUmVuZGVyVGFzayh7XG4gICAgICBjYWxsYmFjazogY29tcGxldGUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgY2FudmFzQ29udGV4dCxcbiAgICAgICAgdmlld3BvcnQsXG4gICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgaW1hZ2VMYXllcixcbiAgICAgICAgYmFja2dyb3VuZFxuICAgICAgfSxcbiAgICAgIG9ianM6IHRoaXMub2JqcyxcbiAgICAgIGNvbW1vbk9ianM6IHRoaXMuY29tbW9uT2JqcyxcbiAgICAgIGFubm90YXRpb25DYW52YXNNYXAsXG4gICAgICBvcGVyYXRvckxpc3Q6IGludGVudFN0YXRlLm9wZXJhdG9yTGlzdCxcbiAgICAgIHBhZ2VJbmRleDogdGhpcy5fcGFnZUluZGV4LFxuICAgICAgY2FudmFzRmFjdG9yeTogY2FudmFzRmFjdG9yeUluc3RhbmNlLFxuICAgICAgdXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOiAhaW50ZW50UHJpbnQsXG4gICAgICBwZGZCdWc6IHRoaXMuX3BkZkJ1ZyxcbiAgICAgIHBhZ2VDb2xvcnNcbiAgICB9KTtcbiAgICAoaW50ZW50U3RhdGUucmVuZGVyVGFza3MgfHw9IG5ldyBTZXQoKSkuYWRkKGludGVybmFsUmVuZGVyVGFzayk7XG4gICAgY29uc3QgcmVuZGVyVGFzayA9IGludGVybmFsUmVuZGVyVGFzay50YXNrO1xuICAgIFByb21pc2UuYWxsKFtpbnRlbnRTdGF0ZS5kaXNwbGF5UmVhZHlDYXBhYmlsaXR5LnByb21pc2UsIG9wdGlvbmFsQ29udGVudENvbmZpZ1Byb21pc2VdKS50aGVuKChbdHJhbnNwYXJlbmN5LCBvcHRpb25hbENvbnRlbnRDb25maWddKSA9PiB7XG4gICAgICBpZiAodGhpcy5wZW5kaW5nQ2xlYW51cCkge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9zdGF0cykge1xuICAgICAgICB0aGlzLl9zdGF0cy50aW1lKFwiUmVuZGVyaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpbnRlcm5hbFJlbmRlclRhc2suaW5pdGlhbGl6ZUdyYXBoaWNzKHtcbiAgICAgICAgdHJhbnNwYXJlbmN5LFxuICAgICAgICBvcHRpb25hbENvbnRlbnRDb25maWdcbiAgICAgIH0pO1xuICAgICAgaW50ZXJuYWxSZW5kZXJUYXNrLm9wZXJhdG9yTGlzdENoYW5nZWQoKTtcbiAgICB9KS5jYXRjaChjb21wbGV0ZSk7XG4gICAgcmV0dXJuIHJlbmRlclRhc2s7XG4gIH1cblxuICBnZXRPcGVyYXRvckxpc3Qoe1xuICAgIGludGVudCA9IFwiZGlzcGxheVwiLFxuICAgIGFubm90YXRpb25Nb2RlID0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFXG4gIH0gPSB7fSkge1xuICAgIGZ1bmN0aW9uIG9wZXJhdG9yTGlzdENoYW5nZWQoKSB7XG4gICAgICBpZiAoaW50ZW50U3RhdGUub3BlcmF0b3JMaXN0Lmxhc3RDaHVuaykge1xuICAgICAgICBpbnRlbnRTdGF0ZS5vcExpc3RSZWFkQ2FwYWJpbGl0eS5yZXNvbHZlKGludGVudFN0YXRlLm9wZXJhdG9yTGlzdCk7XG4gICAgICAgIGludGVudFN0YXRlLnJlbmRlclRhc2tzLmRlbGV0ZShvcExpc3RUYXNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbnRlbnRBcmdzID0gdGhpcy5fdHJhbnNwb3J0LmdldFJlbmRlcmluZ0ludGVudChpbnRlbnQsIGFubm90YXRpb25Nb2RlLCB0cnVlKTtcblxuICAgIGxldCBpbnRlbnRTdGF0ZSA9IHRoaXMuX2ludGVudFN0YXRlcy5nZXQoaW50ZW50QXJncy5jYWNoZUtleSk7XG5cbiAgICBpZiAoIWludGVudFN0YXRlKSB7XG4gICAgICBpbnRlbnRTdGF0ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAgIHRoaXMuX2ludGVudFN0YXRlcy5zZXQoaW50ZW50QXJncy5jYWNoZUtleSwgaW50ZW50U3RhdGUpO1xuICAgIH1cblxuICAgIGxldCBvcExpc3RUYXNrO1xuXG4gICAgaWYgKCFpbnRlbnRTdGF0ZS5vcExpc3RSZWFkQ2FwYWJpbGl0eSkge1xuICAgICAgb3BMaXN0VGFzayA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBvcExpc3RUYXNrLm9wZXJhdG9yTGlzdENoYW5nZWQgPSBvcGVyYXRvckxpc3RDaGFuZ2VkO1xuICAgICAgaW50ZW50U3RhdGUub3BMaXN0UmVhZENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgICAoaW50ZW50U3RhdGUucmVuZGVyVGFza3MgfHw9IG5ldyBTZXQoKSkuYWRkKG9wTGlzdFRhc2spO1xuICAgICAgaW50ZW50U3RhdGUub3BlcmF0b3JMaXN0ID0ge1xuICAgICAgICBmbkFycmF5OiBbXSxcbiAgICAgICAgYXJnc0FycmF5OiBbXSxcbiAgICAgICAgbGFzdENodW5rOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuX3N0YXRzKSB7XG4gICAgICAgIHRoaXMuX3N0YXRzLnRpbWUoXCJQYWdlIFJlcXVlc3RcIik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3B1bXBPcGVyYXRvckxpc3QoaW50ZW50QXJncyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVudFN0YXRlLm9wTGlzdFJlYWRDYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cblxuICBzdHJlYW1UZXh0Q29udGVudCh7XG4gICAgZGlzYWJsZUNvbWJpbmVUZXh0SXRlbXMgPSBmYWxzZSxcbiAgICBpbmNsdWRlTWFya2VkQ29udGVudCA9IGZhbHNlXG4gIH0gPSB7fSkge1xuICAgIGNvbnN0IFRFWFRfQ09OVEVOVF9DSFVOS19TSVpFID0gMTAwO1xuICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhTdHJlYW0oXCJHZXRUZXh0Q29udGVudFwiLCB7XG4gICAgICBwYWdlSW5kZXg6IHRoaXMuX3BhZ2VJbmRleCxcbiAgICAgIGNvbWJpbmVUZXh0SXRlbXM6IGRpc2FibGVDb21iaW5lVGV4dEl0ZW1zICE9PSB0cnVlLFxuICAgICAgaW5jbHVkZU1hcmtlZENvbnRlbnQ6IGluY2x1ZGVNYXJrZWRDb250ZW50ID09PSB0cnVlXG4gICAgfSwge1xuICAgICAgaGlnaFdhdGVyTWFyazogVEVYVF9DT05URU5UX0NIVU5LX1NJWkUsXG5cbiAgICAgIHNpemUodGV4dENvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRleHRDb250ZW50Lml0ZW1zLmxlbmd0aDtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9XG5cbiAgZ2V0VGV4dENvbnRlbnQocGFyYW1zID0ge30pIHtcbiAgICBpZiAodGhpcy5fdHJhbnNwb3J0Ll9odG1sRm9yWGZhKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRYZmEoKS50aGVuKHhmYSA9PiB7XG4gICAgICAgIHJldHVybiBfeGZhX3RleHQuWGZhVGV4dC50ZXh0Q29udGVudCh4ZmEpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVhZGFibGVTdHJlYW0gPSB0aGlzLnN0cmVhbVRleHRDb250ZW50KHBhcmFtcyk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIHB1bXAoKSB7XG4gICAgICAgIHJlYWRlci5yZWFkKCkudGhlbihmdW5jdGlvbiAoe1xuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGRvbmVcbiAgICAgICAgfSkge1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRleHRDb250ZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBPYmplY3QuYXNzaWduKHRleHRDb250ZW50LnN0eWxlcywgdmFsdWUuc3R5bGVzKTtcbiAgICAgICAgICB0ZXh0Q29udGVudC5pdGVtcy5wdXNoKC4uLnZhbHVlLml0ZW1zKTtcbiAgICAgICAgICBwdW1wKCk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSB7XG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgc3R5bGVzOiBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgICB9O1xuICAgICAgcHVtcCgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0U3RydWN0VHJlZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RydWN0VHJlZVByb21pc2UgfHw9IHRoaXMuX3RyYW5zcG9ydC5nZXRTdHJ1Y3RUcmVlKHRoaXMuX3BhZ2VJbmRleCk7XG4gIH1cblxuICBfZGVzdHJveSgpIHtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgY29uc3Qgd2FpdE9uID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGludGVudFN0YXRlIG9mIHRoaXMuX2ludGVudFN0YXRlcy52YWx1ZXMoKSkge1xuICAgICAgdGhpcy5fYWJvcnRPcGVyYXRvckxpc3Qoe1xuICAgICAgICBpbnRlbnRTdGF0ZSxcbiAgICAgICAgcmVhc29uOiBuZXcgRXJyb3IoXCJQYWdlIHdhcyBkZXN0cm95ZWQuXCIpLFxuICAgICAgICBmb3JjZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbnRlbnRTdGF0ZS5vcExpc3RSZWFkQ2FwYWJpbGl0eSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBpbnRlcm5hbFJlbmRlclRhc2sgb2YgaW50ZW50U3RhdGUucmVuZGVyVGFza3MpIHtcbiAgICAgICAgd2FpdE9uLnB1c2goaW50ZXJuYWxSZW5kZXJUYXNrLmNvbXBsZXRlZCk7XG4gICAgICAgIGludGVybmFsUmVuZGVyVGFzay5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9ianMuY2xlYXIoKTtcblxuICAgIGZvciAoY29uc3QgYml0bWFwIG9mIHRoaXMuX2JpdG1hcHMpIHtcbiAgICAgIGJpdG1hcC5jbG9zZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2JpdG1hcHMuY2xlYXIoKTtcblxuICAgIHRoaXMuX2Fubm90YXRpb25Qcm9taXNlcy5jbGVhcigpO1xuXG4gICAgdGhpcy5fanNBY3Rpb25zUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fc3RydWN0VHJlZVByb21pc2UgPSBudWxsO1xuICAgIHRoaXMucGVuZGluZ0NsZWFudXAgPSBmYWxzZTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwod2FpdE9uKTtcbiAgfVxuXG4gIGNsZWFudXAocmVzZXRTdGF0cyA9IGZhbHNlKSB7XG4gICAgdGhpcy5wZW5kaW5nQ2xlYW51cCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMuX3RyeUNsZWFudXAocmVzZXRTdGF0cyk7XG4gIH1cblxuICBfdHJ5Q2xlYW51cChyZXNldFN0YXRzID0gZmFsc2UpIHtcbiAgICBpZiAoIXRoaXMucGVuZGluZ0NsZWFudXApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHtcbiAgICAgIHJlbmRlclRhc2tzLFxuICAgICAgb3BlcmF0b3JMaXN0XG4gICAgfSBvZiB0aGlzLl9pbnRlbnRTdGF0ZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChyZW5kZXJUYXNrcy5zaXplID4gMCB8fCAhb3BlcmF0b3JMaXN0Lmxhc3RDaHVuaykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZW50U3RhdGVzLmNsZWFyKCk7XG5cbiAgICB0aGlzLm9ianMuY2xlYXIoKTtcblxuICAgIHRoaXMuX2Fubm90YXRpb25Qcm9taXNlcy5jbGVhcigpO1xuXG4gICAgdGhpcy5fanNBY3Rpb25zUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fc3RydWN0VHJlZVByb21pc2UgPSBudWxsO1xuXG4gICAgaWYgKHJlc2V0U3RhdHMgJiYgdGhpcy5fc3RhdHMpIHtcbiAgICAgIHRoaXMuX3N0YXRzID0gbmV3IF9kaXNwbGF5X3V0aWxzLlN0YXRUaW1lcigpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYml0bWFwIG9mIHRoaXMuX2JpdG1hcHMpIHtcbiAgICAgIGJpdG1hcC5jbG9zZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2JpdG1hcHMuY2xlYXIoKTtcblxuICAgIHRoaXMucGVuZGluZ0NsZWFudXAgPSBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9zdGFydFJlbmRlclBhZ2UodHJhbnNwYXJlbmN5LCBjYWNoZUtleSkge1xuICAgIGNvbnN0IGludGVudFN0YXRlID0gdGhpcy5faW50ZW50U3RhdGVzLmdldChjYWNoZUtleSk7XG5cbiAgICBpZiAoIWludGVudFN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0YXRzKSB7XG4gICAgICB0aGlzLl9zdGF0cy50aW1lRW5kKFwiUGFnZSBSZXF1ZXN0XCIpO1xuICAgIH1cblxuICAgIGlmIChpbnRlbnRTdGF0ZS5kaXNwbGF5UmVhZHlDYXBhYmlsaXR5KSB7XG4gICAgICBpbnRlbnRTdGF0ZS5kaXNwbGF5UmVhZHlDYXBhYmlsaXR5LnJlc29sdmUodHJhbnNwYXJlbmN5KTtcbiAgICB9XG4gIH1cblxuICBfcmVuZGVyUGFnZUNodW5rKG9wZXJhdG9yTGlzdENodW5rLCBpbnRlbnRTdGF0ZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IG9wZXJhdG9yTGlzdENodW5rLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGludGVudFN0YXRlLm9wZXJhdG9yTGlzdC5mbkFycmF5LnB1c2gob3BlcmF0b3JMaXN0Q2h1bmsuZm5BcnJheVtpXSk7XG4gICAgICBpbnRlbnRTdGF0ZS5vcGVyYXRvckxpc3QuYXJnc0FycmF5LnB1c2gob3BlcmF0b3JMaXN0Q2h1bmsuYXJnc0FycmF5W2ldKTtcbiAgICB9XG5cbiAgICBpbnRlbnRTdGF0ZS5vcGVyYXRvckxpc3QubGFzdENodW5rID0gb3BlcmF0b3JMaXN0Q2h1bmsubGFzdENodW5rO1xuXG4gICAgZm9yIChjb25zdCBpbnRlcm5hbFJlbmRlclRhc2sgb2YgaW50ZW50U3RhdGUucmVuZGVyVGFza3MpIHtcbiAgICAgIGludGVybmFsUmVuZGVyVGFzay5vcGVyYXRvckxpc3RDaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdG9yTGlzdENodW5rLmxhc3RDaHVuaykge1xuICAgICAgdGhpcy5fdHJ5Q2xlYW51cCgpO1xuICAgIH1cbiAgfVxuXG4gIF9wdW1wT3BlcmF0b3JMaXN0KHtcbiAgICByZW5kZXJpbmdJbnRlbnQsXG4gICAgY2FjaGVLZXlcbiAgfSkge1xuICAgIGNvbnN0IHJlYWRhYmxlU3RyZWFtID0gdGhpcy5fdHJhbnNwb3J0Lm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoU3RyZWFtKFwiR2V0T3BlcmF0b3JMaXN0XCIsIHtcbiAgICAgIHBhZ2VJbmRleDogdGhpcy5fcGFnZUluZGV4LFxuICAgICAgaW50ZW50OiByZW5kZXJpbmdJbnRlbnQsXG4gICAgICBjYWNoZUtleSxcbiAgICAgIGFubm90YXRpb25TdG9yYWdlOiByZW5kZXJpbmdJbnRlbnQgJiBfdXRpbC5SZW5kZXJpbmdJbnRlbnRGbGFnLkFOTk9UQVRJT05TX1NUT1JBR0UgPyB0aGlzLl90cmFuc3BvcnQuYW5ub3RhdGlvblN0b3JhZ2Uuc2VyaWFsaXphYmxlIDogbnVsbFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XG5cbiAgICBjb25zdCBpbnRlbnRTdGF0ZSA9IHRoaXMuX2ludGVudFN0YXRlcy5nZXQoY2FjaGVLZXkpO1xuXG4gICAgaW50ZW50U3RhdGUuc3RyZWFtUmVhZGVyID0gcmVhZGVyO1xuXG4gICAgY29uc3QgcHVtcCA9ICgpID0+IHtcbiAgICAgIHJlYWRlci5yZWFkKCkudGhlbigoe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZG9uZVxuICAgICAgfSkgPT4ge1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGludGVudFN0YXRlLnN0cmVhbVJlYWRlciA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zcG9ydC5kZXN0cm95ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJQYWdlQ2h1bmsodmFsdWUsIGludGVudFN0YXRlKTtcblxuICAgICAgICBwdW1wKCk7XG4gICAgICB9LCByZWFzb24gPT4ge1xuICAgICAgICBpbnRlbnRTdGF0ZS5zdHJlYW1SZWFkZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl90cmFuc3BvcnQuZGVzdHJveWVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludGVudFN0YXRlLm9wZXJhdG9yTGlzdCkge1xuICAgICAgICAgIGludGVudFN0YXRlLm9wZXJhdG9yTGlzdC5sYXN0Q2h1bmsgPSB0cnVlO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBpbnRlcm5hbFJlbmRlclRhc2sgb2YgaW50ZW50U3RhdGUucmVuZGVyVGFza3MpIHtcbiAgICAgICAgICAgIGludGVybmFsUmVuZGVyVGFzay5vcGVyYXRvckxpc3RDaGFuZ2VkKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fdHJ5Q2xlYW51cCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludGVudFN0YXRlLmRpc3BsYXlSZWFkeUNhcGFiaWxpdHkpIHtcbiAgICAgICAgICBpbnRlbnRTdGF0ZS5kaXNwbGF5UmVhZHlDYXBhYmlsaXR5LnJlamVjdChyZWFzb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGludGVudFN0YXRlLm9wTGlzdFJlYWRDYXBhYmlsaXR5KSB7XG4gICAgICAgICAgaW50ZW50U3RhdGUub3BMaXN0UmVhZENhcGFiaWxpdHkucmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHVtcCgpO1xuICB9XG5cbiAgX2Fib3J0T3BlcmF0b3JMaXN0KHtcbiAgICBpbnRlbnRTdGF0ZSxcbiAgICByZWFzb24sXG4gICAgZm9yY2UgPSBmYWxzZVxuICB9KSB7XG4gICAgaWYgKCFpbnRlbnRTdGF0ZS5zdHJlYW1SZWFkZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWZvcmNlKSB7XG4gICAgICBpZiAoaW50ZW50U3RhdGUucmVuZGVyVGFza3Muc2l6ZSA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVhc29uIGluc3RhbmNlb2YgX2Rpc3BsYXlfdXRpbHMuUmVuZGVyaW5nQ2FuY2VsbGVkRXhjZXB0aW9uKSB7XG4gICAgICAgIGludGVudFN0YXRlLnN0cmVhbVJlYWRlckNhbmNlbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9hYm9ydE9wZXJhdG9yTGlzdCh7XG4gICAgICAgICAgICBpbnRlbnRTdGF0ZSxcbiAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgIGZvcmNlOiB0cnVlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpbnRlbnRTdGF0ZS5zdHJlYW1SZWFkZXJDYW5jZWxUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfSwgUkVOREVSSU5HX0NBTkNFTExFRF9USU1FT1VUKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGludGVudFN0YXRlLnN0cmVhbVJlYWRlci5jYW5jZWwobmV3IF91dGlsLkFib3J0RXhjZXB0aW9uKHJlYXNvbi5tZXNzYWdlKSkuY2F0Y2goKCkgPT4ge30pO1xuICAgIGludGVudFN0YXRlLnN0cmVhbVJlYWRlciA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5fdHJhbnNwb3J0LmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2N1ckNhY2hlS2V5LCBjdXJJbnRlbnRTdGF0ZV0gb2YgdGhpcy5faW50ZW50U3RhdGVzKSB7XG4gICAgICBpZiAoY3VySW50ZW50U3RhdGUgPT09IGludGVudFN0YXRlKSB7XG4gICAgICAgIHRoaXMuX2ludGVudFN0YXRlcy5kZWxldGUoY3VyQ2FjaGVLZXkpO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2xlYW51cCgpO1xuICB9XG5cbiAgZ2V0IHN0YXRzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0cztcbiAgfVxuXG59XG5cbmV4cG9ydHMuUERGUGFnZVByb3h5ID0gUERGUGFnZVByb3h5O1xuXG5jbGFzcyBMb29wYmFja1BvcnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLl9kZWZlcnJlZCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcG9zdE1lc3NhZ2Uob2JqLCB0cmFuc2ZlcnMpIHtcbiAgICBjb25zdCBldmVudCA9IHtcbiAgICAgIGRhdGE6IHN0cnVjdHVyZWRDbG9uZShvYmosIHRyYW5zZmVycylcbiAgICB9O1xuXG4gICAgdGhpcy5fZGVmZXJyZWQudGhlbigoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuX2xpc3RlbmVycykge1xuICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIobmFtZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblxuICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gIH1cblxuICB0ZXJtaW5hdGUoKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLmxlbmd0aCA9IDA7XG4gIH1cblxufVxuXG5leHBvcnRzLkxvb3BiYWNrUG9ydCA9IExvb3BiYWNrUG9ydDtcbmNvbnN0IFBERldvcmtlclV0aWwgPSB7XG4gIGlzV29ya2VyRGlzYWJsZWQ6IGZhbHNlLFxuICBmYWxsYmFja1dvcmtlclNyYzogbnVsbCxcbiAgZmFrZVdvcmtlcklkOiAwXG59O1xuZXhwb3J0cy5QREZXb3JrZXJVdGlsID0gUERGV29ya2VyVXRpbDtcbntcbiAgaWYgKF9pc19ub2RlLmlzTm9kZUpTICYmIHR5cGVvZiByZXF1aXJlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBQREZXb3JrZXJVdGlsLmlzV29ya2VyRGlzYWJsZWQgPSB0cnVlO1xuICAgIFBERldvcmtlclV0aWwuZmFsbGJhY2tXb3JrZXJTcmMgPSBcIi4vcGRmLndvcmtlci5qc1wiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHBkZmpzRmlsZVBhdGggPSBkb2N1bWVudD8uY3VycmVudFNjcmlwdD8uc3JjO1xuXG4gICAgaWYgKHBkZmpzRmlsZVBhdGgpIHtcbiAgICAgIFBERldvcmtlclV0aWwuZmFsbGJhY2tXb3JrZXJTcmMgPSBwZGZqc0ZpbGVQYXRoLnJlcGxhY2UoLyhcXC4oPzptaW5cXC4pP2pzKShcXD8uKik/JC9pLCBcIi53b3JrZXIkMSQyXCIpO1xuICAgIH1cbiAgfVxuXG4gIFBERldvcmtlclV0aWwuaXNTYW1lT3JpZ2luID0gZnVuY3Rpb24gKGJhc2VVcmwsIG90aGVyVXJsKSB7XG4gICAgbGV0IGJhc2U7XG5cbiAgICB0cnkge1xuICAgICAgYmFzZSA9IG5ldyBVUkwoYmFzZVVybCk7XG5cbiAgICAgIGlmICghYmFzZS5vcmlnaW4gfHwgYmFzZS5vcmlnaW4gPT09IFwibnVsbFwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3Qgb3RoZXIgPSBuZXcgVVJMKG90aGVyVXJsLCBiYXNlKTtcbiAgICByZXR1cm4gYmFzZS5vcmlnaW4gPT09IG90aGVyLm9yaWdpbjtcbiAgfTtcblxuICBQREZXb3JrZXJVdGlsLmNyZWF0ZUNETldyYXBwZXIgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3Qgd3JhcHBlciA9IGBpbXBvcnRTY3JpcHRzKFwiJHt1cmx9XCIpO2A7XG4gICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3dyYXBwZXJdKSk7XG4gIH07XG59XG5cbmNsYXNzIFBERldvcmtlciB7XG4gIHN0YXRpYyAjd29ya2VyUG9ydHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lID0gbnVsbCxcbiAgICBwb3J0ID0gbnVsbCxcbiAgICB2ZXJib3NpdHkgPSAoMCwgX3V0aWwuZ2V0VmVyYm9zaXR5TGV2ZWwpKClcbiAgfSA9IHt9KSB7XG4gICAgaWYgKHBvcnQgJiYgUERGV29ya2VyLiN3b3JrZXJQb3J0cy5oYXMocG9ydCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbW9yZSB0aGFuIG9uZSBQREZXb3JrZXIgcGVyIHBvcnQuXCIpO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZlcmJvc2l0eSA9IHZlcmJvc2l0eTtcbiAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgdGhpcy5fcG9ydCA9IG51bGw7XG4gICAgdGhpcy5fd2ViV29ya2VyID0gbnVsbDtcbiAgICB0aGlzLl9tZXNzYWdlSGFuZGxlciA9IG51bGw7XG5cbiAgICBpZiAocG9ydCkge1xuICAgICAgUERGV29ya2VyLiN3b3JrZXJQb3J0cy5zZXQocG9ydCwgdGhpcyk7XG5cbiAgICAgIHRoaXMuX2luaXRpYWxpemVGcm9tUG9ydChwb3J0KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgfVxuXG4gIGdldCBwcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLl9wb3J0O1xuICB9XG5cbiAgZ2V0IG1lc3NhZ2VIYW5kbGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlSGFuZGxlcjtcbiAgfVxuXG4gIF9pbml0aWFsaXplRnJvbVBvcnQocG9ydCkge1xuICAgIHRoaXMuX3BvcnQgPSBwb3J0O1xuICAgIHRoaXMuX21lc3NhZ2VIYW5kbGVyID0gbmV3IF9tZXNzYWdlX2hhbmRsZXIuTWVzc2FnZUhhbmRsZXIoXCJtYWluXCIsIFwid29ya2VyXCIsIHBvcnQpO1xuXG4gICAgdGhpcy5fbWVzc2FnZUhhbmRsZXIub24oXCJyZWFkeVwiLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICB9XG5cbiAgX2luaXRpYWxpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBXb3JrZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgIVBERldvcmtlclV0aWwuaXNXb3JrZXJEaXNhYmxlZCAmJiAhUERGV29ya2VyLl9tYWluVGhyZWFkV29ya2VyTWVzc2FnZUhhbmRsZXIpIHtcbiAgICAgIGxldCB3b3JrZXJTcmMgPSBQREZXb3JrZXIud29ya2VyU3JjO1xuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIVBERldvcmtlclV0aWwuaXNTYW1lT3JpZ2luKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCB3b3JrZXJTcmMpKSB7XG4gICAgICAgICAgd29ya2VyU3JjID0gUERGV29ya2VyVXRpbC5jcmVhdGVDRE5XcmFwcGVyKG5ldyBVUkwod29ya2VyU3JjLCB3aW5kb3cubG9jYXRpb24pLmhyZWYpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJTcmMpO1xuICAgICAgICBjb25zdCBtZXNzYWdlSGFuZGxlciA9IG5ldyBfbWVzc2FnZV9oYW5kbGVyLk1lc3NhZ2VIYW5kbGVyKFwibWFpblwiLCBcIndvcmtlclwiLCB3b3JrZXIpO1xuXG4gICAgICAgIGNvbnN0IHRlcm1pbmF0ZUVhcmx5ID0gKCkgPT4ge1xuICAgICAgICAgIHdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25Xb3JrZXJFcnJvcik7XG4gICAgICAgICAgbWVzc2FnZUhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcblxuICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHlDYXBhYmlsaXR5LnJlamVjdChuZXcgRXJyb3IoXCJXb3JrZXIgd2FzIGRlc3Ryb3llZFwiKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwRmFrZVdvcmtlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvbldvcmtlckVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5fd2ViV29ya2VyKSB7XG4gICAgICAgICAgICB0ZXJtaW5hdGVFYXJseSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uV29ya2VyRXJyb3IpO1xuICAgICAgICBtZXNzYWdlSGFuZGxlci5vbihcInRlc3RcIiwgZGF0YSA9PiB7XG4gICAgICAgICAgd29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbldvcmtlckVycm9yKTtcblxuICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGVybWluYXRlRWFybHkoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fbWVzc2FnZUhhbmRsZXIgPSBtZXNzYWdlSGFuZGxlcjtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQgPSB3b3JrZXI7XG4gICAgICAgICAgICB0aGlzLl93ZWJXb3JrZXIgPSB3b3JrZXI7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlYWR5Q2FwYWJpbGl0eS5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VIYW5kbGVyLnNlbmQoXCJjb25maWd1cmVcIiwge1xuICAgICAgICAgICAgICB2ZXJib3NpdHk6IHRoaXMudmVyYm9zaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBGYWtlV29ya2VyKCk7XG5cbiAgICAgICAgICAgIG1lc3NhZ2VIYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZXNzYWdlSGFuZGxlci5vbihcInJlYWR5XCIsIGRhdGEgPT4ge1xuICAgICAgICAgIHdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25Xb3JrZXJFcnJvcik7XG5cbiAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRlcm1pbmF0ZUVhcmx5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNlbmRUZXN0KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBGYWtlV29ya2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzZW5kVGVzdCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXN0T2JqID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgICBtZXNzYWdlSGFuZGxlci5zZW5kKFwidGVzdFwiLCB0ZXN0T2JqLCBbdGVzdE9iai5idWZmZXJdKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZW5kVGVzdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICgwLCBfdXRpbC5pbmZvKShcIlRoZSB3b3JrZXIgaGFzIGJlZW4gZGlzYWJsZWQuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3NldHVwRmFrZVdvcmtlcigpO1xuICB9XG5cbiAgX3NldHVwRmFrZVdvcmtlcigpIHtcbiAgICBpZiAoIVBERldvcmtlclV0aWwuaXNXb3JrZXJEaXNhYmxlZCkge1xuICAgICAgKDAsIF91dGlsLndhcm4pKFwiU2V0dGluZyB1cCBmYWtlIHdvcmtlci5cIik7XG4gICAgICBQREZXb3JrZXJVdGlsLmlzV29ya2VyRGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIFBERldvcmtlci5fc2V0dXBGYWtlV29ya2VyR2xvYmFsLnRoZW4oV29ya2VyTWVzc2FnZUhhbmRsZXIgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHRoaXMuX3JlYWR5Q2FwYWJpbGl0eS5yZWplY3QobmV3IEVycm9yKFwiV29ya2VyIHdhcyBkZXN0cm95ZWRcIikpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcG9ydCA9IG5ldyBMb29wYmFja1BvcnQoKTtcbiAgICAgIHRoaXMuX3BvcnQgPSBwb3J0O1xuICAgICAgY29uc3QgaWQgPSBgZmFrZSR7UERGV29ya2VyVXRpbC5mYWtlV29ya2VySWQrK31gO1xuICAgICAgY29uc3Qgd29ya2VySGFuZGxlciA9IG5ldyBfbWVzc2FnZV9oYW5kbGVyLk1lc3NhZ2VIYW5kbGVyKGlkICsgXCJfd29ya2VyXCIsIGlkLCBwb3J0KTtcbiAgICAgIFdvcmtlck1lc3NhZ2VIYW5kbGVyLnNldHVwKHdvcmtlckhhbmRsZXIsIHBvcnQpO1xuICAgICAgY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBuZXcgX21lc3NhZ2VfaGFuZGxlci5NZXNzYWdlSGFuZGxlcihpZCwgaWQgKyBcIl93b3JrZXJcIiwgcG9ydCk7XG4gICAgICB0aGlzLl9tZXNzYWdlSGFuZGxlciA9IG1lc3NhZ2VIYW5kbGVyO1xuXG4gICAgICB0aGlzLl9yZWFkeUNhcGFiaWxpdHkucmVzb2x2ZSgpO1xuXG4gICAgICBtZXNzYWdlSGFuZGxlci5zZW5kKFwiY29uZmlndXJlXCIsIHtcbiAgICAgICAgdmVyYm9zaXR5OiB0aGlzLnZlcmJvc2l0eVxuICAgICAgfSk7XG4gICAgfSkuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgIHRoaXMuX3JlYWR5Q2FwYWJpbGl0eS5yZWplY3QobmV3IEVycm9yKGBTZXR0aW5nIHVwIGZha2Ugd29ya2VyIGZhaWxlZDogXCIke3JlYXNvbi5tZXNzYWdlfVwiLmApKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuX3dlYldvcmtlcikge1xuICAgICAgdGhpcy5fd2ViV29ya2VyLnRlcm1pbmF0ZSgpO1xuXG4gICAgICB0aGlzLl93ZWJXb3JrZXIgPSBudWxsO1xuICAgIH1cblxuICAgIFBERldvcmtlci4jd29ya2VyUG9ydHMuZGVsZXRlKHRoaXMuX3BvcnQpO1xuICAgIHRoaXMuX3BvcnQgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuX21lc3NhZ2VIYW5kbGVyKSB7XG4gICAgICB0aGlzLl9tZXNzYWdlSGFuZGxlci5kZXN0cm95KCk7XG5cbiAgICAgIHRoaXMuX21lc3NhZ2VIYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZnJvbVBvcnQocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXM/LnBvcnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBERldvcmtlci5mcm9tUG9ydCAtIGludmFsaWQgbWV0aG9kIHNpZ25hdHVyZS5cIik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuI3dvcmtlclBvcnRzLmhhcyhwYXJhbXMucG9ydCkpIHtcbiAgICAgIHJldHVybiB0aGlzLiN3b3JrZXJQb3J0cy5nZXQocGFyYW1zLnBvcnQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUERGV29ya2VyKHBhcmFtcyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHdvcmtlclNyYygpIHtcbiAgICBpZiAoX3dvcmtlcl9vcHRpb25zLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjKSB7XG4gICAgICByZXR1cm4gX3dvcmtlcl9vcHRpb25zLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjO1xuICAgIH1cblxuICAgIGlmIChQREZXb3JrZXJVdGlsLmZhbGxiYWNrV29ya2VyU3JjICE9PSBudWxsKSB7XG4gICAgICBpZiAoIV9pc19ub2RlLmlzTm9kZUpTKSB7XG4gICAgICAgICgwLCBfZGlzcGxheV91dGlscy5kZXByZWNhdGVkKSgnTm8gXCJHbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyY1wiIHNwZWNpZmllZC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFBERldvcmtlclV0aWwuZmFsbGJhY2tXb3JrZXJTcmM7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBcIkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjXCIgc3BlY2lmaWVkLicpO1xuICB9XG5cbiAgc3RhdGljIGdldCBfbWFpblRocmVhZFdvcmtlck1lc3NhZ2VIYW5kbGVyKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZ2xvYmFsVGhpcy5wZGZqc1dvcmtlcj8uV29ya2VyTWVzc2FnZUhhbmRsZXIgfHwgbnVsbDtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBfc2V0dXBGYWtlV29ya2VyR2xvYmFsKCkge1xuICAgIGNvbnN0IGxvYWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1haW5Xb3JrZXJNZXNzYWdlSGFuZGxlciA9IHRoaXMuX21haW5UaHJlYWRXb3JrZXJNZXNzYWdlSGFuZGxlcjtcblxuICAgICAgaWYgKG1haW5Xb3JrZXJNZXNzYWdlSGFuZGxlcikge1xuICAgICAgICByZXR1cm4gbWFpbldvcmtlck1lc3NhZ2VIYW5kbGVyO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2lzX25vZGUuaXNOb2RlSlMgJiYgdHlwZW9mIHJlcXVpcmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB3b3JrZXIgPSBldmFsKFwicmVxdWlyZVwiKSh0aGlzLndvcmtlclNyYyk7XG4gICAgICAgIHJldHVybiB3b3JrZXIuV29ya2VyTWVzc2FnZUhhbmRsZXI7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0ICgwLCBfZGlzcGxheV91dGlscy5sb2FkU2NyaXB0KSh0aGlzLndvcmtlclNyYyk7XG4gICAgICByZXR1cm4gd2luZG93LnBkZmpzV29ya2VyLldvcmtlck1lc3NhZ2VIYW5kbGVyO1xuICAgIH07XG5cbiAgICByZXR1cm4gKDAsIF91dGlsLnNoYWRvdykodGhpcywgXCJfc2V0dXBGYWtlV29ya2VyR2xvYmFsXCIsIGxvYWRlcigpKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuUERGV29ya2VyID0gUERGV29ya2VyO1xue1xuICBQREZXb3JrZXIuZ2V0V29ya2VyU3JjID0gZnVuY3Rpb24gKCkge1xuICAgICgwLCBfZGlzcGxheV91dGlscy5kZXByZWNhdGVkKShcImBQREZXb3JrZXIuZ2V0V29ya2VyU3JjKClgLCBwbGVhc2UgdXNlIGBQREZXb3JrZXIud29ya2VyU3JjYCBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy53b3JrZXJTcmM7XG4gIH07XG59XG5cbmNsYXNzIFdvcmtlclRyYW5zcG9ydCB7XG4gICNkb2NTdGF0cyA9IG51bGw7XG4gICNwYWdlQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICNwYWdlUHJvbWlzZXMgPSBuZXcgTWFwKCk7XG4gICNtZXRhZGF0YVByb21pc2UgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2VIYW5kbGVyLCBsb2FkaW5nVGFzaywgbmV0d29ya1N0cmVhbSwgcGFyYW1zKSB7XG4gICAgdGhpcy5tZXNzYWdlSGFuZGxlciA9IG1lc3NhZ2VIYW5kbGVyO1xuICAgIHRoaXMubG9hZGluZ1Rhc2sgPSBsb2FkaW5nVGFzaztcbiAgICB0aGlzLmNvbW1vbk9ianMgPSBuZXcgUERGT2JqZWN0cygpO1xuICAgIHRoaXMuZm9udExvYWRlciA9IG5ldyBfZm9udF9sb2FkZXIuRm9udExvYWRlcih7XG4gICAgICBkb2NJZDogbG9hZGluZ1Rhc2suZG9jSWQsXG4gICAgICBvblVuc3VwcG9ydGVkRmVhdHVyZTogdGhpcy5fb25VbnN1cHBvcnRlZEZlYXR1cmUuYmluZCh0aGlzKSxcbiAgICAgIG93bmVyRG9jdW1lbnQ6IHBhcmFtcy5vd25lckRvY3VtZW50LFxuICAgICAgc3R5bGVFbGVtZW50OiBwYXJhbXMuc3R5bGVFbGVtZW50XG4gICAgfSk7XG4gICAgdGhpcy5fcGFyYW1zID0gcGFyYW1zO1xuXG4gICAgaWYgKCFwYXJhbXMudXNlV29ya2VyRmV0Y2gpIHtcbiAgICAgIHRoaXMuQ01hcFJlYWRlckZhY3RvcnkgPSBuZXcgcGFyYW1zLkNNYXBSZWFkZXJGYWN0b3J5KHtcbiAgICAgICAgYmFzZVVybDogcGFyYW1zLmNNYXBVcmwsXG4gICAgICAgIGlzQ29tcHJlc3NlZDogcGFyYW1zLmNNYXBQYWNrZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5TdGFuZGFyZEZvbnREYXRhRmFjdG9yeSA9IG5ldyBwYXJhbXMuU3RhbmRhcmRGb250RGF0YUZhY3Rvcnkoe1xuICAgICAgICBiYXNlVXJsOiBwYXJhbXMuc3RhbmRhcmRGb250RGF0YVVybFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3lDYXBhYmlsaXR5ID0gbnVsbDtcbiAgICB0aGlzLl9wYXNzd29yZENhcGFiaWxpdHkgPSBudWxsO1xuICAgIHRoaXMuX25ldHdvcmtTdHJlYW0gPSBuZXR3b3JrU3RyZWFtO1xuICAgIHRoaXMuX2Z1bGxSZWFkZXIgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RQcm9ncmVzcyA9IG51bGw7XG4gICAgdGhpcy5kb3dubG9hZEluZm9DYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuICAgIHRoaXMuc2V0dXBNZXNzYWdlSGFuZGxlcigpO1xuICB9XG5cbiAgZ2V0IGFubm90YXRpb25TdG9yYWdlKCkge1xuICAgIHJldHVybiAoMCwgX3V0aWwuc2hhZG93KSh0aGlzLCBcImFubm90YXRpb25TdG9yYWdlXCIsIG5ldyBfYW5ub3RhdGlvbl9zdG9yYWdlLkFubm90YXRpb25TdG9yYWdlKCkpO1xuICB9XG5cbiAgZ2V0IHN0YXRzKCkge1xuICAgIHJldHVybiB0aGlzLiNkb2NTdGF0cztcbiAgfVxuXG4gIGdldFJlbmRlcmluZ0ludGVudChpbnRlbnQsIGFubm90YXRpb25Nb2RlID0gX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFLCBpc09wTGlzdCA9IGZhbHNlKSB7XG4gICAgbGV0IHJlbmRlcmluZ0ludGVudCA9IF91dGlsLlJlbmRlcmluZ0ludGVudEZsYWcuRElTUExBWTtcbiAgICBsZXQgYW5ub3RhdGlvbkhhc2ggPSBcIlwiO1xuXG4gICAgc3dpdGNoIChpbnRlbnQpIHtcbiAgICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgICAgcmVuZGVyaW5nSW50ZW50ID0gX3V0aWwuUmVuZGVyaW5nSW50ZW50RmxhZy5BTlk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiZGlzcGxheVwiOlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInByaW50XCI6XG4gICAgICAgIHJlbmRlcmluZ0ludGVudCA9IF91dGlsLlJlbmRlcmluZ0ludGVudEZsYWcuUFJJTlQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAoMCwgX3V0aWwud2FybikoYGdldFJlbmRlcmluZ0ludGVudCAtIGludmFsaWQgaW50ZW50OiAke2ludGVudH1gKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFubm90YXRpb25Nb2RlKSB7XG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25Nb2RlLkRJU0FCTEU6XG4gICAgICAgIHJlbmRlcmluZ0ludGVudCArPSBfdXRpbC5SZW5kZXJpbmdJbnRlbnRGbGFnLkFOTk9UQVRJT05TX0RJU0FCTEU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25Nb2RlLkVOQUJMRTpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFX0ZPUk1TOlxuICAgICAgICByZW5kZXJpbmdJbnRlbnQgKz0gX3V0aWwuUmVuZGVyaW5nSW50ZW50RmxhZy5BTk5PVEFUSU9OU19GT1JNUztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvbk1vZGUuRU5BQkxFX1NUT1JBR0U6XG4gICAgICAgIHJlbmRlcmluZ0ludGVudCArPSBfdXRpbC5SZW5kZXJpbmdJbnRlbnRGbGFnLkFOTk9UQVRJT05TX1NUT1JBR0U7XG4gICAgICAgIGFubm90YXRpb25IYXNoID0gdGhpcy5hbm5vdGF0aW9uU3RvcmFnZS5oYXNoO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgKDAsIF91dGlsLndhcm4pKGBnZXRSZW5kZXJpbmdJbnRlbnQgLSBpbnZhbGlkIGFubm90YXRpb25Nb2RlOiAke2Fubm90YXRpb25Nb2RlfWApO1xuICAgIH1cblxuICAgIGlmIChpc09wTGlzdCkge1xuICAgICAgcmVuZGVyaW5nSW50ZW50ICs9IF91dGlsLlJlbmRlcmluZ0ludGVudEZsYWcuT1BMSVNUO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZW5kZXJpbmdJbnRlbnQsXG4gICAgICBjYWNoZUtleTogYCR7cmVuZGVyaW5nSW50ZW50fV8ke2Fubm90YXRpb25IYXNofWBcbiAgICB9O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5kZXN0cm95Q2FwYWJpbGl0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveUNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgdGhpcy5kZXN0cm95Q2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcblxuICAgIGlmICh0aGlzLl9wYXNzd29yZENhcGFiaWxpdHkpIHtcbiAgICAgIHRoaXMuX3Bhc3N3b3JkQ2FwYWJpbGl0eS5yZWplY3QobmV3IEVycm9yKFwiV29ya2VyIHdhcyBkZXN0cm95ZWQgZHVyaW5nIG9uUGFzc3dvcmQgY2FsbGJhY2tcIikpO1xuICAgIH1cblxuICAgIGNvbnN0IHdhaXRPbiA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBwYWdlIG9mIHRoaXMuI3BhZ2VDYWNoZS52YWx1ZXMoKSkge1xuICAgICAgd2FpdE9uLnB1c2gocGFnZS5fZGVzdHJveSgpKTtcbiAgICB9XG5cbiAgICB0aGlzLiNwYWdlQ2FjaGUuY2xlYXIoKTtcbiAgICB0aGlzLiNwYWdlUHJvbWlzZXMuY2xlYXIoKTtcblxuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KFwiYW5ub3RhdGlvblN0b3JhZ2VcIikpIHtcbiAgICAgIHRoaXMuYW5ub3RhdGlvblN0b3JhZ2UucmVzZXRNb2RpZmllZCgpO1xuICAgIH1cblxuICAgIGNvbnN0IHRlcm1pbmF0ZWQgPSB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIlRlcm1pbmF0ZVwiLCBudWxsKTtcbiAgICB3YWl0T24ucHVzaCh0ZXJtaW5hdGVkKTtcbiAgICBQcm9taXNlLmFsbCh3YWl0T24pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5jb21tb25PYmpzLmNsZWFyKCk7XG4gICAgICB0aGlzLmZvbnRMb2FkZXIuY2xlYXIoKTtcbiAgICAgIHRoaXMuI21ldGFkYXRhUHJvbWlzZSA9IG51bGw7XG4gICAgICB0aGlzLl9nZXRGaWVsZE9iamVjdHNQcm9taXNlID0gbnVsbDtcbiAgICAgIHRoaXMuX2hhc0pTQWN0aW9uc1Byb21pc2UgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fbmV0d29ya1N0cmVhbSkge1xuICAgICAgICB0aGlzLl9uZXR3b3JrU3RyZWFtLmNhbmNlbEFsbFJlcXVlc3RzKG5ldyBfdXRpbC5BYm9ydEV4Y2VwdGlvbihcIldvcmtlciB3YXMgdGVybWluYXRlZC5cIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcikge1xuICAgICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVzdHJveUNhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICAgIH0sIHRoaXMuZGVzdHJveUNhcGFiaWxpdHkucmVqZWN0KTtcbiAgICByZXR1cm4gdGhpcy5kZXN0cm95Q2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgc2V0dXBNZXNzYWdlSGFuZGxlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBtZXNzYWdlSGFuZGxlcixcbiAgICAgIGxvYWRpbmdUYXNrXG4gICAgfSA9IHRoaXM7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJHZXRSZWFkZXJcIiwgKGRhdGEsIHNpbmspID0+IHtcbiAgICAgICgwLCBfdXRpbC5hc3NlcnQpKHRoaXMuX25ldHdvcmtTdHJlYW0sIFwiR2V0UmVhZGVyIC0gbm8gYElQREZTdHJlYW1gIGluc3RhbmNlIGF2YWlsYWJsZS5cIik7XG4gICAgICB0aGlzLl9mdWxsUmVhZGVyID0gdGhpcy5fbmV0d29ya1N0cmVhbS5nZXRGdWxsUmVhZGVyKCk7XG5cbiAgICAgIHRoaXMuX2Z1bGxSZWFkZXIub25Qcm9ncmVzcyA9IGV2dCA9PiB7XG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcyA9IHtcbiAgICAgICAgICBsb2FkZWQ6IGV2dC5sb2FkZWQsXG4gICAgICAgICAgdG90YWw6IGV2dC50b3RhbFxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgc2luay5vblB1bGwgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2Z1bGxSZWFkZXIucmVhZCgpLnRoZW4oZnVuY3Rpb24gKHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBkb25lXG4gICAgICAgIH0pIHtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgc2luay5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICgwLCBfdXRpbC5hc3NlcnQpKCgwLCBfdXRpbC5pc0FycmF5QnVmZmVyKSh2YWx1ZSksIFwiR2V0UmVhZGVyIC0gZXhwZWN0ZWQgYW4gQXJyYXlCdWZmZXIuXCIpO1xuICAgICAgICAgIHNpbmsuZW5xdWV1ZShuZXcgVWludDhBcnJheSh2YWx1ZSksIDEsIFt2YWx1ZV0pO1xuICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgIHNpbmsuZXJyb3IocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBzaW5rLm9uQ2FuY2VsID0gcmVhc29uID0+IHtcbiAgICAgICAgdGhpcy5fZnVsbFJlYWRlci5jYW5jZWwocmVhc29uKTtcblxuICAgICAgICBzaW5rLnJlYWR5LmNhdGNoKHJlYWR5UmVhc29uID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aHJvdyByZWFkeVJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIG1lc3NhZ2VIYW5kbGVyLm9uKFwiUmVhZGVySGVhZGVyc1JlYWR5XCIsIGRhdGEgPT4ge1xuICAgICAgY29uc3QgaGVhZGVyc0NhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgICBjb25zdCBmdWxsUmVhZGVyID0gdGhpcy5fZnVsbFJlYWRlcjtcbiAgICAgIGZ1bGxSZWFkZXIuaGVhZGVyc1JlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIWZ1bGxSZWFkZXIuaXNTdHJlYW1pbmdTdXBwb3J0ZWQgfHwgIWZ1bGxSZWFkZXIuaXNSYW5nZVN1cHBvcnRlZCkge1xuICAgICAgICAgIGlmICh0aGlzLl9sYXN0UHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGxvYWRpbmdUYXNrLm9uUHJvZ3Jlc3M/Lih0aGlzLl9sYXN0UHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bGxSZWFkZXIub25Qcm9ncmVzcyA9IGV2dCA9PiB7XG4gICAgICAgICAgICBsb2FkaW5nVGFzay5vblByb2dyZXNzPy4oe1xuICAgICAgICAgICAgICBsb2FkZWQ6IGV2dC5sb2FkZWQsXG4gICAgICAgICAgICAgIHRvdGFsOiBldnQudG90YWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJzQ2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgICBpc1N0cmVhbWluZ1N1cHBvcnRlZDogZnVsbFJlYWRlci5pc1N0cmVhbWluZ1N1cHBvcnRlZCxcbiAgICAgICAgICBpc1JhbmdlU3VwcG9ydGVkOiBmdWxsUmVhZGVyLmlzUmFuZ2VTdXBwb3J0ZWQsXG4gICAgICAgICAgY29udGVudExlbmd0aDogZnVsbFJlYWRlci5jb250ZW50TGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgfSwgaGVhZGVyc0NhcGFiaWxpdHkucmVqZWN0KTtcbiAgICAgIHJldHVybiBoZWFkZXJzQ2FwYWJpbGl0eS5wcm9taXNlO1xuICAgIH0pO1xuICAgIG1lc3NhZ2VIYW5kbGVyLm9uKFwiR2V0UmFuZ2VSZWFkZXJcIiwgKGRhdGEsIHNpbmspID0+IHtcbiAgICAgICgwLCBfdXRpbC5hc3NlcnQpKHRoaXMuX25ldHdvcmtTdHJlYW0sIFwiR2V0UmFuZ2VSZWFkZXIgLSBubyBgSVBERlN0cmVhbWAgaW5zdGFuY2UgYXZhaWxhYmxlLlwiKTtcblxuICAgICAgY29uc3QgcmFuZ2VSZWFkZXIgPSB0aGlzLl9uZXR3b3JrU3RyZWFtLmdldFJhbmdlUmVhZGVyKGRhdGEuYmVnaW4sIGRhdGEuZW5kKTtcblxuICAgICAgaWYgKCFyYW5nZVJlYWRlcikge1xuICAgICAgICBzaW5rLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2luay5vblB1bGwgPSAoKSA9PiB7XG4gICAgICAgIHJhbmdlUmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uICh7XG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgZG9uZVxuICAgICAgICB9KSB7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHNpbmsuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAoMCwgX3V0aWwuYXNzZXJ0KSgoMCwgX3V0aWwuaXNBcnJheUJ1ZmZlcikodmFsdWUpLCBcIkdldFJhbmdlUmVhZGVyIC0gZXhwZWN0ZWQgYW4gQXJyYXlCdWZmZXIuXCIpO1xuICAgICAgICAgIHNpbmsuZW5xdWV1ZShuZXcgVWludDhBcnJheSh2YWx1ZSksIDEsIFt2YWx1ZV0pO1xuICAgICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgIHNpbmsuZXJyb3IocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBzaW5rLm9uQ2FuY2VsID0gcmVhc29uID0+IHtcbiAgICAgICAgcmFuZ2VSZWFkZXIuY2FuY2VsKHJlYXNvbik7XG4gICAgICAgIHNpbmsucmVhZHkuY2F0Y2gocmVhZHlSZWFzb24gPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRocm93IHJlYWR5UmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJHZXREb2NcIiwgKHtcbiAgICAgIHBkZkluZm9cbiAgICB9KSA9PiB7XG4gICAgICB0aGlzLl9udW1QYWdlcyA9IHBkZkluZm8ubnVtUGFnZXM7XG4gICAgICB0aGlzLl9odG1sRm9yWGZhID0gcGRmSW5mby5odG1sRm9yWGZhO1xuICAgICAgZGVsZXRlIHBkZkluZm8uaHRtbEZvclhmYTtcblxuICAgICAgbG9hZGluZ1Rhc2suX2NhcGFiaWxpdHkucmVzb2x2ZShuZXcgUERGRG9jdW1lbnRQcm94eShwZGZJbmZvLCB0aGlzKSk7XG4gICAgfSk7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJEb2NFeGNlcHRpb25cIiwgZnVuY3Rpb24gKGV4KSB7XG4gICAgICBsZXQgcmVhc29uO1xuXG4gICAgICBzd2l0Y2ggKGV4Lm5hbWUpIHtcbiAgICAgICAgY2FzZSBcIlBhc3N3b3JkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgcmVhc29uID0gbmV3IF91dGlsLlBhc3N3b3JkRXhjZXB0aW9uKGV4Lm1lc3NhZ2UsIGV4LmNvZGUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUERGRXhjZXB0aW9uXCI6XG4gICAgICAgICAgcmVhc29uID0gbmV3IF91dGlsLkludmFsaWRQREZFeGNlcHRpb24oZXgubWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQREZFeGNlcHRpb25cIjpcbiAgICAgICAgICByZWFzb24gPSBuZXcgX3V0aWwuTWlzc2luZ1BERkV4Y2VwdGlvbihleC5tZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiVW5leHBlY3RlZFJlc3BvbnNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgcmVhc29uID0gbmV3IF91dGlsLlVuZXhwZWN0ZWRSZXNwb25zZUV4Y2VwdGlvbihleC5tZXNzYWdlLCBleC5zdGF0dXMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJVbmtub3duRXJyb3JFeGNlcHRpb25cIjpcbiAgICAgICAgICByZWFzb24gPSBuZXcgX3V0aWwuVW5rbm93bkVycm9yRXhjZXB0aW9uKGV4Lm1lc3NhZ2UsIGV4LmRldGFpbHMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkRvY0V4Y2VwdGlvbiAtIGV4cGVjdGVkIGEgdmFsaWQgRXJyb3IuXCIpO1xuICAgICAgfVxuXG4gICAgICBsb2FkaW5nVGFzay5fY2FwYWJpbGl0eS5yZWplY3QocmVhc29uKTtcbiAgICB9KTtcbiAgICBtZXNzYWdlSGFuZGxlci5vbihcIlBhc3N3b3JkUmVxdWVzdFwiLCBleGNlcHRpb24gPT4ge1xuICAgICAgdGhpcy5fcGFzc3dvcmRDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuXG4gICAgICBpZiAobG9hZGluZ1Rhc2sub25QYXNzd29yZCkge1xuICAgICAgICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IHBhc3N3b3JkID0+IHtcbiAgICAgICAgICBpZiAocGFzc3dvcmQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fcGFzc3dvcmRDYXBhYmlsaXR5LnJlamVjdChwYXNzd29yZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Bhc3N3b3JkQ2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgcGFzc3dvcmRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGxvYWRpbmdUYXNrLm9uUGFzc3dvcmQodXBkYXRlUGFzc3dvcmQsIGV4Y2VwdGlvbi5jb2RlKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICB0aGlzLl9wYXNzd29yZENhcGFiaWxpdHkucmVqZWN0KGV4KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcGFzc3dvcmRDYXBhYmlsaXR5LnJlamVjdChuZXcgX3V0aWwuUGFzc3dvcmRFeGNlcHRpb24oZXhjZXB0aW9uLm1lc3NhZ2UsIGV4Y2VwdGlvbi5jb2RlKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9wYXNzd29yZENhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9KTtcbiAgICBtZXNzYWdlSGFuZGxlci5vbihcIkRhdGFMb2FkZWRcIiwgZGF0YSA9PiB7XG4gICAgICBsb2FkaW5nVGFzay5vblByb2dyZXNzPy4oe1xuICAgICAgICBsb2FkZWQ6IGRhdGEubGVuZ3RoLFxuICAgICAgICB0b3RhbDogZGF0YS5sZW5ndGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kb3dubG9hZEluZm9DYXBhYmlsaXR5LnJlc29sdmUoZGF0YSk7XG4gICAgfSk7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJTdGFydFJlbmRlclBhZ2VcIiwgZGF0YSA9PiB7XG4gICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYWdlID0gdGhpcy4jcGFnZUNhY2hlLmdldChkYXRhLnBhZ2VJbmRleCk7XG5cbiAgICAgIHBhZ2UuX3N0YXJ0UmVuZGVyUGFnZShkYXRhLnRyYW5zcGFyZW5jeSwgZGF0YS5jYWNoZUtleSk7XG4gICAgfSk7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJjb21tb25vYmpcIiwgKFtpZCwgdHlwZSwgZXhwb3J0ZWREYXRhXSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29tbW9uT2Jqcy5oYXMoaWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJGb250XCI6XG4gICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5fcGFyYW1zO1xuXG4gICAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiBleHBvcnRlZERhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydGVkRXJyb3IgPSBleHBvcnRlZERhdGEuZXJyb3I7XG4gICAgICAgICAgICAoMCwgX3V0aWwud2FybikoYEVycm9yIGR1cmluZyBmb250IGxvYWRpbmc6ICR7ZXhwb3J0ZWRFcnJvcn1gKTtcbiAgICAgICAgICAgIHRoaXMuY29tbW9uT2Jqcy5yZXNvbHZlKGlkLCBleHBvcnRlZEVycm9yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBmb250UmVnaXN0cnkgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKHBhcmFtcy5wZGZCdWcgJiYgZ2xvYmFsVGhpcy5Gb250SW5zcGVjdG9yPy5lbmFibGVkKSB7XG4gICAgICAgICAgICBmb250UmVnaXN0cnkgPSB7XG4gICAgICAgICAgICAgIHJlZ2lzdGVyRm9udChmb250LCB1cmwpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLkZvbnRJbnNwZWN0b3IuZm9udEFkZGVkKGZvbnQsIHVybCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmb250ID0gbmV3IF9mb250X2xvYWRlci5Gb250RmFjZU9iamVjdChleHBvcnRlZERhdGEsIHtcbiAgICAgICAgICAgIGlzRXZhbFN1cHBvcnRlZDogcGFyYW1zLmlzRXZhbFN1cHBvcnRlZCxcbiAgICAgICAgICAgIGRpc2FibGVGb250RmFjZTogcGFyYW1zLmRpc2FibGVGb250RmFjZSxcbiAgICAgICAgICAgIGlnbm9yZUVycm9yczogcGFyYW1zLmlnbm9yZUVycm9ycyxcbiAgICAgICAgICAgIG9uVW5zdXBwb3J0ZWRGZWF0dXJlOiB0aGlzLl9vblVuc3VwcG9ydGVkRmVhdHVyZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZm9udFJlZ2lzdHJ5XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5mb250TG9hZGVyLmJpbmQoZm9udCkuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJGb250RmFsbGJhY2tcIiwge1xuICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5mb250RXh0cmFQcm9wZXJ0aWVzICYmIGZvbnQuZGF0YSkge1xuICAgICAgICAgICAgICBmb250LmRhdGEgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbW1vbk9ianMucmVzb2x2ZShpZCwgZm9udCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkZvbnRQYXRoXCI6XG4gICAgICAgIGNhc2UgXCJJbWFnZVwiOlxuICAgICAgICAgIHRoaXMuY29tbW9uT2Jqcy5yZXNvbHZlKGlkLCBleHBvcnRlZERhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5rbm93biBjb21tb24gb2JqZWN0IHR5cGUgJHt0eXBlfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1lc3NhZ2VIYW5kbGVyLm9uKFwib2JqXCIsIChbaWQsIHBhZ2VJbmRleCwgdHlwZSwgaW1hZ2VEYXRhXSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFnZVByb3h5ID0gdGhpcy4jcGFnZUNhY2hlLmdldChwYWdlSW5kZXgpO1xuXG4gICAgICBpZiAocGFnZVByb3h5Lm9ianMuaGFzKGlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiSW1hZ2VcIjpcbiAgICAgICAgICBwYWdlUHJveHkub2Jqcy5yZXNvbHZlKGlkLCBpbWFnZURhdGEpO1xuICAgICAgICAgIGNvbnN0IE1BWF9JTUFHRV9TSVpFX1RPX1NUT1JFID0gODAwMDAwMDtcblxuICAgICAgICAgIGlmIChpbWFnZURhdGEpIHtcbiAgICAgICAgICAgIGxldCBsZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChpbWFnZURhdGEuYml0bWFwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBiaXRtYXAsXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICAgIH0gPSBpbWFnZURhdGE7XG4gICAgICAgICAgICAgIGxlbmd0aCA9IHdpZHRoICogaGVpZ2h0ICogNDtcblxuICAgICAgICAgICAgICBwYWdlUHJveHkuX2JpdG1hcHMuYWRkKGJpdG1hcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZW5ndGggPSBpbWFnZURhdGEuZGF0YT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsZW5ndGggPiBNQVhfSU1BR0VfU0laRV9UT19TVE9SRSkge1xuICAgICAgICAgICAgICBwYWdlUHJveHkuY2xlYW51cEFmdGVyUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiUGF0dGVyblwiOlxuICAgICAgICAgIHBhZ2VQcm94eS5vYmpzLnJlc29sdmUoaWQsIGltYWdlRGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB1bmtub3duIG9iamVjdCB0eXBlICR7dHlwZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtZXNzYWdlSGFuZGxlci5vbihcIkRvY1Byb2dyZXNzXCIsIGRhdGEgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9hZGluZ1Rhc2sub25Qcm9ncmVzcz8uKHtcbiAgICAgICAgbG9hZGVkOiBkYXRhLmxvYWRlZCxcbiAgICAgICAgdG90YWw6IGRhdGEudG90YWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG1lc3NhZ2VIYW5kbGVyLm9uKFwiRG9jU3RhdHNcIiwgZGF0YSA9PiB7XG4gICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiNkb2NTdGF0cyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBzdHJlYW1UeXBlczogT2JqZWN0LmZyZWV6ZShkYXRhLnN0cmVhbVR5cGVzKSxcbiAgICAgICAgZm9udFR5cGVzOiBPYmplY3QuZnJlZXplKGRhdGEuZm9udFR5cGVzKVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJVbnN1cHBvcnRlZEZlYXR1cmVcIiwgdGhpcy5fb25VbnN1cHBvcnRlZEZlYXR1cmUuYmluZCh0aGlzKSk7XG4gICAgbWVzc2FnZUhhbmRsZXIub24oXCJGZXRjaEJ1aWx0SW5DTWFwXCIsIGRhdGEgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJXb3JrZXIgd2FzIGRlc3Ryb3llZC5cIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuQ01hcFJlYWRlckZhY3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNNYXBSZWFkZXJGYWN0b3J5IG5vdCBpbml0aWFsaXplZCwgc2VlIHRoZSBgdXNlV29ya2VyRmV0Y2hgIHBhcmFtZXRlci5cIikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5DTWFwUmVhZGVyRmFjdG9yeS5mZXRjaChkYXRhKTtcbiAgICB9KTtcbiAgICBtZXNzYWdlSGFuZGxlci5vbihcIkZldGNoU3RhbmRhcmRGb250RGF0YVwiLCBkYXRhID0+IHtcbiAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiV29ya2VyIHdhcyBkZXN0cm95ZWQuXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLlN0YW5kYXJkRm9udERhdGFGYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJTdGFuZGFyZEZvbnREYXRhRmFjdG9yeSBub3QgaW5pdGlhbGl6ZWQsIHNlZSB0aGUgYHVzZVdvcmtlckZldGNoYCBwYXJhbWV0ZXIuXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuU3RhbmRhcmRGb250RGF0YUZhY3RvcnkuZmV0Y2goZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBfb25VbnN1cHBvcnRlZEZlYXR1cmUoe1xuICAgIGZlYXR1cmVJZFxuICB9KSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkaW5nVGFzay5vblVuc3VwcG9ydGVkRmVhdHVyZT8uKGZlYXR1cmVJZCk7XG4gIH1cblxuICBnZXREYXRhKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIkdldERhdGFcIiwgbnVsbCk7XG4gIH1cblxuICBnZXRQYWdlKHBhZ2VOdW1iZXIpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocGFnZU51bWJlcikgfHwgcGFnZU51bWJlciA8PSAwIHx8IHBhZ2VOdW1iZXIgPiB0aGlzLl9udW1QYWdlcykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgcGFnZSByZXF1ZXN0LlwiKSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZUluZGV4ID0gcGFnZU51bWJlciAtIDEsXG4gICAgICAgICAgY2FjaGVkUHJvbWlzZSA9IHRoaXMuI3BhZ2VQcm9taXNlcy5nZXQocGFnZUluZGV4KTtcblxuICAgIGlmIChjYWNoZWRQcm9taXNlKSB7XG4gICAgICByZXR1cm4gY2FjaGVkUHJvbWlzZTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRQYWdlXCIsIHtcbiAgICAgIHBhZ2VJbmRleFxuICAgIH0pLnRoZW4ocGFnZUluZm8gPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBkZXN0cm95ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhZ2UgPSBuZXcgUERGUGFnZVByb3h5KHBhZ2VJbmRleCwgcGFnZUluZm8sIHRoaXMsIHRoaXMuX3BhcmFtcy5vd25lckRvY3VtZW50LCB0aGlzLl9wYXJhbXMucGRmQnVnKTtcbiAgICAgIHRoaXMuI3BhZ2VDYWNoZS5zZXQocGFnZUluZGV4LCBwYWdlKTtcbiAgICAgIHJldHVybiBwYWdlO1xuICAgIH0pO1xuICAgIHRoaXMuI3BhZ2VQcm9taXNlcy5zZXQocGFnZUluZGV4LCBwcm9taXNlKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFBhZ2VJbmRleChyZWYpIHtcbiAgICBpZiAodHlwZW9mIHJlZiAhPT0gXCJvYmplY3RcIiB8fCByZWYgPT09IG51bGwgfHwgIU51bWJlci5pc0ludGVnZXIocmVmLm51bSkgfHwgcmVmLm51bSA8IDAgfHwgIU51bWJlci5pc0ludGVnZXIocmVmLmdlbikgfHwgcmVmLmdlbiA8IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHBhZ2VJbmRleCByZXF1ZXN0LlwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0UGFnZUluZGV4XCIsIHtcbiAgICAgIG51bTogcmVmLm51bSxcbiAgICAgIGdlbjogcmVmLmdlblxuICAgIH0pO1xuICB9XG5cbiAgZ2V0QW5ub3RhdGlvbnMocGFnZUluZGV4LCBpbnRlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRBbm5vdGF0aW9uc1wiLCB7XG4gICAgICBwYWdlSW5kZXgsXG4gICAgICBpbnRlbnRcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVEb2N1bWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJTYXZlRG9jdW1lbnRcIiwge1xuICAgICAgaXNQdXJlWGZhOiAhIXRoaXMuX2h0bWxGb3JYZmEsXG4gICAgICBudW1QYWdlczogdGhpcy5fbnVtUGFnZXMsXG4gICAgICBhbm5vdGF0aW9uU3RvcmFnZTogdGhpcy5hbm5vdGF0aW9uU3RvcmFnZS5zZXJpYWxpemFibGUsXG4gICAgICBmaWxlbmFtZTogdGhpcy5fZnVsbFJlYWRlcj8uZmlsZW5hbWUgPz8gbnVsbFxuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgdGhpcy5hbm5vdGF0aW9uU3RvcmFnZS5yZXNldE1vZGlmaWVkKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRGaWVsZE9iamVjdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEZpZWxkT2JqZWN0c1Byb21pc2UgfHw9IHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0RmllbGRPYmplY3RzXCIsIG51bGwpO1xuICB9XG5cbiAgaGFzSlNBY3Rpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9oYXNKU0FjdGlvbnNQcm9taXNlIHx8PSB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIkhhc0pTQWN0aW9uc1wiLCBudWxsKTtcbiAgfVxuXG4gIGdldENhbGN1bGF0aW9uT3JkZXJJZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0Q2FsY3VsYXRpb25PcmRlcklkc1wiLCBudWxsKTtcbiAgfVxuXG4gIGdldERlc3RpbmF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXREZXN0aW5hdGlvbnNcIiwgbnVsbCk7XG4gIH1cblxuICBnZXREZXN0aW5hdGlvbihpZCkge1xuICAgIGlmICh0eXBlb2YgaWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIGRlc3RpbmF0aW9uIHJlcXVlc3QuXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXREZXN0aW5hdGlvblwiLCB7XG4gICAgICBpZFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0UGFnZUxhYmVscygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRQYWdlTGFiZWxzXCIsIG51bGwpO1xuICB9XG5cbiAgZ2V0UGFnZUxheW91dCgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRQYWdlTGF5b3V0XCIsIG51bGwpO1xuICB9XG5cbiAgZ2V0UGFnZU1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0UGFnZU1vZGVcIiwgbnVsbCk7XG4gIH1cblxuICBnZXRWaWV3ZXJQcmVmZXJlbmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRWaWV3ZXJQcmVmZXJlbmNlc1wiLCBudWxsKTtcbiAgfVxuXG4gIGdldE9wZW5BY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0T3BlbkFjdGlvblwiLCBudWxsKTtcbiAgfVxuXG4gIGdldEF0dGFjaG1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIkdldEF0dGFjaG1lbnRzXCIsIG51bGwpO1xuICB9XG5cbiAgZ2V0SmF2YVNjcmlwdCgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRKYXZhU2NyaXB0XCIsIG51bGwpO1xuICB9XG5cbiAgZ2V0RG9jSlNBY3Rpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIkdldERvY0pTQWN0aW9uc1wiLCBudWxsKTtcbiAgfVxuXG4gIGdldFBhZ2VKU0FjdGlvbnMocGFnZUluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0UGFnZUpTQWN0aW9uc1wiLCB7XG4gICAgICBwYWdlSW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIGdldFN0cnVjdFRyZWUocGFnZUluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0U3RydWN0VHJlZVwiLCB7XG4gICAgICBwYWdlSW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIGdldE91dGxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZUhhbmRsZXIuc2VuZFdpdGhQcm9taXNlKFwiR2V0T3V0bGluZVwiLCBudWxsKTtcbiAgfVxuXG4gIGdldE9wdGlvbmFsQ29udGVudENvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRPcHRpb25hbENvbnRlbnRDb25maWdcIiwgbnVsbCkudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIHJldHVybiBuZXcgX29wdGlvbmFsX2NvbnRlbnRfY29uZmlnLk9wdGlvbmFsQ29udGVudENvbmZpZyhyZXN1bHRzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFBlcm1pc3Npb25zKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIkdldFBlcm1pc3Npb25zXCIsIG51bGwpO1xuICB9XG5cbiAgZ2V0TWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuI21ldGFkYXRhUHJvbWlzZSB8fD0gdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJHZXRNZXRhZGF0YVwiLCBudWxsKS50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5mbzogcmVzdWx0c1swXSxcbiAgICAgICAgbWV0YWRhdGE6IHJlc3VsdHNbMV0gPyBuZXcgX21ldGFkYXRhLk1ldGFkYXRhKHJlc3VsdHNbMV0pIDogbnVsbCxcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWU6IHRoaXMuX2Z1bGxSZWFkZXI/LmZpbGVuYW1lID8/IG51bGwsXG4gICAgICAgIGNvbnRlbnRMZW5ndGg6IHRoaXMuX2Z1bGxSZWFkZXI/LmNvbnRlbnRMZW5ndGggPz8gbnVsbFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldE1hcmtJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2VIYW5kbGVyLnNlbmRXaXRoUHJvbWlzZShcIkdldE1hcmtJbmZvXCIsIG51bGwpO1xuICB9XG5cbiAgYXN5bmMgc3RhcnRDbGVhbnVwKGtlZXBMb2FkZWRGb250cyA9IGZhbHNlKSB7XG4gICAgYXdhaXQgdGhpcy5tZXNzYWdlSGFuZGxlci5zZW5kV2l0aFByb21pc2UoXCJDbGVhbnVwXCIsIG51bGwpO1xuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBwYWdlIG9mIHRoaXMuI3BhZ2VDYWNoZS52YWx1ZXMoKSkge1xuICAgICAgY29uc3QgY2xlYW51cFN1Y2Nlc3NmdWwgPSBwYWdlLmNsZWFudXAoKTtcblxuICAgICAgaWYgKCFjbGVhbnVwU3VjY2Vzc2Z1bCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0YXJ0Q2xlYW51cDogUGFnZSAke3BhZ2UucGFnZU51bWJlcn0gaXMgY3VycmVudGx5IHJlbmRlcmluZy5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNvbW1vbk9ianMuY2xlYXIoKTtcblxuICAgIGlmICgha2VlcExvYWRlZEZvbnRzKSB7XG4gICAgICB0aGlzLmZvbnRMb2FkZXIuY2xlYXIoKTtcbiAgICB9XG5cbiAgICB0aGlzLiNtZXRhZGF0YVByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX2dldEZpZWxkT2JqZWN0c1Byb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX2hhc0pTQWN0aW9uc1Byb21pc2UgPSBudWxsO1xuICB9XG5cbiAgZ2V0IGxvYWRpbmdQYXJhbXMoKSB7XG4gICAgY29uc3QgcGFyYW1zID0gdGhpcy5fcGFyYW1zO1xuICAgIHJldHVybiAoMCwgX3V0aWwuc2hhZG93KSh0aGlzLCBcImxvYWRpbmdQYXJhbXNcIiwge1xuICAgICAgZGlzYWJsZUF1dG9GZXRjaDogcGFyYW1zLmRpc2FibGVBdXRvRmV0Y2gsXG4gICAgICBlbmFibGVYZmE6IHBhcmFtcy5lbmFibGVYZmFcbiAgICB9KTtcbiAgfVxuXG59XG5cbmNsYXNzIFBERk9iamVjdHMge1xuICAjb2JqcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgI2Vuc3VyZU9iaihvYmpJZCkge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMuI29ianNbb2JqSWRdO1xuXG4gICAgaWYgKG9iaikge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy4jb2Jqc1tvYmpJZF0gPSB7XG4gICAgICBjYXBhYmlsaXR5OiAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCksXG4gICAgICBkYXRhOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGdldChvYmpJZCwgY2FsbGJhY2sgPSBudWxsKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCBvYmogPSB0aGlzLiNlbnN1cmVPYmoob2JqSWQpO1xuICAgICAgb2JqLmNhcGFiaWxpdHkucHJvbWlzZS50aGVuKCgpID0+IGNhbGxiYWNrKG9iai5kYXRhKSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBvYmogPSB0aGlzLiNvYmpzW29iaklkXTtcblxuICAgIGlmICghb2JqPy5jYXBhYmlsaXR5LnNldHRsZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdGluZyBvYmplY3QgdGhhdCBpc24ndCByZXNvbHZlZCB5ZXQgJHtvYmpJZH0uYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iai5kYXRhO1xuICB9XG5cbiAgaGFzKG9iaklkKSB7XG4gICAgY29uc3Qgb2JqID0gdGhpcy4jb2Jqc1tvYmpJZF07XG4gICAgcmV0dXJuIG9iaj8uY2FwYWJpbGl0eS5zZXR0bGVkIHx8IGZhbHNlO1xuICB9XG5cbiAgcmVzb2x2ZShvYmpJZCwgZGF0YSA9IG51bGwpIHtcbiAgICBjb25zdCBvYmogPSB0aGlzLiNlbnN1cmVPYmoob2JqSWQpO1xuICAgIG9iai5kYXRhID0gZGF0YTtcbiAgICBvYmouY2FwYWJpbGl0eS5yZXNvbHZlKCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLiNvYmpzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuXG59XG5cbmNsYXNzIFJlbmRlclRhc2sge1xuICBjb25zdHJ1Y3RvcihpbnRlcm5hbFJlbmRlclRhc2spIHtcbiAgICB0aGlzLl9pbnRlcm5hbFJlbmRlclRhc2sgPSBpbnRlcm5hbFJlbmRlclRhc2s7XG4gICAgdGhpcy5vbkNvbnRpbnVlID0gbnVsbDtcbiAgfVxuXG4gIGdldCBwcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbFJlbmRlclRhc2suY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX2ludGVybmFsUmVuZGVyVGFzay5jYW5jZWwoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuUmVuZGVyVGFzayA9IFJlbmRlclRhc2s7XG5cbmNsYXNzIEludGVybmFsUmVuZGVyVGFzayB7XG4gIHN0YXRpYyAjY2FudmFzSW5Vc2UgPSBuZXcgV2Vha1NldCgpO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjYWxsYmFjayxcbiAgICBwYXJhbXMsXG4gICAgb2JqcyxcbiAgICBjb21tb25PYmpzLFxuICAgIGFubm90YXRpb25DYW52YXNNYXAsXG4gICAgb3BlcmF0b3JMaXN0LFxuICAgIHBhZ2VJbmRleCxcbiAgICBjYW52YXNGYWN0b3J5LFxuICAgIHVzZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZhbHNlLFxuICAgIHBkZkJ1ZyA9IGZhbHNlLFxuICAgIHBhZ2VDb2xvcnMgPSBudWxsXG4gIH0pIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5vYmpzID0gb2JqcztcbiAgICB0aGlzLmNvbW1vbk9ianMgPSBjb21tb25PYmpzO1xuICAgIHRoaXMuYW5ub3RhdGlvbkNhbnZhc01hcCA9IGFubm90YXRpb25DYW52YXNNYXA7XG4gICAgdGhpcy5vcGVyYXRvckxpc3RJZHggPSBudWxsO1xuICAgIHRoaXMub3BlcmF0b3JMaXN0ID0gb3BlcmF0b3JMaXN0O1xuICAgIHRoaXMuX3BhZ2VJbmRleCA9IHBhZ2VJbmRleDtcbiAgICB0aGlzLmNhbnZhc0ZhY3RvcnkgPSBjYW52YXNGYWN0b3J5O1xuICAgIHRoaXMuX3BkZkJ1ZyA9IHBkZkJ1ZztcbiAgICB0aGlzLnBhZ2VDb2xvcnMgPSBwYWdlQ29sb3JzO1xuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuZ3JhcGhpY3NSZWFkeUNhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLmdyYXBoaWNzUmVhZHkgPSBmYWxzZTtcbiAgICB0aGlzLl91c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB1c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09IHRydWUgJiYgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgICB0aGlzLnRhc2sgPSBuZXcgUmVuZGVyVGFzayh0aGlzKTtcbiAgICB0aGlzLl9jYW5jZWxCb3VuZCA9IHRoaXMuY2FuY2VsLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY29udGludWVCb3VuZCA9IHRoaXMuX2NvbnRpbnVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fc2NoZWR1bGVOZXh0Qm91bmQgPSB0aGlzLl9zY2hlZHVsZU5leHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9uZXh0Qm91bmQgPSB0aGlzLl9uZXh0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2FudmFzID0gcGFyYW1zLmNhbnZhc0NvbnRleHQuY2FudmFzO1xuICB9XG5cbiAgZ2V0IGNvbXBsZXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jYXBhYmlsaXR5LnByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUdyYXBoaWNzKHtcbiAgICB0cmFuc3BhcmVuY3kgPSBmYWxzZSxcbiAgICBvcHRpb25hbENvbnRlbnRDb25maWdcbiAgfSkge1xuICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jYW52YXMpIHtcbiAgICAgIGlmIChJbnRlcm5hbFJlbmRlclRhc2suI2NhbnZhc0luVXNlLmhhcyh0aGlzLl9jYW52YXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgdGhlIHNhbWUgY2FudmFzIGR1cmluZyBtdWx0aXBsZSByZW5kZXIoKSBvcGVyYXRpb25zLiBcIiArIFwiVXNlIGRpZmZlcmVudCBjYW52YXMgb3IgZW5zdXJlIHByZXZpb3VzIG9wZXJhdGlvbnMgd2VyZSBcIiArIFwiY2FuY2VsbGVkIG9yIGNvbXBsZXRlZC5cIik7XG4gICAgICB9XG5cbiAgICAgIEludGVybmFsUmVuZGVyVGFzay4jY2FudmFzSW5Vc2UuYWRkKHRoaXMuX2NhbnZhcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3BkZkJ1ZyAmJiBnbG9iYWxUaGlzLlN0ZXBwZXJNYW5hZ2VyPy5lbmFibGVkKSB7XG4gICAgICB0aGlzLnN0ZXBwZXIgPSBnbG9iYWxUaGlzLlN0ZXBwZXJNYW5hZ2VyLmNyZWF0ZSh0aGlzLl9wYWdlSW5kZXgpO1xuICAgICAgdGhpcy5zdGVwcGVyLmluaXQodGhpcy5vcGVyYXRvckxpc3QpO1xuICAgICAgdGhpcy5zdGVwcGVyLm5leHRCcmVha1BvaW50ID0gdGhpcy5zdGVwcGVyLmdldE5leHRCcmVha1BvaW50KCk7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgY2FudmFzQ29udGV4dCxcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgaW1hZ2VMYXllcixcbiAgICAgIGJhY2tncm91bmRcbiAgICB9ID0gdGhpcy5wYXJhbXM7XG4gICAgdGhpcy5nZnggPSBuZXcgX2NhbnZhcy5DYW52YXNHcmFwaGljcyhjYW52YXNDb250ZXh0LCB0aGlzLmNvbW1vbk9ianMsIHRoaXMub2JqcywgdGhpcy5jYW52YXNGYWN0b3J5LCBpbWFnZUxheWVyLCBvcHRpb25hbENvbnRlbnRDb25maWcsIHRoaXMuYW5ub3RhdGlvbkNhbnZhc01hcCwgdGhpcy5wYWdlQ29sb3JzKTtcbiAgICB0aGlzLmdmeC5iZWdpbkRyYXdpbmcoe1xuICAgICAgdHJhbnNmb3JtLFxuICAgICAgdmlld3BvcnQsXG4gICAgICB0cmFuc3BhcmVuY3ksXG4gICAgICBiYWNrZ3JvdW5kXG4gICAgfSk7XG4gICAgdGhpcy5vcGVyYXRvckxpc3RJZHggPSAwO1xuICAgIHRoaXMuZ3JhcGhpY3NSZWFkeSA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5ncmFwaGljc1JlYWR5Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMuZ3JhcGhpY3NSZWFkeUNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsKGVycm9yID0gbnVsbCkge1xuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLmdmeCkge1xuICAgICAgdGhpcy5nZnguZW5kRHJhd2luZygpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jYW52YXMpIHtcbiAgICAgIEludGVybmFsUmVuZGVyVGFzay4jY2FudmFzSW5Vc2UuZGVsZXRlKHRoaXMuX2NhbnZhcyk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFjayhlcnJvciB8fCBuZXcgX2Rpc3BsYXlfdXRpbHMuUmVuZGVyaW5nQ2FuY2VsbGVkRXhjZXB0aW9uKGBSZW5kZXJpbmcgY2FuY2VsbGVkLCBwYWdlICR7dGhpcy5fcGFnZUluZGV4ICsgMX1gLCBcImNhbnZhc1wiKSk7XG4gIH1cblxuICBvcGVyYXRvckxpc3RDaGFuZ2VkKCkge1xuICAgIGlmICghdGhpcy5ncmFwaGljc1JlYWR5KSB7XG4gICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NSZWFkeUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NSZWFkeUNhbGxiYWNrID0gdGhpcy5fY29udGludWVCb3VuZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0ZXBwZXIpIHtcbiAgICAgIHRoaXMuc3RlcHBlci51cGRhdGVPcGVyYXRvckxpc3QodGhpcy5vcGVyYXRvckxpc3QpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jb250aW51ZSgpO1xuICB9XG5cbiAgX2NvbnRpbnVlKCkge1xuICAgIHRoaXMucnVubmluZyA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50YXNrLm9uQ29udGludWUpIHtcbiAgICAgIHRoaXMudGFzay5vbkNvbnRpbnVlKHRoaXMuX3NjaGVkdWxlTmV4dEJvdW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2NoZWR1bGVOZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgX3NjaGVkdWxlTmV4dCgpIHtcbiAgICBpZiAodGhpcy5fdXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5fbmV4dEJvdW5kKCkuY2F0Y2godGhpcy5fY2FuY2VsQm91bmQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4odGhpcy5fbmV4dEJvdW5kKS5jYXRjaCh0aGlzLl9jYW5jZWxCb3VuZCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX25leHQoKSB7XG4gICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5vcGVyYXRvckxpc3RJZHggPSB0aGlzLmdmeC5leGVjdXRlT3BlcmF0b3JMaXN0KHRoaXMub3BlcmF0b3JMaXN0LCB0aGlzLm9wZXJhdG9yTGlzdElkeCwgdGhpcy5fY29udGludWVCb3VuZCwgdGhpcy5zdGVwcGVyKTtcblxuICAgIGlmICh0aGlzLm9wZXJhdG9yTGlzdElkeCA9PT0gdGhpcy5vcGVyYXRvckxpc3QuYXJnc0FycmF5Lmxlbmd0aCkge1xuICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLm9wZXJhdG9yTGlzdC5sYXN0Q2h1bmspIHtcbiAgICAgICAgdGhpcy5nZnguZW5kRHJhd2luZygpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMpIHtcbiAgICAgICAgICBJbnRlcm5hbFJlbmRlclRhc2suI2NhbnZhc0luVXNlLmRlbGV0ZSh0aGlzLl9jYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmNvbnN0IHZlcnNpb24gPSAnMi4xNC4zMDUnO1xuZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbjtcbmNvbnN0IGJ1aWxkID0gJ2VhYWE4YjRhZCc7XG5leHBvcnRzLmJ1aWxkID0gYnVpbGQ7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193X3BkZmpzX3JlcXVpcmVfXykgPT4ge1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5TdGF0VGltZXIgPSBleHBvcnRzLlJlbmRlcmluZ0NhbmNlbGxlZEV4Y2VwdGlvbiA9IGV4cG9ydHMuUGl4ZWxzUGVySW5jaCA9IGV4cG9ydHMuUGFnZVZpZXdwb3J0ID0gZXhwb3J0cy5QREZEYXRlU3RyaW5nID0gZXhwb3J0cy5ET01TdGFuZGFyZEZvbnREYXRhRmFjdG9yeSA9IGV4cG9ydHMuRE9NU1ZHRmFjdG9yeSA9IGV4cG9ydHMuRE9NQ2FudmFzRmFjdG9yeSA9IGV4cG9ydHMuRE9NQ01hcFJlYWRlckZhY3RvcnkgPSB2b2lkIDA7XG5leHBvcnRzLmRlcHJlY2F0ZWQgPSBkZXByZWNhdGVkO1xuZXhwb3J0cy5nZXRGaWxlbmFtZUZyb21VcmwgPSBnZXRGaWxlbmFtZUZyb21Vcmw7XG5leHBvcnRzLmdldFBkZkZpbGVuYW1lRnJvbVVybCA9IGdldFBkZkZpbGVuYW1lRnJvbVVybDtcbmV4cG9ydHMuZ2V0WGZhUGFnZVZpZXdwb3J0ID0gZ2V0WGZhUGFnZVZpZXdwb3J0O1xuZXhwb3J0cy5pc0RhdGFTY2hlbWUgPSBpc0RhdGFTY2hlbWU7XG5leHBvcnRzLmlzUGRmRmlsZSA9IGlzUGRmRmlsZTtcbmV4cG9ydHMuaXNWYWxpZEZldGNoVXJsID0gaXNWYWxpZEZldGNoVXJsO1xuZXhwb3J0cy5sb2FkU2NyaXB0ID0gbG9hZFNjcmlwdDtcblxudmFyIF9iYXNlX2ZhY3RvcnkgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG5jb25zdCBTVkdfTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5cbmNsYXNzIFBpeGVsc1BlckluY2gge1xuICBzdGF0aWMgQ1NTID0gOTYuMDtcbiAgc3RhdGljIFBERiA9IDcyLjA7XG4gIHN0YXRpYyBQREZfVE9fQ1NTX1VOSVRTID0gdGhpcy5DU1MgLyB0aGlzLlBERjtcbn1cblxuZXhwb3J0cy5QaXhlbHNQZXJJbmNoID0gUGl4ZWxzUGVySW5jaDtcblxuY2xhc3MgRE9NQ2FudmFzRmFjdG9yeSBleHRlbmRzIF9iYXNlX2ZhY3RvcnkuQmFzZUNhbnZhc0ZhY3Rvcnkge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgb3duZXJEb2N1bWVudCA9IGdsb2JhbFRoaXMuZG9jdW1lbnRcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kb2N1bWVudCA9IG93bmVyRG9jdW1lbnQ7XG4gIH1cblxuICBfY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbn1cblxuZXhwb3J0cy5ET01DYW52YXNGYWN0b3J5ID0gRE9NQ2FudmFzRmFjdG9yeTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKHVybCwgYXNUeXBlZEFycmF5ID0gZmFsc2UpIHtcbiAgaWYgKGlzVmFsaWRGZXRjaFVybCh1cmwsIGRvY3VtZW50LmJhc2VVUkkpKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBhc1R5cGVkQXJyYXkgPyBuZXcgVWludDhBcnJheShhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpKSA6ICgwLCBfdXRpbC5zdHJpbmdUb0J5dGVzKShhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG5cbiAgICBpZiAoYXNUeXBlZEFycmF5KSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgICB9XG5cbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCB8fCByZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuICAgICAgICBsZXQgZGF0YTtcblxuICAgICAgICBpZiAoYXNUeXBlZEFycmF5ICYmIHJlcXVlc3QucmVzcG9uc2UpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkocmVxdWVzdC5yZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWFzVHlwZWRBcnJheSAmJiByZXF1ZXN0LnJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgIGRhdGEgPSAoMCwgX3V0aWwuc3RyaW5nVG9CeXRlcykocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZWplY3QobmV3IEVycm9yKHJlcXVlc3Quc3RhdHVzVGV4dCkpO1xuICAgIH07XG5cbiAgICByZXF1ZXN0LnNlbmQobnVsbCk7XG4gIH0pO1xufVxuXG5jbGFzcyBET01DTWFwUmVhZGVyRmFjdG9yeSBleHRlbmRzIF9iYXNlX2ZhY3RvcnkuQmFzZUNNYXBSZWFkZXJGYWN0b3J5IHtcbiAgX2ZldGNoRGF0YSh1cmwsIGNvbXByZXNzaW9uVHlwZSkge1xuICAgIHJldHVybiBmZXRjaERhdGEodXJsLCB0aGlzLmlzQ29tcHJlc3NlZCkudGhlbihkYXRhID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNNYXBEYXRhOiBkYXRhLFxuICAgICAgICBjb21wcmVzc2lvblR5cGVcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLkRPTUNNYXBSZWFkZXJGYWN0b3J5ID0gRE9NQ01hcFJlYWRlckZhY3Rvcnk7XG5cbmNsYXNzIERPTVN0YW5kYXJkRm9udERhdGFGYWN0b3J5IGV4dGVuZHMgX2Jhc2VfZmFjdG9yeS5CYXNlU3RhbmRhcmRGb250RGF0YUZhY3Rvcnkge1xuICBfZmV0Y2hEYXRhKHVybCkge1xuICAgIHJldHVybiBmZXRjaERhdGEodXJsLCB0cnVlKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuRE9NU3RhbmRhcmRGb250RGF0YUZhY3RvcnkgPSBET01TdGFuZGFyZEZvbnREYXRhRmFjdG9yeTtcblxuY2xhc3MgRE9NU1ZHRmFjdG9yeSBleHRlbmRzIF9iYXNlX2ZhY3RvcnkuQmFzZVNWR0ZhY3Rvcnkge1xuICBfY3JlYXRlU1ZHKHR5cGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgdHlwZSk7XG4gIH1cblxufVxuXG5leHBvcnRzLkRPTVNWR0ZhY3RvcnkgPSBET01TVkdGYWN0b3J5O1xuXG5jbGFzcyBQYWdlVmlld3BvcnQge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgdmlld0JveCxcbiAgICBzY2FsZSxcbiAgICByb3RhdGlvbixcbiAgICBvZmZzZXRYID0gMCxcbiAgICBvZmZzZXRZID0gMCxcbiAgICBkb250RmxpcCA9IGZhbHNlXG4gIH0pIHtcbiAgICB0aGlzLnZpZXdCb3ggPSB2aWV3Qm94O1xuICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5vZmZzZXRYID0gb2Zmc2V0WDtcbiAgICB0aGlzLm9mZnNldFkgPSBvZmZzZXRZO1xuICAgIGNvbnN0IGNlbnRlclggPSAodmlld0JveFsyXSArIHZpZXdCb3hbMF0pIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gKHZpZXdCb3hbM10gKyB2aWV3Qm94WzFdKSAvIDI7XG4gICAgbGV0IHJvdGF0ZUEsIHJvdGF0ZUIsIHJvdGF0ZUMsIHJvdGF0ZUQ7XG4gICAgcm90YXRpb24gJT0gMzYwO1xuXG4gICAgaWYgKHJvdGF0aW9uIDwgMCkge1xuICAgICAgcm90YXRpb24gKz0gMzYwO1xuICAgIH1cblxuICAgIHN3aXRjaCAocm90YXRpb24pIHtcbiAgICAgIGNhc2UgMTgwOlxuICAgICAgICByb3RhdGVBID0gLTE7XG4gICAgICAgIHJvdGF0ZUIgPSAwO1xuICAgICAgICByb3RhdGVDID0gMDtcbiAgICAgICAgcm90YXRlRCA9IDE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDkwOlxuICAgICAgICByb3RhdGVBID0gMDtcbiAgICAgICAgcm90YXRlQiA9IDE7XG4gICAgICAgIHJvdGF0ZUMgPSAxO1xuICAgICAgICByb3RhdGVEID0gMDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjcwOlxuICAgICAgICByb3RhdGVBID0gMDtcbiAgICAgICAgcm90YXRlQiA9IC0xO1xuICAgICAgICByb3RhdGVDID0gLTE7XG4gICAgICAgIHJvdGF0ZUQgPSAwO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAwOlxuICAgICAgICByb3RhdGVBID0gMTtcbiAgICAgICAgcm90YXRlQiA9IDA7XG4gICAgICAgIHJvdGF0ZUMgPSAwO1xuICAgICAgICByb3RhdGVEID0gLTE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYWdlVmlld3BvcnQ6IEludmFsaWQgcm90YXRpb24sIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA5MCBkZWdyZWVzLlwiKTtcbiAgICB9XG5cbiAgICBpZiAoZG9udEZsaXApIHtcbiAgICAgIHJvdGF0ZUMgPSAtcm90YXRlQztcbiAgICAgIHJvdGF0ZUQgPSAtcm90YXRlRDtcbiAgICB9XG5cbiAgICBsZXQgb2Zmc2V0Q2FudmFzWCwgb2Zmc2V0Q2FudmFzWTtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChyb3RhdGVBID09PSAwKSB7XG4gICAgICBvZmZzZXRDYW52YXNYID0gTWF0aC5hYnMoY2VudGVyWSAtIHZpZXdCb3hbMV0pICogc2NhbGUgKyBvZmZzZXRYO1xuICAgICAgb2Zmc2V0Q2FudmFzWSA9IE1hdGguYWJzKGNlbnRlclggLSB2aWV3Qm94WzBdKSAqIHNjYWxlICsgb2Zmc2V0WTtcbiAgICAgIHdpZHRoID0gTWF0aC5hYnModmlld0JveFszXSAtIHZpZXdCb3hbMV0pICogc2NhbGU7XG4gICAgICBoZWlnaHQgPSBNYXRoLmFicyh2aWV3Qm94WzJdIC0gdmlld0JveFswXSkgKiBzY2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2Zmc2V0Q2FudmFzWCA9IE1hdGguYWJzKGNlbnRlclggLSB2aWV3Qm94WzBdKSAqIHNjYWxlICsgb2Zmc2V0WDtcbiAgICAgIG9mZnNldENhbnZhc1kgPSBNYXRoLmFicyhjZW50ZXJZIC0gdmlld0JveFsxXSkgKiBzY2FsZSArIG9mZnNldFk7XG4gICAgICB3aWR0aCA9IE1hdGguYWJzKHZpZXdCb3hbMl0gLSB2aWV3Qm94WzBdKSAqIHNjYWxlO1xuICAgICAgaGVpZ2h0ID0gTWF0aC5hYnModmlld0JveFszXSAtIHZpZXdCb3hbMV0pICogc2NhbGU7XG4gICAgfVxuXG4gICAgdGhpcy50cmFuc2Zvcm0gPSBbcm90YXRlQSAqIHNjYWxlLCByb3RhdGVCICogc2NhbGUsIHJvdGF0ZUMgKiBzY2FsZSwgcm90YXRlRCAqIHNjYWxlLCBvZmZzZXRDYW52YXNYIC0gcm90YXRlQSAqIHNjYWxlICogY2VudGVyWCAtIHJvdGF0ZUMgKiBzY2FsZSAqIGNlbnRlclksIG9mZnNldENhbnZhc1kgLSByb3RhdGVCICogc2NhbGUgKiBjZW50ZXJYIC0gcm90YXRlRCAqIHNjYWxlICogY2VudGVyWV07XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG5cbiAgY2xvbmUoe1xuICAgIHNjYWxlID0gdGhpcy5zY2FsZSxcbiAgICByb3RhdGlvbiA9IHRoaXMucm90YXRpb24sXG4gICAgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WCxcbiAgICBvZmZzZXRZID0gdGhpcy5vZmZzZXRZLFxuICAgIGRvbnRGbGlwID0gZmFsc2VcbiAgfSA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlVmlld3BvcnQoe1xuICAgICAgdmlld0JveDogdGhpcy52aWV3Qm94LnNsaWNlKCksXG4gICAgICBzY2FsZSxcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgb2Zmc2V0WCxcbiAgICAgIG9mZnNldFksXG4gICAgICBkb250RmxpcFxuICAgIH0pO1xuICB9XG5cbiAgY29udmVydFRvVmlld3BvcnRQb2ludCh4LCB5KSB7XG4gICAgcmV0dXJuIF91dGlsLlV0aWwuYXBwbHlUcmFuc2Zvcm0oW3gsIHldLCB0aGlzLnRyYW5zZm9ybSk7XG4gIH1cblxuICBjb252ZXJ0VG9WaWV3cG9ydFJlY3RhbmdsZShyZWN0KSB7XG4gICAgY29uc3QgdG9wTGVmdCA9IF91dGlsLlV0aWwuYXBwbHlUcmFuc2Zvcm0oW3JlY3RbMF0sIHJlY3RbMV1dLCB0aGlzLnRyYW5zZm9ybSk7XG5cbiAgICBjb25zdCBib3R0b21SaWdodCA9IF91dGlsLlV0aWwuYXBwbHlUcmFuc2Zvcm0oW3JlY3RbMl0sIHJlY3RbM11dLCB0aGlzLnRyYW5zZm9ybSk7XG5cbiAgICByZXR1cm4gW3RvcExlZnRbMF0sIHRvcExlZnRbMV0sIGJvdHRvbVJpZ2h0WzBdLCBib3R0b21SaWdodFsxXV07XG4gIH1cblxuICBjb252ZXJ0VG9QZGZQb2ludCh4LCB5KSB7XG4gICAgcmV0dXJuIF91dGlsLlV0aWwuYXBwbHlJbnZlcnNlVHJhbnNmb3JtKFt4LCB5XSwgdGhpcy50cmFuc2Zvcm0pO1xuICB9XG5cbn1cblxuZXhwb3J0cy5QYWdlVmlld3BvcnQgPSBQYWdlVmlld3BvcnQ7XG5cbmNsYXNzIFJlbmRlcmluZ0NhbmNlbGxlZEV4Y2VwdGlvbiBleHRlbmRzIF91dGlsLkJhc2VFeGNlcHRpb24ge1xuICBjb25zdHJ1Y3Rvcihtc2csIHR5cGUpIHtcbiAgICBzdXBlcihtc2csIFwiUmVuZGVyaW5nQ2FuY2VsbGVkRXhjZXB0aW9uXCIpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxufVxuXG5leHBvcnRzLlJlbmRlcmluZ0NhbmNlbGxlZEV4Y2VwdGlvbiA9IFJlbmRlcmluZ0NhbmNlbGxlZEV4Y2VwdGlvbjtcblxuZnVuY3Rpb24gaXNEYXRhU2NoZW1lKHVybCkge1xuICBjb25zdCBpaSA9IHVybC5sZW5ndGg7XG4gIGxldCBpID0gMDtcblxuICB3aGlsZSAoaSA8IGlpICYmIHVybFtpXS50cmltKCkgPT09IFwiXCIpIHtcbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gdXJsLnN1YnN0cmluZyhpLCBpICsgNSkudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRhOlwiO1xufVxuXG5mdW5jdGlvbiBpc1BkZkZpbGUoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBmaWxlbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiAvXFwucGRmJC9pLnRlc3QoZmlsZW5hbWUpO1xufVxuXG5mdW5jdGlvbiBnZXRGaWxlbmFtZUZyb21VcmwodXJsKSB7XG4gIGNvbnN0IGFuY2hvciA9IHVybC5pbmRleE9mKFwiI1wiKTtcbiAgY29uc3QgcXVlcnkgPSB1cmwuaW5kZXhPZihcIj9cIik7XG4gIGNvbnN0IGVuZCA9IE1hdGgubWluKGFuY2hvciA+IDAgPyBhbmNob3IgOiB1cmwubGVuZ3RoLCBxdWVyeSA+IDAgPyBxdWVyeSA6IHVybC5sZW5ndGgpO1xuICByZXR1cm4gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoXCIvXCIsIGVuZCkgKyAxLCBlbmQpO1xufVxuXG5mdW5jdGlvbiBnZXRQZGZGaWxlbmFtZUZyb21VcmwodXJsLCBkZWZhdWx0RmlsZW5hbWUgPSBcImRvY3VtZW50LnBkZlwiKSB7XG4gIGlmICh0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRGaWxlbmFtZTtcbiAgfVxuXG4gIGlmIChpc0RhdGFTY2hlbWUodXJsKSkge1xuICAgICgwLCBfdXRpbC53YXJuKSgnZ2V0UGRmRmlsZW5hbWVGcm9tVXJsOiBpZ25vcmUgXCJkYXRhOlwiLVVSTCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4nKTtcbiAgICByZXR1cm4gZGVmYXVsdEZpbGVuYW1lO1xuICB9XG5cbiAgY29uc3QgcmVVUkkgPSAvXig/Oig/OlteOl0rOik/XFwvXFwvW14vXSspPyhbXj8jXSopKFxcP1teI10qKT8oIy4qKT8kLztcbiAgY29uc3QgcmVGaWxlbmFtZSA9IC9bXi8/Iz1dK1xcLnBkZlxcYig/IS4qXFwucGRmXFxiKS9pO1xuICBjb25zdCBzcGxpdFVSSSA9IHJlVVJJLmV4ZWModXJsKTtcbiAgbGV0IHN1Z2dlc3RlZEZpbGVuYW1lID0gcmVGaWxlbmFtZS5leGVjKHNwbGl0VVJJWzFdKSB8fCByZUZpbGVuYW1lLmV4ZWMoc3BsaXRVUklbMl0pIHx8IHJlRmlsZW5hbWUuZXhlYyhzcGxpdFVSSVszXSk7XG5cbiAgaWYgKHN1Z2dlc3RlZEZpbGVuYW1lKSB7XG4gICAgc3VnZ2VzdGVkRmlsZW5hbWUgPSBzdWdnZXN0ZWRGaWxlbmFtZVswXTtcblxuICAgIGlmIChzdWdnZXN0ZWRGaWxlbmFtZS5pbmNsdWRlcyhcIiVcIikpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN1Z2dlc3RlZEZpbGVuYW1lID0gcmVGaWxlbmFtZS5leGVjKGRlY29kZVVSSUNvbXBvbmVudChzdWdnZXN0ZWRGaWxlbmFtZSkpWzBdO1xuICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN1Z2dlc3RlZEZpbGVuYW1lIHx8IGRlZmF1bHRGaWxlbmFtZTtcbn1cblxuY2xhc3MgU3RhdFRpbWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdGFydGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnRpbWVzID0gW107XG4gIH1cblxuICB0aW1lKG5hbWUpIHtcbiAgICBpZiAobmFtZSBpbiB0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICgwLCBfdXRpbC53YXJuKShgVGltZXIgaXMgYWxyZWFkeSBydW5uaW5nIGZvciAke25hbWV9YCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydGVkW25hbWVdID0gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHRpbWVFbmQobmFtZSkge1xuICAgIGlmICghKG5hbWUgaW4gdGhpcy5zdGFydGVkKSkge1xuICAgICAgKDAsIF91dGlsLndhcm4pKGBUaW1lciBoYXMgbm90IGJlZW4gc3RhcnRlZCBmb3IgJHtuYW1lfWApO1xuICAgIH1cblxuICAgIHRoaXMudGltZXMucHVzaCh7XG4gICAgICBuYW1lLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnRlZFtuYW1lXSxcbiAgICAgIGVuZDogRGF0ZS5ub3coKVxuICAgIH0pO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXJ0ZWRbbmFtZV07XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBjb25zdCBvdXRCdWYgPSBbXTtcbiAgICBsZXQgbG9uZ2VzdCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IHRpbWUgb2YgdGhpcy50aW1lcykge1xuICAgICAgY29uc3QgbmFtZSA9IHRpbWUubmFtZTtcblxuICAgICAgaWYgKG5hbWUubGVuZ3RoID4gbG9uZ2VzdCkge1xuICAgICAgICBsb25nZXN0ID0gbmFtZS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB0aW1lIG9mIHRoaXMudGltZXMpIHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGltZS5lbmQgLSB0aW1lLnN0YXJ0O1xuICAgICAgb3V0QnVmLnB1c2goYCR7dGltZS5uYW1lLnBhZEVuZChsb25nZXN0KX0gJHtkdXJhdGlvbn1tc1xcbmApO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRCdWYuam9pbihcIlwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuU3RhdFRpbWVyID0gU3RhdFRpbWVyO1xuXG5mdW5jdGlvbiBpc1ZhbGlkRmV0Y2hVcmwodXJsLCBiYXNlVXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJvdG9jb2xcbiAgICB9ID0gYmFzZVVybCA/IG5ldyBVUkwodXJsLCBiYXNlVXJsKSA6IG5ldyBVUkwodXJsKTtcbiAgICByZXR1cm4gcHJvdG9jb2wgPT09IFwiaHR0cDpcIiB8fCBwcm90b2NvbCA9PT0gXCJodHRwczpcIjtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gbG9hZFNjcmlwdChzcmMsIHJlbW92ZVNjcmlwdEVsZW1lbnQgPSBmYWxzZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgc2NyaXB0LnNyYyA9IHNyYztcblxuICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBpZiAocmVtb3ZlU2NyaXB0RWxlbWVudCkge1xuICAgICAgICBzY3JpcHQucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoZXZ0KTtcbiAgICB9O1xuXG4gICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKGBDYW5ub3QgbG9hZCBzY3JpcHQgYXQ6ICR7c2NyaXB0LnNyY31gKSk7XG4gICAgfTtcblxuICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZWQoZGV0YWlscykge1xuICBjb25zb2xlLmxvZyhcIkRlcHJlY2F0ZWQgQVBJIHVzYWdlOiBcIiArIGRldGFpbHMpO1xufVxuXG5sZXQgcGRmRGF0ZVN0cmluZ1JlZ2V4O1xuXG5jbGFzcyBQREZEYXRlU3RyaW5nIHtcbiAgc3RhdGljIHRvRGF0ZU9iamVjdChpbnB1dCkge1xuICAgIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXBkZkRhdGVTdHJpbmdSZWdleCkge1xuICAgICAgcGRmRGF0ZVN0cmluZ1JlZ2V4ID0gbmV3IFJlZ0V4cChcIl5EOlwiICsgXCIoXFxcXGR7NH0pXCIgKyBcIihcXFxcZHsyfSk/XCIgKyBcIihcXFxcZHsyfSk/XCIgKyBcIihcXFxcZHsyfSk/XCIgKyBcIihcXFxcZHsyfSk/XCIgKyBcIihcXFxcZHsyfSk/XCIgKyBcIihbWnwrfC1dKT9cIiArIFwiKFxcXFxkezJ9KT9cIiArIFwiJz9cIiArIFwiKFxcXFxkezJ9KT9cIiArIFwiJz9cIik7XG4gICAgfVxuXG4gICAgY29uc3QgbWF0Y2hlcyA9IHBkZkRhdGVTdHJpbmdSZWdleC5leGVjKGlucHV0KTtcblxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgeWVhciA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKTtcbiAgICBsZXQgbW9udGggPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCk7XG4gICAgbW9udGggPSBtb250aCA+PSAxICYmIG1vbnRoIDw9IDEyID8gbW9udGggLSAxIDogMDtcbiAgICBsZXQgZGF5ID0gcGFyc2VJbnQobWF0Y2hlc1szXSwgMTApO1xuICAgIGRheSA9IGRheSA+PSAxICYmIGRheSA8PSAzMSA/IGRheSA6IDE7XG4gICAgbGV0IGhvdXIgPSBwYXJzZUludChtYXRjaGVzWzRdLCAxMCk7XG4gICAgaG91ciA9IGhvdXIgPj0gMCAmJiBob3VyIDw9IDIzID8gaG91ciA6IDA7XG4gICAgbGV0IG1pbnV0ZSA9IHBhcnNlSW50KG1hdGNoZXNbNV0sIDEwKTtcbiAgICBtaW51dGUgPSBtaW51dGUgPj0gMCAmJiBtaW51dGUgPD0gNTkgPyBtaW51dGUgOiAwO1xuICAgIGxldCBzZWNvbmQgPSBwYXJzZUludChtYXRjaGVzWzZdLCAxMCk7XG4gICAgc2Vjb25kID0gc2Vjb25kID49IDAgJiYgc2Vjb25kIDw9IDU5ID8gc2Vjb25kIDogMDtcbiAgICBjb25zdCB1bml2ZXJzYWxUaW1lUmVsYXRpb24gPSBtYXRjaGVzWzddIHx8IFwiWlwiO1xuICAgIGxldCBvZmZzZXRIb3VyID0gcGFyc2VJbnQobWF0Y2hlc1s4XSwgMTApO1xuICAgIG9mZnNldEhvdXIgPSBvZmZzZXRIb3VyID49IDAgJiYgb2Zmc2V0SG91ciA8PSAyMyA/IG9mZnNldEhvdXIgOiAwO1xuICAgIGxldCBvZmZzZXRNaW51dGUgPSBwYXJzZUludChtYXRjaGVzWzldLCAxMCkgfHwgMDtcbiAgICBvZmZzZXRNaW51dGUgPSBvZmZzZXRNaW51dGUgPj0gMCAmJiBvZmZzZXRNaW51dGUgPD0gNTkgPyBvZmZzZXRNaW51dGUgOiAwO1xuXG4gICAgaWYgKHVuaXZlcnNhbFRpbWVSZWxhdGlvbiA9PT0gXCItXCIpIHtcbiAgICAgIGhvdXIgKz0gb2Zmc2V0SG91cjtcbiAgICAgIG1pbnV0ZSArPSBvZmZzZXRNaW51dGU7XG4gICAgfSBlbHNlIGlmICh1bml2ZXJzYWxUaW1lUmVsYXRpb24gPT09IFwiK1wiKSB7XG4gICAgICBob3VyIC09IG9mZnNldEhvdXI7XG4gICAgICBtaW51dGUgLT0gb2Zmc2V0TWludXRlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCkpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5QREZEYXRlU3RyaW5nID0gUERGRGF0ZVN0cmluZztcblxuZnVuY3Rpb24gZ2V0WGZhUGFnZVZpZXdwb3J0KHhmYVBhZ2UsIHtcbiAgc2NhbGUgPSAxLFxuICByb3RhdGlvbiA9IDBcbn0pIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9ID0geGZhUGFnZS5hdHRyaWJ1dGVzLnN0eWxlO1xuICBjb25zdCB2aWV3Qm94ID0gWzAsIDAsIHBhcnNlSW50KHdpZHRoKSwgcGFyc2VJbnQoaGVpZ2h0KV07XG4gIHJldHVybiBuZXcgUGFnZVZpZXdwb3J0KHtcbiAgICB2aWV3Qm94LFxuICAgIHNjYWxlLFxuICAgIHJvdGF0aW9uXG4gIH0pO1xufVxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuQmFzZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gZXhwb3J0cy5CYXNlU1ZHRmFjdG9yeSA9IGV4cG9ydHMuQmFzZUNhbnZhc0ZhY3RvcnkgPSBleHBvcnRzLkJhc2VDTWFwUmVhZGVyRmFjdG9yeSA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxuY2xhc3MgQmFzZUNhbnZhc0ZhY3Rvcnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gQmFzZUNhbnZhc0ZhY3RvcnkpIHtcbiAgICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJDYW5ub3QgaW5pdGlhbGl6ZSBCYXNlQ2FudmFzRmFjdG9yeS5cIik7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBpZiAod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjYW52YXMgc2l6ZVwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl9jcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2FudmFzLFxuICAgICAgY29udGV4dDogY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxuICAgIH07XG4gIH1cblxuICByZXNldChjYW52YXNBbmRDb250ZXh0LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKCFjYW52YXNBbmRDb250ZXh0LmNhbnZhcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIGlzIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2FudmFzIHNpemVcIik7XG4gICAgfVxuXG4gICAgY2FudmFzQW5kQ29udGV4dC5jYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXNBbmRDb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICBkZXN0cm95KGNhbnZhc0FuZENvbnRleHQpIHtcbiAgICBpZiAoIWNhbnZhc0FuZENvbnRleHQuY2FudmFzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgaXMgbm90IHNwZWNpZmllZFwiKTtcbiAgICB9XG5cbiAgICBjYW52YXNBbmRDb250ZXh0LmNhbnZhcy53aWR0aCA9IDA7XG4gICAgY2FudmFzQW5kQ29udGV4dC5jYW52YXMuaGVpZ2h0ID0gMDtcbiAgICBjYW52YXNBbmRDb250ZXh0LmNhbnZhcyA9IG51bGw7XG4gICAgY2FudmFzQW5kQ29udGV4dC5jb250ZXh0ID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJBYnN0cmFjdCBtZXRob2QgYF9jcmVhdGVDYW52YXNgIGNhbGxlZC5cIik7XG4gIH1cblxufVxuXG5leHBvcnRzLkJhc2VDYW52YXNGYWN0b3J5ID0gQmFzZUNhbnZhc0ZhY3Rvcnk7XG5cbmNsYXNzIEJhc2VDTWFwUmVhZGVyRmFjdG9yeSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBiYXNlVXJsID0gbnVsbCxcbiAgICBpc0NvbXByZXNzZWQgPSBmYWxzZVxuICB9KSB7XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IEJhc2VDTWFwUmVhZGVyRmFjdG9yeSkge1xuICAgICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkNhbm5vdCBpbml0aWFsaXplIEJhc2VDTWFwUmVhZGVyRmFjdG9yeS5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLmlzQ29tcHJlc3NlZCA9IGlzQ29tcHJlc3NlZDtcbiAgfVxuXG4gIGFzeW5jIGZldGNoKHtcbiAgICBuYW1lXG4gIH0pIHtcbiAgICBpZiAoIXRoaXMuYmFzZVVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgQ01hcCBcImJhc2VVcmxcIiBwYXJhbWV0ZXIgbXVzdCBiZSBzcGVjaWZpZWQsIGVuc3VyZSB0aGF0ICcgKyAndGhlIFwiY01hcFVybFwiIGFuZCBcImNNYXBQYWNrZWRcIiBBUEkgcGFyYW1ldGVycyBhcmUgcHJvdmlkZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDTWFwIG5hbWUgbXVzdCBiZSBzcGVjaWZpZWQuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHVybCA9IHRoaXMuYmFzZVVybCArIG5hbWUgKyAodGhpcy5pc0NvbXByZXNzZWQgPyBcIi5iY21hcFwiIDogXCJcIik7XG4gICAgY29uc3QgY29tcHJlc3Npb25UeXBlID0gdGhpcy5pc0NvbXByZXNzZWQgPyBfdXRpbC5DTWFwQ29tcHJlc3Npb25UeXBlLkJJTkFSWSA6IF91dGlsLkNNYXBDb21wcmVzc2lvblR5cGUuTk9ORTtcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEYXRhKHVybCwgY29tcHJlc3Npb25UeXBlKS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9hZCAke3RoaXMuaXNDb21wcmVzc2VkID8gXCJiaW5hcnkgXCIgOiBcIlwifUNNYXAgYXQ6ICR7dXJsfWApO1xuICAgIH0pO1xuICB9XG5cbiAgX2ZldGNoRGF0YSh1cmwsIGNvbXByZXNzaW9uVHlwZSkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJBYnN0cmFjdCBtZXRob2QgYF9mZXRjaERhdGFgIGNhbGxlZC5cIik7XG4gIH1cblxufVxuXG5leHBvcnRzLkJhc2VDTWFwUmVhZGVyRmFjdG9yeSA9IEJhc2VDTWFwUmVhZGVyRmFjdG9yeTtcblxuY2xhc3MgQmFzZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGJhc2VVcmwgPSBudWxsXG4gIH0pIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gQmFzZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5KSB7XG4gICAgICAoMCwgX3V0aWwudW5yZWFjaGFibGUpKFwiQ2Fubm90IGluaXRpYWxpemUgQmFzZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5LlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2goe1xuICAgIGZpbGVuYW1lXG4gIH0pIHtcbiAgICBpZiAoIXRoaXMuYmFzZVVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3RhbmRhcmQgZm9udCBcImJhc2VVcmxcIiBwYXJhbWV0ZXIgbXVzdCBiZSBzcGVjaWZpZWQsIGVuc3VyZSB0aGF0ICcgKyAndGhlIFwic3RhbmRhcmRGb250RGF0YVVybFwiIEFQSSBwYXJhbWV0ZXIgaXMgcHJvdmlkZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRm9udCBmaWxlbmFtZSBtdXN0IGJlIHNwZWNpZmllZC5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfSR7ZmlsZW5hbWV9YDtcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEYXRhKHVybCkuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgZm9udCBkYXRhIGF0OiAke3VybH1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9mZXRjaERhdGEodXJsKSB7XG4gICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkFic3RyYWN0IG1ldGhvZCBgX2ZldGNoRGF0YWAgY2FsbGVkLlwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuQmFzZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gQmFzZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5O1xuXG5jbGFzcyBCYXNlU1ZHRmFjdG9yeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yID09PSBCYXNlU1ZHRmFjdG9yeSkge1xuICAgICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkNhbm5vdCBpbml0aWFsaXplIEJhc2VTVkdGYWN0b3J5LlwiKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGUod2lkdGgsIGhlaWdodCkge1xuICAgIGlmICh3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFNWRyBkaW1lbnNpb25zXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHN2ZyA9IHRoaXMuX2NyZWF0ZVNWRyhcInN2ZzpzdmdcIik7XG5cbiAgICBzdmcuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCBcIjEuMVwiKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwibm9uZVwiKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBgMCAwICR7d2lkdGh9ICR7aGVpZ2h0fWApO1xuICAgIHJldHVybiBzdmc7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU1ZHIGVsZW1lbnQgdHlwZVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlU1ZHKHR5cGUpO1xuICB9XG5cbiAgX2NyZWF0ZVNWRyh0eXBlKSB7XG4gICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkFic3RyYWN0IG1ldGhvZCBgX2NyZWF0ZVNWR2AgY2FsbGVkLlwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuQmFzZVNWR0ZhY3RvcnkgPSBCYXNlU1ZHRmFjdG9yeTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkZvbnRMb2FkZXIgPSBleHBvcnRzLkZvbnRGYWNlT2JqZWN0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG5jbGFzcyBCYXNlRm9udExvYWRlciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkb2NJZCxcbiAgICBvblVuc3VwcG9ydGVkRmVhdHVyZSxcbiAgICBvd25lckRvY3VtZW50ID0gZ2xvYmFsVGhpcy5kb2N1bWVudCxcbiAgICBzdHlsZUVsZW1lbnQgPSBudWxsXG4gIH0pIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gQmFzZUZvbnRMb2FkZXIpIHtcbiAgICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJDYW5ub3QgaW5pdGlhbGl6ZSBCYXNlRm9udExvYWRlci5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5kb2NJZCA9IGRvY0lkO1xuICAgIHRoaXMuX29uVW5zdXBwb3J0ZWRGZWF0dXJlID0gb25VbnN1cHBvcnRlZEZlYXR1cmU7XG4gICAgdGhpcy5fZG9jdW1lbnQgPSBvd25lckRvY3VtZW50O1xuICAgIHRoaXMubmF0aXZlRm9udEZhY2VzID0gW107XG4gICAgdGhpcy5zdHlsZUVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgYWRkTmF0aXZlRm9udEZhY2UobmF0aXZlRm9udEZhY2UpIHtcbiAgICB0aGlzLm5hdGl2ZUZvbnRGYWNlcy5wdXNoKG5hdGl2ZUZvbnRGYWNlKTtcblxuICAgIHRoaXMuX2RvY3VtZW50LmZvbnRzLmFkZChuYXRpdmVGb250RmFjZSk7XG4gIH1cblxuICBpbnNlcnRSdWxlKHJ1bGUpIHtcbiAgICBsZXQgc3R5bGVFbGVtZW50ID0gdGhpcy5zdHlsZUVsZW1lbnQ7XG5cbiAgICBpZiAoIXN0eWxlRWxlbWVudCkge1xuICAgICAgc3R5bGVFbGVtZW50ID0gdGhpcy5zdHlsZUVsZW1lbnQgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBzdHlsZUVsZW1lbnQuaWQgPSBgUERGSlNfRk9OVF9TVFlMRV9UQUdfJHt0aGlzLmRvY0lkfWA7XG5cbiAgICAgIHRoaXMuX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHlsZVNoZWV0ID0gc3R5bGVFbGVtZW50LnNoZWV0O1xuICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShydWxlLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBmb3IgKGNvbnN0IG5hdGl2ZUZvbnRGYWNlIG9mIHRoaXMubmF0aXZlRm9udEZhY2VzKSB7XG4gICAgICB0aGlzLl9kb2N1bWVudC5mb250cy5kZWxldGUobmF0aXZlRm9udEZhY2UpO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlRm9udEZhY2VzLmxlbmd0aCA9IDA7XG5cbiAgICBpZiAodGhpcy5zdHlsZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuc3R5bGVFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgdGhpcy5zdHlsZUVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGJpbmQoZm9udCkge1xuICAgIGlmIChmb250LmF0dGFjaGVkIHx8IGZvbnQubWlzc2luZ0ZpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb250LmF0dGFjaGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLmlzRm9udExvYWRpbmdBUElTdXBwb3J0ZWQpIHtcbiAgICAgIGNvbnN0IG5hdGl2ZUZvbnRGYWNlID0gZm9udC5jcmVhdGVOYXRpdmVGb250RmFjZSgpO1xuXG4gICAgICBpZiAobmF0aXZlRm9udEZhY2UpIHtcbiAgICAgICAgdGhpcy5hZGROYXRpdmVGb250RmFjZShuYXRpdmVGb250RmFjZSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBuYXRpdmVGb250RmFjZS5sb2FkZWQ7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgdGhpcy5fb25VbnN1cHBvcnRlZEZlYXR1cmUoe1xuICAgICAgICAgICAgZmVhdHVyZUlkOiBfdXRpbC5VTlNVUFBPUlRFRF9GRUFUVVJFUy5lcnJvckZvbnRMb2FkTmF0aXZlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAoMCwgX3V0aWwud2FybikoYEZhaWxlZCB0byBsb2FkIGZvbnQgJyR7bmF0aXZlRm9udEZhY2UuZmFtaWx5fSc6ICcke2V4fScuYCk7XG4gICAgICAgICAgZm9udC5kaXNhYmxlRm9udEZhY2UgPSB0cnVlO1xuICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBydWxlID0gZm9udC5jcmVhdGVGb250RmFjZVJ1bGUoKTtcblxuICAgIGlmIChydWxlKSB7XG4gICAgICB0aGlzLmluc2VydFJ1bGUocnVsZSk7XG5cbiAgICAgIGlmICh0aGlzLmlzU3luY0ZvbnRMb2FkaW5nU3VwcG9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9xdWV1ZUxvYWRpbmdDYWxsYmFjayhyZXNvbHZlKTtcblxuICAgICAgICB0aGlzLl9wcmVwYXJlRm9udExvYWRFdmVudChbcnVsZV0sIFtmb250XSwgcmVxdWVzdCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfcXVldWVMb2FkaW5nQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAoMCwgX3V0aWwudW5yZWFjaGFibGUpKFwiQWJzdHJhY3QgbWV0aG9kIGBfcXVldWVMb2FkaW5nQ2FsbGJhY2tgLlwiKTtcbiAgfVxuXG4gIGdldCBpc0ZvbnRMb2FkaW5nQVBJU3VwcG9ydGVkKCkge1xuICAgIGNvbnN0IGhhc0ZvbnRzID0gISF0aGlzLl9kb2N1bWVudD8uZm9udHM7XG4gICAgcmV0dXJuICgwLCBfdXRpbC5zaGFkb3cpKHRoaXMsIFwiaXNGb250TG9hZGluZ0FQSVN1cHBvcnRlZFwiLCBoYXNGb250cyk7XG4gIH1cblxuICBnZXQgaXNTeW5jRm9udExvYWRpbmdTdXBwb3J0ZWQoKSB7XG4gICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKShcIkFic3RyYWN0IG1ldGhvZCBgaXNTeW5jRm9udExvYWRpbmdTdXBwb3J0ZWRgLlwiKTtcbiAgfVxuXG4gIGdldCBfbG9hZFRlc3RGb250KCkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJBYnN0cmFjdCBtZXRob2QgYF9sb2FkVGVzdEZvbnRgLlwiKTtcbiAgfVxuXG4gIF9wcmVwYXJlRm9udExvYWRFdmVudChydWxlcywgZm9udHNUb0xvYWQsIHJlcXVlc3QpIHtcbiAgICAoMCwgX3V0aWwudW5yZWFjaGFibGUpKFwiQWJzdHJhY3QgbWV0aG9kIGBfcHJlcGFyZUZvbnRMb2FkRXZlbnRgLlwiKTtcbiAgfVxuXG59XG5cbmxldCBGb250TG9hZGVyO1xuZXhwb3J0cy5Gb250TG9hZGVyID0gRm9udExvYWRlcjtcbntcbiAgZXhwb3J0cy5Gb250TG9hZGVyID0gRm9udExvYWRlciA9IGNsYXNzIEdlbmVyaWNGb250TG9hZGVyIGV4dGVuZHMgQmFzZUZvbnRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgc3VwZXIocGFyYW1zKTtcbiAgICAgIHRoaXMubG9hZGluZ0NvbnRleHQgPSB7XG4gICAgICAgIHJlcXVlc3RzOiBbXSxcbiAgICAgICAgbmV4dFJlcXVlc3RJZDogMFxuICAgICAgfTtcbiAgICAgIHRoaXMubG9hZFRlc3RGb250SWQgPSAwO1xuICAgIH1cblxuICAgIGdldCBpc1N5bmNGb250TG9hZGluZ1N1cHBvcnRlZCgpIHtcbiAgICAgIGxldCBzdXBwb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG0gPSAvTW96aWxsYVxcLzUuMC4qP3J2OihcXGQrKS4qPyBHZWNrby8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgICAgICBpZiAobT8uWzFdID49IDE0KSB7XG4gICAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKDAsIF91dGlsLnNoYWRvdykodGhpcywgXCJpc1N5bmNGb250TG9hZGluZ1N1cHBvcnRlZFwiLCBzdXBwb3J0ZWQpO1xuICAgIH1cblxuICAgIF9xdWV1ZUxvYWRpbmdDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KCkge1xuICAgICAgICAoMCwgX3V0aWwuYXNzZXJ0KSghcmVxdWVzdC5kb25lLCBcImNvbXBsZXRlUmVxdWVzdCgpIGNhbm5vdCBiZSBjYWxsZWQgdHdpY2UuXCIpO1xuICAgICAgICByZXF1ZXN0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlIChjb250ZXh0LnJlcXVlc3RzLmxlbmd0aCA+IDAgJiYgY29udGV4dC5yZXF1ZXN0c1swXS5kb25lKSB7XG4gICAgICAgICAgY29uc3Qgb3RoZXJSZXF1ZXN0ID0gY29udGV4dC5yZXF1ZXN0cy5zaGlmdCgpO1xuICAgICAgICAgIHNldFRpbWVvdXQob3RoZXJSZXF1ZXN0LmNhbGxiYWNrLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5sb2FkaW5nQ29udGV4dDtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIGlkOiBgcGRmanMtZm9udC1sb2FkaW5nLSR7Y29udGV4dC5uZXh0UmVxdWVzdElkKyt9YCxcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVJlcXVlc3QsXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICB9O1xuICAgICAgY29udGV4dC5yZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuXG4gICAgZ2V0IF9sb2FkVGVzdEZvbnQoKSB7XG4gICAgICBjb25zdCBnZXRMb2FkVGVzdEZvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhdG9iKFwiVDFSVVR3QUxBSUFBQXdBd1EwWkdJREh0Wmc0QUFBT1lBQUFBZ1VaR1ZFMWxrelp3QUFBRUhBQUFBQnhIUkVWR0FCUUFcIiArIFwiRlFBQUJEZ0FBQUFlVDFNdk1sWU5Zd2tBQUFFZ0FBQUFZR050WVhBQkRRTFVBQUFDTkFBQUFVSm9aV0ZrL3hWRkRRQUFcIiArIFwiQUx3QUFBQTJhR2hsWVFka0Erb0FBQUQwQUFBQUpHaHRkSGdENkFBQUFBQUVXQUFBQUFadFlYaHdBQUpRQUFBQUFSZ0FcIiArIFwiQUFBR2JtRnRaVmptZEg0QUFBR0FBQUFBc1hCdmMzVC9oZ0F6QUFBRGVBQUFBQ0FBQVFBQUFBRUFBTFpSRnNSZkR6ejFcIiArIFwiQUFzRDZBQUFBQURPQk9UTEFBQUFBTTRLSER3QUFBQUFBK2dESVFBQUFBZ0FBZ0FBQUFBQUFBQUJBQUFESVFBQUFGb0RcIiArIFwiNkFBQUFBQUQ2QUFCQUFBQUFBQUFBQUFBQUFBQUFBQUFBUUFBVUFBQUFnQUFBQVFENkFIMEFBVUFBQUtLQXJ3QUFBQ01cIiArIFwiQW9vQ3ZBQUFBZUFBTVFFQ0FBQUNBQVlKQUFBQUFBQUFBQUFBQVFBQUFBQUFBQUFBQUFBQUFGQm1SV1FBd0FBdUFDNERcIiArIFwiSVA4NEFGb0RJUUFBQUFBQUFRQUFBQUFBQUFBQUFDQUFJQUFCQUFBQURnQ3VBQUVBQUFBQUFBQUFBUUFBQUFFQUFBQUFcIiArIFwiQUFFQUFRQUFBQUVBQUFBQUFBSUFBUUFBQUFFQUFBQUFBQU1BQVFBQUFBRUFBQUFBQUFRQUFRQUFBQUVBQUFBQUFBVUFcIiArIFwiQVFBQUFBRUFBQUFBQUFZQUFRQUFBQU1BQVFRSkFBQUFBZ0FCQUFNQUFRUUpBQUVBQWdBQkFBTUFBUVFKQUFJQUFnQUJcIiArIFwiQUFNQUFRUUpBQU1BQWdBQkFBTUFBUVFKQUFRQUFnQUJBQU1BQVFRSkFBVUFBZ0FCQUFNQUFRUUpBQVlBQWdBQldBQllcIiArIFwiQUFBQUFBQUFBd0FBQUFNQUFBQWNBQUVBQUFBQUFEd0FBd0FCQUFBQUhBQUVBQ0FBQUFBRUFBUUFBUUFBQUM3Ly93QUFcIiArIFwiQUM3Ly8vL1RBQUVBQUFBQUFBQUJCZ0FBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFcIiArIFwiQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFcIiArIFwiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFcIiArIFwiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFcIiArIFwiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFcIiArIFwiQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBTUFBQUFBQUFEL2d3QXlBQUFBQVFBQUFBQUFBQUFBQUFBQUFBQUFcIiArIFwiQUFBQkFBUUVBQUVCQVFKWUFBRUJBU0g0RHdENEd3SEVBdmdjQS9nWEJJd01BWXVMK256NXRRWGtENWozQ0JMbkVRQUNcIiArIFwiQVFFQklWaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZQUFBQkFRQUFEd0FDQVFFRUUvdDNcIiArIFwiRG92NmZBSDZmQVQrZlBwOCtud0hEb3NNQ3ZtMUN2bTFEQXo2ZkJRQUFBQUFBQUFCQUFBQUFNbUpiekVBQUFBQXpnVGpcIiArIFwiRlFBQUFBRE9CT1FwQUFFQUFBQUFBQUFBREFBVUFBUUFBQUFCQUFBQUFnQUJBQUFBQUFBQUFBQUQ2QUFBQUFBQUFBPT1cIik7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gKDAsIF91dGlsLnNoYWRvdykodGhpcywgXCJfbG9hZFRlc3RGb250XCIsIGdldExvYWRUZXN0Rm9udCgpKTtcbiAgICB9XG5cbiAgICBfcHJlcGFyZUZvbnRMb2FkRXZlbnQocnVsZXMsIGZvbnRzLCByZXF1ZXN0KSB7XG4gICAgICBmdW5jdGlvbiBpbnQzMihkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuY2hhckNvZGVBdChvZmZzZXQpIDw8IDI0IHwgZGF0YS5jaGFyQ29kZUF0KG9mZnNldCArIDEpIDw8IDE2IHwgZGF0YS5jaGFyQ29kZUF0KG9mZnNldCArIDIpIDw8IDggfCBkYXRhLmNoYXJDb2RlQXQob2Zmc2V0ICsgMykgJiAweGZmO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzcGxpY2VTdHJpbmcocywgb2Zmc2V0LCByZW1vdmUsIGluc2VydCkge1xuICAgICAgICBjb25zdCBjaHVuazEgPSBzLnN1YnN0cmluZygwLCBvZmZzZXQpO1xuICAgICAgICBjb25zdCBjaHVuazIgPSBzLnN1YnN0cmluZyhvZmZzZXQgKyByZW1vdmUpO1xuICAgICAgICByZXR1cm4gY2h1bmsxICsgaW5zZXJ0ICsgY2h1bmsyO1xuICAgICAgfVxuXG4gICAgICBsZXQgaSwgaWk7XG5cbiAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cbiAgICAgIGNhbnZhcy53aWR0aCA9IDE7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICBsZXQgY2FsbGVkID0gMDtcblxuICAgICAgZnVuY3Rpb24gaXNGb250UmVhZHkobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGVkKys7XG5cbiAgICAgICAgaWYgKGNhbGxlZCA+IDMwKSB7XG4gICAgICAgICAgKDAsIF91dGlsLndhcm4pKFwiTG9hZCB0ZXN0IGZvbnQgbmV2ZXIgbG9hZGVkLlwiKTtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5mb250ID0gXCIzMHB4IFwiICsgbmFtZTtcbiAgICAgICAgY3R4LmZpbGxUZXh0KFwiLlwiLCAwLCAyMCk7XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgaWYgKGltYWdlRGF0YS5kYXRhWzNdID4gMCkge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dChpc0ZvbnRSZWFkeS5iaW5kKG51bGwsIG5hbWUsIGNhbGxiYWNrKSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxvYWRUZXN0Rm9udElkID0gYGx0JHtEYXRlLm5vdygpfSR7dGhpcy5sb2FkVGVzdEZvbnRJZCsrfWA7XG4gICAgICBsZXQgZGF0YSA9IHRoaXMuX2xvYWRUZXN0Rm9udDtcbiAgICAgIGNvbnN0IENPTU1FTlRfT0ZGU0VUID0gOTc2O1xuICAgICAgZGF0YSA9IHNwbGljZVN0cmluZyhkYXRhLCBDT01NRU5UX09GRlNFVCwgbG9hZFRlc3RGb250SWQubGVuZ3RoLCBsb2FkVGVzdEZvbnRJZCk7XG4gICAgICBjb25zdCBDRkZfQ0hFQ0tTVU1fT0ZGU0VUID0gMTY7XG4gICAgICBjb25zdCBYWFhYX1ZBTFVFID0gMHg1ODU4NTg1ODtcbiAgICAgIGxldCBjaGVja3N1bSA9IGludDMyKGRhdGEsIENGRl9DSEVDS1NVTV9PRkZTRVQpO1xuXG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGxvYWRUZXN0Rm9udElkLmxlbmd0aCAtIDM7IGkgPCBpaTsgaSArPSA0KSB7XG4gICAgICAgIGNoZWNrc3VtID0gY2hlY2tzdW0gLSBYWFhYX1ZBTFVFICsgaW50MzIobG9hZFRlc3RGb250SWQsIGkpIHwgMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGkgPCBsb2FkVGVzdEZvbnRJZC5sZW5ndGgpIHtcbiAgICAgICAgY2hlY2tzdW0gPSBjaGVja3N1bSAtIFhYWFhfVkFMVUUgKyBpbnQzMihsb2FkVGVzdEZvbnRJZCArIFwiWFhYXCIsIGkpIHwgMDtcbiAgICAgIH1cblxuICAgICAgZGF0YSA9IHNwbGljZVN0cmluZyhkYXRhLCBDRkZfQ0hFQ0tTVU1fT0ZGU0VULCA0LCAoMCwgX3V0aWwuc3RyaW5nMzIpKGNoZWNrc3VtKSk7XG4gICAgICBjb25zdCB1cmwgPSBgdXJsKGRhdGE6Zm9udC9vcGVudHlwZTtiYXNlNjQsJHtidG9hKGRhdGEpfSk7YDtcbiAgICAgIGNvbnN0IHJ1bGUgPSBgQGZvbnQtZmFjZSB7Zm9udC1mYW1pbHk6XCIke2xvYWRUZXN0Rm9udElkfVwiO3NyYzoke3VybH19YDtcbiAgICAgIHRoaXMuaW5zZXJ0UnVsZShydWxlKTtcbiAgICAgIGNvbnN0IG5hbWVzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgZm9udCBvZiBmb250cykge1xuICAgICAgICBuYW1lcy5wdXNoKGZvbnQubG9hZGVkTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIG5hbWVzLnB1c2gobG9hZFRlc3RGb250SWQpO1xuXG4gICAgICBjb25zdCBkaXYgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICBkaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICBkaXYuc3R5bGUud2lkdGggPSBkaXYuc3R5bGUuaGVpZ2h0ID0gXCIxMHB4XCI7XG4gICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICBkaXYuc3R5bGUudG9wID0gZGl2LnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBcIkhpXCI7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IG5hbWU7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICBpc0ZvbnRSZWFkeShsb2FkVGVzdEZvbnRJZCwgKCkgPT4ge1xuICAgICAgICBkaXYucmVtb3ZlKCk7XG4gICAgICAgIHJlcXVlc3QuY29tcGxldGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9O1xufVxuXG5jbGFzcyBGb250RmFjZU9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZWREYXRhLCB7XG4gICAgaXNFdmFsU3VwcG9ydGVkID0gdHJ1ZSxcbiAgICBkaXNhYmxlRm9udEZhY2UgPSBmYWxzZSxcbiAgICBpZ25vcmVFcnJvcnMgPSBmYWxzZSxcbiAgICBvblVuc3VwcG9ydGVkRmVhdHVyZSxcbiAgICBmb250UmVnaXN0cnkgPSBudWxsXG4gIH0pIHtcbiAgICB0aGlzLmNvbXBpbGVkR2x5cGhzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGZvciAoY29uc3QgaSBpbiB0cmFuc2xhdGVkRGF0YSkge1xuICAgICAgdGhpc1tpXSA9IHRyYW5zbGF0ZWREYXRhW2ldO1xuICAgIH1cblxuICAgIHRoaXMuaXNFdmFsU3VwcG9ydGVkID0gaXNFdmFsU3VwcG9ydGVkICE9PSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVGb250RmFjZSA9IGRpc2FibGVGb250RmFjZSA9PT0gdHJ1ZTtcbiAgICB0aGlzLmlnbm9yZUVycm9ycyA9IGlnbm9yZUVycm9ycyA9PT0gdHJ1ZTtcbiAgICB0aGlzLl9vblVuc3VwcG9ydGVkRmVhdHVyZSA9IG9uVW5zdXBwb3J0ZWRGZWF0dXJlO1xuICAgIHRoaXMuZm9udFJlZ2lzdHJ5ID0gZm9udFJlZ2lzdHJ5O1xuICB9XG5cbiAgY3JlYXRlTmF0aXZlRm9udEZhY2UoKSB7XG4gICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kaXNhYmxlRm9udEZhY2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBuYXRpdmVGb250RmFjZTtcblxuICAgIGlmICghdGhpcy5jc3NGb250SW5mbykge1xuICAgICAgbmF0aXZlRm9udEZhY2UgPSBuZXcgRm9udEZhY2UodGhpcy5sb2FkZWROYW1lLCB0aGlzLmRhdGEsIHt9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY3NzID0ge1xuICAgICAgICB3ZWlnaHQ6IHRoaXMuY3NzRm9udEluZm8uZm9udFdlaWdodFxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuY3NzRm9udEluZm8uaXRhbGljQW5nbGUpIHtcbiAgICAgICAgY3NzLnN0eWxlID0gYG9ibGlxdWUgJHt0aGlzLmNzc0ZvbnRJbmZvLml0YWxpY0FuZ2xlfWRlZ2A7XG4gICAgICB9XG5cbiAgICAgIG5hdGl2ZUZvbnRGYWNlID0gbmV3IEZvbnRGYWNlKHRoaXMuY3NzRm9udEluZm8uZm9udEZhbWlseSwgdGhpcy5kYXRhLCBjc3MpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZvbnRSZWdpc3RyeSkge1xuICAgICAgdGhpcy5mb250UmVnaXN0cnkucmVnaXN0ZXJGb250KHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBuYXRpdmVGb250RmFjZTtcbiAgfVxuXG4gIGNyZWF0ZUZvbnRGYWNlUnVsZSgpIHtcbiAgICBpZiAoIXRoaXMuZGF0YSB8fCB0aGlzLmRpc2FibGVGb250RmFjZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9ICgwLCBfdXRpbC5ieXRlc1RvU3RyaW5nKSh0aGlzLmRhdGEpO1xuICAgIGNvbnN0IHVybCA9IGB1cmwoZGF0YToke3RoaXMubWltZXR5cGV9O2Jhc2U2NCwke2J0b2EoZGF0YSl9KTtgO1xuICAgIGxldCBydWxlO1xuXG4gICAgaWYgKCF0aGlzLmNzc0ZvbnRJbmZvKSB7XG4gICAgICBydWxlID0gYEBmb250LWZhY2Uge2ZvbnQtZmFtaWx5OlwiJHt0aGlzLmxvYWRlZE5hbWV9XCI7c3JjOiR7dXJsfX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY3NzID0gYGZvbnQtd2VpZ2h0OiAke3RoaXMuY3NzRm9udEluZm8uZm9udFdlaWdodH07YDtcblxuICAgICAgaWYgKHRoaXMuY3NzRm9udEluZm8uaXRhbGljQW5nbGUpIHtcbiAgICAgICAgY3NzICs9IGBmb250LXN0eWxlOiBvYmxpcXVlICR7dGhpcy5jc3NGb250SW5mby5pdGFsaWNBbmdsZX1kZWc7YDtcbiAgICAgIH1cblxuICAgICAgcnVsZSA9IGBAZm9udC1mYWNlIHtmb250LWZhbWlseTpcIiR7dGhpcy5jc3NGb250SW5mby5mb250RmFtaWx5fVwiOyR7Y3NzfXNyYzoke3VybH19YDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mb250UmVnaXN0cnkpIHtcbiAgICAgIHRoaXMuZm9udFJlZ2lzdHJ5LnJlZ2lzdGVyRm9udCh0aGlzLCB1cmwpO1xuICAgIH1cblxuICAgIHJldHVybiBydWxlO1xuICB9XG5cbiAgZ2V0UGF0aEdlbmVyYXRvcihvYmpzLCBjaGFyYWN0ZXIpIHtcbiAgICBpZiAodGhpcy5jb21waWxlZEdseXBoc1tjaGFyYWN0ZXJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVkR2x5cGhzW2NoYXJhY3Rlcl07XG4gICAgfVxuXG4gICAgbGV0IGNtZHM7XG5cbiAgICB0cnkge1xuICAgICAgY21kcyA9IG9ianMuZ2V0KHRoaXMubG9hZGVkTmFtZSArIFwiX3BhdGhfXCIgKyBjaGFyYWN0ZXIpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoIXRoaXMuaWdub3JlRXJyb3JzKSB7XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9vblVuc3VwcG9ydGVkRmVhdHVyZSh7XG4gICAgICAgIGZlYXR1cmVJZDogX3V0aWwuVU5TVVBQT1JURURfRkVBVFVSRVMuZXJyb3JGb250R2V0UGF0aFxuICAgICAgfSk7XG5cbiAgICAgICgwLCBfdXRpbC53YXJuKShgZ2V0UGF0aEdlbmVyYXRvciAtIGlnbm9yaW5nIGNoYXJhY3RlcjogXCIke2V4fVwiLmApO1xuICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZWRHbHlwaHNbY2hhcmFjdGVyXSA9IGZ1bmN0aW9uIChjLCBzaXplKSB7fTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0V2YWxTdXBwb3J0ZWQgJiYgX3V0aWwuRmVhdHVyZVRlc3QuaXNFdmFsU3VwcG9ydGVkKSB7XG4gICAgICBjb25zdCBqc0J1ZiA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgY21kcykge1xuICAgICAgICBjb25zdCBhcmdzID0gY3VycmVudC5hcmdzICE9PSB1bmRlZmluZWQgPyBjdXJyZW50LmFyZ3Muam9pbihcIixcIikgOiBcIlwiO1xuICAgICAgICBqc0J1Zi5wdXNoKFwiYy5cIiwgY3VycmVudC5jbWQsIFwiKFwiLCBhcmdzLCBcIik7XFxuXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21waWxlZEdseXBoc1tjaGFyYWN0ZXJdID0gbmV3IEZ1bmN0aW9uKFwiY1wiLCBcInNpemVcIiwganNCdWYuam9pbihcIlwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29tcGlsZWRHbHlwaHNbY2hhcmFjdGVyXSA9IGZ1bmN0aW9uIChjLCBzaXplKSB7XG4gICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgY21kcykge1xuICAgICAgICBpZiAoY3VycmVudC5jbWQgPT09IFwic2NhbGVcIikge1xuICAgICAgICAgIGN1cnJlbnQuYXJncyA9IFtzaXplLCAtc2l6ZV07XG4gICAgICAgIH1cblxuICAgICAgICBjW2N1cnJlbnQuY21kXS5hcHBseShjLCBjdXJyZW50LmFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxufVxuXG5leHBvcnRzLkZvbnRGYWNlT2JqZWN0ID0gRm9udEZhY2VPYmplY3Q7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193X3BkZmpzX3JlcXVpcmVfXykgPT4ge1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5Bbm5vdGF0aW9uU3RvcmFnZSA9IHZvaWQgMDtcblxudmFyIF9tdXJtdXJoYXNoID0gX193X3BkZmpzX3JlcXVpcmVfXyg5KTtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxuY2xhc3MgQW5ub3RhdGlvblN0b3JhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdG9yYWdlID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX21vZGlmaWVkID0gZmFsc2U7XG4gICAgdGhpcy5vblNldE1vZGlmaWVkID0gbnVsbDtcbiAgICB0aGlzLm9uUmVzZXRNb2RpZmllZCA9IG51bGw7XG4gIH1cblxuICBnZXRWYWx1ZShrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc3RvcmFnZS5nZXQoa2V5KTtcblxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRlZmF1bHRWYWx1ZSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0UmF3VmFsdWUoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0KGtleSk7XG4gIH1cblxuICBzZXRWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgY29uc3Qgb2JqID0gdGhpcy5fc3RvcmFnZS5nZXQoa2V5KTtcblxuICAgIGxldCBtb2RpZmllZCA9IGZhbHNlO1xuXG4gICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGNvbnN0IFtlbnRyeSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKG9ialtlbnRyeV0gIT09IHZhbCkge1xuICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICBvYmpbZW50cnldID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fc3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG1vZGlmaWVkKSB7XG4gICAgICB0aGlzLl9zZXRNb2RpZmllZCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5zaXplID4gMCA/ICgwLCBfdXRpbC5vYmplY3RGcm9tTWFwKSh0aGlzLl9zdG9yYWdlKSA6IG51bGw7XG4gIH1cblxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5zaXplO1xuICB9XG5cbiAgX3NldE1vZGlmaWVkKCkge1xuICAgIGlmICghdGhpcy5fbW9kaWZpZWQpIHtcbiAgICAgIHRoaXMuX21vZGlmaWVkID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uU2V0TW9kaWZpZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aGlzLm9uU2V0TW9kaWZpZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXNldE1vZGlmaWVkKCkge1xuICAgIGlmICh0aGlzLl9tb2RpZmllZCkge1xuICAgICAgdGhpcy5fbW9kaWZpZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUmVzZXRNb2RpZmllZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMub25SZXNldE1vZGlmaWVkKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNlcmlhbGl6YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5zaXplID4gMCA/IHRoaXMuX3N0b3JhZ2UgOiBudWxsO1xuICB9XG5cbiAgZ2V0IGhhc2goKSB7XG4gICAgY29uc3QgaGFzaCA9IG5ldyBfbXVybXVyaGFzaC5NdXJtdXJIYXNoM182NCgpO1xuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5fc3RvcmFnZSkge1xuICAgICAgaGFzaC51cGRhdGUoYCR7a2V5fToke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzaC5oZXhkaWdlc3QoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuQW5ub3RhdGlvblN0b3JhZ2UgPSBBbm5vdGF0aW9uU3RvcmFnZTtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLk11cm11ckhhc2gzXzY0ID0gdm9pZCAwO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG5jb25zdCBTRUVEID0gMHhjM2QyZTFmMDtcbmNvbnN0IE1BU0tfSElHSCA9IDB4ZmZmZjAwMDA7XG5jb25zdCBNQVNLX0xPVyA9IDB4ZmZmZjtcblxuY2xhc3MgTXVybXVySGFzaDNfNjQge1xuICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgdGhpcy5oMSA9IHNlZWQgPyBzZWVkICYgMHhmZmZmZmZmZiA6IFNFRUQ7XG4gICAgdGhpcy5oMiA9IHNlZWQgPyBzZWVkICYgMHhmZmZmZmZmZiA6IFNFRUQ7XG4gIH1cblxuICB1cGRhdGUoaW5wdXQpIHtcbiAgICBsZXQgZGF0YSwgbGVuZ3RoO1xuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGF0YSA9IG5ldyBVaW50OEFycmF5KGlucHV0Lmxlbmd0aCAqIDIpO1xuICAgICAgbGVuZ3RoID0gMDtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gaW5wdXQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBjb25zdCBjb2RlID0gaW5wdXQuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoY29kZSA8PSAweGZmKSB7XG4gICAgICAgICAgZGF0YVtsZW5ndGgrK10gPSBjb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGFbbGVuZ3RoKytdID0gY29kZSA+Pj4gODtcbiAgICAgICAgICBkYXRhW2xlbmd0aCsrXSA9IGNvZGUgJiAweGZmO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNBcnJheUJ1ZmZlcikoaW5wdXQpKSB7XG4gICAgICBkYXRhID0gaW5wdXQuc2xpY2UoKTtcbiAgICAgIGxlbmd0aCA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgZGF0YSBmb3JtYXQgaW4gTXVybXVySGFzaDNfNjRfdXBkYXRlLiBcIiArIFwiSW5wdXQgbXVzdCBiZSBhIHN0cmluZyBvciBhcnJheS5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgYmxvY2tDb3VudHMgPSBsZW5ndGggPj4gMjtcbiAgICBjb25zdCB0YWlsTGVuZ3RoID0gbGVuZ3RoIC0gYmxvY2tDb3VudHMgKiA0O1xuICAgIGNvbnN0IGRhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5idWZmZXIsIDAsIGJsb2NrQ291bnRzKTtcbiAgICBsZXQgazEgPSAwLFxuICAgICAgICBrMiA9IDA7XG4gICAgbGV0IGgxID0gdGhpcy5oMSxcbiAgICAgICAgaDIgPSB0aGlzLmgyO1xuICAgIGNvbnN0IEMxID0gMHhjYzllMmQ1MSxcbiAgICAgICAgICBDMiA9IDB4MWI4NzM1OTM7XG4gICAgY29uc3QgQzFfTE9XID0gQzEgJiBNQVNLX0xPVyxcbiAgICAgICAgICBDMl9MT1cgPSBDMiAmIE1BU0tfTE9XO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9ja0NvdW50czsgaSsrKSB7XG4gICAgICBpZiAoaSAmIDEpIHtcbiAgICAgICAgazEgPSBkYXRhVWludDMyW2ldO1xuICAgICAgICBrMSA9IGsxICogQzEgJiBNQVNLX0hJR0ggfCBrMSAqIEMxX0xPVyAmIE1BU0tfTE9XO1xuICAgICAgICBrMSA9IGsxIDw8IDE1IHwgazEgPj4+IDE3O1xuICAgICAgICBrMSA9IGsxICogQzIgJiBNQVNLX0hJR0ggfCBrMSAqIEMyX0xPVyAmIE1BU0tfTE9XO1xuICAgICAgICBoMSBePSBrMTtcbiAgICAgICAgaDEgPSBoMSA8PCAxMyB8IGgxID4+PiAxOTtcbiAgICAgICAgaDEgPSBoMSAqIDUgKyAweGU2NTQ2YjY0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgazIgPSBkYXRhVWludDMyW2ldO1xuICAgICAgICBrMiA9IGsyICogQzEgJiBNQVNLX0hJR0ggfCBrMiAqIEMxX0xPVyAmIE1BU0tfTE9XO1xuICAgICAgICBrMiA9IGsyIDw8IDE1IHwgazIgPj4+IDE3O1xuICAgICAgICBrMiA9IGsyICogQzIgJiBNQVNLX0hJR0ggfCBrMiAqIEMyX0xPVyAmIE1BU0tfTE9XO1xuICAgICAgICBoMiBePSBrMjtcbiAgICAgICAgaDIgPSBoMiA8PCAxMyB8IGgyID4+PiAxOTtcbiAgICAgICAgaDIgPSBoMiAqIDUgKyAweGU2NTQ2YjY0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGsxID0gMDtcblxuICAgIHN3aXRjaCAodGFpbExlbmd0aCkge1xuICAgICAgY2FzZSAzOlxuICAgICAgICBrMSBePSBkYXRhW2Jsb2NrQ291bnRzICogNCArIDJdIDw8IDE2O1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIGsxIF49IGRhdGFbYmxvY2tDb3VudHMgKiA0ICsgMV0gPDwgODtcblxuICAgICAgY2FzZSAxOlxuICAgICAgICBrMSBePSBkYXRhW2Jsb2NrQ291bnRzICogNF07XG4gICAgICAgIGsxID0gazEgKiBDMSAmIE1BU0tfSElHSCB8IGsxICogQzFfTE9XICYgTUFTS19MT1c7XG4gICAgICAgIGsxID0gazEgPDwgMTUgfCBrMSA+Pj4gMTc7XG4gICAgICAgIGsxID0gazEgKiBDMiAmIE1BU0tfSElHSCB8IGsxICogQzJfTE9XICYgTUFTS19MT1c7XG5cbiAgICAgICAgaWYgKGJsb2NrQ291bnRzICYgMSkge1xuICAgICAgICAgIGgxIF49IGsxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGgyIF49IGsxO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB0aGlzLmgxID0gaDE7XG4gICAgdGhpcy5oMiA9IGgyO1xuICB9XG5cbiAgaGV4ZGlnZXN0KCkge1xuICAgIGxldCBoMSA9IHRoaXMuaDEsXG4gICAgICAgIGgyID0gdGhpcy5oMjtcbiAgICBoMSBePSBoMiA+Pj4gMTtcbiAgICBoMSA9IGgxICogMHhlZDU1OGNjZCAmIE1BU0tfSElHSCB8IGgxICogMHg4Y2NkICYgTUFTS19MT1c7XG4gICAgaDIgPSBoMiAqIDB4ZmY1MWFmZDcgJiBNQVNLX0hJR0ggfCAoKGgyIDw8IDE2IHwgaDEgPj4+IDE2KSAqIDB4YWZkN2VkNTUgJiBNQVNLX0hJR0gpID4+PiAxNjtcbiAgICBoMSBePSBoMiA+Pj4gMTtcbiAgICBoMSA9IGgxICogMHgxYTg1ZWM1MyAmIE1BU0tfSElHSCB8IGgxICogMHhlYzUzICYgTUFTS19MT1c7XG4gICAgaDIgPSBoMiAqIDB4YzRjZWI5ZmUgJiBNQVNLX0hJR0ggfCAoKGgyIDw8IDE2IHwgaDEgPj4+IDE2KSAqIDB4YjlmZTFhODUgJiBNQVNLX0hJR0gpID4+PiAxNjtcbiAgICBoMSBePSBoMiA+Pj4gMTtcbiAgICBjb25zdCBoZXgxID0gKGgxID4+PiAwKS50b1N0cmluZygxNiksXG4gICAgICAgICAgaGV4MiA9IChoMiA+Pj4gMCkudG9TdHJpbmcoMTYpO1xuICAgIHJldHVybiBoZXgxLnBhZFN0YXJ0KDgsIFwiMFwiKSArIGhleDIucGFkU3RhcnQoOCwgXCIwXCIpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5NdXJtdXJIYXNoM182NCA9IE11cm11ckhhc2gzXzY0O1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkNhbnZhc0dyYXBoaWNzID0gdm9pZCAwO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3BhdHRlcm5faGVscGVyID0gX193X3BkZmpzX3JlcXVpcmVfXygxMSk7XG5cbnZhciBfaW1hZ2VfdXRpbHMgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEyKTtcblxudmFyIF9pc19ub2RlID0gX193X3BkZmpzX3JlcXVpcmVfXygzKTtcblxudmFyIF9kaXNwbGF5X3V0aWxzID0gX193X3BkZmpzX3JlcXVpcmVfXyg1KTtcblxuY29uc3QgTUlOX0ZPTlRfU0laRSA9IDE2O1xuY29uc3QgTUFYX0ZPTlRfU0laRSA9IDEwMDtcbmNvbnN0IE1BWF9HUk9VUF9TSVpFID0gNDA5NjtcbmNvbnN0IEVYRUNVVElPTl9USU1FID0gMTU7XG5jb25zdCBFWEVDVVRJT05fU1RFUFMgPSAxMDtcbmNvbnN0IENPTVBJTEVfVFlQRTNfR0xZUEhTID0gdHJ1ZTtcbmNvbnN0IE1BWF9TSVpFX1RPX0NPTVBJTEUgPSAxMDAwO1xuY29uc3QgRlVMTF9DSFVOS19IRUlHSFQgPSAxNjtcbmNvbnN0IExJTkVXSURUSF9TQ0FMRV9GQUNUT1IgPSAxLjAwMDAwMTtcblxuZnVuY3Rpb24gbWlycm9yQ29udGV4dE9wZXJhdGlvbnMoY3R4LCBkZXN0Q3R4KSB7XG4gIGlmIChjdHguX3JlbW92ZU1pcnJvcmluZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRleHQgaXMgYWxyZWFkeSBmb3J3YXJkaW5nIG9wZXJhdGlvbnMuXCIpO1xuICB9XG5cbiAgY3R4Ll9fb3JpZ2luYWxTYXZlID0gY3R4LnNhdmU7XG4gIGN0eC5fX29yaWdpbmFsUmVzdG9yZSA9IGN0eC5yZXN0b3JlO1xuICBjdHguX19vcmlnaW5hbFJvdGF0ZSA9IGN0eC5yb3RhdGU7XG4gIGN0eC5fX29yaWdpbmFsU2NhbGUgPSBjdHguc2NhbGU7XG4gIGN0eC5fX29yaWdpbmFsVHJhbnNsYXRlID0gY3R4LnRyYW5zbGF0ZTtcbiAgY3R4Ll9fb3JpZ2luYWxUcmFuc2Zvcm0gPSBjdHgudHJhbnNmb3JtO1xuICBjdHguX19vcmlnaW5hbFNldFRyYW5zZm9ybSA9IGN0eC5zZXRUcmFuc2Zvcm07XG4gIGN0eC5fX29yaWdpbmFsUmVzZXRUcmFuc2Zvcm0gPSBjdHgucmVzZXRUcmFuc2Zvcm07XG4gIGN0eC5fX29yaWdpbmFsQ2xpcCA9IGN0eC5jbGlwO1xuICBjdHguX19vcmlnaW5hbE1vdmVUbyA9IGN0eC5tb3ZlVG87XG4gIGN0eC5fX29yaWdpbmFsTGluZVRvID0gY3R4LmxpbmVUbztcbiAgY3R4Ll9fb3JpZ2luYWxCZXppZXJDdXJ2ZVRvID0gY3R4LmJlemllckN1cnZlVG87XG4gIGN0eC5fX29yaWdpbmFsUmVjdCA9IGN0eC5yZWN0O1xuICBjdHguX19vcmlnaW5hbENsb3NlUGF0aCA9IGN0eC5jbG9zZVBhdGg7XG4gIGN0eC5fX29yaWdpbmFsQmVnaW5QYXRoID0gY3R4LmJlZ2luUGF0aDtcblxuICBjdHguX3JlbW92ZU1pcnJvcmluZyA9ICgpID0+IHtcbiAgICBjdHguc2F2ZSA9IGN0eC5fX29yaWdpbmFsU2F2ZTtcbiAgICBjdHgucmVzdG9yZSA9IGN0eC5fX29yaWdpbmFsUmVzdG9yZTtcbiAgICBjdHgucm90YXRlID0gY3R4Ll9fb3JpZ2luYWxSb3RhdGU7XG4gICAgY3R4LnNjYWxlID0gY3R4Ll9fb3JpZ2luYWxTY2FsZTtcbiAgICBjdHgudHJhbnNsYXRlID0gY3R4Ll9fb3JpZ2luYWxUcmFuc2xhdGU7XG4gICAgY3R4LnRyYW5zZm9ybSA9IGN0eC5fX29yaWdpbmFsVHJhbnNmb3JtO1xuICAgIGN0eC5zZXRUcmFuc2Zvcm0gPSBjdHguX19vcmlnaW5hbFNldFRyYW5zZm9ybTtcbiAgICBjdHgucmVzZXRUcmFuc2Zvcm0gPSBjdHguX19vcmlnaW5hbFJlc2V0VHJhbnNmb3JtO1xuICAgIGN0eC5jbGlwID0gY3R4Ll9fb3JpZ2luYWxDbGlwO1xuICAgIGN0eC5tb3ZlVG8gPSBjdHguX19vcmlnaW5hbE1vdmVUbztcbiAgICBjdHgubGluZVRvID0gY3R4Ll9fb3JpZ2luYWxMaW5lVG87XG4gICAgY3R4LmJlemllckN1cnZlVG8gPSBjdHguX19vcmlnaW5hbEJlemllckN1cnZlVG87XG4gICAgY3R4LnJlY3QgPSBjdHguX19vcmlnaW5hbFJlY3Q7XG4gICAgY3R4LmNsb3NlUGF0aCA9IGN0eC5fX29yaWdpbmFsQ2xvc2VQYXRoO1xuICAgIGN0eC5iZWdpblBhdGggPSBjdHguX19vcmlnaW5hbEJlZ2luUGF0aDtcbiAgICBkZWxldGUgY3R4Ll9yZW1vdmVNaXJyb3Jpbmc7XG4gIH07XG5cbiAgY3R4LnNhdmUgPSBmdW5jdGlvbiBjdHhTYXZlKCkge1xuICAgIGRlc3RDdHguc2F2ZSgpO1xuXG4gICAgdGhpcy5fX29yaWdpbmFsU2F2ZSgpO1xuICB9O1xuXG4gIGN0eC5yZXN0b3JlID0gZnVuY3Rpb24gY3R4UmVzdG9yZSgpIHtcbiAgICBkZXN0Q3R4LnJlc3RvcmUoKTtcblxuICAgIHRoaXMuX19vcmlnaW5hbFJlc3RvcmUoKTtcbiAgfTtcblxuICBjdHgudHJhbnNsYXRlID0gZnVuY3Rpb24gY3R4VHJhbnNsYXRlKHgsIHkpIHtcbiAgICBkZXN0Q3R4LnRyYW5zbGF0ZSh4LCB5KTtcblxuICAgIHRoaXMuX19vcmlnaW5hbFRyYW5zbGF0ZSh4LCB5KTtcbiAgfTtcblxuICBjdHguc2NhbGUgPSBmdW5jdGlvbiBjdHhTY2FsZSh4LCB5KSB7XG4gICAgZGVzdEN0eC5zY2FsZSh4LCB5KTtcblxuICAgIHRoaXMuX19vcmlnaW5hbFNjYWxlKHgsIHkpO1xuICB9O1xuXG4gIGN0eC50cmFuc2Zvcm0gPSBmdW5jdGlvbiBjdHhUcmFuc2Zvcm0oYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGRlc3RDdHgudHJhbnNmb3JtKGEsIGIsIGMsIGQsIGUsIGYpO1xuXG4gICAgdGhpcy5fX29yaWdpbmFsVHJhbnNmb3JtKGEsIGIsIGMsIGQsIGUsIGYpO1xuICB9O1xuXG4gIGN0eC5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBjdHhTZXRUcmFuc2Zvcm0oYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGRlc3RDdHguc2V0VHJhbnNmb3JtKGEsIGIsIGMsIGQsIGUsIGYpO1xuXG4gICAgdGhpcy5fX29yaWdpbmFsU2V0VHJhbnNmb3JtKGEsIGIsIGMsIGQsIGUsIGYpO1xuICB9O1xuXG4gIGN0eC5yZXNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIGN0eFJlc2V0VHJhbnNmb3JtKCkge1xuICAgIGRlc3RDdHgucmVzZXRUcmFuc2Zvcm0oKTtcblxuICAgIHRoaXMuX19vcmlnaW5hbFJlc2V0VHJhbnNmb3JtKCk7XG4gIH07XG5cbiAgY3R4LnJvdGF0ZSA9IGZ1bmN0aW9uIGN0eFJvdGF0ZShhbmdsZSkge1xuICAgIGRlc3RDdHgucm90YXRlKGFuZ2xlKTtcblxuICAgIHRoaXMuX19vcmlnaW5hbFJvdGF0ZShhbmdsZSk7XG4gIH07XG5cbiAgY3R4LmNsaXAgPSBmdW5jdGlvbiBjdHhSb3RhdGUocnVsZSkge1xuICAgIGRlc3RDdHguY2xpcChydWxlKTtcblxuICAgIHRoaXMuX19vcmlnaW5hbENsaXAocnVsZSk7XG4gIH07XG5cbiAgY3R4Lm1vdmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgZGVzdEN0eC5tb3ZlVG8oeCwgeSk7XG5cbiAgICB0aGlzLl9fb3JpZ2luYWxNb3ZlVG8oeCwgeSk7XG4gIH07XG5cbiAgY3R4LmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgZGVzdEN0eC5saW5lVG8oeCwgeSk7XG5cbiAgICB0aGlzLl9fb3JpZ2luYWxMaW5lVG8oeCwgeSk7XG4gIH07XG5cbiAgY3R4LmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiAoY3AxeCwgY3AxeSwgY3AyeCwgY3AyeSwgeCwgeSkge1xuICAgIGRlc3RDdHguYmV6aWVyQ3VydmVUbyhjcDF4LCBjcDF5LCBjcDJ4LCBjcDJ5LCB4LCB5KTtcblxuICAgIHRoaXMuX19vcmlnaW5hbEJlemllckN1cnZlVG8oY3AxeCwgY3AxeSwgY3AyeCwgY3AyeSwgeCwgeSk7XG4gIH07XG5cbiAgY3R4LnJlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIGRlc3RDdHgucmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIHRoaXMuX19vcmlnaW5hbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gIH07XG5cbiAgY3R4LmNsb3NlUGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICBkZXN0Q3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgdGhpcy5fX29yaWdpbmFsQ2xvc2VQYXRoKCk7XG4gIH07XG5cbiAgY3R4LmJlZ2luUGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICBkZXN0Q3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgdGhpcy5fX29yaWdpbmFsQmVnaW5QYXRoKCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGFkZENvbnRleHRDdXJyZW50VHJhbnNmb3JtKGN0eCkge1xuICBpZiAoY3R4Ll90cmFuc2Zvcm1TdGFjaykge1xuICAgIGN0eC5fdHJhbnNmb3JtU3RhY2sgPSBbXTtcbiAgfVxuXG4gIGlmIChjdHgubW96Q3VycmVudFRyYW5zZm9ybSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGN0eC5fb3JpZ2luYWxTYXZlID0gY3R4LnNhdmU7XG4gIGN0eC5fb3JpZ2luYWxSZXN0b3JlID0gY3R4LnJlc3RvcmU7XG4gIGN0eC5fb3JpZ2luYWxSb3RhdGUgPSBjdHgucm90YXRlO1xuICBjdHguX29yaWdpbmFsU2NhbGUgPSBjdHguc2NhbGU7XG4gIGN0eC5fb3JpZ2luYWxUcmFuc2xhdGUgPSBjdHgudHJhbnNsYXRlO1xuICBjdHguX29yaWdpbmFsVHJhbnNmb3JtID0gY3R4LnRyYW5zZm9ybTtcbiAgY3R4Ll9vcmlnaW5hbFNldFRyYW5zZm9ybSA9IGN0eC5zZXRUcmFuc2Zvcm07XG4gIGN0eC5fb3JpZ2luYWxSZXNldFRyYW5zZm9ybSA9IGN0eC5yZXNldFRyYW5zZm9ybTtcbiAgY3R4Ll90cmFuc2Zvcm1NYXRyaXggPSBjdHguX3RyYW5zZm9ybU1hdHJpeCB8fCBbMSwgMCwgMCwgMSwgMCwgMF07XG4gIGN0eC5fdHJhbnNmb3JtU3RhY2sgPSBbXTtcblxuICB0cnkge1xuICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZihjdHgpLCBcImxpbmVXaWR0aFwiKTtcbiAgICBjdHguX3NldExpbmVXaWR0aCA9IGRlc2Muc2V0O1xuICAgIGN0eC5fZ2V0TGluZVdpZHRoID0gZGVzYy5nZXQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwgXCJsaW5lV2lkdGhcIiwge1xuICAgICAgc2V0OiBmdW5jdGlvbiBzZXRMaW5lV2lkdGgod2lkdGgpIHtcbiAgICAgICAgdGhpcy5fc2V0TGluZVdpZHRoKHdpZHRoICogTElORVdJRFRIX1NDQUxFX0ZBQ1RPUik7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXRMaW5lV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRMaW5lV2lkdGgoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoXykge31cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBcIm1vekN1cnJlbnRUcmFuc2Zvcm1cIiwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0Q3VycmVudFRyYW5zZm9ybSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXg7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwgXCJtb3pDdXJyZW50VHJhbnNmb3JtSW52ZXJzZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXRDdXJyZW50VHJhbnNmb3JtSW52ZXJzZSgpIHtcbiAgICAgIGNvbnN0IFthLCBiLCBjLCBkLCBlLCBmXSA9IHRoaXMuX3RyYW5zZm9ybU1hdHJpeDtcbiAgICAgIGNvbnN0IGFkX2JjID0gYSAqIGQgLSBiICogYztcbiAgICAgIGNvbnN0IGJjX2FkID0gYiAqIGMgLSBhICogZDtcbiAgICAgIHJldHVybiBbZCAvIGFkX2JjLCBiIC8gYmNfYWQsIGMgLyBiY19hZCwgYSAvIGFkX2JjLCAoZCAqIGUgLSBjICogZikgLyBiY19hZCwgKGIgKiBlIC0gYSAqIGYpIC8gYWRfYmNdO1xuICAgIH1cbiAgfSk7XG5cbiAgY3R4LnNhdmUgPSBmdW5jdGlvbiBjdHhTYXZlKCkge1xuICAgIGNvbnN0IG9sZCA9IHRoaXMuX3RyYW5zZm9ybU1hdHJpeDtcblxuICAgIHRoaXMuX3RyYW5zZm9ybVN0YWNrLnB1c2gob2xkKTtcblxuICAgIHRoaXMuX3RyYW5zZm9ybU1hdHJpeCA9IG9sZC5zbGljZSgwLCA2KTtcblxuICAgIHRoaXMuX29yaWdpbmFsU2F2ZSgpO1xuICB9O1xuXG4gIGN0eC5yZXN0b3JlID0gZnVuY3Rpb24gY3R4UmVzdG9yZSgpIHtcbiAgICBpZiAodGhpcy5fdHJhbnNmb3JtU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAoMCwgX3V0aWwud2FybikoXCJUcmllZCB0byByZXN0b3JlIGEgY3R4IHdoZW4gdGhlIHN0YWNrIHdhcyBhbHJlYWR5IGVtcHR5LlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2ID0gdGhpcy5fdHJhbnNmb3JtU3RhY2sucG9wKCk7XG5cbiAgICBpZiAocHJldikge1xuICAgICAgdGhpcy5fdHJhbnNmb3JtTWF0cml4ID0gcHJldjtcblxuICAgICAgdGhpcy5fb3JpZ2luYWxSZXN0b3JlKCk7XG4gICAgfVxuICB9O1xuXG4gIGN0eC50cmFuc2xhdGUgPSBmdW5jdGlvbiBjdHhUcmFuc2xhdGUoeCwgeSkge1xuICAgIGNvbnN0IG0gPSB0aGlzLl90cmFuc2Zvcm1NYXRyaXg7XG4gICAgbVs0XSA9IG1bMF0gKiB4ICsgbVsyXSAqIHkgKyBtWzRdO1xuICAgIG1bNV0gPSBtWzFdICogeCArIG1bM10gKiB5ICsgbVs1XTtcblxuICAgIHRoaXMuX29yaWdpbmFsVHJhbnNsYXRlKHgsIHkpO1xuICB9O1xuXG4gIGN0eC5zY2FsZSA9IGZ1bmN0aW9uIGN0eFNjYWxlKHgsIHkpIHtcbiAgICBjb25zdCBtID0gdGhpcy5fdHJhbnNmb3JtTWF0cml4O1xuICAgIG1bMF0gKj0geDtcbiAgICBtWzFdICo9IHg7XG4gICAgbVsyXSAqPSB5O1xuICAgIG1bM10gKj0geTtcblxuICAgIHRoaXMuX29yaWdpbmFsU2NhbGUoeCwgeSk7XG4gIH07XG5cbiAgY3R4LnRyYW5zZm9ybSA9IGZ1bmN0aW9uIGN0eFRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgY29uc3QgbSA9IHRoaXMuX3RyYW5zZm9ybU1hdHJpeDtcbiAgICB0aGlzLl90cmFuc2Zvcm1NYXRyaXggPSBbbVswXSAqIGEgKyBtWzJdICogYiwgbVsxXSAqIGEgKyBtWzNdICogYiwgbVswXSAqIGMgKyBtWzJdICogZCwgbVsxXSAqIGMgKyBtWzNdICogZCwgbVswXSAqIGUgKyBtWzJdICogZiArIG1bNF0sIG1bMV0gKiBlICsgbVszXSAqIGYgKyBtWzVdXTtcblxuICAgIGN0eC5fb3JpZ2luYWxUcmFuc2Zvcm0oYSwgYiwgYywgZCwgZSwgZik7XG4gIH07XG5cbiAgY3R4LnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIGN0eFNldFRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgdGhpcy5fdHJhbnNmb3JtTWF0cml4ID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXG4gICAgY3R4Ll9vcmlnaW5hbFNldFRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKTtcbiAgfTtcblxuICBjdHgucmVzZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBjdHhSZXNldFRyYW5zZm9ybSgpIHtcbiAgICB0aGlzLl90cmFuc2Zvcm1NYXRyaXggPSBbMSwgMCwgMCwgMSwgMCwgMF07XG5cbiAgICBjdHguX29yaWdpbmFsUmVzZXRUcmFuc2Zvcm0oKTtcbiAgfTtcblxuICBjdHgucm90YXRlID0gZnVuY3Rpb24gY3R4Um90YXRlKGFuZ2xlKSB7XG4gICAgY29uc3QgY29zVmFsdWUgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgY29uc3Qgc2luVmFsdWUgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgY29uc3QgbSA9IHRoaXMuX3RyYW5zZm9ybU1hdHJpeDtcbiAgICB0aGlzLl90cmFuc2Zvcm1NYXRyaXggPSBbbVswXSAqIGNvc1ZhbHVlICsgbVsyXSAqIHNpblZhbHVlLCBtWzFdICogY29zVmFsdWUgKyBtWzNdICogc2luVmFsdWUsIG1bMF0gKiAtc2luVmFsdWUgKyBtWzJdICogY29zVmFsdWUsIG1bMV0gKiAtc2luVmFsdWUgKyBtWzNdICogY29zVmFsdWUsIG1bNF0sIG1bNV1dO1xuXG4gICAgdGhpcy5fb3JpZ2luYWxSb3RhdGUoYW5nbGUpO1xuICB9O1xufVxuXG5jbGFzcyBDYWNoZWRDYW52YXNlcyB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhc0ZhY3RvcnkpIHtcbiAgICB0aGlzLmNhbnZhc0ZhY3RvcnkgPSBjYW52YXNGYWN0b3J5O1xuICAgIHRoaXMuY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG5cbiAgZ2V0Q2FudmFzKGlkLCB3aWR0aCwgaGVpZ2h0LCB0cmFja1RyYW5zZm9ybSkge1xuICAgIGxldCBjYW52YXNFbnRyeTtcblxuICAgIGlmICh0aGlzLmNhY2hlW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjYW52YXNFbnRyeSA9IHRoaXMuY2FjaGVbaWRdO1xuICAgICAgdGhpcy5jYW52YXNGYWN0b3J5LnJlc2V0KGNhbnZhc0VudHJ5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIGNhbnZhc0VudHJ5LmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW52YXNFbnRyeSA9IHRoaXMuY2FudmFzRmFjdG9yeS5jcmVhdGUod2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLmNhY2hlW2lkXSA9IGNhbnZhc0VudHJ5O1xuICAgIH1cblxuICAgIGlmICh0cmFja1RyYW5zZm9ybSkge1xuICAgICAgYWRkQ29udGV4dEN1cnJlbnRUcmFuc2Zvcm0oY2FudmFzRW50cnkuY29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbnZhc0VudHJ5O1xuICB9XG5cbiAgZGVsZXRlKGlkKSB7XG4gICAgZGVsZXRlIHRoaXMuY2FjaGVbaWRdO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmNhY2hlKSB7XG4gICAgICBjb25zdCBjYW52YXNFbnRyeSA9IHRoaXMuY2FjaGVbaWRdO1xuICAgICAgdGhpcy5jYW52YXNGYWN0b3J5LmRlc3Ryb3koY2FudmFzRW50cnkpO1xuICAgICAgZGVsZXRlIHRoaXMuY2FjaGVbaWRdO1xuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGRyYXdJbWFnZUF0SW50ZWdlckNvb3JkcyhjdHgsIHNyY0ltZywgc3JjWCwgc3JjWSwgc3JjVywgc3JjSCwgZGVzdFgsIGRlc3RZLCBkZXN0VywgZGVzdEgpIHtcbiAgY29uc3QgW2EsIGIsIGMsIGQsIHR4LCB0eV0gPSBjdHgubW96Q3VycmVudFRyYW5zZm9ybTtcblxuICBpZiAoYiA9PT0gMCAmJiBjID09PSAwKSB7XG4gICAgY29uc3QgdGxYID0gZGVzdFggKiBhICsgdHg7XG4gICAgY29uc3QgclRsWCA9IE1hdGgucm91bmQodGxYKTtcbiAgICBjb25zdCB0bFkgPSBkZXN0WSAqIGQgKyB0eTtcbiAgICBjb25zdCByVGxZID0gTWF0aC5yb3VuZCh0bFkpO1xuICAgIGNvbnN0IGJyWCA9IChkZXN0WCArIGRlc3RXKSAqIGEgKyB0eDtcbiAgICBjb25zdCByV2lkdGggPSBNYXRoLmFicyhNYXRoLnJvdW5kKGJyWCkgLSByVGxYKSB8fCAxO1xuICAgIGNvbnN0IGJyWSA9IChkZXN0WSArIGRlc3RIKSAqIGQgKyB0eTtcbiAgICBjb25zdCBySGVpZ2h0ID0gTWF0aC5hYnMoTWF0aC5yb3VuZChiclkpIC0gclRsWSkgfHwgMTtcbiAgICBjdHguc2V0VHJhbnNmb3JtKE1hdGguc2lnbihhKSwgMCwgMCwgTWF0aC5zaWduKGQpLCByVGxYLCByVGxZKTtcbiAgICBjdHguZHJhd0ltYWdlKHNyY0ltZywgc3JjWCwgc3JjWSwgc3JjVywgc3JjSCwgMCwgMCwgcldpZHRoLCBySGVpZ2h0KTtcbiAgICBjdHguc2V0VHJhbnNmb3JtKGEsIGIsIGMsIGQsIHR4LCB0eSk7XG4gICAgcmV0dXJuIFtyV2lkdGgsIHJIZWlnaHRdO1xuICB9XG5cbiAgaWYgKGEgPT09IDAgJiYgZCA9PT0gMCkge1xuICAgIGNvbnN0IHRsWCA9IGRlc3RZICogYyArIHR4O1xuICAgIGNvbnN0IHJUbFggPSBNYXRoLnJvdW5kKHRsWCk7XG4gICAgY29uc3QgdGxZID0gZGVzdFggKiBiICsgdHk7XG4gICAgY29uc3QgclRsWSA9IE1hdGgucm91bmQodGxZKTtcbiAgICBjb25zdCBiclggPSAoZGVzdFkgKyBkZXN0SCkgKiBjICsgdHg7XG4gICAgY29uc3QgcldpZHRoID0gTWF0aC5hYnMoTWF0aC5yb3VuZChiclgpIC0gclRsWCkgfHwgMTtcbiAgICBjb25zdCBiclkgPSAoZGVzdFggKyBkZXN0VykgKiBiICsgdHk7XG4gICAgY29uc3QgckhlaWdodCA9IE1hdGguYWJzKE1hdGgucm91bmQoYnJZKSAtIHJUbFkpIHx8IDE7XG4gICAgY3R4LnNldFRyYW5zZm9ybSgwLCBNYXRoLnNpZ24oYiksIE1hdGguc2lnbihjKSwgMCwgclRsWCwgclRsWSk7XG4gICAgY3R4LmRyYXdJbWFnZShzcmNJbWcsIHNyY1gsIHNyY1ksIHNyY1csIHNyY0gsIDAsIDAsIHJIZWlnaHQsIHJXaWR0aCk7XG4gICAgY3R4LnNldFRyYW5zZm9ybShhLCBiLCBjLCBkLCB0eCwgdHkpO1xuICAgIHJldHVybiBbckhlaWdodCwgcldpZHRoXTtcbiAgfVxuXG4gIGN0eC5kcmF3SW1hZ2Uoc3JjSW1nLCBzcmNYLCBzcmNZLCBzcmNXLCBzcmNILCBkZXN0WCwgZGVzdFksIGRlc3RXLCBkZXN0SCk7XG4gIGNvbnN0IHNjYWxlWCA9IE1hdGguaHlwb3QoYSwgYik7XG4gIGNvbnN0IHNjYWxlWSA9IE1hdGguaHlwb3QoYywgZCk7XG4gIHJldHVybiBbc2NhbGVYICogZGVzdFcsIHNjYWxlWSAqIGRlc3RIXTtcbn1cblxuZnVuY3Rpb24gY29tcGlsZVR5cGUzR2x5cGgoaW1nRGF0YSkge1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSBpbWdEYXRhO1xuXG4gIGlmICghQ09NUElMRV9UWVBFM19HTFlQSFMgfHwgd2lkdGggPiBNQVhfU0laRV9UT19DT01QSUxFIHx8IGhlaWdodCA+IE1BWF9TSVpFX1RPX0NPTVBJTEUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IFBPSU5UX1RPX1BST0NFU1NfTElNSVQgPSAxMDAwO1xuICBjb25zdCBQT0lOVF9UWVBFUyA9IG5ldyBVaW50OEFycmF5KFswLCAyLCA0LCAwLCAxLCAwLCA1LCA0LCA4LCAxMCwgMCwgOCwgMCwgMiwgMSwgMF0pO1xuICBjb25zdCB3aWR0aDEgPSB3aWR0aCArIDE7XG4gIGxldCBwb2ludHMgPSBuZXcgVWludDhBcnJheSh3aWR0aDEgKiAoaGVpZ2h0ICsgMSkpO1xuICBsZXQgaSwgaiwgajA7XG4gIGNvbnN0IGxpbmVTaXplID0gd2lkdGggKyA3ICYgfjc7XG4gIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkobGluZVNpemUgKiBoZWlnaHQpLFxuICAgICAgcG9zID0gMDtcblxuICBmb3IgKGNvbnN0IGVsZW0gb2YgaW1nRGF0YS5kYXRhKSB7XG4gICAgbGV0IG1hc2sgPSAxMjg7XG5cbiAgICB3aGlsZSAobWFzayA+IDApIHtcbiAgICAgIGRhdGFbcG9zKytdID0gZWxlbSAmIG1hc2sgPyAwIDogMjU1O1xuICAgICAgbWFzayA+Pj0gMTtcbiAgICB9XG4gIH1cblxuICBsZXQgY291bnQgPSAwO1xuICBwb3MgPSAwO1xuXG4gIGlmIChkYXRhW3Bvc10gIT09IDApIHtcbiAgICBwb2ludHNbMF0gPSAxO1xuICAgICsrY291bnQ7XG4gIH1cblxuICBmb3IgKGogPSAxOyBqIDwgd2lkdGg7IGorKykge1xuICAgIGlmIChkYXRhW3Bvc10gIT09IGRhdGFbcG9zICsgMV0pIHtcbiAgICAgIHBvaW50c1tqXSA9IGRhdGFbcG9zXSA/IDIgOiAxO1xuICAgICAgKytjb3VudDtcbiAgICB9XG5cbiAgICBwb3MrKztcbiAgfVxuXG4gIGlmIChkYXRhW3Bvc10gIT09IDApIHtcbiAgICBwb2ludHNbal0gPSAyO1xuICAgICsrY291bnQ7XG4gIH1cblxuICBmb3IgKGkgPSAxOyBpIDwgaGVpZ2h0OyBpKyspIHtcbiAgICBwb3MgPSBpICogbGluZVNpemU7XG4gICAgajAgPSBpICogd2lkdGgxO1xuXG4gICAgaWYgKGRhdGFbcG9zIC0gbGluZVNpemVdICE9PSBkYXRhW3Bvc10pIHtcbiAgICAgIHBvaW50c1tqMF0gPSBkYXRhW3Bvc10gPyAxIDogODtcbiAgICAgICsrY291bnQ7XG4gICAgfVxuXG4gICAgbGV0IHN1bSA9IChkYXRhW3Bvc10gPyA0IDogMCkgKyAoZGF0YVtwb3MgLSBsaW5lU2l6ZV0gPyA4IDogMCk7XG5cbiAgICBmb3IgKGogPSAxOyBqIDwgd2lkdGg7IGorKykge1xuICAgICAgc3VtID0gKHN1bSA+PiAyKSArIChkYXRhW3BvcyArIDFdID8gNCA6IDApICsgKGRhdGFbcG9zIC0gbGluZVNpemUgKyAxXSA/IDggOiAwKTtcblxuICAgICAgaWYgKFBPSU5UX1RZUEVTW3N1bV0pIHtcbiAgICAgICAgcG9pbnRzW2owICsgal0gPSBQT0lOVF9UWVBFU1tzdW1dO1xuICAgICAgICArK2NvdW50O1xuICAgICAgfVxuXG4gICAgICBwb3MrKztcbiAgICB9XG5cbiAgICBpZiAoZGF0YVtwb3MgLSBsaW5lU2l6ZV0gIT09IGRhdGFbcG9zXSkge1xuICAgICAgcG9pbnRzW2owICsgal0gPSBkYXRhW3Bvc10gPyAyIDogNDtcbiAgICAgICsrY291bnQ7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50ID4gUE9JTlRfVE9fUFJPQ0VTU19MSU1JVCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcG9zID0gbGluZVNpemUgKiAoaGVpZ2h0IC0gMSk7XG4gIGowID0gaSAqIHdpZHRoMTtcblxuICBpZiAoZGF0YVtwb3NdICE9PSAwKSB7XG4gICAgcG9pbnRzW2owXSA9IDg7XG4gICAgKytjb3VudDtcbiAgfVxuXG4gIGZvciAoaiA9IDE7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgaWYgKGRhdGFbcG9zXSAhPT0gZGF0YVtwb3MgKyAxXSkge1xuICAgICAgcG9pbnRzW2owICsgal0gPSBkYXRhW3Bvc10gPyA0IDogODtcbiAgICAgICsrY291bnQ7XG4gICAgfVxuXG4gICAgcG9zKys7XG4gIH1cblxuICBpZiAoZGF0YVtwb3NdICE9PSAwKSB7XG4gICAgcG9pbnRzW2owICsgal0gPSA0O1xuICAgICsrY291bnQ7XG4gIH1cblxuICBpZiAoY291bnQgPiBQT0lOVF9UT19QUk9DRVNTX0xJTUlUKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzdGVwcyA9IG5ldyBJbnQzMkFycmF5KFswLCB3aWR0aDEsIC0xLCAwLCAtd2lkdGgxLCAwLCAwLCAwLCAxXSk7XG4gIGxldCBwYXRoLCBvdXRsaW5lcywgY29vcmRzO1xuXG4gIGlmICghX2lzX25vZGUuaXNOb2RlSlMpIHtcbiAgICBwYXRoID0gbmV3IFBhdGgyRCgpO1xuICB9IGVsc2Uge1xuICAgIG91dGxpbmVzID0gW107XG4gIH1cblxuICBmb3IgKGkgPSAwOyBjb3VudCAmJiBpIDw9IGhlaWdodDsgaSsrKSB7XG4gICAgbGV0IHAgPSBpICogd2lkdGgxO1xuICAgIGNvbnN0IGVuZCA9IHAgKyB3aWR0aDtcblxuICAgIHdoaWxlIChwIDwgZW5kICYmICFwb2ludHNbcF0pIHtcbiAgICAgIHArKztcbiAgICB9XG5cbiAgICBpZiAocCA9PT0gZW5kKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAocGF0aCkge1xuICAgICAgcGF0aC5tb3ZlVG8ocCAlIHdpZHRoMSwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvb3JkcyA9IFtwICUgd2lkdGgxLCBpXTtcbiAgICB9XG5cbiAgICBjb25zdCBwMCA9IHA7XG4gICAgbGV0IHR5cGUgPSBwb2ludHNbcF07XG5cbiAgICBkbyB7XG4gICAgICBjb25zdCBzdGVwID0gc3RlcHNbdHlwZV07XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcCArPSBzdGVwO1xuICAgICAgfSB3aGlsZSAoIXBvaW50c1twXSk7XG5cbiAgICAgIGNvbnN0IHBwID0gcG9pbnRzW3BdO1xuXG4gICAgICBpZiAocHAgIT09IDUgJiYgcHAgIT09IDEwKSB7XG4gICAgICAgIHR5cGUgPSBwcDtcbiAgICAgICAgcG9pbnRzW3BdID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGUgPSBwcCAmIDB4MzMgKiB0eXBlID4+IDQ7XG4gICAgICAgIHBvaW50c1twXSAmPSB0eXBlID4+IDIgfCB0eXBlIDw8IDI7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHBhdGgubGluZVRvKHAgJSB3aWR0aDEsIHAgLyB3aWR0aDEgfCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvb3Jkcy5wdXNoKHAgJSB3aWR0aDEsIHAgLyB3aWR0aDEgfCAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwb2ludHNbcF0pIHtcbiAgICAgICAgLS1jb3VudDtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChwMCAhPT0gcCk7XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgIG91dGxpbmVzLnB1c2goY29vcmRzKTtcbiAgICB9XG5cbiAgICAtLWk7XG4gIH1cblxuICBkYXRhID0gbnVsbDtcbiAgcG9pbnRzID0gbnVsbDtcblxuICBjb25zdCBkcmF3T3V0bGluZSA9IGZ1bmN0aW9uIChjKSB7XG4gICAgYy5zYXZlKCk7XG4gICAgYy5zY2FsZSgxIC8gd2lkdGgsIC0xIC8gaGVpZ2h0KTtcbiAgICBjLnRyYW5zbGF0ZSgwLCAtaGVpZ2h0KTtcblxuICAgIGlmIChwYXRoKSB7XG4gICAgICBjLmZpbGwocGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgIGZvciAoY29uc3QgbyBvZiBvdXRsaW5lcykge1xuICAgICAgICBjLm1vdmVUbyhvWzBdLCBvWzFdKTtcblxuICAgICAgICBmb3IgKGxldCBsID0gMiwgbGwgPSBvLmxlbmd0aDsgbCA8IGxsOyBsICs9IDIpIHtcbiAgICAgICAgICBjLmxpbmVUbyhvW2xdLCBvW2wgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYy5maWxsKCk7XG4gICAgfVxuXG4gICAgYy5iZWdpblBhdGgoKTtcbiAgICBjLnJlc3RvcmUoKTtcbiAgfTtcblxuICByZXR1cm4gZHJhd091dGxpbmU7XG59XG5cbmNsYXNzIENhbnZhc0V4dHJhU3RhdGUge1xuICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy5hbHBoYUlzU2hhcGUgPSBmYWxzZTtcbiAgICB0aGlzLmZvbnRTaXplID0gMDtcbiAgICB0aGlzLmZvbnRTaXplU2NhbGUgPSAxO1xuICAgIHRoaXMudGV4dE1hdHJpeCA9IF91dGlsLklERU5USVRZX01BVFJJWDtcbiAgICB0aGlzLnRleHRNYXRyaXhTY2FsZSA9IDE7XG4gICAgdGhpcy5mb250TWF0cml4ID0gX3V0aWwuRk9OVF9JREVOVElUWV9NQVRSSVg7XG4gICAgdGhpcy5sZWFkaW5nID0gMDtcbiAgICB0aGlzLnggPSAwO1xuICAgIHRoaXMueSA9IDA7XG4gICAgdGhpcy5saW5lWCA9IDA7XG4gICAgdGhpcy5saW5lWSA9IDA7XG4gICAgdGhpcy5jaGFyU3BhY2luZyA9IDA7XG4gICAgdGhpcy53b3JkU3BhY2luZyA9IDA7XG4gICAgdGhpcy50ZXh0SFNjYWxlID0gMTtcbiAgICB0aGlzLnRleHRSZW5kZXJpbmdNb2RlID0gX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuRklMTDtcbiAgICB0aGlzLnRleHRSaXNlID0gMDtcbiAgICB0aGlzLmZpbGxDb2xvciA9IFwiIzAwMDAwMFwiO1xuICAgIHRoaXMuc3Ryb2tlQ29sb3IgPSBcIiMwMDAwMDBcIjtcbiAgICB0aGlzLnBhdHRlcm5GaWxsID0gZmFsc2U7XG4gICAgdGhpcy5maWxsQWxwaGEgPSAxO1xuICAgIHRoaXMuc3Ryb2tlQWxwaGEgPSAxO1xuICAgIHRoaXMubGluZVdpZHRoID0gMTtcbiAgICB0aGlzLmFjdGl2ZVNNYXNrID0gbnVsbDtcbiAgICB0aGlzLnRyYW5zZmVyTWFwcyA9IG51bGw7XG4gICAgdGhpcy5zdGFydE5ld1BhdGhBbmRDbGlwQm94KFswLCAwLCB3aWR0aCwgaGVpZ2h0XSk7XG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBjbG9uZSA9IE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgY2xvbmUuY2xpcEJveCA9IHRoaXMuY2xpcEJveC5zbGljZSgpO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIHNldEN1cnJlbnRQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgdXBkYXRlUGF0aE1pbk1heCh0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICBbeCwgeV0gPSBfdXRpbC5VdGlsLmFwcGx5VHJhbnNmb3JtKFt4LCB5XSwgdHJhbnNmb3JtKTtcbiAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHgpO1xuICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgeSk7XG4gICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCB4KTtcbiAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHkpO1xuICB9XG5cbiAgdXBkYXRlUmVjdE1pbk1heCh0cmFuc2Zvcm0sIHJlY3QpIHtcbiAgICBjb25zdCBwMSA9IF91dGlsLlV0aWwuYXBwbHlUcmFuc2Zvcm0ocmVjdCwgdHJhbnNmb3JtKTtcblxuICAgIGNvbnN0IHAyID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShyZWN0LnNsaWNlKDIpLCB0cmFuc2Zvcm0pO1xuXG4gICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwMVswXSwgcDJbMF0pO1xuICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcDFbMV0sIHAyWzFdKTtcbiAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHAxWzBdLCBwMlswXSk7XG4gICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwMVsxXSwgcDJbMV0pO1xuICB9XG5cbiAgdXBkYXRlU2NhbGluZ1BhdGhNaW5NYXgodHJhbnNmb3JtLCBtaW5NYXgpIHtcbiAgICBfdXRpbC5VdGlsLnNjYWxlTWluTWF4KHRyYW5zZm9ybSwgbWluTWF4KTtcblxuICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgbWluTWF4WzBdKTtcbiAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIG1pbk1heFsxXSk7XG4gICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBtaW5NYXhbMl0pO1xuICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgbWluTWF4WzNdKTtcbiAgfVxuXG4gIHVwZGF0ZUN1cnZlUGF0aE1pbk1heCh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgbWluTWF4KSB7XG4gICAgY29uc3QgYm94ID0gX3V0aWwuVXRpbC5iZXppZXJCb3VuZGluZ0JveCh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpO1xuXG4gICAgaWYgKG1pbk1heCkge1xuICAgICAgbWluTWF4WzBdID0gTWF0aC5taW4obWluTWF4WzBdLCBib3hbMF0sIGJveFsyXSk7XG4gICAgICBtaW5NYXhbMV0gPSBNYXRoLm1heChtaW5NYXhbMV0sIGJveFswXSwgYm94WzJdKTtcbiAgICAgIG1pbk1heFsyXSA9IE1hdGgubWluKG1pbk1heFsyXSwgYm94WzFdLCBib3hbM10pO1xuICAgICAgbWluTWF4WzNdID0gTWF0aC5tYXgobWluTWF4WzNdLCBib3hbMV0sIGJveFszXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVSZWN0TWluTWF4KHRyYW5zZm9ybSwgYm94KTtcbiAgfVxuXG4gIGdldFBhdGhCb3VuZGluZ0JveChwYXRoVHlwZSA9IF9wYXR0ZXJuX2hlbHBlci5QYXRoVHlwZS5GSUxMLCB0cmFuc2Zvcm0gPSBudWxsKSB7XG4gICAgY29uc3QgYm94ID0gW3RoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFgsIHRoaXMubWF4WV07XG5cbiAgICBpZiAocGF0aFR5cGUgPT09IF9wYXR0ZXJuX2hlbHBlci5QYXRoVHlwZS5TVFJPS0UpIHtcbiAgICAgIGlmICghdHJhbnNmb3JtKSB7XG4gICAgICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJTdHJva2UgYm91bmRpbmcgYm94IG11c3QgaW5jbHVkZSB0cmFuc2Zvcm0uXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzY2FsZSA9IF91dGlsLlV0aWwuc2luZ3VsYXJWYWx1ZURlY29tcG9zZTJkU2NhbGUodHJhbnNmb3JtKTtcblxuICAgICAgY29uc3QgeFN0cm9rZVBhZCA9IHNjYWxlWzBdICogdGhpcy5saW5lV2lkdGggLyAyO1xuICAgICAgY29uc3QgeVN0cm9rZVBhZCA9IHNjYWxlWzFdICogdGhpcy5saW5lV2lkdGggLyAyO1xuICAgICAgYm94WzBdIC09IHhTdHJva2VQYWQ7XG4gICAgICBib3hbMV0gLT0geVN0cm9rZVBhZDtcbiAgICAgIGJveFsyXSArPSB4U3Ryb2tlUGFkO1xuICAgICAgYm94WzNdICs9IHlTdHJva2VQYWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJveDtcbiAgfVxuXG4gIHVwZGF0ZUNsaXBGcm9tUGF0aCgpIHtcbiAgICBjb25zdCBpbnRlcnNlY3QgPSBfdXRpbC5VdGlsLmludGVyc2VjdCh0aGlzLmNsaXBCb3gsIHRoaXMuZ2V0UGF0aEJvdW5kaW5nQm94KCkpO1xuXG4gICAgdGhpcy5zdGFydE5ld1BhdGhBbmRDbGlwQm94KGludGVyc2VjdCB8fCBbMCwgMCwgMCwgMF0pO1xuICB9XG5cbiAgaXNFbXB0eUNsaXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWluWCA9PT0gSW5maW5pdHk7XG4gIH1cblxuICBzdGFydE5ld1BhdGhBbmRDbGlwQm94KGJveCkge1xuICAgIHRoaXMuY2xpcEJveCA9IGJveDtcbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICB0aGlzLm1heFggPSAwO1xuICAgIHRoaXMubWF4WSA9IDA7XG4gIH1cblxuICBnZXRDbGlwcGVkUGF0aEJvdW5kaW5nQm94KHBhdGhUeXBlID0gX3BhdHRlcm5faGVscGVyLlBhdGhUeXBlLkZJTEwsIHRyYW5zZm9ybSA9IG51bGwpIHtcbiAgICByZXR1cm4gX3V0aWwuVXRpbC5pbnRlcnNlY3QodGhpcy5jbGlwQm94LCB0aGlzLmdldFBhdGhCb3VuZGluZ0JveChwYXRoVHlwZSwgdHJhbnNmb3JtKSk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBwdXRCaW5hcnlJbWFnZURhdGEoY3R4LCBpbWdEYXRhLCB0cmFuc2Zlck1hcHMgPSBudWxsKSB7XG4gIGlmICh0eXBlb2YgSW1hZ2VEYXRhICE9PSBcInVuZGVmaW5lZFwiICYmIGltZ0RhdGEgaW5zdGFuY2VvZiBJbWFnZURhdGEpIHtcbiAgICBjdHgucHV0SW1hZ2VEYXRhKGltZ0RhdGEsIDAsIDApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGhlaWdodCA9IGltZ0RhdGEuaGVpZ2h0LFxuICAgICAgICB3aWR0aCA9IGltZ0RhdGEud2lkdGg7XG4gIGNvbnN0IHBhcnRpYWxDaHVua0hlaWdodCA9IGhlaWdodCAlIEZVTExfQ0hVTktfSEVJR0hUO1xuICBjb25zdCBmdWxsQ2h1bmtzID0gKGhlaWdodCAtIHBhcnRpYWxDaHVua0hlaWdodCkgLyBGVUxMX0NIVU5LX0hFSUdIVDtcbiAgY29uc3QgdG90YWxDaHVua3MgPSBwYXJ0aWFsQ2h1bmtIZWlnaHQgPT09IDAgPyBmdWxsQ2h1bmtzIDogZnVsbENodW5rcyArIDE7XG4gIGNvbnN0IGNodW5rSW1nRGF0YSA9IGN0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIEZVTExfQ0hVTktfSEVJR0hUKTtcbiAgbGV0IHNyY1BvcyA9IDAsXG4gICAgICBkZXN0UG9zO1xuICBjb25zdCBzcmMgPSBpbWdEYXRhLmRhdGE7XG4gIGNvbnN0IGRlc3QgPSBjaHVua0ltZ0RhdGEuZGF0YTtcbiAgbGV0IGksIGosIHRoaXNDaHVua0hlaWdodCwgZWxlbXNJblRoaXNDaHVuaztcbiAgbGV0IHRyYW5zZmVyTWFwUmVkLCB0cmFuc2Zlck1hcEdyZWVuLCB0cmFuc2Zlck1hcEJsdWUsIHRyYW5zZmVyTWFwR3JheTtcblxuICBpZiAodHJhbnNmZXJNYXBzKSB7XG4gICAgc3dpdGNoICh0cmFuc2Zlck1hcHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHRyYW5zZmVyTWFwUmVkID0gdHJhbnNmZXJNYXBzWzBdO1xuICAgICAgICB0cmFuc2Zlck1hcEdyZWVuID0gdHJhbnNmZXJNYXBzWzBdO1xuICAgICAgICB0cmFuc2Zlck1hcEJsdWUgPSB0cmFuc2Zlck1hcHNbMF07XG4gICAgICAgIHRyYW5zZmVyTWFwR3JheSA9IHRyYW5zZmVyTWFwc1swXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgNDpcbiAgICAgICAgdHJhbnNmZXJNYXBSZWQgPSB0cmFuc2Zlck1hcHNbMF07XG4gICAgICAgIHRyYW5zZmVyTWFwR3JlZW4gPSB0cmFuc2Zlck1hcHNbMV07XG4gICAgICAgIHRyYW5zZmVyTWFwQmx1ZSA9IHRyYW5zZmVyTWFwc1syXTtcbiAgICAgICAgdHJhbnNmZXJNYXBHcmF5ID0gdHJhbnNmZXJNYXBzWzNdO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoaW1nRGF0YS5raW5kID09PSBfdXRpbC5JbWFnZUtpbmQuR1JBWVNDQUxFXzFCUFApIHtcbiAgICBjb25zdCBzcmNMZW5ndGggPSBzcmMuYnl0ZUxlbmd0aDtcbiAgICBjb25zdCBkZXN0MzIgPSBuZXcgVWludDMyQXJyYXkoZGVzdC5idWZmZXIsIDAsIGRlc3QuYnl0ZUxlbmd0aCA+PiAyKTtcbiAgICBjb25zdCBkZXN0MzJEYXRhTGVuZ3RoID0gZGVzdDMyLmxlbmd0aDtcbiAgICBjb25zdCBmdWxsU3JjRGlmZiA9IHdpZHRoICsgNyA+PiAzO1xuICAgIGxldCB3aGl0ZSA9IDB4ZmZmZmZmZmY7XG4gICAgbGV0IGJsYWNrID0gX3V0aWwuRmVhdHVyZVRlc3QuaXNMaXR0bGVFbmRpYW4gPyAweGZmMDAwMDAwIDogMHgwMDAwMDBmZjtcblxuICAgIGlmICh0cmFuc2Zlck1hcEdyYXkpIHtcbiAgICAgIGlmICh0cmFuc2Zlck1hcEdyYXlbMF0gPT09IDB4ZmYgJiYgdHJhbnNmZXJNYXBHcmF5WzB4ZmZdID09PSAwKSB7XG4gICAgICAgIFt3aGl0ZSwgYmxhY2tdID0gW2JsYWNrLCB3aGl0ZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHRvdGFsQ2h1bmtzOyBpKyspIHtcbiAgICAgIHRoaXNDaHVua0hlaWdodCA9IGkgPCBmdWxsQ2h1bmtzID8gRlVMTF9DSFVOS19IRUlHSFQgOiBwYXJ0aWFsQ2h1bmtIZWlnaHQ7XG4gICAgICBkZXN0UG9zID0gMDtcblxuICAgICAgZm9yIChqID0gMDsgaiA8IHRoaXNDaHVua0hlaWdodDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHNyY0RpZmYgPSBzcmNMZW5ndGggLSBzcmNQb3M7XG4gICAgICAgIGxldCBrID0gMDtcbiAgICAgICAgY29uc3Qga0VuZCA9IHNyY0RpZmYgPiBmdWxsU3JjRGlmZiA/IHdpZHRoIDogc3JjRGlmZiAqIDggLSA3O1xuICAgICAgICBjb25zdCBrRW5kVW5yb2xsZWQgPSBrRW5kICYgfjc7XG4gICAgICAgIGxldCBtYXNrID0gMDtcbiAgICAgICAgbGV0IHNyY0J5dGUgPSAwO1xuXG4gICAgICAgIGZvciAoOyBrIDwga0VuZFVucm9sbGVkOyBrICs9IDgpIHtcbiAgICAgICAgICBzcmNCeXRlID0gc3JjW3NyY1BvcysrXTtcbiAgICAgICAgICBkZXN0MzJbZGVzdFBvcysrXSA9IHNyY0J5dGUgJiAxMjggPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gc3JjQnl0ZSAmIDY0ID8gd2hpdGUgOiBibGFjaztcbiAgICAgICAgICBkZXN0MzJbZGVzdFBvcysrXSA9IHNyY0J5dGUgJiAzMiA/IHdoaXRlIDogYmxhY2s7XG4gICAgICAgICAgZGVzdDMyW2Rlc3RQb3MrK10gPSBzcmNCeXRlICYgMTYgPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gc3JjQnl0ZSAmIDggPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gc3JjQnl0ZSAmIDQgPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gc3JjQnl0ZSAmIDIgPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gc3JjQnl0ZSAmIDEgPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICg7IGsgPCBrRW5kOyBrKyspIHtcbiAgICAgICAgICBpZiAobWFzayA9PT0gMCkge1xuICAgICAgICAgICAgc3JjQnl0ZSA9IHNyY1tzcmNQb3MrK107XG4gICAgICAgICAgICBtYXNrID0gMTI4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gc3JjQnl0ZSAmIG1hc2sgPyB3aGl0ZSA6IGJsYWNrO1xuICAgICAgICAgIG1hc2sgPj49IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGRlc3RQb3MgPCBkZXN0MzJEYXRhTGVuZ3RoKSB7XG4gICAgICAgIGRlc3QzMltkZXN0UG9zKytdID0gMDtcbiAgICAgIH1cblxuICAgICAgY3R4LnB1dEltYWdlRGF0YShjaHVua0ltZ0RhdGEsIDAsIGkgKiBGVUxMX0NIVU5LX0hFSUdIVCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGltZ0RhdGEua2luZCA9PT0gX3V0aWwuSW1hZ2VLaW5kLlJHQkFfMzJCUFApIHtcbiAgICBjb25zdCBoYXNUcmFuc2Zlck1hcHMgPSAhISh0cmFuc2Zlck1hcFJlZCB8fCB0cmFuc2Zlck1hcEdyZWVuIHx8IHRyYW5zZmVyTWFwQmx1ZSk7XG4gICAgaiA9IDA7XG4gICAgZWxlbXNJblRoaXNDaHVuayA9IHdpZHRoICogRlVMTF9DSFVOS19IRUlHSFQgKiA0O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGZ1bGxDaHVua3M7IGkrKykge1xuICAgICAgZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY1Bvcywgc3JjUG9zICsgZWxlbXNJblRoaXNDaHVuaykpO1xuICAgICAgc3JjUG9zICs9IGVsZW1zSW5UaGlzQ2h1bms7XG5cbiAgICAgIGlmIChoYXNUcmFuc2Zlck1hcHMpIHtcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBlbGVtc0luVGhpc0NodW5rOyBrICs9IDQpIHtcbiAgICAgICAgICBpZiAodHJhbnNmZXJNYXBSZWQpIHtcbiAgICAgICAgICAgIGRlc3RbayArIDBdID0gdHJhbnNmZXJNYXBSZWRbZGVzdFtrICsgMF1dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmFuc2Zlck1hcEdyZWVuKSB7XG4gICAgICAgICAgICBkZXN0W2sgKyAxXSA9IHRyYW5zZmVyTWFwR3JlZW5bZGVzdFtrICsgMV1dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmFuc2Zlck1hcEJsdWUpIHtcbiAgICAgICAgICAgIGRlc3RbayArIDJdID0gdHJhbnNmZXJNYXBCbHVlW2Rlc3RbayArIDJdXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY3R4LnB1dEltYWdlRGF0YShjaHVua0ltZ0RhdGEsIDAsIGopO1xuICAgICAgaiArPSBGVUxMX0NIVU5LX0hFSUdIVDtcbiAgICB9XG5cbiAgICBpZiAoaSA8IHRvdGFsQ2h1bmtzKSB7XG4gICAgICBlbGVtc0luVGhpc0NodW5rID0gd2lkdGggKiBwYXJ0aWFsQ2h1bmtIZWlnaHQgKiA0O1xuICAgICAgZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY1Bvcywgc3JjUG9zICsgZWxlbXNJblRoaXNDaHVuaykpO1xuXG4gICAgICBpZiAoaGFzVHJhbnNmZXJNYXBzKSB7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZWxlbXNJblRoaXNDaHVuazsgayArPSA0KSB7XG4gICAgICAgICAgaWYgKHRyYW5zZmVyTWFwUmVkKSB7XG4gICAgICAgICAgICBkZXN0W2sgKyAwXSA9IHRyYW5zZmVyTWFwUmVkW2Rlc3RbayArIDBdXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHJhbnNmZXJNYXBHcmVlbikge1xuICAgICAgICAgICAgZGVzdFtrICsgMV0gPSB0cmFuc2Zlck1hcEdyZWVuW2Rlc3RbayArIDFdXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHJhbnNmZXJNYXBCbHVlKSB7XG4gICAgICAgICAgICBkZXN0W2sgKyAyXSA9IHRyYW5zZmVyTWFwQmx1ZVtkZXN0W2sgKyAyXV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGN0eC5wdXRJbWFnZURhdGEoY2h1bmtJbWdEYXRhLCAwLCBqKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaW1nRGF0YS5raW5kID09PSBfdXRpbC5JbWFnZUtpbmQuUkdCXzI0QlBQKSB7XG4gICAgY29uc3QgaGFzVHJhbnNmZXJNYXBzID0gISEodHJhbnNmZXJNYXBSZWQgfHwgdHJhbnNmZXJNYXBHcmVlbiB8fCB0cmFuc2Zlck1hcEJsdWUpO1xuICAgIHRoaXNDaHVua0hlaWdodCA9IEZVTExfQ0hVTktfSEVJR0hUO1xuICAgIGVsZW1zSW5UaGlzQ2h1bmsgPSB3aWR0aCAqIHRoaXNDaHVua0hlaWdodDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbENodW5rczsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBmdWxsQ2h1bmtzKSB7XG4gICAgICAgIHRoaXNDaHVua0hlaWdodCA9IHBhcnRpYWxDaHVua0hlaWdodDtcbiAgICAgICAgZWxlbXNJblRoaXNDaHVuayA9IHdpZHRoICogdGhpc0NodW5rSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBkZXN0UG9zID0gMDtcblxuICAgICAgZm9yIChqID0gZWxlbXNJblRoaXNDaHVuazsgai0tOykge1xuICAgICAgICBkZXN0W2Rlc3RQb3MrK10gPSBzcmNbc3JjUG9zKytdO1xuICAgICAgICBkZXN0W2Rlc3RQb3MrK10gPSBzcmNbc3JjUG9zKytdO1xuICAgICAgICBkZXN0W2Rlc3RQb3MrK10gPSBzcmNbc3JjUG9zKytdO1xuICAgICAgICBkZXN0W2Rlc3RQb3MrK10gPSAyNTU7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNUcmFuc2Zlck1hcHMpIHtcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkZXN0UG9zOyBrICs9IDQpIHtcbiAgICAgICAgICBpZiAodHJhbnNmZXJNYXBSZWQpIHtcbiAgICAgICAgICAgIGRlc3RbayArIDBdID0gdHJhbnNmZXJNYXBSZWRbZGVzdFtrICsgMF1dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmFuc2Zlck1hcEdyZWVuKSB7XG4gICAgICAgICAgICBkZXN0W2sgKyAxXSA9IHRyYW5zZmVyTWFwR3JlZW5bZGVzdFtrICsgMV1dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmFuc2Zlck1hcEJsdWUpIHtcbiAgICAgICAgICAgIGRlc3RbayArIDJdID0gdHJhbnNmZXJNYXBCbHVlW2Rlc3RbayArIDJdXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY3R4LnB1dEltYWdlRGF0YShjaHVua0ltZ0RhdGEsIDAsIGkgKiBGVUxMX0NIVU5LX0hFSUdIVCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgYmFkIGltYWdlIGtpbmQ6ICR7aW1nRGF0YS5raW5kfWApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1dEJpbmFyeUltYWdlTWFzayhjdHgsIGltZ0RhdGEpIHtcbiAgaWYgKGltZ0RhdGEuYml0bWFwKSB7XG4gICAgY3R4LmRyYXdJbWFnZShpbWdEYXRhLmJpdG1hcCwgMCwgMCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaGVpZ2h0ID0gaW1nRGF0YS5oZWlnaHQsXG4gICAgICAgIHdpZHRoID0gaW1nRGF0YS53aWR0aDtcbiAgY29uc3QgcGFydGlhbENodW5rSGVpZ2h0ID0gaGVpZ2h0ICUgRlVMTF9DSFVOS19IRUlHSFQ7XG4gIGNvbnN0IGZ1bGxDaHVua3MgPSAoaGVpZ2h0IC0gcGFydGlhbENodW5rSGVpZ2h0KSAvIEZVTExfQ0hVTktfSEVJR0hUO1xuICBjb25zdCB0b3RhbENodW5rcyA9IHBhcnRpYWxDaHVua0hlaWdodCA9PT0gMCA/IGZ1bGxDaHVua3MgOiBmdWxsQ2h1bmtzICsgMTtcbiAgY29uc3QgY2h1bmtJbWdEYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgRlVMTF9DSFVOS19IRUlHSFQpO1xuICBsZXQgc3JjUG9zID0gMDtcbiAgY29uc3Qgc3JjID0gaW1nRGF0YS5kYXRhO1xuICBjb25zdCBkZXN0ID0gY2h1bmtJbWdEYXRhLmRhdGE7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbENodW5rczsgaSsrKSB7XG4gICAgY29uc3QgdGhpc0NodW5rSGVpZ2h0ID0gaSA8IGZ1bGxDaHVua3MgPyBGVUxMX0NIVU5LX0hFSUdIVCA6IHBhcnRpYWxDaHVua0hlaWdodDtcbiAgICAoe1xuICAgICAgc3JjUG9zXG4gICAgfSA9ICgwLCBfaW1hZ2VfdXRpbHMuYXBwbHlNYXNrSW1hZ2VEYXRhKSh7XG4gICAgICBzcmMsXG4gICAgICBzcmNQb3MsXG4gICAgICBkZXN0LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXNDaHVua0hlaWdodFxuICAgIH0pKTtcbiAgICBjdHgucHV0SW1hZ2VEYXRhKGNodW5rSW1nRGF0YSwgMCwgaSAqIEZVTExfQ0hVTktfSEVJR0hUKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5Q3R4U3RhdGUoc291cmNlQ3R4LCBkZXN0Q3R4KSB7XG4gIGNvbnN0IHByb3BlcnRpZXMgPSBbXCJzdHJva2VTdHlsZVwiLCBcImZpbGxTdHlsZVwiLCBcImZpbGxSdWxlXCIsIFwiZ2xvYmFsQWxwaGFcIiwgXCJsaW5lV2lkdGhcIiwgXCJsaW5lQ2FwXCIsIFwibGluZUpvaW5cIiwgXCJtaXRlckxpbWl0XCIsIFwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uXCIsIFwiZm9udFwiXTtcblxuICBmb3IgKGxldCBpID0gMCwgaWkgPSBwcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG5cbiAgICBpZiAoc291cmNlQ3R4W3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZXN0Q3R4W3Byb3BlcnR5XSA9IHNvdXJjZUN0eFtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG5cbiAgaWYgKHNvdXJjZUN0eC5zZXRMaW5lRGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVzdEN0eC5zZXRMaW5lRGFzaChzb3VyY2VDdHguZ2V0TGluZURhc2goKSk7XG4gICAgZGVzdEN0eC5saW5lRGFzaE9mZnNldCA9IHNvdXJjZUN0eC5saW5lRGFzaE9mZnNldDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXNldEN0eFRvRGVmYXVsdChjdHgsIGZvcmVncm91bmRDb2xvcikge1xuICBjdHguc3Ryb2tlU3R5bGUgPSBjdHguZmlsbFN0eWxlID0gZm9yZWdyb3VuZENvbG9yIHx8IFwiIzAwMDAwMFwiO1xuICBjdHguZmlsbFJ1bGUgPSBcIm5vbnplcm9cIjtcbiAgY3R4Lmdsb2JhbEFscGhhID0gMTtcbiAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gIGN0eC5saW5lQ2FwID0gXCJidXR0XCI7XG4gIGN0eC5saW5lSm9pbiA9IFwibWl0ZXJcIjtcbiAgY3R4Lm1pdGVyTGltaXQgPSAxMDtcbiAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgY3R4LmZvbnQgPSBcIjEwcHggc2Fucy1zZXJpZlwiO1xuXG4gIGlmIChjdHguc2V0TGluZURhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgIGN0eC5zZXRMaW5lRGFzaChbXSk7XG4gICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wb3NlU01hc2tCYWNrZHJvcChieXRlcywgcjAsIGcwLCBiMCkge1xuICBjb25zdCBsZW5ndGggPSBieXRlcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDM7IGkgPCBsZW5ndGg7IGkgKz0gNCkge1xuICAgIGNvbnN0IGFscGhhID0gYnl0ZXNbaV07XG5cbiAgICBpZiAoYWxwaGEgPT09IDApIHtcbiAgICAgIGJ5dGVzW2kgLSAzXSA9IHIwO1xuICAgICAgYnl0ZXNbaSAtIDJdID0gZzA7XG4gICAgICBieXRlc1tpIC0gMV0gPSBiMDtcbiAgICB9IGVsc2UgaWYgKGFscGhhIDwgMjU1KSB7XG4gICAgICBjb25zdCBhbHBoYV8gPSAyNTUgLSBhbHBoYTtcbiAgICAgIGJ5dGVzW2kgLSAzXSA9IGJ5dGVzW2kgLSAzXSAqIGFscGhhICsgcjAgKiBhbHBoYV8gPj4gODtcbiAgICAgIGJ5dGVzW2kgLSAyXSA9IGJ5dGVzW2kgLSAyXSAqIGFscGhhICsgZzAgKiBhbHBoYV8gPj4gODtcbiAgICAgIGJ5dGVzW2kgLSAxXSA9IGJ5dGVzW2kgLSAxXSAqIGFscGhhICsgYjAgKiBhbHBoYV8gPj4gODtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcG9zZVNNYXNrQWxwaGEobWFza0RhdGEsIGxheWVyRGF0YSwgdHJhbnNmZXJNYXApIHtcbiAgY29uc3QgbGVuZ3RoID0gbWFza0RhdGEubGVuZ3RoO1xuICBjb25zdCBzY2FsZSA9IDEgLyAyNTU7XG5cbiAgZm9yIChsZXQgaSA9IDM7IGkgPCBsZW5ndGg7IGkgKz0gNCkge1xuICAgIGNvbnN0IGFscGhhID0gdHJhbnNmZXJNYXAgPyB0cmFuc2Zlck1hcFttYXNrRGF0YVtpXV0gOiBtYXNrRGF0YVtpXTtcbiAgICBsYXllckRhdGFbaV0gPSBsYXllckRhdGFbaV0gKiBhbHBoYSAqIHNjYWxlIHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wb3NlU01hc2tMdW1pbm9zaXR5KG1hc2tEYXRhLCBsYXllckRhdGEsIHRyYW5zZmVyTWFwKSB7XG4gIGNvbnN0IGxlbmd0aCA9IG1hc2tEYXRhLmxlbmd0aDtcblxuICBmb3IgKGxldCBpID0gMzsgaSA8IGxlbmd0aDsgaSArPSA0KSB7XG4gICAgY29uc3QgeSA9IG1hc2tEYXRhW2kgLSAzXSAqIDc3ICsgbWFza0RhdGFbaSAtIDJdICogMTUyICsgbWFza0RhdGFbaSAtIDFdICogMjg7XG4gICAgbGF5ZXJEYXRhW2ldID0gdHJhbnNmZXJNYXAgPyBsYXllckRhdGFbaV0gKiB0cmFuc2Zlck1hcFt5ID4+IDhdID4+IDggOiBsYXllckRhdGFbaV0gKiB5ID4+IDE2O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyaWNDb21wb3NlU01hc2sobWFza0N0eCwgbGF5ZXJDdHgsIHdpZHRoLCBoZWlnaHQsIHN1YnR5cGUsIGJhY2tkcm9wLCB0cmFuc2Zlck1hcCwgbGF5ZXJPZmZzZXRYLCBsYXllck9mZnNldFksIG1hc2tPZmZzZXRYLCBtYXNrT2Zmc2V0WSkge1xuICBjb25zdCBoYXNCYWNrZHJvcCA9ICEhYmFja2Ryb3A7XG4gIGNvbnN0IHIwID0gaGFzQmFja2Ryb3AgPyBiYWNrZHJvcFswXSA6IDA7XG4gIGNvbnN0IGcwID0gaGFzQmFja2Ryb3AgPyBiYWNrZHJvcFsxXSA6IDA7XG4gIGNvbnN0IGIwID0gaGFzQmFja2Ryb3AgPyBiYWNrZHJvcFsyXSA6IDA7XG4gIGxldCBjb21wb3NlRm47XG5cbiAgaWYgKHN1YnR5cGUgPT09IFwiTHVtaW5vc2l0eVwiKSB7XG4gICAgY29tcG9zZUZuID0gY29tcG9zZVNNYXNrTHVtaW5vc2l0eTtcbiAgfSBlbHNlIHtcbiAgICBjb21wb3NlRm4gPSBjb21wb3NlU01hc2tBbHBoYTtcbiAgfVxuXG4gIGNvbnN0IFBJWEVMU19UT19QUk9DRVNTID0gMTA0ODU3NjtcbiAgY29uc3QgY2h1bmtTaXplID0gTWF0aC5taW4oaGVpZ2h0LCBNYXRoLmNlaWwoUElYRUxTX1RPX1BST0NFU1MgLyB3aWR0aCkpO1xuXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IGhlaWdodDsgcm93ICs9IGNodW5rU2l6ZSkge1xuICAgIGNvbnN0IGNodW5rSGVpZ2h0ID0gTWF0aC5taW4oY2h1bmtTaXplLCBoZWlnaHQgLSByb3cpO1xuICAgIGNvbnN0IG1hc2tEYXRhID0gbWFza0N0eC5nZXRJbWFnZURhdGEobGF5ZXJPZmZzZXRYIC0gbWFza09mZnNldFgsIHJvdyArIChsYXllck9mZnNldFkgLSBtYXNrT2Zmc2V0WSksIHdpZHRoLCBjaHVua0hlaWdodCk7XG4gICAgY29uc3QgbGF5ZXJEYXRhID0gbGF5ZXJDdHguZ2V0SW1hZ2VEYXRhKGxheWVyT2Zmc2V0WCwgcm93ICsgbGF5ZXJPZmZzZXRZLCB3aWR0aCwgY2h1bmtIZWlnaHQpO1xuXG4gICAgaWYgKGhhc0JhY2tkcm9wKSB7XG4gICAgICBjb21wb3NlU01hc2tCYWNrZHJvcChtYXNrRGF0YS5kYXRhLCByMCwgZzAsIGIwKTtcbiAgICB9XG5cbiAgICBjb21wb3NlRm4obWFza0RhdGEuZGF0YSwgbGF5ZXJEYXRhLmRhdGEsIHRyYW5zZmVyTWFwKTtcbiAgICBsYXllckN0eC5wdXRJbWFnZURhdGEobGF5ZXJEYXRhLCBsYXllck9mZnNldFgsIHJvdyArIGxheWVyT2Zmc2V0WSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcG9zZVNNYXNrKGN0eCwgc21hc2ssIGxheWVyQ3R4LCBsYXllckJveCkge1xuICBjb25zdCBsYXllck9mZnNldFggPSBsYXllckJveFswXTtcbiAgY29uc3QgbGF5ZXJPZmZzZXRZID0gbGF5ZXJCb3hbMV07XG4gIGNvbnN0IGxheWVyV2lkdGggPSBsYXllckJveFsyXSAtIGxheWVyT2Zmc2V0WDtcbiAgY29uc3QgbGF5ZXJIZWlnaHQgPSBsYXllckJveFszXSAtIGxheWVyT2Zmc2V0WTtcblxuICBpZiAobGF5ZXJXaWR0aCA9PT0gMCB8fCBsYXllckhlaWdodCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGdlbmVyaWNDb21wb3NlU01hc2soc21hc2suY29udGV4dCwgbGF5ZXJDdHgsIGxheWVyV2lkdGgsIGxheWVySGVpZ2h0LCBzbWFzay5zdWJ0eXBlLCBzbWFzay5iYWNrZHJvcCwgc21hc2sudHJhbnNmZXJNYXAsIGxheWVyT2Zmc2V0WCwgbGF5ZXJPZmZzZXRZLCBzbWFzay5vZmZzZXRYLCBzbWFzay5vZmZzZXRZKTtcbiAgY3R4LnNhdmUoKTtcbiAgY3R4Lmdsb2JhbEFscGhhID0gMTtcbiAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgY3R4LmRyYXdJbWFnZShsYXllckN0eC5jYW52YXMsIDAsIDApO1xuICBjdHgucmVzdG9yZSgpO1xufVxuXG5mdW5jdGlvbiBnZXRJbWFnZVNtb290aGluZ0VuYWJsZWQodHJhbnNmb3JtLCBpbnRlcnBvbGF0ZSkge1xuICBjb25zdCBzY2FsZSA9IF91dGlsLlV0aWwuc2luZ3VsYXJWYWx1ZURlY29tcG9zZTJkU2NhbGUodHJhbnNmb3JtKTtcblxuICBzY2FsZVswXSA9IE1hdGguZnJvdW5kKHNjYWxlWzBdKTtcbiAgc2NhbGVbMV0gPSBNYXRoLmZyb3VuZChzY2FsZVsxXSk7XG4gIGNvbnN0IGFjdHVhbFNjYWxlID0gTWF0aC5mcm91bmQoKGdsb2JhbFRoaXMuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSAqIF9kaXNwbGF5X3V0aWxzLlBpeGVsc1BlckluY2guUERGX1RPX0NTU19VTklUUyk7XG5cbiAgaWYgKGludGVycG9sYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGU7XG4gIH0gZWxzZSBpZiAoc2NhbGVbMF0gPD0gYWN0dWFsU2NhbGUgfHwgc2NhbGVbMV0gPD0gYWN0dWFsU2NhbGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuY29uc3QgTElORV9DQVBfU1RZTEVTID0gW1wiYnV0dFwiLCBcInJvdW5kXCIsIFwic3F1YXJlXCJdO1xuY29uc3QgTElORV9KT0lOX1NUWUxFUyA9IFtcIm1pdGVyXCIsIFwicm91bmRcIiwgXCJiZXZlbFwiXTtcbmNvbnN0IE5PUk1BTF9DTElQID0ge307XG5jb25zdCBFT19DTElQID0ge307XG5cbmNsYXNzIENhbnZhc0dyYXBoaWNzIHtcbiAgY29uc3RydWN0b3IoY2FudmFzQ3R4LCBjb21tb25PYmpzLCBvYmpzLCBjYW52YXNGYWN0b3J5LCBpbWFnZUxheWVyLCBvcHRpb25hbENvbnRlbnRDb25maWcsIGFubm90YXRpb25DYW52YXNNYXAsIHBhZ2VDb2xvcnMpIHtcbiAgICB0aGlzLmN0eCA9IGNhbnZhc0N0eDtcbiAgICB0aGlzLmN1cnJlbnQgPSBuZXcgQ2FudmFzRXh0cmFTdGF0ZSh0aGlzLmN0eC5jYW52YXMud2lkdGgsIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQpO1xuICAgIHRoaXMuc3RhdGVTdGFjayA9IFtdO1xuICAgIHRoaXMucGVuZGluZ0NsaXAgPSBudWxsO1xuICAgIHRoaXMucGVuZGluZ0VPRmlsbCA9IGZhbHNlO1xuICAgIHRoaXMucmVzID0gbnVsbDtcbiAgICB0aGlzLnhvYmpzID0gbnVsbDtcbiAgICB0aGlzLmNvbW1vbk9ianMgPSBjb21tb25PYmpzO1xuICAgIHRoaXMub2JqcyA9IG9ianM7XG4gICAgdGhpcy5jYW52YXNGYWN0b3J5ID0gY2FudmFzRmFjdG9yeTtcbiAgICB0aGlzLmltYWdlTGF5ZXIgPSBpbWFnZUxheWVyO1xuICAgIHRoaXMuZ3JvdXBTdGFjayA9IFtdO1xuICAgIHRoaXMucHJvY2Vzc2luZ1R5cGUzID0gbnVsbDtcbiAgICB0aGlzLmJhc2VUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMuYmFzZVRyYW5zZm9ybVN0YWNrID0gW107XG4gICAgdGhpcy5ncm91cExldmVsID0gMDtcbiAgICB0aGlzLnNtYXNrU3RhY2sgPSBbXTtcbiAgICB0aGlzLnNtYXNrQ291bnRlciA9IDA7XG4gICAgdGhpcy50ZW1wU01hc2sgPSBudWxsO1xuICAgIHRoaXMuc3VzcGVuZGVkQ3R4ID0gbnVsbDtcbiAgICB0aGlzLmNvbnRlbnRWaXNpYmxlID0gdHJ1ZTtcbiAgICB0aGlzLm1hcmtlZENvbnRlbnRTdGFjayA9IFtdO1xuICAgIHRoaXMub3B0aW9uYWxDb250ZW50Q29uZmlnID0gb3B0aW9uYWxDb250ZW50Q29uZmlnO1xuICAgIHRoaXMuY2FjaGVkQ2FudmFzZXMgPSBuZXcgQ2FjaGVkQ2FudmFzZXModGhpcy5jYW52YXNGYWN0b3J5KTtcbiAgICB0aGlzLmNhY2hlZFBhdHRlcm5zID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuYW5ub3RhdGlvbkNhbnZhc01hcCA9IGFubm90YXRpb25DYW52YXNNYXA7XG4gICAgdGhpcy52aWV3cG9ydFNjYWxlID0gMTtcbiAgICB0aGlzLm91dHB1dFNjYWxlWCA9IDE7XG4gICAgdGhpcy5vdXRwdXRTY2FsZVkgPSAxO1xuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gcGFnZUNvbG9ycz8uYmFja2dyb3VuZCB8fCBudWxsO1xuICAgIHRoaXMuZm9yZWdyb3VuZENvbG9yID0gcGFnZUNvbG9ycz8uZm9yZWdyb3VuZCB8fCBudWxsO1xuXG4gICAgaWYgKGNhbnZhc0N0eCkge1xuICAgICAgYWRkQ29udGV4dEN1cnJlbnRUcmFuc2Zvcm0oY2FudmFzQ3R4KTtcbiAgICB9XG5cbiAgICB0aGlzLl9jYWNoZWRTY2FsZUZvclN0cm9raW5nID0gbnVsbDtcbiAgICB0aGlzLl9jYWNoZWRHZXRTaW5nbGVQaXhlbFdpZHRoID0gbnVsbDtcbiAgICB0aGlzLl9jYWNoZWRCaXRtYXBzTWFwID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgZ2V0T2JqZWN0KGRhdGEsIGZhbGxiYWNrID0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGRhdGEuc3RhcnRzV2l0aChcImdfXCIpID8gdGhpcy5jb21tb25PYmpzLmdldChkYXRhKSA6IHRoaXMub2Jqcy5nZXQoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG5cbiAgYmVnaW5EcmF3aW5nKHtcbiAgICB0cmFuc2Zvcm0sXG4gICAgdmlld3BvcnQsXG4gICAgdHJhbnNwYXJlbmN5ID0gZmFsc2UsXG4gICAgYmFja2dyb3VuZCA9IG51bGxcbiAgfSkge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jdHguY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQ7XG4gICAgY29uc3QgZGVmYXVsdEJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmQgfHwgXCIjZmZmZmZmXCI7XG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuXG4gICAgaWYgKHRoaXMuZm9yZWdyb3VuZENvbG9yICYmIHRoaXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmZvcmVncm91bmRDb2xvcjtcbiAgICAgIGNvbnN0IGZnID0gdGhpcy5mb3JlZ3JvdW5kQ29sb3IgPSB0aGlzLmN0eC5maWxsU3R5bGU7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgIGNvbnN0IGJnID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmN0eC5maWxsU3R5bGU7XG4gICAgICBsZXQgaXNWYWxpZERlZmF1bHRCZyA9IHRydWU7XG4gICAgICBsZXQgZGVmYXVsdEJnID0gZGVmYXVsdEJhY2tncm91bmRDb2xvcjtcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3I7XG4gICAgICBkZWZhdWx0QmcgPSB0aGlzLmN0eC5maWxsU3R5bGU7XG4gICAgICBpc1ZhbGlkRGVmYXVsdEJnID0gdHlwZW9mIGRlZmF1bHRCZyA9PT0gXCJzdHJpbmdcIiAmJiAvXiNbMC05QS1GYS1mXXs2fSQvLnRlc3QoZGVmYXVsdEJnKTtcblxuICAgICAgaWYgKGZnID09PSBcIiMwMDAwMDBcIiAmJiBiZyA9PT0gXCIjZmZmZmZmXCIgfHwgZmcgPT09IGJnIHx8ICFpc1ZhbGlkRGVmYXVsdEJnKSB7XG4gICAgICAgIHRoaXMuZm9yZWdyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY0IgPSBwYXJzZUludChkZWZhdWx0Qmcuc2xpY2UoMSksIDE2KTtcbiAgICAgICAgY29uc3QgckIgPSAoY0IgJiYgMHhmZjAwMDApID4+IDE2O1xuICAgICAgICBjb25zdCBnQiA9IChjQiAmJiAweDAwZmYwMCkgPj4gODtcbiAgICAgICAgY29uc3QgYkIgPSBjQiAmJiAweDAwMDBmZjtcblxuICAgICAgICBjb25zdCBuZXdDb21wID0geCA9PiB7XG4gICAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgICAgcmV0dXJuIHggPD0gMC4wMzkyOCA/IHggLyAxMi45MiA6ICgoeCArIDAuMDU1KSAvIDEuMDU1KSAqKiAyLjQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbHVtQiA9IE1hdGgucm91bmQoMC4yMTI2ICogbmV3Q29tcChyQikgKyAwLjcxNTIgKiBuZXdDb21wKGdCKSArIDAuMDcyMiAqIG5ld0NvbXAoYkIpKTtcblxuICAgICAgICB0aGlzLnNlbGVjdENvbG9yID0gKHIsIGcsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCBsdW1DID0gMC4yMTI2ICogbmV3Q29tcChyKSArIDAuNzE1MiAqIG5ld0NvbXAoZykgKyAwLjA3MjIgKiBuZXdDb21wKGIpO1xuICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGx1bUMpID09PSBsdW1CID8gYmcgOiBmZztcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvciB8fCBkZWZhdWx0QmFja2dyb3VuZENvbG9yO1xuICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcblxuICAgIGlmICh0cmFuc3BhcmVuY3kpIHtcbiAgICAgIGNvbnN0IHRyYW5zcGFyZW50Q2FudmFzID0gdGhpcy5jYWNoZWRDYW52YXNlcy5nZXRDYW52YXMoXCJ0cmFuc3BhcmVudFwiLCB3aWR0aCwgaGVpZ2h0LCB0cnVlKTtcbiAgICAgIHRoaXMuY29tcG9zaXRlQ3R4ID0gdGhpcy5jdHg7XG4gICAgICB0aGlzLnRyYW5zcGFyZW50Q2FudmFzID0gdHJhbnNwYXJlbnRDYW52YXMuY2FudmFzO1xuICAgICAgdGhpcy5jdHggPSB0cmFuc3BhcmVudENhbnZhcy5jb250ZXh0O1xuICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgdGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5KHRoaXMuY3R4LCB0aGlzLmNvbXBvc2l0ZUN0eC5tb3pDdXJyZW50VHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgcmVzZXRDdHhUb0RlZmF1bHQodGhpcy5jdHgsIHRoaXMuZm9yZWdyb3VuZENvbG9yKTtcblxuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseSh0aGlzLmN0eCwgdHJhbnNmb3JtKTtcbiAgICAgIHRoaXMub3V0cHV0U2NhbGVYID0gdHJhbnNmb3JtWzBdO1xuICAgICAgdGhpcy5vdXRwdXRTY2FsZVkgPSB0cmFuc2Zvcm1bMF07XG4gICAgfVxuXG4gICAgdGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5KHRoaXMuY3R4LCB2aWV3cG9ydC50cmFuc2Zvcm0pO1xuICAgIHRoaXMudmlld3BvcnRTY2FsZSA9IHZpZXdwb3J0LnNjYWxlO1xuICAgIHRoaXMuYmFzZVRyYW5zZm9ybSA9IHRoaXMuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm0uc2xpY2UoKTtcblxuICAgIGlmICh0aGlzLmltYWdlTGF5ZXIpIHtcbiAgICAgIHRoaXMuaW1hZ2VMYXllci5iZWdpbkxheW91dCgpO1xuICAgIH1cbiAgfVxuXG4gIGV4ZWN1dGVPcGVyYXRvckxpc3Qob3BlcmF0b3JMaXN0LCBleGVjdXRpb25TdGFydElkeCwgY29udGludWVDYWxsYmFjaywgc3RlcHBlcikge1xuICAgIGNvbnN0IGFyZ3NBcnJheSA9IG9wZXJhdG9yTGlzdC5hcmdzQXJyYXk7XG4gICAgY29uc3QgZm5BcnJheSA9IG9wZXJhdG9yTGlzdC5mbkFycmF5O1xuICAgIGxldCBpID0gZXhlY3V0aW9uU3RhcnRJZHggfHwgMDtcbiAgICBjb25zdCBhcmdzQXJyYXlMZW4gPSBhcmdzQXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGFyZ3NBcnJheUxlbiA9PT0gaSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgY29uc3QgY2h1bmtPcGVyYXRpb25zID0gYXJnc0FycmF5TGVuIC0gaSA+IEVYRUNVVElPTl9TVEVQUyAmJiB0eXBlb2YgY29udGludWVDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGNvbnN0IGVuZFRpbWUgPSBjaHVua09wZXJhdGlvbnMgPyBEYXRlLm5vdygpICsgRVhFQ1VUSU9OX1RJTUUgOiAwO1xuICAgIGxldCBzdGVwcyA9IDA7XG4gICAgY29uc3QgY29tbW9uT2JqcyA9IHRoaXMuY29tbW9uT2JqcztcbiAgICBjb25zdCBvYmpzID0gdGhpcy5vYmpzO1xuICAgIGxldCBmbklkO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChzdGVwcGVyICE9PSB1bmRlZmluZWQgJiYgaSA9PT0gc3RlcHBlci5uZXh0QnJlYWtQb2ludCkge1xuICAgICAgICBzdGVwcGVyLmJyZWFrSXQoaSwgY29udGludWVDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuXG4gICAgICBmbklkID0gZm5BcnJheVtpXTtcblxuICAgICAgaWYgKGZuSWQgIT09IF91dGlsLk9QUy5kZXBlbmRlbmN5KSB7XG4gICAgICAgIHRoaXNbZm5JZF0uYXBwbHkodGhpcywgYXJnc0FycmF5W2ldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgZGVwT2JqSWQgb2YgYXJnc0FycmF5W2ldKSB7XG4gICAgICAgICAgY29uc3Qgb2Jqc1Bvb2wgPSBkZXBPYmpJZC5zdGFydHNXaXRoKFwiZ19cIikgPyBjb21tb25PYmpzIDogb2JqcztcblxuICAgICAgICAgIGlmICghb2Jqc1Bvb2wuaGFzKGRlcE9iaklkKSkge1xuICAgICAgICAgICAgb2Jqc1Bvb2wuZ2V0KGRlcE9iaklkLCBjb250aW51ZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpKys7XG5cbiAgICAgIGlmIChpID09PSBhcmdzQXJyYXlMZW4pIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaHVua09wZXJhdGlvbnMgJiYgKytzdGVwcyA+IEVYRUNVVElPTl9TVEVQUykge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSA+IGVuZFRpbWUpIHtcbiAgICAgICAgICBjb250aW51ZUNhbGxiYWNrKCk7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGVwcyA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZW5kRHJhd2luZygpIHtcbiAgICB3aGlsZSAodGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCB8fCB0aGlzLmluU01hc2tNb2RlKSB7XG4gICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbiAgICBpZiAodGhpcy50cmFuc3BhcmVudENhbnZhcykge1xuICAgICAgdGhpcy5jdHggPSB0aGlzLmNvbXBvc2l0ZUN0eDtcbiAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZSh0aGlzLnRyYW5zcGFyZW50Q2FudmFzLCAwLCAwKTtcbiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICAgIHRoaXMudHJhbnNwYXJlbnRDYW52YXMgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGVkQ2FudmFzZXMuY2xlYXIoKTtcbiAgICB0aGlzLmNhY2hlZFBhdHRlcm5zLmNsZWFyKCk7XG5cbiAgICBmb3IgKGNvbnN0IGNhY2hlIG9mIHRoaXMuX2NhY2hlZEJpdG1hcHNNYXAudmFsdWVzKCkpIHtcbiAgICAgIGZvciAoY29uc3QgY2FudmFzIG9mIGNhY2hlLnZhbHVlcygpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgIH1cblxuICAgIHRoaXMuX2NhY2hlZEJpdG1hcHNNYXAuY2xlYXIoKTtcblxuICAgIGlmICh0aGlzLmltYWdlTGF5ZXIpIHtcbiAgICAgIHRoaXMuaW1hZ2VMYXllci5lbmRMYXlvdXQoKTtcbiAgICB9XG4gIH1cblxuICBfc2NhbGVJbWFnZShpbWcsIGludmVyc2VUcmFuc2Zvcm0pIHtcbiAgICBjb25zdCB3aWR0aCA9IGltZy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgIGxldCB3aWR0aFNjYWxlID0gTWF0aC5tYXgoTWF0aC5oeXBvdChpbnZlcnNlVHJhbnNmb3JtWzBdLCBpbnZlcnNlVHJhbnNmb3JtWzFdKSwgMSk7XG4gICAgbGV0IGhlaWdodFNjYWxlID0gTWF0aC5tYXgoTWF0aC5oeXBvdChpbnZlcnNlVHJhbnNmb3JtWzJdLCBpbnZlcnNlVHJhbnNmb3JtWzNdKSwgMSk7XG4gICAgbGV0IHBhaW50V2lkdGggPSB3aWR0aCxcbiAgICAgICAgcGFpbnRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgbGV0IHRtcENhbnZhc0lkID0gXCJwcmVzY2FsZTFcIjtcbiAgICBsZXQgdG1wQ2FudmFzLCB0bXBDdHg7XG5cbiAgICB3aGlsZSAod2lkdGhTY2FsZSA+IDIgJiYgcGFpbnRXaWR0aCA+IDEgfHwgaGVpZ2h0U2NhbGUgPiAyICYmIHBhaW50SGVpZ2h0ID4gMSkge1xuICAgICAgbGV0IG5ld1dpZHRoID0gcGFpbnRXaWR0aCxcbiAgICAgICAgICBuZXdIZWlnaHQgPSBwYWludEhlaWdodDtcblxuICAgICAgaWYgKHdpZHRoU2NhbGUgPiAyICYmIHBhaW50V2lkdGggPiAxKSB7XG4gICAgICAgIG5ld1dpZHRoID0gTWF0aC5jZWlsKHBhaW50V2lkdGggLyAyKTtcbiAgICAgICAgd2lkdGhTY2FsZSAvPSBwYWludFdpZHRoIC8gbmV3V2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmIChoZWlnaHRTY2FsZSA+IDIgJiYgcGFpbnRIZWlnaHQgPiAxKSB7XG4gICAgICAgIG5ld0hlaWdodCA9IE1hdGguY2VpbChwYWludEhlaWdodCAvIDIpO1xuICAgICAgICBoZWlnaHRTY2FsZSAvPSBwYWludEhlaWdodCAvIG5ld0hlaWdodDtcbiAgICAgIH1cblxuICAgICAgdG1wQ2FudmFzID0gdGhpcy5jYWNoZWRDYW52YXNlcy5nZXRDYW52YXModG1wQ2FudmFzSWQsIG5ld1dpZHRoLCBuZXdIZWlnaHQsIGZhbHNlKTtcbiAgICAgIHRtcEN0eCA9IHRtcENhbnZhcy5jb250ZXh0O1xuICAgICAgdG1wQ3R4LmNsZWFyUmVjdCgwLCAwLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcbiAgICAgIHRtcEN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBwYWludFdpZHRoLCBwYWludEhlaWdodCwgMCwgMCwgbmV3V2lkdGgsIG5ld0hlaWdodCk7XG4gICAgICBpbWcgPSB0bXBDYW52YXMuY2FudmFzO1xuICAgICAgcGFpbnRXaWR0aCA9IG5ld1dpZHRoO1xuICAgICAgcGFpbnRIZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICB0bXBDYW52YXNJZCA9IHRtcENhbnZhc0lkID09PSBcInByZXNjYWxlMVwiID8gXCJwcmVzY2FsZTJcIiA6IFwicHJlc2NhbGUxXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGltZyxcbiAgICAgIHBhaW50V2lkdGgsXG4gICAgICBwYWludEhlaWdodFxuICAgIH07XG4gIH1cblxuICBfY3JlYXRlTWFza0NhbnZhcyhpbWcpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBpbWc7XG4gICAgY29uc3QgZmlsbENvbG9yID0gdGhpcy5jdXJyZW50LmZpbGxDb2xvcjtcbiAgICBjb25zdCBpc1BhdHRlcm5GaWxsID0gdGhpcy5jdXJyZW50LnBhdHRlcm5GaWxsO1xuICAgIGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm0gPSBjdHgubW96Q3VycmVudFRyYW5zZm9ybTtcbiAgICBsZXQgY2FjaGUsIGNhY2hlS2V5LCBzY2FsZWQsIG1hc2tDYW52YXM7XG5cbiAgICBpZiAoKGltZy5iaXRtYXAgfHwgaW1nLmRhdGEpICYmIGltZy5jb3VudCA+IDEpIHtcbiAgICAgIGNvbnN0IG1haW5LZXkgPSBpbWcuYml0bWFwIHx8IGltZy5kYXRhLmJ1ZmZlcjtcbiAgICAgIGNvbnN0IHdpdGhvdXRUcmFuc2xhdGlvbiA9IGN1cnJlbnRUcmFuc2Zvcm0uc2xpY2UoMCwgNCk7XG4gICAgICBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KGlzUGF0dGVybkZpbGwgPyB3aXRob3V0VHJhbnNsYXRpb24gOiBbd2l0aG91dFRyYW5zbGF0aW9uLCBmaWxsQ29sb3JdKTtcbiAgICAgIGNhY2hlID0gdGhpcy5fY2FjaGVkQml0bWFwc01hcC5nZXQobWFpbktleSk7XG5cbiAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgY2FjaGUgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5fY2FjaGVkQml0bWFwc01hcC5zZXQobWFpbktleSwgY2FjaGUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjYWNoZWRJbWFnZSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgIGlmIChjYWNoZWRJbWFnZSAmJiAhaXNQYXR0ZXJuRmlsbCkge1xuICAgICAgICBjb25zdCBvZmZzZXRYID0gTWF0aC5yb3VuZChNYXRoLm1pbihjdXJyZW50VHJhbnNmb3JtWzBdLCBjdXJyZW50VHJhbnNmb3JtWzJdKSArIGN1cnJlbnRUcmFuc2Zvcm1bNF0pO1xuICAgICAgICBjb25zdCBvZmZzZXRZID0gTWF0aC5yb3VuZChNYXRoLm1pbihjdXJyZW50VHJhbnNmb3JtWzFdLCBjdXJyZW50VHJhbnNmb3JtWzNdKSArIGN1cnJlbnRUcmFuc2Zvcm1bNV0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNhbnZhczogY2FjaGVkSW1hZ2UsXG4gICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICBvZmZzZXRZXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHNjYWxlZCA9IGNhY2hlZEltYWdlO1xuICAgIH1cblxuICAgIGlmICghc2NhbGVkKSB7XG4gICAgICBtYXNrQ2FudmFzID0gdGhpcy5jYWNoZWRDYW52YXNlcy5nZXRDYW52YXMoXCJtYXNrQ2FudmFzXCIsIHdpZHRoLCBoZWlnaHQsIGZhbHNlKTtcbiAgICAgIHB1dEJpbmFyeUltYWdlTWFzayhtYXNrQ2FudmFzLmNvbnRleHQsIGltZyk7XG4gICAgfVxuXG4gICAgbGV0IG1hc2tUb0NhbnZhcyA9IF91dGlsLlV0aWwudHJhbnNmb3JtKGN1cnJlbnRUcmFuc2Zvcm0sIFsxIC8gd2lkdGgsIDAsIDAsIC0xIC8gaGVpZ2h0LCAwLCAwXSk7XG5cbiAgICBtYXNrVG9DYW52YXMgPSBfdXRpbC5VdGlsLnRyYW5zZm9ybShtYXNrVG9DYW52YXMsIFsxLCAwLCAwLCAxLCAwLCAtaGVpZ2h0XSk7XG5cbiAgICBjb25zdCBjb3JkMSA9IF91dGlsLlV0aWwuYXBwbHlUcmFuc2Zvcm0oWzAsIDBdLCBtYXNrVG9DYW52YXMpO1xuXG4gICAgY29uc3QgY29yZDIgPSBfdXRpbC5VdGlsLmFwcGx5VHJhbnNmb3JtKFt3aWR0aCwgaGVpZ2h0XSwgbWFza1RvQ2FudmFzKTtcblxuICAgIGNvbnN0IHJlY3QgPSBfdXRpbC5VdGlsLm5vcm1hbGl6ZVJlY3QoW2NvcmQxWzBdLCBjb3JkMVsxXSwgY29yZDJbMF0sIGNvcmQyWzFdXSk7XG5cbiAgICBjb25zdCBkcmF3bldpZHRoID0gTWF0aC5yb3VuZChyZWN0WzJdIC0gcmVjdFswXSkgfHwgMTtcbiAgICBjb25zdCBkcmF3bkhlaWdodCA9IE1hdGgucm91bmQocmVjdFszXSAtIHJlY3RbMV0pIHx8IDE7XG4gICAgY29uc3QgZmlsbENhbnZhcyA9IHRoaXMuY2FjaGVkQ2FudmFzZXMuZ2V0Q2FudmFzKFwiZmlsbENhbnZhc1wiLCBkcmF3bldpZHRoLCBkcmF3bkhlaWdodCwgdHJ1ZSk7XG4gICAgY29uc3QgZmlsbEN0eCA9IGZpbGxDYW52YXMuY29udGV4dDtcbiAgICBjb25zdCBvZmZzZXRYID0gTWF0aC5taW4oY29yZDFbMF0sIGNvcmQyWzBdKTtcbiAgICBjb25zdCBvZmZzZXRZID0gTWF0aC5taW4oY29yZDFbMV0sIGNvcmQyWzFdKTtcbiAgICBmaWxsQ3R4LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xuICAgIGZpbGxDdHgudHJhbnNmb3JtLmFwcGx5KGZpbGxDdHgsIG1hc2tUb0NhbnZhcyk7XG5cbiAgICBpZiAoIXNjYWxlZCkge1xuICAgICAgc2NhbGVkID0gdGhpcy5fc2NhbGVJbWFnZShtYXNrQ2FudmFzLmNhbnZhcywgZmlsbEN0eC5tb3pDdXJyZW50VHJhbnNmb3JtSW52ZXJzZSk7XG4gICAgICBzY2FsZWQgPSBzY2FsZWQuaW1nO1xuXG4gICAgICBpZiAoY2FjaGUgJiYgaXNQYXR0ZXJuRmlsbCkge1xuICAgICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIHNjYWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmlsbEN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBnZXRJbWFnZVNtb290aGluZ0VuYWJsZWQoZmlsbEN0eC5tb3pDdXJyZW50VHJhbnNmb3JtLCBpbWcuaW50ZXJwb2xhdGUpO1xuICAgIGRyYXdJbWFnZUF0SW50ZWdlckNvb3JkcyhmaWxsQ3R4LCBzY2FsZWQsIDAsIDAsIHNjYWxlZC53aWR0aCwgc2NhbGVkLmhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgZmlsbEN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1pblwiO1xuXG4gICAgY29uc3QgaW52ZXJzZSA9IF91dGlsLlV0aWwudHJhbnNmb3JtKGZpbGxDdHgubW96Q3VycmVudFRyYW5zZm9ybUludmVyc2UsIFsxLCAwLCAwLCAxLCAtb2Zmc2V0WCwgLW9mZnNldFldKTtcblxuICAgIGZpbGxDdHguZmlsbFN0eWxlID0gaXNQYXR0ZXJuRmlsbCA/IGZpbGxDb2xvci5nZXRQYXR0ZXJuKGN0eCwgdGhpcywgaW52ZXJzZSwgX3BhdHRlcm5faGVscGVyLlBhdGhUeXBlLkZJTEwpIDogZmlsbENvbG9yO1xuICAgIGZpbGxDdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBpZiAoY2FjaGUgJiYgIWlzUGF0dGVybkZpbGwpIHtcbiAgICAgIHRoaXMuY2FjaGVkQ2FudmFzZXMuZGVsZXRlKFwiZmlsbENhbnZhc1wiKTtcbiAgICAgIGNhY2hlLnNldChjYWNoZUtleSwgZmlsbENhbnZhcy5jYW52YXMpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjYW52YXM6IGZpbGxDYW52YXMuY2FudmFzLFxuICAgICAgb2Zmc2V0WDogTWF0aC5yb3VuZChvZmZzZXRYKSxcbiAgICAgIG9mZnNldFk6IE1hdGgucm91bmQob2Zmc2V0WSlcbiAgICB9O1xuICB9XG5cbiAgc2V0TGluZVdpZHRoKHdpZHRoKSB7XG4gICAgaWYgKHdpZHRoICE9PSB0aGlzLmN1cnJlbnQubGluZVdpZHRoKSB7XG4gICAgICB0aGlzLl9jYWNoZWRTY2FsZUZvclN0cm9raW5nID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnQubGluZVdpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5jdHgubGluZVdpZHRoID0gd2lkdGg7XG4gIH1cblxuICBzZXRMaW5lQ2FwKHN0eWxlKSB7XG4gICAgdGhpcy5jdHgubGluZUNhcCA9IExJTkVfQ0FQX1NUWUxFU1tzdHlsZV07XG4gIH1cblxuICBzZXRMaW5lSm9pbihzdHlsZSkge1xuICAgIHRoaXMuY3R4LmxpbmVKb2luID0gTElORV9KT0lOX1NUWUxFU1tzdHlsZV07XG4gIH1cblxuICBzZXRNaXRlckxpbWl0KGxpbWl0KSB7XG4gICAgdGhpcy5jdHgubWl0ZXJMaW1pdCA9IGxpbWl0O1xuICB9XG5cbiAgc2V0RGFzaChkYXNoQXJyYXksIGRhc2hQaGFzZSkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG4gICAgaWYgKGN0eC5zZXRMaW5lRGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdHguc2V0TGluZURhc2goZGFzaEFycmF5KTtcbiAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IGRhc2hQaGFzZTtcbiAgICB9XG4gIH1cblxuICBzZXRSZW5kZXJpbmdJbnRlbnQoaW50ZW50KSB7fVxuXG4gIHNldEZsYXRuZXNzKGZsYXRuZXNzKSB7fVxuXG4gIHNldEdTdGF0ZShzdGF0ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBzdGF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZXNbaV07XG4gICAgICBjb25zdCBrZXkgPSBzdGF0ZVswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3RhdGVbMV07XG5cbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJMV1wiOlxuICAgICAgICAgIHRoaXMuc2V0TGluZVdpZHRoKHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTENcIjpcbiAgICAgICAgICB0aGlzLnNldExpbmVDYXAodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJMSlwiOlxuICAgICAgICAgIHRoaXMuc2V0TGluZUpvaW4odmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJNTFwiOlxuICAgICAgICAgIHRoaXMuc2V0TWl0ZXJMaW1pdCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICB0aGlzLnNldERhc2godmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiUklcIjpcbiAgICAgICAgICB0aGlzLnNldFJlbmRlcmluZ0ludGVudCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkZMXCI6XG4gICAgICAgICAgdGhpcy5zZXRGbGF0bmVzcyh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkZvbnRcIjpcbiAgICAgICAgICB0aGlzLnNldEZvbnQodmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiQ0FcIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnQuc3Ryb2tlQWxwaGEgPSBzdGF0ZVsxXTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiY2FcIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnQuZmlsbEFscGhhID0gc3RhdGVbMV07XG4gICAgICAgICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSBzdGF0ZVsxXTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiQk1cIjpcbiAgICAgICAgICB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiU01hc2tcIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnQuYWN0aXZlU01hc2sgPSB2YWx1ZSA/IHRoaXMudGVtcFNNYXNrIDogbnVsbDtcbiAgICAgICAgICB0aGlzLnRlbXBTTWFzayA9IG51bGw7XG4gICAgICAgICAgdGhpcy5jaGVja1NNYXNrU3RhdGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiVFJcIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnQudHJhbnNmZXJNYXBzID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IGluU01hc2tNb2RlKCkge1xuICAgIHJldHVybiAhIXRoaXMuc3VzcGVuZGVkQ3R4O1xuICB9XG5cbiAgY2hlY2tTTWFza1N0YXRlKCkge1xuICAgIGNvbnN0IGluU01hc2tNb2RlID0gdGhpcy5pblNNYXNrTW9kZTtcblxuICAgIGlmICh0aGlzLmN1cnJlbnQuYWN0aXZlU01hc2sgJiYgIWluU01hc2tNb2RlKSB7XG4gICAgICB0aGlzLmJlZ2luU01hc2tNb2RlKCk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5jdXJyZW50LmFjdGl2ZVNNYXNrICYmIGluU01hc2tNb2RlKSB7XG4gICAgICB0aGlzLmVuZFNNYXNrTW9kZSgpO1xuICAgIH1cbiAgfVxuXG4gIGJlZ2luU01hc2tNb2RlKCkge1xuICAgIGlmICh0aGlzLmluU01hc2tNb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiZWdpblNNYXNrTW9kZSBjYWxsZWQgd2hpbGUgYWxyZWFkeSBpbiBzbWFzayBtb2RlXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYXduV2lkdGggPSB0aGlzLmN0eC5jYW52YXMud2lkdGg7XG4gICAgY29uc3QgZHJhd25IZWlnaHQgPSB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0O1xuICAgIGNvbnN0IGNhY2hlSWQgPSBcInNtYXNrR3JvdXBBdFwiICsgdGhpcy5ncm91cExldmVsO1xuICAgIGNvbnN0IHNjcmF0Y2hDYW52YXMgPSB0aGlzLmNhY2hlZENhbnZhc2VzLmdldENhbnZhcyhjYWNoZUlkLCBkcmF3bldpZHRoLCBkcmF3bkhlaWdodCwgdHJ1ZSk7XG4gICAgdGhpcy5zdXNwZW5kZWRDdHggPSB0aGlzLmN0eDtcbiAgICB0aGlzLmN0eCA9IHNjcmF0Y2hDYW52YXMuY29udGV4dDtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjdHguc2V0VHJhbnNmb3JtLmFwcGx5KGN0eCwgdGhpcy5zdXNwZW5kZWRDdHgubW96Q3VycmVudFRyYW5zZm9ybSk7XG4gICAgY29weUN0eFN0YXRlKHRoaXMuc3VzcGVuZGVkQ3R4LCBjdHgpO1xuICAgIG1pcnJvckNvbnRleHRPcGVyYXRpb25zKGN0eCwgdGhpcy5zdXNwZW5kZWRDdHgpO1xuICAgIHRoaXMuc2V0R1N0YXRlKFtbXCJCTVwiLCBcInNvdXJjZS1vdmVyXCJdLCBbXCJjYVwiLCAxXSwgW1wiQ0FcIiwgMV1dKTtcbiAgfVxuXG4gIGVuZFNNYXNrTW9kZSgpIHtcbiAgICBpZiAoIXRoaXMuaW5TTWFza01vZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImVuZFNNYXNrTW9kZSBjYWxsZWQgd2hpbGUgbm90IGluIHNtYXNrIG1vZGVcIik7XG4gICAgfVxuXG4gICAgdGhpcy5jdHguX3JlbW92ZU1pcnJvcmluZygpO1xuXG4gICAgY29weUN0eFN0YXRlKHRoaXMuY3R4LCB0aGlzLnN1c3BlbmRlZEN0eCk7XG4gICAgdGhpcy5jdHggPSB0aGlzLnN1c3BlbmRlZEN0eDtcbiAgICB0aGlzLnN1c3BlbmRlZEN0eCA9IG51bGw7XG4gIH1cblxuICBjb21wb3NlKGRpcnR5Qm94KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnQuYWN0aXZlU01hc2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRpcnR5Qm94KSB7XG4gICAgICBkaXJ0eUJveCA9IFswLCAwLCB0aGlzLmN0eC5jYW52YXMud2lkdGgsIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHRdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXJ0eUJveFswXSA9IE1hdGguZmxvb3IoZGlydHlCb3hbMF0pO1xuICAgICAgZGlydHlCb3hbMV0gPSBNYXRoLmZsb29yKGRpcnR5Qm94WzFdKTtcbiAgICAgIGRpcnR5Qm94WzJdID0gTWF0aC5jZWlsKGRpcnR5Qm94WzJdKTtcbiAgICAgIGRpcnR5Qm94WzNdID0gTWF0aC5jZWlsKGRpcnR5Qm94WzNdKTtcbiAgICB9XG5cbiAgICBjb25zdCBzbWFzayA9IHRoaXMuY3VycmVudC5hY3RpdmVTTWFzaztcbiAgICBjb25zdCBzdXNwZW5kZWRDdHggPSB0aGlzLnN1c3BlbmRlZEN0eDtcbiAgICBjb21wb3NlU01hc2soc3VzcGVuZGVkQ3R4LCBzbWFzaywgdGhpcy5jdHgsIGRpcnR5Qm94KTtcbiAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmN0eC5jYW52YXMud2lkdGgsIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQpO1xuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHNhdmUoKSB7XG4gICAgaWYgKHRoaXMuaW5TTWFza01vZGUpIHtcbiAgICAgIGNvcHlDdHhTdGF0ZSh0aGlzLmN0eCwgdGhpcy5zdXNwZW5kZWRDdHgpO1xuICAgICAgdGhpcy5zdXNwZW5kZWRDdHguc2F2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkID0gdGhpcy5jdXJyZW50O1xuICAgIHRoaXMuc3RhdGVTdGFjay5wdXNoKG9sZCk7XG4gICAgdGhpcy5jdXJyZW50ID0gb2xkLmNsb25lKCk7XG4gIH1cblxuICByZXN0b3JlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlU3RhY2subGVuZ3RoID09PSAwICYmIHRoaXMuaW5TTWFza01vZGUpIHtcbiAgICAgIHRoaXMuZW5kU01hc2tNb2RlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGVTdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuc3RhdGVTdGFjay5wb3AoKTtcblxuICAgICAgaWYgKHRoaXMuaW5TTWFza01vZGUpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5kZWRDdHgucmVzdG9yZSgpO1xuICAgICAgICBjb3B5Q3R4U3RhdGUodGhpcy5zdXNwZW5kZWRDdHgsIHRoaXMuY3R4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jaGVja1NNYXNrU3RhdGUoKTtcbiAgICAgIHRoaXMucGVuZGluZ0NsaXAgPSBudWxsO1xuICAgICAgdGhpcy5fY2FjaGVkU2NhbGVGb3JTdHJva2luZyA9IG51bGw7XG4gICAgICB0aGlzLl9jYWNoZWRHZXRTaW5nbGVQaXhlbFdpZHRoID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICB0cmFuc2Zvcm0oYSwgYiwgYywgZCwgZSwgZikge1xuICAgIHRoaXMuY3R4LnRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKTtcbiAgICB0aGlzLl9jYWNoZWRTY2FsZUZvclN0cm9raW5nID0gbnVsbDtcbiAgICB0aGlzLl9jYWNoZWRHZXRTaW5nbGVQaXhlbFdpZHRoID0gbnVsbDtcbiAgfVxuXG4gIGNvbnN0cnVjdFBhdGgob3BzLCBhcmdzLCBtaW5NYXgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgIGxldCB4ID0gY3VycmVudC54LFxuICAgICAgICB5ID0gY3VycmVudC55O1xuICAgIGxldCBzdGFydFgsIHN0YXJ0WTtcbiAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm07XG4gICAgY29uc3QgaXNTY2FsaW5nTWF0cml4ID0gY3VycmVudFRyYW5zZm9ybVswXSA9PT0gMCAmJiBjdXJyZW50VHJhbnNmb3JtWzNdID09PSAwIHx8IGN1cnJlbnRUcmFuc2Zvcm1bMV0gPT09IDAgJiYgY3VycmVudFRyYW5zZm9ybVsyXSA9PT0gMDtcbiAgICBjb25zdCBtaW5NYXhGb3JCZXppZXIgPSBpc1NjYWxpbmdNYXRyaXggPyBtaW5NYXguc2xpY2UoMCkgOiBudWxsO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBpaSA9IG9wcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBzd2l0Y2ggKG9wc1tpXSB8IDApIHtcbiAgICAgICAgY2FzZSBfdXRpbC5PUFMucmVjdGFuZ2xlOlxuICAgICAgICAgIHggPSBhcmdzW2orK107XG4gICAgICAgICAgeSA9IGFyZ3NbaisrXTtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IGFyZ3NbaisrXTtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBhcmdzW2orK107XG4gICAgICAgICAgY29uc3QgeHcgPSB4ICsgd2lkdGg7XG4gICAgICAgICAgY29uc3QgeWggPSB5ICsgaGVpZ2h0O1xuICAgICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XG5cbiAgICAgICAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgICBjdHgubGluZVRvKHh3LCB5aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeHcsIHkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4dywgeWgpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4LCB5aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFpc1NjYWxpbmdNYXRyaXgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQudXBkYXRlUmVjdE1pbk1heChjdXJyZW50VHJhbnNmb3JtLCBbeCwgeSwgeHcsIHloXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgX3V0aWwuT1BTLm1vdmVUbzpcbiAgICAgICAgICB4ID0gYXJnc1tqKytdO1xuICAgICAgICAgIHkgPSBhcmdzW2orK107XG4gICAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcblxuICAgICAgICAgIGlmICghaXNTY2FsaW5nTWF0cml4KSB7XG4gICAgICAgICAgICBjdXJyZW50LnVwZGF0ZVBhdGhNaW5NYXgoY3VycmVudFRyYW5zZm9ybSwgeCwgeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBfdXRpbC5PUFMubGluZVRvOlxuICAgICAgICAgIHggPSBhcmdzW2orK107XG4gICAgICAgICAgeSA9IGFyZ3NbaisrXTtcbiAgICAgICAgICBjdHgubGluZVRvKHgsIHkpO1xuXG4gICAgICAgICAgaWYgKCFpc1NjYWxpbmdNYXRyaXgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQudXBkYXRlUGF0aE1pbk1heChjdXJyZW50VHJhbnNmb3JtLCB4LCB5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIF91dGlsLk9QUy5jdXJ2ZVRvOlxuICAgICAgICAgIHN0YXJ0WCA9IHg7XG4gICAgICAgICAgc3RhcnRZID0geTtcbiAgICAgICAgICB4ID0gYXJnc1tqICsgNF07XG4gICAgICAgICAgeSA9IGFyZ3NbaiArIDVdO1xuICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKGFyZ3Nbal0sIGFyZ3NbaiArIDFdLCBhcmdzW2ogKyAyXSwgYXJnc1tqICsgM10sIHgsIHkpO1xuICAgICAgICAgIGN1cnJlbnQudXBkYXRlQ3VydmVQYXRoTWluTWF4KGN1cnJlbnRUcmFuc2Zvcm0sIHN0YXJ0WCwgc3RhcnRZLCBhcmdzW2pdLCBhcmdzW2ogKyAxXSwgYXJnc1tqICsgMl0sIGFyZ3NbaiArIDNdLCB4LCB5LCBtaW5NYXhGb3JCZXppZXIpO1xuICAgICAgICAgIGogKz0gNjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIF91dGlsLk9QUy5jdXJ2ZVRvMjpcbiAgICAgICAgICBzdGFydFggPSB4O1xuICAgICAgICAgIHN0YXJ0WSA9IHk7XG4gICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oeCwgeSwgYXJnc1tqXSwgYXJnc1tqICsgMV0sIGFyZ3NbaiArIDJdLCBhcmdzW2ogKyAzXSk7XG4gICAgICAgICAgY3VycmVudC51cGRhdGVDdXJ2ZVBhdGhNaW5NYXgoY3VycmVudFRyYW5zZm9ybSwgc3RhcnRYLCBzdGFydFksIHgsIHksIGFyZ3Nbal0sIGFyZ3NbaiArIDFdLCBhcmdzW2ogKyAyXSwgYXJnc1tqICsgM10sIG1pbk1heEZvckJlemllcik7XG4gICAgICAgICAgeCA9IGFyZ3NbaiArIDJdO1xuICAgICAgICAgIHkgPSBhcmdzW2ogKyAzXTtcbiAgICAgICAgICBqICs9IDQ7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBfdXRpbC5PUFMuY3VydmVUbzM6XG4gICAgICAgICAgc3RhcnRYID0geDtcbiAgICAgICAgICBzdGFydFkgPSB5O1xuICAgICAgICAgIHggPSBhcmdzW2ogKyAyXTtcbiAgICAgICAgICB5ID0gYXJnc1tqICsgM107XG4gICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oYXJnc1tqXSwgYXJnc1tqICsgMV0sIHgsIHksIHgsIHkpO1xuICAgICAgICAgIGN1cnJlbnQudXBkYXRlQ3VydmVQYXRoTWluTWF4KGN1cnJlbnRUcmFuc2Zvcm0sIHN0YXJ0WCwgc3RhcnRZLCBhcmdzW2pdLCBhcmdzW2ogKyAxXSwgeCwgeSwgeCwgeSwgbWluTWF4Rm9yQmV6aWVyKTtcbiAgICAgICAgICBqICs9IDQ7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBfdXRpbC5PUFMuY2xvc2VQYXRoOlxuICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNTY2FsaW5nTWF0cml4KSB7XG4gICAgICBjdXJyZW50LnVwZGF0ZVNjYWxpbmdQYXRoTWluTWF4KGN1cnJlbnRUcmFuc2Zvcm0sIG1pbk1heEZvckJlemllcik7XG4gICAgfVxuXG4gICAgY3VycmVudC5zZXRDdXJyZW50UG9pbnQoeCwgeSk7XG4gIH1cblxuICBjbG9zZVBhdGgoKSB7XG4gICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XG4gIH1cblxuICBzdHJva2UoY29uc3VtZVBhdGgpIHtcbiAgICBjb25zdW1lUGF0aCA9IHR5cGVvZiBjb25zdW1lUGF0aCAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbnN1bWVQYXRoIDogdHJ1ZTtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBzdHJva2VDb2xvciA9IHRoaXMuY3VycmVudC5zdHJva2VDb2xvcjtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmN1cnJlbnQuc3Ryb2tlQWxwaGE7XG5cbiAgICBpZiAodGhpcy5jb250ZW50VmlzaWJsZSkge1xuICAgICAgaWYgKHR5cGVvZiBzdHJva2VDb2xvciA9PT0gXCJvYmplY3RcIiAmJiBzdHJva2VDb2xvcj8uZ2V0UGF0dGVybikge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvci5nZXRQYXR0ZXJuKGN0eCwgdGhpcywgY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm1JbnZlcnNlLCBfcGF0dGVybl9oZWxwZXIuUGF0aFR5cGUuU1RST0tFKTtcbiAgICAgICAgdGhpcy5yZXNjYWxlQW5kU3Ryb2tlKGZhbHNlKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzY2FsZUFuZFN0cm9rZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uc3VtZVBhdGgpIHtcbiAgICAgIHRoaXMuY29uc3VtZVBhdGgodGhpcy5jdXJyZW50LmdldENsaXBwZWRQYXRoQm91bmRpbmdCb3goKSk7XG4gICAgfVxuXG4gICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5jdXJyZW50LmZpbGxBbHBoYTtcbiAgfVxuXG4gIGNsb3NlU3Ryb2tlKCkge1xuICAgIHRoaXMuY2xvc2VQYXRoKCk7XG4gICAgdGhpcy5zdHJva2UoKTtcbiAgfVxuXG4gIGZpbGwoY29uc3VtZVBhdGgpIHtcbiAgICBjb25zdW1lUGF0aCA9IHR5cGVvZiBjb25zdW1lUGF0aCAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbnN1bWVQYXRoIDogdHJ1ZTtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBmaWxsQ29sb3IgPSB0aGlzLmN1cnJlbnQuZmlsbENvbG9yO1xuICAgIGNvbnN0IGlzUGF0dGVybkZpbGwgPSB0aGlzLmN1cnJlbnQucGF0dGVybkZpbGw7XG4gICAgbGV0IG5lZWRSZXN0b3JlID0gZmFsc2U7XG5cbiAgICBpZiAoaXNQYXR0ZXJuRmlsbCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3IuZ2V0UGF0dGVybihjdHgsIHRoaXMsIGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtSW52ZXJzZSwgX3BhdHRlcm5faGVscGVyLlBhdGhUeXBlLkZJTEwpO1xuICAgICAgbmVlZFJlc3RvcmUgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVyc2VjdCA9IHRoaXMuY3VycmVudC5nZXRDbGlwcGVkUGF0aEJvdW5kaW5nQm94KCk7XG5cbiAgICBpZiAodGhpcy5jb250ZW50VmlzaWJsZSAmJiBpbnRlcnNlY3QgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnBlbmRpbmdFT0ZpbGwpIHtcbiAgICAgICAgY3R4LmZpbGwoXCJldmVub2RkXCIpO1xuICAgICAgICB0aGlzLnBlbmRpbmdFT0ZpbGwgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5lZWRSZXN0b3JlKSB7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGlmIChjb25zdW1lUGF0aCkge1xuICAgICAgdGhpcy5jb25zdW1lUGF0aChpbnRlcnNlY3QpO1xuICAgIH1cbiAgfVxuXG4gIGVvRmlsbCgpIHtcbiAgICB0aGlzLnBlbmRpbmdFT0ZpbGwgPSB0cnVlO1xuICAgIHRoaXMuZmlsbCgpO1xuICB9XG5cbiAgZmlsbFN0cm9rZSgpIHtcbiAgICB0aGlzLmZpbGwoZmFsc2UpO1xuICAgIHRoaXMuc3Ryb2tlKGZhbHNlKTtcbiAgICB0aGlzLmNvbnN1bWVQYXRoKCk7XG4gIH1cblxuICBlb0ZpbGxTdHJva2UoKSB7XG4gICAgdGhpcy5wZW5kaW5nRU9GaWxsID0gdHJ1ZTtcbiAgICB0aGlzLmZpbGxTdHJva2UoKTtcbiAgfVxuXG4gIGNsb3NlRmlsbFN0cm9rZSgpIHtcbiAgICB0aGlzLmNsb3NlUGF0aCgpO1xuICAgIHRoaXMuZmlsbFN0cm9rZSgpO1xuICB9XG5cbiAgY2xvc2VFT0ZpbGxTdHJva2UoKSB7XG4gICAgdGhpcy5wZW5kaW5nRU9GaWxsID0gdHJ1ZTtcbiAgICB0aGlzLmNsb3NlUGF0aCgpO1xuICAgIHRoaXMuZmlsbFN0cm9rZSgpO1xuICB9XG5cbiAgZW5kUGF0aCgpIHtcbiAgICB0aGlzLmNvbnN1bWVQYXRoKCk7XG4gIH1cblxuICBjbGlwKCkge1xuICAgIHRoaXMucGVuZGluZ0NsaXAgPSBOT1JNQUxfQ0xJUDtcbiAgfVxuXG4gIGVvQ2xpcCgpIHtcbiAgICB0aGlzLnBlbmRpbmdDbGlwID0gRU9fQ0xJUDtcbiAgfVxuXG4gIGJlZ2luVGV4dCgpIHtcbiAgICB0aGlzLmN1cnJlbnQudGV4dE1hdHJpeCA9IF91dGlsLklERU5USVRZX01BVFJJWDtcbiAgICB0aGlzLmN1cnJlbnQudGV4dE1hdHJpeFNjYWxlID0gMTtcbiAgICB0aGlzLmN1cnJlbnQueCA9IHRoaXMuY3VycmVudC5saW5lWCA9IDA7XG4gICAgdGhpcy5jdXJyZW50LnkgPSB0aGlzLmN1cnJlbnQubGluZVkgPSAwO1xuICB9XG5cbiAgZW5kVGV4dCgpIHtcbiAgICBjb25zdCBwYXRocyA9IHRoaXMucGVuZGluZ1RleHRQYXRocztcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcblxuICAgIGlmIChwYXRocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYXRoID0gcGF0aHNbaV07XG4gICAgICBjdHguc2V0VHJhbnNmb3JtLmFwcGx5KGN0eCwgcGF0aC50cmFuc2Zvcm0pO1xuICAgICAgY3R4LnRyYW5zbGF0ZShwYXRoLngsIHBhdGgueSk7XG4gICAgICBwYXRoLmFkZFRvUGF0aChjdHgsIHBhdGguZm9udFNpemUpO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmNsaXAoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgZGVsZXRlIHRoaXMucGVuZGluZ1RleHRQYXRocztcbiAgfVxuXG4gIHNldENoYXJTcGFjaW5nKHNwYWNpbmcpIHtcbiAgICB0aGlzLmN1cnJlbnQuY2hhclNwYWNpbmcgPSBzcGFjaW5nO1xuICB9XG5cbiAgc2V0V29yZFNwYWNpbmcoc3BhY2luZykge1xuICAgIHRoaXMuY3VycmVudC53b3JkU3BhY2luZyA9IHNwYWNpbmc7XG4gIH1cblxuICBzZXRIU2NhbGUoc2NhbGUpIHtcbiAgICB0aGlzLmN1cnJlbnQudGV4dEhTY2FsZSA9IHNjYWxlIC8gMTAwO1xuICB9XG5cbiAgc2V0TGVhZGluZyhsZWFkaW5nKSB7XG4gICAgdGhpcy5jdXJyZW50LmxlYWRpbmcgPSAtbGVhZGluZztcbiAgfVxuXG4gIHNldEZvbnQoZm9udFJlZk5hbWUsIHNpemUpIHtcbiAgICBjb25zdCBmb250T2JqID0gdGhpcy5jb21tb25PYmpzLmdldChmb250UmVmTmFtZSk7XG4gICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDtcblxuICAgIGlmICghZm9udE9iaikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBmaW5kIGZvbnQgZm9yICR7Zm9udFJlZk5hbWV9YCk7XG4gICAgfVxuXG4gICAgY3VycmVudC5mb250TWF0cml4ID0gZm9udE9iai5mb250TWF0cml4IHx8IF91dGlsLkZPTlRfSURFTlRJVFlfTUFUUklYO1xuXG4gICAgaWYgKGN1cnJlbnQuZm9udE1hdHJpeFswXSA9PT0gMCB8fCBjdXJyZW50LmZvbnRNYXRyaXhbM10gPT09IDApIHtcbiAgICAgICgwLCBfdXRpbC53YXJuKShcIkludmFsaWQgZm9udCBtYXRyaXggZm9yIGZvbnQgXCIgKyBmb250UmVmTmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKHNpemUgPCAwKSB7XG4gICAgICBzaXplID0gLXNpemU7XG4gICAgICBjdXJyZW50LmZvbnREaXJlY3Rpb24gPSAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudC5mb250RGlyZWN0aW9uID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnQuZm9udCA9IGZvbnRPYmo7XG4gICAgdGhpcy5jdXJyZW50LmZvbnRTaXplID0gc2l6ZTtcblxuICAgIGlmIChmb250T2JqLmlzVHlwZTNGb250KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmFtZSA9IGZvbnRPYmoubG9hZGVkTmFtZSB8fCBcInNhbnMtc2VyaWZcIjtcbiAgICBsZXQgYm9sZCA9IFwibm9ybWFsXCI7XG5cbiAgICBpZiAoZm9udE9iai5ibGFjaykge1xuICAgICAgYm9sZCA9IFwiOTAwXCI7XG4gICAgfSBlbHNlIGlmIChmb250T2JqLmJvbGQpIHtcbiAgICAgIGJvbGQgPSBcImJvbGRcIjtcbiAgICB9XG5cbiAgICBjb25zdCBpdGFsaWMgPSBmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiO1xuICAgIGNvbnN0IHR5cGVmYWNlID0gYFwiJHtuYW1lfVwiLCAke2ZvbnRPYmouZmFsbGJhY2tOYW1lfWA7XG4gICAgbGV0IGJyb3dzZXJGb250U2l6ZSA9IHNpemU7XG5cbiAgICBpZiAoc2l6ZSA8IE1JTl9GT05UX1NJWkUpIHtcbiAgICAgIGJyb3dzZXJGb250U2l6ZSA9IE1JTl9GT05UX1NJWkU7XG4gICAgfSBlbHNlIGlmIChzaXplID4gTUFYX0ZPTlRfU0laRSkge1xuICAgICAgYnJvd3NlckZvbnRTaXplID0gTUFYX0ZPTlRfU0laRTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnQuZm9udFNpemVTY2FsZSA9IHNpemUgLyBicm93c2VyRm9udFNpemU7XG4gICAgdGhpcy5jdHguZm9udCA9IGAke2l0YWxpY30gJHtib2xkfSAke2Jyb3dzZXJGb250U2l6ZX1weCAke3R5cGVmYWNlfWA7XG4gIH1cblxuICBzZXRUZXh0UmVuZGVyaW5nTW9kZShtb2RlKSB7XG4gICAgdGhpcy5jdXJyZW50LnRleHRSZW5kZXJpbmdNb2RlID0gbW9kZTtcbiAgfVxuXG4gIHNldFRleHRSaXNlKHJpc2UpIHtcbiAgICB0aGlzLmN1cnJlbnQudGV4dFJpc2UgPSByaXNlO1xuICB9XG5cbiAgbW92ZVRleHQoeCwgeSkge1xuICAgIHRoaXMuY3VycmVudC54ID0gdGhpcy5jdXJyZW50LmxpbmVYICs9IHg7XG4gICAgdGhpcy5jdXJyZW50LnkgPSB0aGlzLmN1cnJlbnQubGluZVkgKz0geTtcbiAgfVxuXG4gIHNldExlYWRpbmdNb3ZlVGV4dCh4LCB5KSB7XG4gICAgdGhpcy5zZXRMZWFkaW5nKC15KTtcbiAgICB0aGlzLm1vdmVUZXh0KHgsIHkpO1xuICB9XG5cbiAgc2V0VGV4dE1hdHJpeChhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgdGhpcy5jdXJyZW50LnRleHRNYXRyaXggPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgdGhpcy5jdXJyZW50LnRleHRNYXRyaXhTY2FsZSA9IE1hdGguaHlwb3QoYSwgYik7XG4gICAgdGhpcy5jdXJyZW50LnggPSB0aGlzLmN1cnJlbnQubGluZVggPSAwO1xuICAgIHRoaXMuY3VycmVudC55ID0gdGhpcy5jdXJyZW50LmxpbmVZID0gMDtcbiAgfVxuXG4gIG5leHRMaW5lKCkge1xuICAgIHRoaXMubW92ZVRleHQoMCwgdGhpcy5jdXJyZW50LmxlYWRpbmcpO1xuICB9XG5cbiAgcGFpbnRDaGFyKGNoYXJhY3RlciwgeCwgeSwgcGF0dGVyblRyYW5zZm9ybSkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgZm9udCA9IGN1cnJlbnQuZm9udDtcbiAgICBjb25zdCB0ZXh0UmVuZGVyaW5nTW9kZSA9IGN1cnJlbnQudGV4dFJlbmRlcmluZ01vZGU7XG4gICAgY29uc3QgZm9udFNpemUgPSBjdXJyZW50LmZvbnRTaXplIC8gY3VycmVudC5mb250U2l6ZVNjYWxlO1xuICAgIGNvbnN0IGZpbGxTdHJva2VNb2RlID0gdGV4dFJlbmRlcmluZ01vZGUgJiBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5GSUxMX1NUUk9LRV9NQVNLO1xuICAgIGNvbnN0IGlzQWRkVG9QYXRoU2V0ID0gISEodGV4dFJlbmRlcmluZ01vZGUgJiBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5BRERfVE9fUEFUSF9GTEFHKTtcbiAgICBjb25zdCBwYXR0ZXJuRmlsbCA9IGN1cnJlbnQucGF0dGVybkZpbGwgJiYgIWZvbnQubWlzc2luZ0ZpbGU7XG4gICAgbGV0IGFkZFRvUGF0aDtcblxuICAgIGlmIChmb250LmRpc2FibGVGb250RmFjZSB8fCBpc0FkZFRvUGF0aFNldCB8fCBwYXR0ZXJuRmlsbCkge1xuICAgICAgYWRkVG9QYXRoID0gZm9udC5nZXRQYXRoR2VuZXJhdG9yKHRoaXMuY29tbW9uT2JqcywgY2hhcmFjdGVyKTtcbiAgICB9XG5cbiAgICBpZiAoZm9udC5kaXNhYmxlRm9udEZhY2UgfHwgcGF0dGVybkZpbGwpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgYWRkVG9QYXRoKGN0eCwgZm9udFNpemUpO1xuXG4gICAgICBpZiAocGF0dGVyblRyYW5zZm9ybSkge1xuICAgICAgICBjdHguc2V0VHJhbnNmb3JtLmFwcGx5KGN0eCwgcGF0dGVyblRyYW5zZm9ybSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWxsU3Ryb2tlTW9kZSA9PT0gX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuRklMTCB8fCBmaWxsU3Ryb2tlTW9kZSA9PT0gX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuRklMTF9TVFJPS0UpIHtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGxTdHJva2VNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5TVFJPS0UgfHwgZmlsbFN0cm9rZU1vZGUgPT09IF91dGlsLlRleHRSZW5kZXJpbmdNb2RlLkZJTExfU1RST0tFKSB7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIH1cblxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZpbGxTdHJva2VNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5GSUxMIHx8IGZpbGxTdHJva2VNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5GSUxMX1NUUk9LRSkge1xuICAgICAgICBjdHguZmlsbFRleHQoY2hhcmFjdGVyLCB4LCB5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGxTdHJva2VNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5TVFJPS0UgfHwgZmlsbFN0cm9rZU1vZGUgPT09IF91dGlsLlRleHRSZW5kZXJpbmdNb2RlLkZJTExfU1RST0tFKSB7XG4gICAgICAgIGN0eC5zdHJva2VUZXh0KGNoYXJhY3RlciwgeCwgeSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQWRkVG9QYXRoU2V0KSB7XG4gICAgICBjb25zdCBwYXRocyA9IHRoaXMucGVuZGluZ1RleHRQYXRocyB8fCAodGhpcy5wZW5kaW5nVGV4dFBhdGhzID0gW10pO1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHRyYW5zZm9ybTogY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm0sXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGZvbnRTaXplLFxuICAgICAgICBhZGRUb1BhdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpc0ZvbnRTdWJwaXhlbEFBRW5hYmxlZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb250ZXh0OiBjdHhcbiAgICB9ID0gdGhpcy5jYWNoZWRDYW52YXNlcy5nZXRDYW52YXMoXCJpc0ZvbnRTdWJwaXhlbEFBRW5hYmxlZFwiLCAxMCwgMTAsIGZhbHNlKTtcbiAgICBjdHguc2NhbGUoMS41LCAxKTtcbiAgICBjdHguZmlsbFRleHQoXCJJXCIsIDAsIDEwKTtcbiAgICBjb25zdCBkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCAxMCwgMTApLmRhdGE7XG4gICAgbGV0IGVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IGkgPSAzOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgaWYgKGRhdGFbaV0gPiAwICYmIGRhdGFbaV0gPCAyNTUpIHtcbiAgICAgICAgZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoMCwgX3V0aWwuc2hhZG93KSh0aGlzLCBcImlzRm9udFN1YnBpeGVsQUFFbmFibGVkXCIsIGVuYWJsZWQpO1xuICB9XG5cbiAgc2hvd1RleHQoZ2x5cGhzKSB7XG4gICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDtcbiAgICBjb25zdCBmb250ID0gY3VycmVudC5mb250O1xuXG4gICAgaWYgKGZvbnQuaXNUeXBlM0ZvbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNob3dUeXBlM1RleHQoZ2x5cGhzKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb250U2l6ZSA9IGN1cnJlbnQuZm9udFNpemU7XG5cbiAgICBpZiAoZm9udFNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3QgZm9udFNpemVTY2FsZSA9IGN1cnJlbnQuZm9udFNpemVTY2FsZTtcbiAgICBjb25zdCBjaGFyU3BhY2luZyA9IGN1cnJlbnQuY2hhclNwYWNpbmc7XG4gICAgY29uc3Qgd29yZFNwYWNpbmcgPSBjdXJyZW50LndvcmRTcGFjaW5nO1xuICAgIGNvbnN0IGZvbnREaXJlY3Rpb24gPSBjdXJyZW50LmZvbnREaXJlY3Rpb247XG4gICAgY29uc3QgdGV4dEhTY2FsZSA9IGN1cnJlbnQudGV4dEhTY2FsZSAqIGZvbnREaXJlY3Rpb247XG4gICAgY29uc3QgZ2x5cGhzTGVuZ3RoID0gZ2x5cGhzLmxlbmd0aDtcbiAgICBjb25zdCB2ZXJ0aWNhbCA9IGZvbnQudmVydGljYWw7XG4gICAgY29uc3Qgc3BhY2luZ0RpciA9IHZlcnRpY2FsID8gMSA6IC0xO1xuICAgIGNvbnN0IGRlZmF1bHRWTWV0cmljcyA9IGZvbnQuZGVmYXVsdFZNZXRyaWNzO1xuICAgIGNvbnN0IHdpZHRoQWR2YW5jZVNjYWxlID0gZm9udFNpemUgKiBjdXJyZW50LmZvbnRNYXRyaXhbMF07XG4gICAgY29uc3Qgc2ltcGxlRmlsbFRleHQgPSBjdXJyZW50LnRleHRSZW5kZXJpbmdNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5GSUxMICYmICFmb250LmRpc2FibGVGb250RmFjZSAmJiAhY3VycmVudC5wYXR0ZXJuRmlsbDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2Zvcm0uYXBwbHkoY3R4LCBjdXJyZW50LnRleHRNYXRyaXgpO1xuICAgIGN0eC50cmFuc2xhdGUoY3VycmVudC54LCBjdXJyZW50LnkgKyBjdXJyZW50LnRleHRSaXNlKTtcblxuICAgIGlmIChmb250RGlyZWN0aW9uID4gMCkge1xuICAgICAgY3R4LnNjYWxlKHRleHRIU2NhbGUsIC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LnNjYWxlKHRleHRIU2NhbGUsIDEpO1xuICAgIH1cblxuICAgIGxldCBwYXR0ZXJuVHJhbnNmb3JtO1xuXG4gICAgaWYgKGN1cnJlbnQucGF0dGVybkZpbGwpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjb25zdCBwYXR0ZXJuID0gY3VycmVudC5maWxsQ29sb3IuZ2V0UGF0dGVybihjdHgsIHRoaXMsIGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtSW52ZXJzZSwgX3BhdHRlcm5faGVscGVyLlBhdGhUeXBlLkZJTEwpO1xuICAgICAgcGF0dGVyblRyYW5zZm9ybSA9IGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBwYXR0ZXJuO1xuICAgIH1cblxuICAgIGxldCBsaW5lV2lkdGggPSBjdXJyZW50LmxpbmVXaWR0aDtcbiAgICBjb25zdCBzY2FsZSA9IGN1cnJlbnQudGV4dE1hdHJpeFNjYWxlO1xuXG4gICAgaWYgKHNjYWxlID09PSAwIHx8IGxpbmVXaWR0aCA9PT0gMCkge1xuICAgICAgY29uc3QgZmlsbFN0cm9rZU1vZGUgPSBjdXJyZW50LnRleHRSZW5kZXJpbmdNb2RlICYgX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuRklMTF9TVFJPS0VfTUFTSztcblxuICAgICAgaWYgKGZpbGxTdHJva2VNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5TVFJPS0UgfHwgZmlsbFN0cm9rZU1vZGUgPT09IF91dGlsLlRleHRSZW5kZXJpbmdNb2RlLkZJTExfU1RST0tFKSB7XG4gICAgICAgIGxpbmVXaWR0aCA9IHRoaXMuZ2V0U2luZ2xlUGl4ZWxXaWR0aCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lV2lkdGggLz0gc2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKGZvbnRTaXplU2NhbGUgIT09IDEuMCkge1xuICAgICAgY3R4LnNjYWxlKGZvbnRTaXplU2NhbGUsIGZvbnRTaXplU2NhbGUpO1xuICAgICAgbGluZVdpZHRoIC89IGZvbnRTaXplU2NhbGU7XG4gICAgfVxuXG4gICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICBsZXQgeCA9IDAsXG4gICAgICAgIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZ2x5cGhzTGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGdseXBoID0gZ2x5cGhzW2ldO1xuXG4gICAgICBpZiAodHlwZW9mIGdseXBoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHggKz0gc3BhY2luZ0RpciAqIGdseXBoICogZm9udFNpemUgLyAxMDAwO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3RvcmVOZWVkZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHNwYWNpbmcgPSAoZ2x5cGguaXNTcGFjZSA/IHdvcmRTcGFjaW5nIDogMCkgKyBjaGFyU3BhY2luZztcbiAgICAgIGNvbnN0IGNoYXJhY3RlciA9IGdseXBoLmZvbnRDaGFyO1xuICAgICAgY29uc3QgYWNjZW50ID0gZ2x5cGguYWNjZW50O1xuICAgICAgbGV0IHNjYWxlZFgsIHNjYWxlZFk7XG4gICAgICBsZXQgd2lkdGggPSBnbHlwaC53aWR0aDtcblxuICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgIGNvbnN0IHZtZXRyaWMgPSBnbHlwaC52bWV0cmljIHx8IGRlZmF1bHRWTWV0cmljcztcbiAgICAgICAgY29uc3QgdnggPSAtKGdseXBoLnZtZXRyaWMgPyB2bWV0cmljWzFdIDogd2lkdGggKiAwLjUpICogd2lkdGhBZHZhbmNlU2NhbGU7XG4gICAgICAgIGNvbnN0IHZ5ID0gdm1ldHJpY1syXSAqIHdpZHRoQWR2YW5jZVNjYWxlO1xuICAgICAgICB3aWR0aCA9IHZtZXRyaWMgPyAtdm1ldHJpY1swXSA6IHdpZHRoO1xuICAgICAgICBzY2FsZWRYID0gdnggLyBmb250U2l6ZVNjYWxlO1xuICAgICAgICBzY2FsZWRZID0gKHggKyB2eSkgLyBmb250U2l6ZVNjYWxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NhbGVkWCA9IHggLyBmb250U2l6ZVNjYWxlO1xuICAgICAgICBzY2FsZWRZID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvbnQucmVtZWFzdXJlICYmIHdpZHRoID4gMCkge1xuICAgICAgICBjb25zdCBtZWFzdXJlZFdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGNoYXJhY3Rlcikud2lkdGggKiAxMDAwIC8gZm9udFNpemUgKiBmb250U2l6ZVNjYWxlO1xuXG4gICAgICAgIGlmICh3aWR0aCA8IG1lYXN1cmVkV2lkdGggJiYgdGhpcy5pc0ZvbnRTdWJwaXhlbEFBRW5hYmxlZCkge1xuICAgICAgICAgIGNvbnN0IGNoYXJhY3RlclNjYWxlWCA9IHdpZHRoIC8gbWVhc3VyZWRXaWR0aDtcbiAgICAgICAgICByZXN0b3JlTmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgIGN0eC5zY2FsZShjaGFyYWN0ZXJTY2FsZVgsIDEpO1xuICAgICAgICAgIHNjYWxlZFggLz0gY2hhcmFjdGVyU2NhbGVYO1xuICAgICAgICB9IGVsc2UgaWYgKHdpZHRoICE9PSBtZWFzdXJlZFdpZHRoKSB7XG4gICAgICAgICAgc2NhbGVkWCArPSAod2lkdGggLSBtZWFzdXJlZFdpZHRoKSAvIDIwMDAgKiBmb250U2l6ZSAvIGZvbnRTaXplU2NhbGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29udGVudFZpc2libGUgJiYgKGdseXBoLmlzSW5Gb250IHx8IGZvbnQubWlzc2luZ0ZpbGUpKSB7XG4gICAgICAgIGlmIChzaW1wbGVGaWxsVGV4dCAmJiAhYWNjZW50KSB7XG4gICAgICAgICAgY3R4LmZpbGxUZXh0KGNoYXJhY3Rlciwgc2NhbGVkWCwgc2NhbGVkWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wYWludENoYXIoY2hhcmFjdGVyLCBzY2FsZWRYLCBzY2FsZWRZLCBwYXR0ZXJuVHJhbnNmb3JtKTtcblxuICAgICAgICAgIGlmIChhY2NlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZEFjY2VudFggPSBzY2FsZWRYICsgZm9udFNpemUgKiBhY2NlbnQub2Zmc2V0LnggLyBmb250U2l6ZVNjYWxlO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVkQWNjZW50WSA9IHNjYWxlZFkgLSBmb250U2l6ZSAqIGFjY2VudC5vZmZzZXQueSAvIGZvbnRTaXplU2NhbGU7XG4gICAgICAgICAgICB0aGlzLnBhaW50Q2hhcihhY2NlbnQuZm9udENoYXIsIHNjYWxlZEFjY2VudFgsIHNjYWxlZEFjY2VudFksIHBhdHRlcm5UcmFuc2Zvcm0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgY2hhcldpZHRoO1xuXG4gICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgY2hhcldpZHRoID0gd2lkdGggKiB3aWR0aEFkdmFuY2VTY2FsZSAtIHNwYWNpbmcgKiBmb250RGlyZWN0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcldpZHRoID0gd2lkdGggKiB3aWR0aEFkdmFuY2VTY2FsZSArIHNwYWNpbmcgKiBmb250RGlyZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICB4ICs9IGNoYXJXaWR0aDtcblxuICAgICAgaWYgKHJlc3RvcmVOZWVkZWQpIHtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmVydGljYWwpIHtcbiAgICAgIGN1cnJlbnQueSAtPSB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50LnggKz0geCAqIHRleHRIU2NhbGU7XG4gICAgfVxuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICB0aGlzLmNvbXBvc2UoKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgc2hvd1R5cGUzVGV4dChnbHlwaHMpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgIGNvbnN0IGZvbnQgPSBjdXJyZW50LmZvbnQ7XG4gICAgY29uc3QgZm9udFNpemUgPSBjdXJyZW50LmZvbnRTaXplO1xuICAgIGNvbnN0IGZvbnREaXJlY3Rpb24gPSBjdXJyZW50LmZvbnREaXJlY3Rpb247XG4gICAgY29uc3Qgc3BhY2luZ0RpciA9IGZvbnQudmVydGljYWwgPyAxIDogLTE7XG4gICAgY29uc3QgY2hhclNwYWNpbmcgPSBjdXJyZW50LmNoYXJTcGFjaW5nO1xuICAgIGNvbnN0IHdvcmRTcGFjaW5nID0gY3VycmVudC53b3JkU3BhY2luZztcbiAgICBjb25zdCB0ZXh0SFNjYWxlID0gY3VycmVudC50ZXh0SFNjYWxlICogZm9udERpcmVjdGlvbjtcbiAgICBjb25zdCBmb250TWF0cml4ID0gY3VycmVudC5mb250TWF0cml4IHx8IF91dGlsLkZPTlRfSURFTlRJVFlfTUFUUklYO1xuICAgIGNvbnN0IGdseXBoc0xlbmd0aCA9IGdseXBocy5sZW5ndGg7XG4gICAgY29uc3QgaXNUZXh0SW52aXNpYmxlID0gY3VycmVudC50ZXh0UmVuZGVyaW5nTW9kZSA9PT0gX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuSU5WSVNJQkxFO1xuICAgIGxldCBpLCBnbHlwaCwgd2lkdGgsIHNwYWNpbmdMZW5ndGg7XG5cbiAgICBpZiAoaXNUZXh0SW52aXNpYmxlIHx8IGZvbnRTaXplID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fY2FjaGVkU2NhbGVGb3JTdHJva2luZyA9IG51bGw7XG4gICAgdGhpcy5fY2FjaGVkR2V0U2luZ2xlUGl4ZWxXaWR0aCA9IG51bGw7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNmb3JtLmFwcGx5KGN0eCwgY3VycmVudC50ZXh0TWF0cml4KTtcbiAgICBjdHgudHJhbnNsYXRlKGN1cnJlbnQueCwgY3VycmVudC55KTtcbiAgICBjdHguc2NhbGUodGV4dEhTY2FsZSwgZm9udERpcmVjdGlvbik7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZ2x5cGhzTGVuZ3RoOyArK2kpIHtcbiAgICAgIGdseXBoID0gZ2x5cGhzW2ldO1xuXG4gICAgICBpZiAodHlwZW9mIGdseXBoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHNwYWNpbmdMZW5ndGggPSBzcGFjaW5nRGlyICogZ2x5cGggKiBmb250U2l6ZSAvIDEwMDA7XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShzcGFjaW5nTGVuZ3RoLCAwKTtcbiAgICAgICAgY3VycmVudC54ICs9IHNwYWNpbmdMZW5ndGggKiB0ZXh0SFNjYWxlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3BhY2luZyA9IChnbHlwaC5pc1NwYWNlID8gd29yZFNwYWNpbmcgOiAwKSArIGNoYXJTcGFjaW5nO1xuICAgICAgY29uc3Qgb3BlcmF0b3JMaXN0ID0gZm9udC5jaGFyUHJvY09wZXJhdG9yTGlzdFtnbHlwaC5vcGVyYXRvckxpc3RJZF07XG5cbiAgICAgIGlmICghb3BlcmF0b3JMaXN0KSB7XG4gICAgICAgICgwLCBfdXRpbC53YXJuKShgVHlwZTMgY2hhcmFjdGVyIFwiJHtnbHlwaC5vcGVyYXRvckxpc3RJZH1cIiBpcyBub3QgYXZhaWxhYmxlLmApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29udGVudFZpc2libGUpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nVHlwZTMgPSBnbHlwaDtcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIGN0eC5zY2FsZShmb250U2l6ZSwgZm9udFNpemUpO1xuICAgICAgICBjdHgudHJhbnNmb3JtLmFwcGx5KGN0eCwgZm9udE1hdHJpeCk7XG4gICAgICAgIHRoaXMuZXhlY3V0ZU9wZXJhdG9yTGlzdChvcGVyYXRvckxpc3QpO1xuICAgICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSBfdXRpbC5VdGlsLmFwcGx5VHJhbnNmb3JtKFtnbHlwaC53aWR0aCwgMF0sIGZvbnRNYXRyaXgpO1xuXG4gICAgICB3aWR0aCA9IHRyYW5zZm9ybWVkWzBdICogZm9udFNpemUgKyBzcGFjaW5nO1xuICAgICAgY3R4LnRyYW5zbGF0ZSh3aWR0aCwgMCk7XG4gICAgICBjdXJyZW50LnggKz0gd2lkdGggKiB0ZXh0SFNjYWxlO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgdGhpcy5wcm9jZXNzaW5nVHlwZTMgPSBudWxsO1xuICB9XG5cbiAgc2V0Q2hhcldpZHRoKHhXaWR0aCwgeVdpZHRoKSB7fVxuXG4gIHNldENoYXJXaWR0aEFuZEJvdW5kcyh4V2lkdGgsIHlXaWR0aCwgbGx4LCBsbHksIHVyeCwgdXJ5KSB7XG4gICAgdGhpcy5jdHgucmVjdChsbHgsIGxseSwgdXJ4IC0gbGx4LCB1cnkgLSBsbHkpO1xuICAgIHRoaXMuY3R4LmNsaXAoKTtcbiAgICB0aGlzLmVuZFBhdGgoKTtcbiAgfVxuXG4gIGdldENvbG9yTl9QYXR0ZXJuKElSKSB7XG4gICAgbGV0IHBhdHRlcm47XG5cbiAgICBpZiAoSVJbMF0gPT09IFwiVGlsaW5nUGF0dGVyblwiKSB7XG4gICAgICBjb25zdCBjb2xvciA9IElSWzFdO1xuICAgICAgY29uc3QgYmFzZVRyYW5zZm9ybSA9IHRoaXMuYmFzZVRyYW5zZm9ybSB8fCB0aGlzLmN0eC5tb3pDdXJyZW50VHJhbnNmb3JtLnNsaWNlKCk7XG4gICAgICBjb25zdCBjYW52YXNHcmFwaGljc0ZhY3RvcnkgPSB7XG4gICAgICAgIGNyZWF0ZUNhbnZhc0dyYXBoaWNzOiBjdHggPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgQ2FudmFzR3JhcGhpY3MoY3R4LCB0aGlzLmNvbW1vbk9ianMsIHRoaXMub2JqcywgdGhpcy5jYW52YXNGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhdHRlcm4gPSBuZXcgX3BhdHRlcm5faGVscGVyLlRpbGluZ1BhdHRlcm4oSVIsIGNvbG9yLCB0aGlzLmN0eCwgY2FudmFzR3JhcGhpY3NGYWN0b3J5LCBiYXNlVHJhbnNmb3JtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0dGVybiA9IHRoaXMuX2dldFBhdHRlcm4oSVJbMV0sIElSWzJdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0dGVybjtcbiAgfVxuXG4gIHNldFN0cm9rZUNvbG9yTigpIHtcbiAgICB0aGlzLmN1cnJlbnQuc3Ryb2tlQ29sb3IgPSB0aGlzLmdldENvbG9yTl9QYXR0ZXJuKGFyZ3VtZW50cyk7XG4gIH1cblxuICBzZXRGaWxsQ29sb3JOKCkge1xuICAgIHRoaXMuY3VycmVudC5maWxsQ29sb3IgPSB0aGlzLmdldENvbG9yTl9QYXR0ZXJuKGFyZ3VtZW50cyk7XG4gICAgdGhpcy5jdXJyZW50LnBhdHRlcm5GaWxsID0gdHJ1ZTtcbiAgfVxuXG4gIHNldFN0cm9rZVJHQkNvbG9yKHIsIGcsIGIpIHtcbiAgICBjb25zdCBjb2xvciA9IHRoaXMuc2VsZWN0Q29sb3I/LihyLCBnLCBiKSB8fCBfdXRpbC5VdGlsLm1ha2VIZXhDb2xvcihyLCBnLCBiKTtcblxuICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgdGhpcy5jdXJyZW50LnN0cm9rZUNvbG9yID0gY29sb3I7XG4gIH1cblxuICBzZXRGaWxsUkdCQ29sb3IociwgZywgYikge1xuICAgIGNvbnN0IGNvbG9yID0gdGhpcy5zZWxlY3RDb2xvcj8uKHIsIGcsIGIpIHx8IF91dGlsLlV0aWwubWFrZUhleENvbG9yKHIsIGcsIGIpO1xuXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgdGhpcy5jdXJyZW50LmZpbGxDb2xvciA9IGNvbG9yO1xuICAgIHRoaXMuY3VycmVudC5wYXR0ZXJuRmlsbCA9IGZhbHNlO1xuICB9XG5cbiAgX2dldFBhdHRlcm4ob2JqSWQsIG1hdHJpeCA9IG51bGwpIHtcbiAgICBsZXQgcGF0dGVybjtcblxuICAgIGlmICh0aGlzLmNhY2hlZFBhdHRlcm5zLmhhcyhvYmpJZCkpIHtcbiAgICAgIHBhdHRlcm4gPSB0aGlzLmNhY2hlZFBhdHRlcm5zLmdldChvYmpJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdHRlcm4gPSAoMCwgX3BhdHRlcm5faGVscGVyLmdldFNoYWRpbmdQYXR0ZXJuKSh0aGlzLm9ianMuZ2V0KG9iaklkKSk7XG4gICAgICB0aGlzLmNhY2hlZFBhdHRlcm5zLnNldChvYmpJZCwgcGF0dGVybik7XG4gICAgfVxuXG4gICAgaWYgKG1hdHJpeCkge1xuICAgICAgcGF0dGVybi5tYXRyaXggPSBtYXRyaXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdHRlcm47XG4gIH1cblxuICBzaGFkaW5nRmlsbChvYmpJZCkge1xuICAgIGlmICghdGhpcy5jb250ZW50VmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIHRoaXMuc2F2ZSgpO1xuXG4gICAgY29uc3QgcGF0dGVybiA9IHRoaXMuX2dldFBhdHRlcm4ob2JqSWQpO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IHBhdHRlcm4uZ2V0UGF0dGVybihjdHgsIHRoaXMsIGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtSW52ZXJzZSwgX3BhdHRlcm5faGVscGVyLlBhdGhUeXBlLlNIQURJTkcpO1xuICAgIGNvbnN0IGludiA9IGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtSW52ZXJzZTtcblxuICAgIGlmIChpbnYpIHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGN0eC5jYW52YXM7XG4gICAgICBjb25zdCB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgIGNvbnN0IGJsID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbMCwgMF0sIGludik7XG5cbiAgICAgIGNvbnN0IGJyID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbMCwgaGVpZ2h0XSwgaW52KTtcblxuICAgICAgY29uc3QgdWwgPSBfdXRpbC5VdGlsLmFwcGx5VHJhbnNmb3JtKFt3aWR0aCwgMF0sIGludik7XG5cbiAgICAgIGNvbnN0IHVyID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbd2lkdGgsIGhlaWdodF0sIGludik7XG5cbiAgICAgIGNvbnN0IHgwID0gTWF0aC5taW4oYmxbMF0sIGJyWzBdLCB1bFswXSwgdXJbMF0pO1xuICAgICAgY29uc3QgeTAgPSBNYXRoLm1pbihibFsxXSwgYnJbMV0sIHVsWzFdLCB1clsxXSk7XG4gICAgICBjb25zdCB4MSA9IE1hdGgubWF4KGJsWzBdLCBiclswXSwgdWxbMF0sIHVyWzBdKTtcbiAgICAgIGNvbnN0IHkxID0gTWF0aC5tYXgoYmxbMV0sIGJyWzFdLCB1bFsxXSwgdXJbMV0pO1xuICAgICAgdGhpcy5jdHguZmlsbFJlY3QoeDAsIHkwLCB4MSAtIHgwLCB5MSAtIHkwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdHguZmlsbFJlY3QoLTFlMTAsIC0xZTEwLCAyZTEwLCAyZTEwKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvc2UodGhpcy5jdXJyZW50LmdldENsaXBwZWRQYXRoQm91bmRpbmdCb3goKSk7XG4gICAgdGhpcy5yZXN0b3JlKCk7XG4gIH1cblxuICBiZWdpbklubGluZUltYWdlKCkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJTaG91bGQgbm90IGNhbGwgYmVnaW5JbmxpbmVJbWFnZVwiKTtcbiAgfVxuXG4gIGJlZ2luSW1hZ2VEYXRhKCkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJTaG91bGQgbm90IGNhbGwgYmVnaW5JbWFnZURhdGFcIik7XG4gIH1cblxuICBwYWludEZvcm1YT2JqZWN0QmVnaW4obWF0cml4LCBiYm94KSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRWaXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zYXZlKCk7XG4gICAgdGhpcy5iYXNlVHJhbnNmb3JtU3RhY2sucHVzaCh0aGlzLmJhc2VUcmFuc2Zvcm0pO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF0cml4KSAmJiBtYXRyaXgubGVuZ3RoID09PSA2KSB7XG4gICAgICB0aGlzLnRyYW5zZm9ybS5hcHBseSh0aGlzLCBtYXRyaXgpO1xuICAgIH1cblxuICAgIHRoaXMuYmFzZVRyYW5zZm9ybSA9IHRoaXMuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm07XG5cbiAgICBpZiAoYmJveCkge1xuICAgICAgY29uc3Qgd2lkdGggPSBiYm94WzJdIC0gYmJveFswXTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGJib3hbM10gLSBiYm94WzFdO1xuICAgICAgdGhpcy5jdHgucmVjdChiYm94WzBdLCBiYm94WzFdLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHRoaXMuY3VycmVudC51cGRhdGVSZWN0TWluTWF4KHRoaXMuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm0sIGJib3gpO1xuICAgICAgdGhpcy5jbGlwKCk7XG4gICAgICB0aGlzLmVuZFBhdGgoKTtcbiAgICB9XG4gIH1cblxuICBwYWludEZvcm1YT2JqZWN0RW5kKCkge1xuICAgIGlmICghdGhpcy5jb250ZW50VmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucmVzdG9yZSgpO1xuICAgIHRoaXMuYmFzZVRyYW5zZm9ybSA9IHRoaXMuYmFzZVRyYW5zZm9ybVN0YWNrLnBvcCgpO1xuICB9XG5cbiAgYmVnaW5Hcm91cChncm91cCkge1xuICAgIGlmICghdGhpcy5jb250ZW50VmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2F2ZSgpO1xuXG4gICAgaWYgKHRoaXMuaW5TTWFza01vZGUpIHtcbiAgICAgIHRoaXMuZW5kU01hc2tNb2RlKCk7XG4gICAgICB0aGlzLmN1cnJlbnQuYWN0aXZlU01hc2sgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRDdHggPSB0aGlzLmN0eDtcblxuICAgIGlmICghZ3JvdXAuaXNvbGF0ZWQpIHtcbiAgICAgICgwLCBfdXRpbC5pbmZvKShcIlRPRE86IFN1cHBvcnQgbm9uLWlzb2xhdGVkIGdyb3Vwcy5cIik7XG4gICAgfVxuXG4gICAgaWYgKGdyb3VwLmtub2Nrb3V0KSB7XG4gICAgICAoMCwgX3V0aWwud2FybikoXCJLbm9ja291dCBncm91cHMgbm90IHN1cHBvcnRlZC5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFRyYW5zZm9ybSA9IGN1cnJlbnRDdHgubW96Q3VycmVudFRyYW5zZm9ybTtcblxuICAgIGlmIChncm91cC5tYXRyaXgpIHtcbiAgICAgIGN1cnJlbnRDdHgudHJhbnNmb3JtLmFwcGx5KGN1cnJlbnRDdHgsIGdyb3VwLm1hdHJpeCk7XG4gICAgfVxuXG4gICAgaWYgKCFncm91cC5iYm94KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb3VuZGluZyBib3ggaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cblxuICAgIGxldCBib3VuZHMgPSBfdXRpbC5VdGlsLmdldEF4aWFsQWxpZ25lZEJvdW5kaW5nQm94KGdyb3VwLmJib3gsIGN1cnJlbnRDdHgubW96Q3VycmVudFRyYW5zZm9ybSk7XG5cbiAgICBjb25zdCBjYW52YXNCb3VuZHMgPSBbMCwgMCwgY3VycmVudEN0eC5jYW52YXMud2lkdGgsIGN1cnJlbnRDdHguY2FudmFzLmhlaWdodF07XG4gICAgYm91bmRzID0gX3V0aWwuVXRpbC5pbnRlcnNlY3QoYm91bmRzLCBjYW52YXNCb3VuZHMpIHx8IFswLCAwLCAwLCAwXTtcbiAgICBjb25zdCBvZmZzZXRYID0gTWF0aC5mbG9vcihib3VuZHNbMF0pO1xuICAgIGNvbnN0IG9mZnNldFkgPSBNYXRoLmZsb29yKGJvdW5kc1sxXSk7XG4gICAgbGV0IGRyYXduV2lkdGggPSBNYXRoLm1heChNYXRoLmNlaWwoYm91bmRzWzJdKSAtIG9mZnNldFgsIDEpO1xuICAgIGxldCBkcmF3bkhlaWdodCA9IE1hdGgubWF4KE1hdGguY2VpbChib3VuZHNbM10pIC0gb2Zmc2V0WSwgMSk7XG4gICAgbGV0IHNjYWxlWCA9IDEsXG4gICAgICAgIHNjYWxlWSA9IDE7XG5cbiAgICBpZiAoZHJhd25XaWR0aCA+IE1BWF9HUk9VUF9TSVpFKSB7XG4gICAgICBzY2FsZVggPSBkcmF3bldpZHRoIC8gTUFYX0dST1VQX1NJWkU7XG4gICAgICBkcmF3bldpZHRoID0gTUFYX0dST1VQX1NJWkU7XG4gICAgfVxuXG4gICAgaWYgKGRyYXduSGVpZ2h0ID4gTUFYX0dST1VQX1NJWkUpIHtcbiAgICAgIHNjYWxlWSA9IGRyYXduSGVpZ2h0IC8gTUFYX0dST1VQX1NJWkU7XG4gICAgICBkcmF3bkhlaWdodCA9IE1BWF9HUk9VUF9TSVpFO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudC5zdGFydE5ld1BhdGhBbmRDbGlwQm94KFswLCAwLCBkcmF3bldpZHRoLCBkcmF3bkhlaWdodF0pO1xuICAgIGxldCBjYWNoZUlkID0gXCJncm91cEF0XCIgKyB0aGlzLmdyb3VwTGV2ZWw7XG5cbiAgICBpZiAoZ3JvdXAuc21hc2spIHtcbiAgICAgIGNhY2hlSWQgKz0gXCJfc21hc2tfXCIgKyB0aGlzLnNtYXNrQ291bnRlcisrICUgMjtcbiAgICB9XG5cbiAgICBjb25zdCBzY3JhdGNoQ2FudmFzID0gdGhpcy5jYWNoZWRDYW52YXNlcy5nZXRDYW52YXMoY2FjaGVJZCwgZHJhd25XaWR0aCwgZHJhd25IZWlnaHQsIHRydWUpO1xuICAgIGNvbnN0IGdyb3VwQ3R4ID0gc2NyYXRjaENhbnZhcy5jb250ZXh0O1xuICAgIGdyb3VwQ3R4LnNjYWxlKDEgLyBzY2FsZVgsIDEgLyBzY2FsZVkpO1xuICAgIGdyb3VwQ3R4LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xuICAgIGdyb3VwQ3R4LnRyYW5zZm9ybS5hcHBseShncm91cEN0eCwgY3VycmVudFRyYW5zZm9ybSk7XG5cbiAgICBpZiAoZ3JvdXAuc21hc2spIHtcbiAgICAgIHRoaXMuc21hc2tTdGFjay5wdXNoKHtcbiAgICAgICAgY2FudmFzOiBzY3JhdGNoQ2FudmFzLmNhbnZhcyxcbiAgICAgICAgY29udGV4dDogZ3JvdXBDdHgsXG4gICAgICAgIG9mZnNldFgsXG4gICAgICAgIG9mZnNldFksXG4gICAgICAgIHNjYWxlWCxcbiAgICAgICAgc2NhbGVZLFxuICAgICAgICBzdWJ0eXBlOiBncm91cC5zbWFzay5zdWJ0eXBlLFxuICAgICAgICBiYWNrZHJvcDogZ3JvdXAuc21hc2suYmFja2Ryb3AsXG4gICAgICAgIHRyYW5zZmVyTWFwOiBncm91cC5zbWFzay50cmFuc2Zlck1hcCB8fCBudWxsLFxuICAgICAgICBzdGFydFRyYW5zZm9ybUludmVyc2U6IG51bGxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Q3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIGN1cnJlbnRDdHgudHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgY3VycmVudEN0eC5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG4gICAgICBjdXJyZW50Q3R4LnNhdmUoKTtcbiAgICB9XG5cbiAgICBjb3B5Q3R4U3RhdGUoY3VycmVudEN0eCwgZ3JvdXBDdHgpO1xuICAgIHRoaXMuY3R4ID0gZ3JvdXBDdHg7XG4gICAgdGhpcy5zZXRHU3RhdGUoW1tcIkJNXCIsIFwic291cmNlLW92ZXJcIl0sIFtcImNhXCIsIDFdLCBbXCJDQVwiLCAxXV0pO1xuICAgIHRoaXMuZ3JvdXBTdGFjay5wdXNoKGN1cnJlbnRDdHgpO1xuICAgIHRoaXMuZ3JvdXBMZXZlbCsrO1xuICB9XG5cbiAgZW5kR3JvdXAoZ3JvdXApIHtcbiAgICBpZiAoIXRoaXMuY29udGVudFZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmdyb3VwTGV2ZWwtLTtcbiAgICBjb25zdCBncm91cEN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuZ3JvdXBTdGFjay5wb3AoKTtcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICB0aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIGlmIChncm91cC5zbWFzaykge1xuICAgICAgdGhpcy50ZW1wU01hc2sgPSB0aGlzLnNtYXNrU3RhY2sucG9wKCk7XG4gICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgY29uc3QgY3VycmVudE10eCA9IHRoaXMuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuY3R4LnNldFRyYW5zZm9ybS5hcHBseSh0aGlzLmN0eCwgY3VycmVudE10eCk7XG5cbiAgICAgIGNvbnN0IGRpcnR5Qm94ID0gX3V0aWwuVXRpbC5nZXRBeGlhbEFsaWduZWRCb3VuZGluZ0JveChbMCwgMCwgZ3JvdXBDdHguY2FudmFzLndpZHRoLCBncm91cEN0eC5jYW52YXMuaGVpZ2h0XSwgY3VycmVudE10eCk7XG5cbiAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShncm91cEN0eC5jYW52YXMsIDAsIDApO1xuICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgdGhpcy5jb21wb3NlKGRpcnR5Qm94KTtcbiAgICB9XG4gIH1cblxuICBiZWdpbkFubm90YXRpb25zKCkge1xuICAgIHRoaXMuc2F2ZSgpO1xuXG4gICAgaWYgKHRoaXMuYmFzZVRyYW5zZm9ybSkge1xuICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtLmFwcGx5KHRoaXMuY3R4LCB0aGlzLmJhc2VUcmFuc2Zvcm0pO1xuICAgIH1cbiAgfVxuXG4gIGVuZEFubm90YXRpb25zKCkge1xuICAgIHRoaXMucmVzdG9yZSgpO1xuICB9XG5cbiAgYmVnaW5Bbm5vdGF0aW9uKGlkLCByZWN0LCB0cmFuc2Zvcm0sIG1hdHJpeCwgaGFzT3duQ2FudmFzKSB7XG4gICAgdGhpcy5zYXZlKCk7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWN0KSAmJiByZWN0Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgY29uc3Qgd2lkdGggPSByZWN0WzJdIC0gcmVjdFswXTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHJlY3RbM10gLSByZWN0WzFdO1xuXG4gICAgICBpZiAoaGFzT3duQ2FudmFzICYmIHRoaXMuYW5ub3RhdGlvbkNhbnZhc01hcCkge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0uc2xpY2UoKTtcbiAgICAgICAgdHJhbnNmb3JtWzRdIC09IHJlY3RbMF07XG4gICAgICAgIHRyYW5zZm9ybVs1XSAtPSByZWN0WzFdO1xuICAgICAgICByZWN0ID0gcmVjdC5zbGljZSgpO1xuICAgICAgICByZWN0WzBdID0gcmVjdFsxXSA9IDA7XG4gICAgICAgIHJlY3RbMl0gPSB3aWR0aDtcbiAgICAgICAgcmVjdFszXSA9IGhlaWdodDtcblxuICAgICAgICBjb25zdCBbc2NhbGVYLCBzY2FsZVldID0gX3V0aWwuVXRpbC5zaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZSh0aGlzLmN0eC5tb3pDdXJyZW50VHJhbnNmb3JtKTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmlld3BvcnRTY2FsZVxuICAgICAgICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY2FudmFzV2lkdGggPSBNYXRoLmNlaWwod2lkdGggKiB0aGlzLm91dHB1dFNjYWxlWCAqIHZpZXdwb3J0U2NhbGUpO1xuICAgICAgICBjb25zdCBjYW52YXNIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0ICogdGhpcy5vdXRwdXRTY2FsZVkgKiB2aWV3cG9ydFNjYWxlKTtcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uQ2FudmFzID0gdGhpcy5jYW52YXNGYWN0b3J5LmNyZWF0ZShjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICBjb250ZXh0XG4gICAgICAgIH0gPSB0aGlzLmFubm90YXRpb25DYW52YXM7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0U2NhbGVGYWN0b3JTdHIgPSBgdmFyKC0tem9vbS1mYWN0b3IpICogJHtfZGlzcGxheV91dGlscy5QaXhlbHNQZXJJbmNoLlBERl9UT19DU1NfVU5JVFN9YDtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gYGNhbGMoJHt3aWR0aH1weCAqICR7dmlld3BvcnRTY2FsZUZhY3RvclN0cn0pYDtcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGBjYWxjKCR7aGVpZ2h0fXB4ICogJHt2aWV3cG9ydFNjYWxlRmFjdG9yU3RyfSlgO1xuICAgICAgICB0aGlzLmFubm90YXRpb25DYW52YXNNYXAuc2V0KGlkLCBjYW52YXMpO1xuICAgICAgICB0aGlzLmFubm90YXRpb25DYW52YXMuc2F2ZWRDdHggPSB0aGlzLmN0eDtcbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN0eC5zZXRUcmFuc2Zvcm0oc2NhbGVYLCAwLCAwLCAtc2NhbGVZLCAwLCBoZWlnaHQgKiBzY2FsZVkpO1xuICAgICAgICBhZGRDb250ZXh0Q3VycmVudFRyYW5zZm9ybSh0aGlzLmN0eCk7XG4gICAgICAgIHJlc2V0Q3R4VG9EZWZhdWx0KHRoaXMuY3R4LCB0aGlzLmZvcmVncm91bmRDb2xvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldEN0eFRvRGVmYXVsdCh0aGlzLmN0eCwgdGhpcy5mb3JlZ3JvdW5kQ29sb3IpO1xuICAgICAgICB0aGlzLmN0eC5yZWN0KHJlY3RbMF0sIHJlY3RbMV0sIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmN0eC5jbGlwKCk7XG4gICAgICAgIHRoaXMuZW5kUGF0aCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3VycmVudCA9IG5ldyBDYW52YXNFeHRyYVN0YXRlKHRoaXMuY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5jdHguY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy50cmFuc2Zvcm0uYXBwbHkodGhpcywgdHJhbnNmb3JtKTtcbiAgICB0aGlzLnRyYW5zZm9ybS5hcHBseSh0aGlzLCBtYXRyaXgpO1xuICB9XG5cbiAgZW5kQW5ub3RhdGlvbigpIHtcbiAgICBpZiAodGhpcy5hbm5vdGF0aW9uQ2FudmFzKSB7XG4gICAgICB0aGlzLmN0eCA9IHRoaXMuYW5ub3RhdGlvbkNhbnZhcy5zYXZlZEN0eDtcbiAgICAgIGRlbGV0ZSB0aGlzLmFubm90YXRpb25DYW52YXMuc2F2ZWRDdHg7XG4gICAgICBkZWxldGUgdGhpcy5hbm5vdGF0aW9uQ2FudmFzO1xuICAgIH1cblxuICAgIHRoaXMucmVzdG9yZSgpO1xuICB9XG5cbiAgcGFpbnRJbWFnZU1hc2tYT2JqZWN0KGltZykge1xuICAgIGlmICghdGhpcy5jb250ZW50VmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvdW50ID0gaW1nLmNvdW50O1xuICAgIGltZyA9IHRoaXMuZ2V0T2JqZWN0KGltZy5kYXRhLCBpbWcpO1xuICAgIGltZy5jb3VudCA9IGNvdW50O1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IGdseXBoID0gdGhpcy5wcm9jZXNzaW5nVHlwZTM7XG5cbiAgICBpZiAoZ2x5cGgpIHtcbiAgICAgIGlmIChnbHlwaC5jb21waWxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGdseXBoLmNvbXBpbGVkID0gY29tcGlsZVR5cGUzR2x5cGgoaW1nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdseXBoLmNvbXBpbGVkKSB7XG4gICAgICAgIGdseXBoLmNvbXBpbGVkKGN0eCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtYXNrID0gdGhpcy5fY3JlYXRlTWFza0NhbnZhcyhpbWcpO1xuXG4gICAgY29uc3QgbWFza0NhbnZhcyA9IG1hc2suY2FudmFzO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICBjdHguZHJhd0ltYWdlKG1hc2tDYW52YXMsIG1hc2sub2Zmc2V0WCwgbWFzay5vZmZzZXRZKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIHRoaXMuY29tcG9zZSgpO1xuICB9XG5cbiAgcGFpbnRJbWFnZU1hc2tYT2JqZWN0UmVwZWF0KGltZywgc2NhbGVYLCBza2V3WCA9IDAsIHNrZXdZID0gMCwgc2NhbGVZLCBwb3NpdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY29udGVudFZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbWcgPSB0aGlzLmdldE9iamVjdChpbWcuZGF0YSwgaW1nKTtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm0gPSBjdHgubW96Q3VycmVudFRyYW5zZm9ybTtcbiAgICBjdHgudHJhbnNmb3JtKHNjYWxlWCwgc2tld1gsIHNrZXdZLCBzY2FsZVksIDAsIDApO1xuXG4gICAgY29uc3QgbWFzayA9IHRoaXMuX2NyZWF0ZU1hc2tDYW52YXMoaW1nKTtcblxuICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwb3NpdGlvbnMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgY29uc3QgdHJhbnMgPSBfdXRpbC5VdGlsLnRyYW5zZm9ybShjdXJyZW50VHJhbnNmb3JtLCBbc2NhbGVYLCBza2V3WCwgc2tld1ksIHNjYWxlWSwgcG9zaXRpb25zW2ldLCBwb3NpdGlvbnNbaSArIDFdXSk7XG5cbiAgICAgIGNvbnN0IFt4LCB5XSA9IF91dGlsLlV0aWwuYXBwbHlUcmFuc2Zvcm0oWzAsIDBdLCB0cmFucyk7XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UobWFzay5jYW52YXMsIHgsIHkpO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgdGhpcy5jb21wb3NlKCk7XG4gIH1cblxuICBwYWludEltYWdlTWFza1hPYmplY3RHcm91cChpbWFnZXMpIHtcbiAgICBpZiAoIXRoaXMuY29udGVudFZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBmaWxsQ29sb3IgPSB0aGlzLmN1cnJlbnQuZmlsbENvbG9yO1xuICAgIGNvbnN0IGlzUGF0dGVybkZpbGwgPSB0aGlzLmN1cnJlbnQucGF0dGVybkZpbGw7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBpbWFnZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgY29uc3QgaW1hZ2UgPSBpbWFnZXNbaV07XG4gICAgICBjb25zdCB3aWR0aCA9IGltYWdlLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgY29uc3QgbWFza0NhbnZhcyA9IHRoaXMuY2FjaGVkQ2FudmFzZXMuZ2V0Q2FudmFzKFwibWFza0NhbnZhc1wiLCB3aWR0aCwgaGVpZ2h0LCBmYWxzZSk7XG4gICAgICBjb25zdCBtYXNrQ3R4ID0gbWFza0NhbnZhcy5jb250ZXh0O1xuICAgICAgbWFza0N0eC5zYXZlKCk7XG4gICAgICBwdXRCaW5hcnlJbWFnZU1hc2sobWFza0N0eCwgaW1hZ2UpO1xuICAgICAgbWFza0N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1pblwiO1xuICAgICAgbWFza0N0eC5maWxsU3R5bGUgPSBpc1BhdHRlcm5GaWxsID8gZmlsbENvbG9yLmdldFBhdHRlcm4obWFza0N0eCwgdGhpcywgY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm1JbnZlcnNlLCBfcGF0dGVybl9oZWxwZXIuUGF0aFR5cGUuRklMTCkgOiBmaWxsQ29sb3I7XG4gICAgICBtYXNrQ3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgbWFza0N0eC5yZXN0b3JlKCk7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIGltYWdlLnRyYW5zZm9ybSk7XG4gICAgICBjdHguc2NhbGUoMSwgLTEpO1xuICAgICAgZHJhd0ltYWdlQXRJbnRlZ2VyQ29vcmRzKGN0eCwgbWFza0NhbnZhcy5jYW52YXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIDAsIC0xLCAxLCAxKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb3NlKCk7XG4gIH1cblxuICBwYWludEltYWdlWE9iamVjdChvYmpJZCkge1xuICAgIGlmICghdGhpcy5jb250ZW50VmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGltZ0RhdGEgPSB0aGlzLmdldE9iamVjdChvYmpJZCk7XG5cbiAgICBpZiAoIWltZ0RhdGEpIHtcbiAgICAgICgwLCBfdXRpbC53YXJuKShcIkRlcGVuZGVudCBpbWFnZSBpc24ndCByZWFkeSB5ZXRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wYWludElubGluZUltYWdlWE9iamVjdChpbWdEYXRhKTtcbiAgfVxuXG4gIHBhaW50SW1hZ2VYT2JqZWN0UmVwZWF0KG9iaklkLCBzY2FsZVgsIHNjYWxlWSwgcG9zaXRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRWaXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW1nRGF0YSA9IHRoaXMuZ2V0T2JqZWN0KG9iaklkKTtcblxuICAgIGlmICghaW1nRGF0YSkge1xuICAgICAgKDAsIF91dGlsLndhcm4pKFwiRGVwZW5kZW50IGltYWdlIGlzbid0IHJlYWR5IHlldFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB3aWR0aCA9IGltZ0RhdGEud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gaW1nRGF0YS5oZWlnaHQ7XG4gICAgY29uc3QgbWFwID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwb3NpdGlvbnMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgbWFwLnB1c2goe1xuICAgICAgICB0cmFuc2Zvcm06IFtzY2FsZVgsIDAsIDAsIHNjYWxlWSwgcG9zaXRpb25zW2ldLCBwb3NpdGlvbnNbaSArIDFdXSxcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgdzogd2lkdGgsXG4gICAgICAgIGg6IGhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5wYWludElubGluZUltYWdlWE9iamVjdEdyb3VwKGltZ0RhdGEsIG1hcCk7XG4gIH1cblxuICBwYWludElubGluZUltYWdlWE9iamVjdChpbWdEYXRhKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRWaXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd2lkdGggPSBpbWdEYXRhLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGltZ0RhdGEuaGVpZ2h0O1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIHRoaXMuc2F2ZSgpO1xuICAgIGN0eC5zY2FsZSgxIC8gd2lkdGgsIC0xIC8gaGVpZ2h0KTtcbiAgICBsZXQgaW1nVG9QYWludDtcblxuICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiBpbWdEYXRhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgIWltZ0RhdGEuZGF0YSkge1xuICAgICAgaW1nVG9QYWludCA9IGltZ0RhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRtcENhbnZhcyA9IHRoaXMuY2FjaGVkQ2FudmFzZXMuZ2V0Q2FudmFzKFwiaW5saW5lSW1hZ2VcIiwgd2lkdGgsIGhlaWdodCwgZmFsc2UpO1xuICAgICAgY29uc3QgdG1wQ3R4ID0gdG1wQ2FudmFzLmNvbnRleHQ7XG4gICAgICBwdXRCaW5hcnlJbWFnZURhdGEodG1wQ3R4LCBpbWdEYXRhLCB0aGlzLmN1cnJlbnQudHJhbnNmZXJNYXBzKTtcbiAgICAgIGltZ1RvUGFpbnQgPSB0bXBDYW52YXMuY2FudmFzO1xuICAgIH1cblxuICAgIGNvbnN0IHNjYWxlZCA9IHRoaXMuX3NjYWxlSW1hZ2UoaW1nVG9QYWludCwgY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm1JbnZlcnNlKTtcblxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBnZXRJbWFnZVNtb290aGluZ0VuYWJsZWQoY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm0sIGltZ0RhdGEuaW50ZXJwb2xhdGUpO1xuICAgIGNvbnN0IFtyV2lkdGgsIHJIZWlnaHRdID0gZHJhd0ltYWdlQXRJbnRlZ2VyQ29vcmRzKGN0eCwgc2NhbGVkLmltZywgMCwgMCwgc2NhbGVkLnBhaW50V2lkdGgsIHNjYWxlZC5wYWludEhlaWdodCwgMCwgLWhlaWdodCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBpZiAodGhpcy5pbWFnZUxheWVyKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0Q2FudmFzUG9zaXRpb24oMCwgLWhlaWdodCk7XG4gICAgICB0aGlzLmltYWdlTGF5ZXIuYXBwZW5kSW1hZ2Uoe1xuICAgICAgICBpbWdEYXRhLFxuICAgICAgICBsZWZ0OiBwb3NpdGlvblswXSxcbiAgICAgICAgdG9wOiBwb3NpdGlvblsxXSxcbiAgICAgICAgd2lkdGg6IHJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBySGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvc2UoKTtcbiAgICB0aGlzLnJlc3RvcmUoKTtcbiAgfVxuXG4gIHBhaW50SW5saW5lSW1hZ2VYT2JqZWN0R3JvdXAoaW1nRGF0YSwgbWFwKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRWaXNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3QgdyA9IGltZ0RhdGEud2lkdGg7XG4gICAgY29uc3QgaCA9IGltZ0RhdGEuaGVpZ2h0O1xuICAgIGNvbnN0IHRtcENhbnZhcyA9IHRoaXMuY2FjaGVkQ2FudmFzZXMuZ2V0Q2FudmFzKFwiaW5saW5lSW1hZ2VcIiwgdywgaCwgZmFsc2UpO1xuICAgIGNvbnN0IHRtcEN0eCA9IHRtcENhbnZhcy5jb250ZXh0O1xuICAgIHB1dEJpbmFyeUltYWdlRGF0YSh0bXBDdHgsIGltZ0RhdGEsIHRoaXMuY3VycmVudC50cmFuc2Zlck1hcHMpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbWFwLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gbWFwW2ldO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0uYXBwbHkoY3R4LCBlbnRyeS50cmFuc2Zvcm0pO1xuICAgICAgY3R4LnNjYWxlKDEsIC0xKTtcbiAgICAgIGRyYXdJbWFnZUF0SW50ZWdlckNvb3JkcyhjdHgsIHRtcENhbnZhcy5jYW52YXMsIGVudHJ5LngsIGVudHJ5LnksIGVudHJ5LncsIGVudHJ5LmgsIDAsIC0xLCAxLCAxKTtcblxuICAgICAgaWYgKHRoaXMuaW1hZ2VMYXllcikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0Q2FudmFzUG9zaXRpb24oZW50cnkueCwgZW50cnkueSk7XG4gICAgICAgIHRoaXMuaW1hZ2VMYXllci5hcHBlbmRJbWFnZSh7XG4gICAgICAgICAgaW1nRGF0YSxcbiAgICAgICAgICBsZWZ0OiBwb3NpdGlvblswXSxcbiAgICAgICAgICB0b3A6IHBvc2l0aW9uWzFdLFxuICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgIGhlaWdodDogaFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvc2UoKTtcbiAgfVxuXG4gIHBhaW50U29saWRDb2xvckltYWdlTWFzaygpIHtcbiAgICBpZiAoIXRoaXMuY29udGVudFZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCAxLCAxKTtcbiAgICB0aGlzLmNvbXBvc2UoKTtcbiAgfVxuXG4gIG1hcmtQb2ludCh0YWcpIHt9XG5cbiAgbWFya1BvaW50UHJvcHModGFnLCBwcm9wZXJ0aWVzKSB7fVxuXG4gIGJlZ2luTWFya2VkQ29udGVudCh0YWcpIHtcbiAgICB0aGlzLm1hcmtlZENvbnRlbnRTdGFjay5wdXNoKHtcbiAgICAgIHZpc2libGU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGJlZ2luTWFya2VkQ29udGVudFByb3BzKHRhZywgcHJvcGVydGllcykge1xuICAgIGlmICh0YWcgPT09IFwiT0NcIikge1xuICAgICAgdGhpcy5tYXJrZWRDb250ZW50U3RhY2sucHVzaCh7XG4gICAgICAgIHZpc2libGU6IHRoaXMub3B0aW9uYWxDb250ZW50Q29uZmlnLmlzVmlzaWJsZShwcm9wZXJ0aWVzKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFya2VkQ29udGVudFN0YWNrLnB1c2goe1xuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRWaXNpYmxlID0gdGhpcy5pc0NvbnRlbnRWaXNpYmxlKCk7XG4gIH1cblxuICBlbmRNYXJrZWRDb250ZW50KCkge1xuICAgIHRoaXMubWFya2VkQ29udGVudFN0YWNrLnBvcCgpO1xuICAgIHRoaXMuY29udGVudFZpc2libGUgPSB0aGlzLmlzQ29udGVudFZpc2libGUoKTtcbiAgfVxuXG4gIGJlZ2luQ29tcGF0KCkge31cblxuICBlbmRDb21wYXQoKSB7fVxuXG4gIGNvbnN1bWVQYXRoKGNsaXBCb3gpIHtcbiAgICBjb25zdCBpc0VtcHR5ID0gdGhpcy5jdXJyZW50LmlzRW1wdHlDbGlwKCk7XG5cbiAgICBpZiAodGhpcy5wZW5kaW5nQ2xpcCkge1xuICAgICAgdGhpcy5jdXJyZW50LnVwZGF0ZUNsaXBGcm9tUGF0aCgpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wZW5kaW5nQ2xpcCkge1xuICAgICAgdGhpcy5jb21wb3NlKGNsaXBCb3gpO1xuICAgIH1cblxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG4gICAgaWYgKHRoaXMucGVuZGluZ0NsaXApIHtcbiAgICAgIGlmICghaXNFbXB0eSkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2xpcCA9PT0gRU9fQ0xJUCkge1xuICAgICAgICAgIGN0eC5jbGlwKFwiZXZlbm9kZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHguY2xpcCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGVuZGluZ0NsaXAgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudC5zdGFydE5ld1BhdGhBbmRDbGlwQm94KHRoaXMuY3VycmVudC5jbGlwQm94KTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gIH1cblxuICBnZXRTaW5nbGVQaXhlbFdpZHRoKCkge1xuICAgIGlmICghdGhpcy5fY2FjaGVkR2V0U2luZ2xlUGl4ZWxXaWR0aCkge1xuICAgICAgY29uc3QgbSA9IHRoaXMuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm07XG5cbiAgICAgIGlmIChtWzFdID09PSAwICYmIG1bMl0gPT09IDApIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkR2V0U2luZ2xlUGl4ZWxXaWR0aCA9IDEgLyBNYXRoLm1pbihNYXRoLmFicyhtWzBdKSwgTWF0aC5hYnMobVszXSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYWJzRGV0ID0gTWF0aC5hYnMobVswXSAqIG1bM10gLSBtWzJdICogbVsxXSk7XG4gICAgICAgIGNvbnN0IG5vcm1YID0gTWF0aC5oeXBvdChtWzBdLCBtWzJdKTtcbiAgICAgICAgY29uc3Qgbm9ybVkgPSBNYXRoLmh5cG90KG1bMV0sIG1bM10pO1xuICAgICAgICB0aGlzLl9jYWNoZWRHZXRTaW5nbGVQaXhlbFdpZHRoID0gTWF0aC5tYXgobm9ybVgsIG5vcm1ZKSAvIGFic0RldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkR2V0U2luZ2xlUGl4ZWxXaWR0aDtcbiAgfVxuXG4gIGdldFNjYWxlRm9yU3Ryb2tpbmcoKSB7XG4gICAgaWYgKCF0aGlzLl9jYWNoZWRTY2FsZUZvclN0cm9raW5nKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGxpbmVXaWR0aFxuICAgICAgfSA9IHRoaXMuY3VycmVudDtcbiAgICAgIGNvbnN0IG0gPSB0aGlzLmN0eC5tb3pDdXJyZW50VHJhbnNmb3JtO1xuICAgICAgbGV0IHNjYWxlWCwgc2NhbGVZO1xuXG4gICAgICBpZiAobVsxXSA9PT0gMCAmJiBtWzJdID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG5vcm1YID0gTWF0aC5hYnMobVswXSk7XG4gICAgICAgIGNvbnN0IG5vcm1ZID0gTWF0aC5hYnMobVszXSk7XG5cbiAgICAgICAgaWYgKGxpbmVXaWR0aCA9PT0gMCkge1xuICAgICAgICAgIHNjYWxlWCA9IDEgLyBub3JtWDtcbiAgICAgICAgICBzY2FsZVkgPSAxIC8gbm9ybVk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgc2NhbGVkWExpbmVXaWR0aCA9IG5vcm1YICogbGluZVdpZHRoO1xuICAgICAgICAgIGNvbnN0IHNjYWxlZFlMaW5lV2lkdGggPSBub3JtWSAqIGxpbmVXaWR0aDtcbiAgICAgICAgICBzY2FsZVggPSBzY2FsZWRYTGluZVdpZHRoIDwgMSA/IDEgLyBzY2FsZWRYTGluZVdpZHRoIDogMTtcbiAgICAgICAgICBzY2FsZVkgPSBzY2FsZWRZTGluZVdpZHRoIDwgMSA/IDEgLyBzY2FsZWRZTGluZVdpZHRoIDogMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYWJzRGV0ID0gTWF0aC5hYnMobVswXSAqIG1bM10gLSBtWzJdICogbVsxXSk7XG4gICAgICAgIGNvbnN0IG5vcm1YID0gTWF0aC5oeXBvdChtWzBdLCBtWzFdKTtcbiAgICAgICAgY29uc3Qgbm9ybVkgPSBNYXRoLmh5cG90KG1bMl0sIG1bM10pO1xuXG4gICAgICAgIGlmIChsaW5lV2lkdGggPT09IDApIHtcbiAgICAgICAgICBzY2FsZVggPSBub3JtWSAvIGFic0RldDtcbiAgICAgICAgICBzY2FsZVkgPSBub3JtWCAvIGFic0RldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBiYXNlQXJlYSA9IGxpbmVXaWR0aCAqIGFic0RldDtcbiAgICAgICAgICBzY2FsZVggPSBub3JtWSA+IGJhc2VBcmVhID8gbm9ybVkgLyBiYXNlQXJlYSA6IDE7XG4gICAgICAgICAgc2NhbGVZID0gbm9ybVggPiBiYXNlQXJlYSA/IG5vcm1YIC8gYmFzZUFyZWEgOiAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NhY2hlZFNjYWxlRm9yU3Ryb2tpbmcgPSBbc2NhbGVYLCBzY2FsZVldO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9jYWNoZWRTY2FsZUZvclN0cm9raW5nO1xuICB9XG5cbiAgcmVzY2FsZUFuZFN0cm9rZShzYXZlUmVzdG9yZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGN0eFxuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIGxpbmVXaWR0aFxuICAgIH0gPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgW3NjYWxlWCwgc2NhbGVZXSA9IHRoaXMuZ2V0U2NhbGVGb3JTdHJva2luZygpO1xuICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGggfHwgMTtcblxuICAgIGlmIChzY2FsZVggPT09IDEgJiYgc2NhbGVZID09PSAxKSB7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHNhdmVkTWF0cml4LCBzYXZlZERhc2hlcywgc2F2ZWREYXNoT2Zmc2V0O1xuXG4gICAgaWYgKHNhdmVSZXN0b3JlKSB7XG4gICAgICBzYXZlZE1hdHJpeCA9IGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtLnNsaWNlKCk7XG4gICAgICBzYXZlZERhc2hlcyA9IGN0eC5nZXRMaW5lRGFzaCgpLnNsaWNlKCk7XG4gICAgICBzYXZlZERhc2hPZmZzZXQgPSBjdHgubGluZURhc2hPZmZzZXQ7XG4gICAgfVxuXG4gICAgY3R4LnNjYWxlKHNjYWxlWCwgc2NhbGVZKTtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWF4KHNjYWxlWCwgc2NhbGVZKTtcbiAgICBjdHguc2V0TGluZURhc2goY3R4LmdldExpbmVEYXNoKCkubWFwKHggPT4geCAvIHNjYWxlKSk7XG4gICAgY3R4LmxpbmVEYXNoT2Zmc2V0IC89IHNjYWxlO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGlmIChzYXZlUmVzdG9yZSkge1xuICAgICAgY3R4LnNldFRyYW5zZm9ybSguLi5zYXZlZE1hdHJpeCk7XG4gICAgICBjdHguc2V0TGluZURhc2goc2F2ZWREYXNoZXMpO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gc2F2ZWREYXNoT2Zmc2V0O1xuICAgIH1cbiAgfVxuXG4gIGdldENhbnZhc1Bvc2l0aW9uKHgsIHkpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLmN0eC5tb3pDdXJyZW50VHJhbnNmb3JtO1xuICAgIHJldHVybiBbdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF0sIHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdXTtcbiAgfVxuXG4gIGlzQ29udGVudFZpc2libGUoKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWFya2VkQ29udGVudFN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAoIXRoaXMubWFya2VkQ29udGVudFN0YWNrW2ldLnZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cblxuZXhwb3J0cy5DYW52YXNHcmFwaGljcyA9IENhbnZhc0dyYXBoaWNzO1xuXG5mb3IgKGNvbnN0IG9wIGluIF91dGlsLk9QUykge1xuICBpZiAoQ2FudmFzR3JhcGhpY3MucHJvdG90eXBlW29wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgQ2FudmFzR3JhcGhpY3MucHJvdG90eXBlW191dGlsLk9QU1tvcF1dID0gQ2FudmFzR3JhcGhpY3MucHJvdG90eXBlW29wXTtcbiAgfVxufVxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLlRpbGluZ1BhdHRlcm4gPSBleHBvcnRzLlBhdGhUeXBlID0gdm9pZCAwO1xuZXhwb3J0cy5nZXRTaGFkaW5nUGF0dGVybiA9IGdldFNoYWRpbmdQYXR0ZXJuO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2lzX25vZGUgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDMpO1xuXG5jb25zdCBQYXRoVHlwZSA9IHtcbiAgRklMTDogXCJGaWxsXCIsXG4gIFNUUk9LRTogXCJTdHJva2VcIixcbiAgU0hBRElORzogXCJTaGFkaW5nXCJcbn07XG5leHBvcnRzLlBhdGhUeXBlID0gUGF0aFR5cGU7XG5cbmZ1bmN0aW9uIGFwcGx5Qm91bmRpbmdCb3goY3R4LCBiYm94KSB7XG4gIGlmICghYmJveCB8fCBfaXNfbm9kZS5pc05vZGVKUykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHdpZHRoID0gYmJveFsyXSAtIGJib3hbMF07XG4gIGNvbnN0IGhlaWdodCA9IGJib3hbM10gLSBiYm94WzFdO1xuICBjb25zdCByZWdpb24gPSBuZXcgUGF0aDJEKCk7XG4gIHJlZ2lvbi5yZWN0KGJib3hbMF0sIGJib3hbMV0sIHdpZHRoLCBoZWlnaHQpO1xuICBjdHguY2xpcChyZWdpb24pO1xufVxuXG5jbGFzcyBCYXNlU2hhZGluZ1BhdHRlcm4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gQmFzZVNoYWRpbmdQYXR0ZXJuKSB7XG4gICAgICAoMCwgX3V0aWwudW5yZWFjaGFibGUpKFwiQ2Fubm90IGluaXRpYWxpemUgQmFzZVNoYWRpbmdQYXR0ZXJuLlwiKTtcbiAgICB9XG4gIH1cblxuICBnZXRQYXR0ZXJuKCkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJBYnN0cmFjdCBtZXRob2QgYGdldFBhdHRlcm5gIGNhbGxlZC5cIik7XG4gIH1cblxufVxuXG5jbGFzcyBSYWRpYWxBeGlhbFNoYWRpbmdQYXR0ZXJuIGV4dGVuZHMgQmFzZVNoYWRpbmdQYXR0ZXJuIHtcbiAgY29uc3RydWN0b3IoSVIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3R5cGUgPSBJUlsxXTtcbiAgICB0aGlzLl9iYm94ID0gSVJbMl07XG4gICAgdGhpcy5fY29sb3JTdG9wcyA9IElSWzNdO1xuICAgIHRoaXMuX3AwID0gSVJbNF07XG4gICAgdGhpcy5fcDEgPSBJUls1XTtcbiAgICB0aGlzLl9yMCA9IElSWzZdO1xuICAgIHRoaXMuX3IxID0gSVJbN107XG4gICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUdyYWRpZW50KGN0eCkge1xuICAgIGxldCBncmFkO1xuXG4gICAgaWYgKHRoaXMuX3R5cGUgPT09IFwiYXhpYWxcIikge1xuICAgICAgZ3JhZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCh0aGlzLl9wMFswXSwgdGhpcy5fcDBbMV0sIHRoaXMuX3AxWzBdLCB0aGlzLl9wMVsxXSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl90eXBlID09PSBcInJhZGlhbFwiKSB7XG4gICAgICBncmFkID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHRoaXMuX3AwWzBdLCB0aGlzLl9wMFsxXSwgdGhpcy5fcjAsIHRoaXMuX3AxWzBdLCB0aGlzLl9wMVsxXSwgdGhpcy5fcjEpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29sb3JTdG9wIG9mIHRoaXMuX2NvbG9yU3RvcHMpIHtcbiAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcFswXSwgY29sb3JTdG9wWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3JhZDtcbiAgfVxuXG4gIGdldFBhdHRlcm4oY3R4LCBvd25lciwgaW52ZXJzZSwgcGF0aFR5cGUpIHtcbiAgICBsZXQgcGF0dGVybjtcblxuICAgIGlmIChwYXRoVHlwZSA9PT0gUGF0aFR5cGUuU1RST0tFIHx8IHBhdGhUeXBlID09PSBQYXRoVHlwZS5GSUxMKSB7XG4gICAgICBjb25zdCBvd25lckJCb3ggPSBvd25lci5jdXJyZW50LmdldENsaXBwZWRQYXRoQm91bmRpbmdCb3gocGF0aFR5cGUsIGN0eC5tb3pDdXJyZW50VHJhbnNmb3JtKSB8fCBbMCwgMCwgMCwgMF07XG4gICAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChvd25lckJCb3hbMl0gLSBvd25lckJCb3hbMF0pIHx8IDE7XG4gICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwob3duZXJCQm94WzNdIC0gb3duZXJCQm94WzFdKSB8fCAxO1xuICAgICAgY29uc3QgdG1wQ2FudmFzID0gb3duZXIuY2FjaGVkQ2FudmFzZXMuZ2V0Q2FudmFzKFwicGF0dGVyblwiLCB3aWR0aCwgaGVpZ2h0LCB0cnVlKTtcbiAgICAgIGNvbnN0IHRtcEN0eCA9IHRtcENhbnZhcy5jb250ZXh0O1xuICAgICAgdG1wQ3R4LmNsZWFyUmVjdCgwLCAwLCB0bXBDdHguY2FudmFzLndpZHRoLCB0bXBDdHguY2FudmFzLmhlaWdodCk7XG4gICAgICB0bXBDdHguYmVnaW5QYXRoKCk7XG4gICAgICB0bXBDdHgucmVjdCgwLCAwLCB0bXBDdHguY2FudmFzLndpZHRoLCB0bXBDdHguY2FudmFzLmhlaWdodCk7XG4gICAgICB0bXBDdHgudHJhbnNsYXRlKC1vd25lckJCb3hbMF0sIC1vd25lckJCb3hbMV0pO1xuICAgICAgaW52ZXJzZSA9IF91dGlsLlV0aWwudHJhbnNmb3JtKGludmVyc2UsIFsxLCAwLCAwLCAxLCBvd25lckJCb3hbMF0sIG93bmVyQkJveFsxXV0pO1xuICAgICAgdG1wQ3R4LnRyYW5zZm9ybS5hcHBseSh0bXBDdHgsIG93bmVyLmJhc2VUcmFuc2Zvcm0pO1xuXG4gICAgICBpZiAodGhpcy5tYXRyaXgpIHtcbiAgICAgICAgdG1wQ3R4LnRyYW5zZm9ybS5hcHBseSh0bXBDdHgsIHRoaXMubWF0cml4KTtcbiAgICAgIH1cblxuICAgICAgYXBwbHlCb3VuZGluZ0JveCh0bXBDdHgsIHRoaXMuX2Jib3gpO1xuICAgICAgdG1wQ3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NyZWF0ZUdyYWRpZW50KHRtcEN0eCk7XG4gICAgICB0bXBDdHguZmlsbCgpO1xuICAgICAgcGF0dGVybiA9IGN0eC5jcmVhdGVQYXR0ZXJuKHRtcENhbnZhcy5jYW52YXMsIFwibm8tcmVwZWF0XCIpO1xuICAgICAgY29uc3QgZG9tTWF0cml4ID0gbmV3IERPTU1hdHJpeChpbnZlcnNlKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcGF0dGVybi5zZXRUcmFuc2Zvcm0oZG9tTWF0cml4KTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICgwLCBfdXRpbC53YXJuKShgUmFkaWFsQXhpYWxTaGFkaW5nUGF0dGVybi5nZXRQYXR0ZXJuOiBcIiR7ZXg/Lm1lc3NhZ2V9XCIuYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcGx5Qm91bmRpbmdCb3goY3R4LCB0aGlzLl9iYm94KTtcbiAgICAgIHBhdHRlcm4gPSB0aGlzLl9jcmVhdGVHcmFkaWVudChjdHgpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXR0ZXJuO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gZHJhd1RyaWFuZ2xlKGRhdGEsIGNvbnRleHQsIHAxLCBwMiwgcDMsIGMxLCBjMiwgYzMpIHtcbiAgY29uc3QgY29vcmRzID0gY29udGV4dC5jb29yZHMsXG4gICAgICAgIGNvbG9ycyA9IGNvbnRleHQuY29sb3JzO1xuICBjb25zdCBieXRlcyA9IGRhdGEuZGF0YSxcbiAgICAgICAgcm93U2l6ZSA9IGRhdGEud2lkdGggKiA0O1xuICBsZXQgdG1wO1xuXG4gIGlmIChjb29yZHNbcDEgKyAxXSA+IGNvb3Jkc1twMiArIDFdKSB7XG4gICAgdG1wID0gcDE7XG4gICAgcDEgPSBwMjtcbiAgICBwMiA9IHRtcDtcbiAgICB0bXAgPSBjMTtcbiAgICBjMSA9IGMyO1xuICAgIGMyID0gdG1wO1xuICB9XG5cbiAgaWYgKGNvb3Jkc1twMiArIDFdID4gY29vcmRzW3AzICsgMV0pIHtcbiAgICB0bXAgPSBwMjtcbiAgICBwMiA9IHAzO1xuICAgIHAzID0gdG1wO1xuICAgIHRtcCA9IGMyO1xuICAgIGMyID0gYzM7XG4gICAgYzMgPSB0bXA7XG4gIH1cblxuICBpZiAoY29vcmRzW3AxICsgMV0gPiBjb29yZHNbcDIgKyAxXSkge1xuICAgIHRtcCA9IHAxO1xuICAgIHAxID0gcDI7XG4gICAgcDIgPSB0bXA7XG4gICAgdG1wID0gYzE7XG4gICAgYzEgPSBjMjtcbiAgICBjMiA9IHRtcDtcbiAgfVxuXG4gIGNvbnN0IHgxID0gKGNvb3Jkc1twMV0gKyBjb250ZXh0Lm9mZnNldFgpICogY29udGV4dC5zY2FsZVg7XG4gIGNvbnN0IHkxID0gKGNvb3Jkc1twMSArIDFdICsgY29udGV4dC5vZmZzZXRZKSAqIGNvbnRleHQuc2NhbGVZO1xuICBjb25zdCB4MiA9IChjb29yZHNbcDJdICsgY29udGV4dC5vZmZzZXRYKSAqIGNvbnRleHQuc2NhbGVYO1xuICBjb25zdCB5MiA9IChjb29yZHNbcDIgKyAxXSArIGNvbnRleHQub2Zmc2V0WSkgKiBjb250ZXh0LnNjYWxlWTtcbiAgY29uc3QgeDMgPSAoY29vcmRzW3AzXSArIGNvbnRleHQub2Zmc2V0WCkgKiBjb250ZXh0LnNjYWxlWDtcbiAgY29uc3QgeTMgPSAoY29vcmRzW3AzICsgMV0gKyBjb250ZXh0Lm9mZnNldFkpICogY29udGV4dC5zY2FsZVk7XG5cbiAgaWYgKHkxID49IHkzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYzFyID0gY29sb3JzW2MxXSxcbiAgICAgICAgYzFnID0gY29sb3JzW2MxICsgMV0sXG4gICAgICAgIGMxYiA9IGNvbG9yc1tjMSArIDJdO1xuICBjb25zdCBjMnIgPSBjb2xvcnNbYzJdLFxuICAgICAgICBjMmcgPSBjb2xvcnNbYzIgKyAxXSxcbiAgICAgICAgYzJiID0gY29sb3JzW2MyICsgMl07XG4gIGNvbnN0IGMzciA9IGNvbG9yc1tjM10sXG4gICAgICAgIGMzZyA9IGNvbG9yc1tjMyArIDFdLFxuICAgICAgICBjM2IgPSBjb2xvcnNbYzMgKyAyXTtcbiAgY29uc3QgbWluWSA9IE1hdGgucm91bmQoeTEpLFxuICAgICAgICBtYXhZID0gTWF0aC5yb3VuZCh5Myk7XG4gIGxldCB4YSwgY2FyLCBjYWcsIGNhYjtcbiAgbGV0IHhiLCBjYnIsIGNiZywgY2JiO1xuXG4gIGZvciAobGV0IHkgPSBtaW5ZOyB5IDw9IG1heFk7IHkrKykge1xuICAgIGlmICh5IDwgeTIpIHtcbiAgICAgIGxldCBrO1xuXG4gICAgICBpZiAoeSA8IHkxKSB7XG4gICAgICAgIGsgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgayA9ICh5MSAtIHkpIC8gKHkxIC0geTIpO1xuICAgICAgfVxuXG4gICAgICB4YSA9IHgxIC0gKHgxIC0geDIpICogaztcbiAgICAgIGNhciA9IGMxciAtIChjMXIgLSBjMnIpICogaztcbiAgICAgIGNhZyA9IGMxZyAtIChjMWcgLSBjMmcpICogaztcbiAgICAgIGNhYiA9IGMxYiAtIChjMWIgLSBjMmIpICogaztcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGs7XG5cbiAgICAgIGlmICh5ID4geTMpIHtcbiAgICAgICAgayA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHkyID09PSB5Mykge1xuICAgICAgICBrID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGsgPSAoeTIgLSB5KSAvICh5MiAtIHkzKTtcbiAgICAgIH1cblxuICAgICAgeGEgPSB4MiAtICh4MiAtIHgzKSAqIGs7XG4gICAgICBjYXIgPSBjMnIgLSAoYzJyIC0gYzNyKSAqIGs7XG4gICAgICBjYWcgPSBjMmcgLSAoYzJnIC0gYzNnKSAqIGs7XG4gICAgICBjYWIgPSBjMmIgLSAoYzJiIC0gYzNiKSAqIGs7XG4gICAgfVxuXG4gICAgbGV0IGs7XG5cbiAgICBpZiAoeSA8IHkxKSB7XG4gICAgICBrID0gMDtcbiAgICB9IGVsc2UgaWYgKHkgPiB5Mykge1xuICAgICAgayA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGsgPSAoeTEgLSB5KSAvICh5MSAtIHkzKTtcbiAgICB9XG5cbiAgICB4YiA9IHgxIC0gKHgxIC0geDMpICogaztcbiAgICBjYnIgPSBjMXIgLSAoYzFyIC0gYzNyKSAqIGs7XG4gICAgY2JnID0gYzFnIC0gKGMxZyAtIGMzZykgKiBrO1xuICAgIGNiYiA9IGMxYiAtIChjMWIgLSBjM2IpICogaztcbiAgICBjb25zdCB4MV8gPSBNYXRoLnJvdW5kKE1hdGgubWluKHhhLCB4YikpO1xuICAgIGNvbnN0IHgyXyA9IE1hdGgucm91bmQoTWF0aC5tYXgoeGEsIHhiKSk7XG4gICAgbGV0IGogPSByb3dTaXplICogeSArIHgxXyAqIDQ7XG5cbiAgICBmb3IgKGxldCB4ID0geDFfOyB4IDw9IHgyXzsgeCsrKSB7XG4gICAgICBrID0gKHhhIC0geCkgLyAoeGEgLSB4Yik7XG5cbiAgICAgIGlmIChrIDwgMCkge1xuICAgICAgICBrID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoayA+IDEpIHtcbiAgICAgICAgayA9IDE7XG4gICAgICB9XG5cbiAgICAgIGJ5dGVzW2orK10gPSBjYXIgLSAoY2FyIC0gY2JyKSAqIGsgfCAwO1xuICAgICAgYnl0ZXNbaisrXSA9IGNhZyAtIChjYWcgLSBjYmcpICogayB8IDA7XG4gICAgICBieXRlc1tqKytdID0gY2FiIC0gKGNhYiAtIGNiYikgKiBrIHwgMDtcbiAgICAgIGJ5dGVzW2orK10gPSAyNTU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdGaWd1cmUoZGF0YSwgZmlndXJlLCBjb250ZXh0KSB7XG4gIGNvbnN0IHBzID0gZmlndXJlLmNvb3JkcztcbiAgY29uc3QgY3MgPSBmaWd1cmUuY29sb3JzO1xuICBsZXQgaSwgaWk7XG5cbiAgc3dpdGNoIChmaWd1cmUudHlwZSkge1xuICAgIGNhc2UgXCJsYXR0aWNlXCI6XG4gICAgICBjb25zdCB2ZXJ0aWNlc1BlclJvdyA9IGZpZ3VyZS52ZXJ0aWNlc1BlclJvdztcbiAgICAgIGNvbnN0IHJvd3MgPSBNYXRoLmZsb29yKHBzLmxlbmd0aCAvIHZlcnRpY2VzUGVyUm93KSAtIDE7XG4gICAgICBjb25zdCBjb2xzID0gdmVydGljZXNQZXJSb3cgLSAxO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIGxldCBxID0gaSAqIHZlcnRpY2VzUGVyUm93O1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sczsgaisrLCBxKyspIHtcbiAgICAgICAgICBkcmF3VHJpYW5nbGUoZGF0YSwgY29udGV4dCwgcHNbcV0sIHBzW3EgKyAxXSwgcHNbcSArIHZlcnRpY2VzUGVyUm93XSwgY3NbcV0sIGNzW3EgKyAxXSwgY3NbcSArIHZlcnRpY2VzUGVyUm93XSk7XG4gICAgICAgICAgZHJhd1RyaWFuZ2xlKGRhdGEsIGNvbnRleHQsIHBzW3EgKyB2ZXJ0aWNlc1BlclJvdyArIDFdLCBwc1txICsgMV0sIHBzW3EgKyB2ZXJ0aWNlc1BlclJvd10sIGNzW3EgKyB2ZXJ0aWNlc1BlclJvdyArIDFdLCBjc1txICsgMV0sIGNzW3EgKyB2ZXJ0aWNlc1BlclJvd10pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcInRyaWFuZ2xlc1wiOlxuICAgICAgZm9yIChpID0gMCwgaWkgPSBwcy5sZW5ndGg7IGkgPCBpaTsgaSArPSAzKSB7XG4gICAgICAgIGRyYXdUcmlhbmdsZShkYXRhLCBjb250ZXh0LCBwc1tpXSwgcHNbaSArIDFdLCBwc1tpICsgMl0sIGNzW2ldLCBjc1tpICsgMV0sIGNzW2kgKyAyXSk7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgZmlndXJlXCIpO1xuICB9XG59XG5cbmNsYXNzIE1lc2hTaGFkaW5nUGF0dGVybiBleHRlbmRzIEJhc2VTaGFkaW5nUGF0dGVybiB7XG4gIGNvbnN0cnVjdG9yKElSKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jb29yZHMgPSBJUlsyXTtcbiAgICB0aGlzLl9jb2xvcnMgPSBJUlszXTtcbiAgICB0aGlzLl9maWd1cmVzID0gSVJbNF07XG4gICAgdGhpcy5fYm91bmRzID0gSVJbNV07XG4gICAgdGhpcy5fYmJveCA9IElSWzddO1xuICAgIHRoaXMuX2JhY2tncm91bmQgPSBJUls4XTtcbiAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlTWVzaENhbnZhcyhjb21iaW5lZFNjYWxlLCBiYWNrZ3JvdW5kQ29sb3IsIGNhY2hlZENhbnZhc2VzKSB7XG4gICAgY29uc3QgRVhQRUNURURfU0NBTEUgPSAxLjE7XG4gICAgY29uc3QgTUFYX1BBVFRFUk5fU0laRSA9IDMwMDA7XG4gICAgY29uc3QgQk9SREVSX1NJWkUgPSAyO1xuICAgIGNvbnN0IG9mZnNldFggPSBNYXRoLmZsb29yKHRoaXMuX2JvdW5kc1swXSk7XG4gICAgY29uc3Qgb2Zmc2V0WSA9IE1hdGguZmxvb3IodGhpcy5fYm91bmRzWzFdKTtcbiAgICBjb25zdCBib3VuZHNXaWR0aCA9IE1hdGguY2VpbCh0aGlzLl9ib3VuZHNbMl0pIC0gb2Zmc2V0WDtcbiAgICBjb25zdCBib3VuZHNIZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5fYm91bmRzWzNdKSAtIG9mZnNldFk7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLm1pbihNYXRoLmNlaWwoTWF0aC5hYnMoYm91bmRzV2lkdGggKiBjb21iaW5lZFNjYWxlWzBdICogRVhQRUNURURfU0NBTEUpKSwgTUFYX1BBVFRFUk5fU0laRSk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5jZWlsKE1hdGguYWJzKGJvdW5kc0hlaWdodCAqIGNvbWJpbmVkU2NhbGVbMV0gKiBFWFBFQ1RFRF9TQ0FMRSkpLCBNQVhfUEFUVEVSTl9TSVpFKTtcbiAgICBjb25zdCBzY2FsZVggPSBib3VuZHNXaWR0aCAvIHdpZHRoO1xuICAgIGNvbnN0IHNjYWxlWSA9IGJvdW5kc0hlaWdodCAvIGhlaWdodDtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgY29vcmRzOiB0aGlzLl9jb29yZHMsXG4gICAgICBjb2xvcnM6IHRoaXMuX2NvbG9ycyxcbiAgICAgIG9mZnNldFg6IC1vZmZzZXRYLFxuICAgICAgb2Zmc2V0WTogLW9mZnNldFksXG4gICAgICBzY2FsZVg6IDEgLyBzY2FsZVgsXG4gICAgICBzY2FsZVk6IDEgLyBzY2FsZVlcbiAgICB9O1xuICAgIGNvbnN0IHBhZGRlZFdpZHRoID0gd2lkdGggKyBCT1JERVJfU0laRSAqIDI7XG4gICAgY29uc3QgcGFkZGVkSGVpZ2h0ID0gaGVpZ2h0ICsgQk9SREVSX1NJWkUgKiAyO1xuICAgIGNvbnN0IHRtcENhbnZhcyA9IGNhY2hlZENhbnZhc2VzLmdldENhbnZhcyhcIm1lc2hcIiwgcGFkZGVkV2lkdGgsIHBhZGRlZEhlaWdodCwgZmFsc2UpO1xuICAgIGNvbnN0IHRtcEN0eCA9IHRtcENhbnZhcy5jb250ZXh0O1xuICAgIGNvbnN0IGRhdGEgPSB0bXBDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgaWYgKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgY29uc3QgYnl0ZXMgPSBkYXRhLmRhdGE7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGJ5dGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDQpIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiYWNrZ3JvdW5kQ29sb3JbMF07XG4gICAgICAgIGJ5dGVzW2kgKyAxXSA9IGJhY2tncm91bmRDb2xvclsxXTtcbiAgICAgICAgYnl0ZXNbaSArIDJdID0gYmFja2dyb3VuZENvbG9yWzJdO1xuICAgICAgICBieXRlc1tpICsgM10gPSAyNTU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBmaWd1cmUgb2YgdGhpcy5fZmlndXJlcykge1xuICAgICAgZHJhd0ZpZ3VyZShkYXRhLCBmaWd1cmUsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIHRtcEN0eC5wdXRJbWFnZURhdGEoZGF0YSwgQk9SREVSX1NJWkUsIEJPUkRFUl9TSVpFKTtcbiAgICBjb25zdCBjYW52YXMgPSB0bXBDYW52YXMuY2FudmFzO1xuICAgIHJldHVybiB7XG4gICAgICBjYW52YXMsXG4gICAgICBvZmZzZXRYOiBvZmZzZXRYIC0gQk9SREVSX1NJWkUgKiBzY2FsZVgsXG4gICAgICBvZmZzZXRZOiBvZmZzZXRZIC0gQk9SREVSX1NJWkUgKiBzY2FsZVksXG4gICAgICBzY2FsZVgsXG4gICAgICBzY2FsZVlcbiAgICB9O1xuICB9XG5cbiAgZ2V0UGF0dGVybihjdHgsIG93bmVyLCBpbnZlcnNlLCBwYXRoVHlwZSkge1xuICAgIGFwcGx5Qm91bmRpbmdCb3goY3R4LCB0aGlzLl9iYm94KTtcbiAgICBsZXQgc2NhbGU7XG5cbiAgICBpZiAocGF0aFR5cGUgPT09IFBhdGhUeXBlLlNIQURJTkcpIHtcbiAgICAgIHNjYWxlID0gX3V0aWwuVXRpbC5zaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZShjdHgubW96Q3VycmVudFRyYW5zZm9ybSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlID0gX3V0aWwuVXRpbC5zaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZShvd25lci5iYXNlVHJhbnNmb3JtKTtcblxuICAgICAgaWYgKHRoaXMubWF0cml4KSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeFNjYWxlID0gX3V0aWwuVXRpbC5zaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZSh0aGlzLm1hdHJpeCk7XG5cbiAgICAgICAgc2NhbGUgPSBbc2NhbGVbMF0gKiBtYXRyaXhTY2FsZVswXSwgc2NhbGVbMV0gKiBtYXRyaXhTY2FsZVsxXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcG9yYXJ5UGF0dGVybkNhbnZhcyA9IHRoaXMuX2NyZWF0ZU1lc2hDYW52YXMoc2NhbGUsIHBhdGhUeXBlID09PSBQYXRoVHlwZS5TSEFESU5HID8gbnVsbCA6IHRoaXMuX2JhY2tncm91bmQsIG93bmVyLmNhY2hlZENhbnZhc2VzKTtcblxuICAgIGlmIChwYXRoVHlwZSAhPT0gUGF0aFR5cGUuU0hBRElORykge1xuICAgICAgY3R4LnNldFRyYW5zZm9ybS5hcHBseShjdHgsIG93bmVyLmJhc2VUcmFuc2Zvcm0pO1xuXG4gICAgICBpZiAodGhpcy5tYXRyaXgpIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIHRoaXMubWF0cml4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjdHgudHJhbnNsYXRlKHRlbXBvcmFyeVBhdHRlcm5DYW52YXMub2Zmc2V0WCwgdGVtcG9yYXJ5UGF0dGVybkNhbnZhcy5vZmZzZXRZKTtcbiAgICBjdHguc2NhbGUodGVtcG9yYXJ5UGF0dGVybkNhbnZhcy5zY2FsZVgsIHRlbXBvcmFyeVBhdHRlcm5DYW52YXMuc2NhbGVZKTtcbiAgICByZXR1cm4gY3R4LmNyZWF0ZVBhdHRlcm4odGVtcG9yYXJ5UGF0dGVybkNhbnZhcy5jYW52YXMsIFwibm8tcmVwZWF0XCIpO1xuICB9XG5cbn1cblxuY2xhc3MgRHVtbXlTaGFkaW5nUGF0dGVybiBleHRlbmRzIEJhc2VTaGFkaW5nUGF0dGVybiB7XG4gIGdldFBhdHRlcm4oKSB7XG4gICAgcmV0dXJuIFwiaG90cGlua1wiO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gZ2V0U2hhZGluZ1BhdHRlcm4oSVIpIHtcbiAgc3dpdGNoIChJUlswXSkge1xuICAgIGNhc2UgXCJSYWRpYWxBeGlhbFwiOlxuICAgICAgcmV0dXJuIG5ldyBSYWRpYWxBeGlhbFNoYWRpbmdQYXR0ZXJuKElSKTtcblxuICAgIGNhc2UgXCJNZXNoXCI6XG4gICAgICByZXR1cm4gbmV3IE1lc2hTaGFkaW5nUGF0dGVybihJUik7XG5cbiAgICBjYXNlIFwiRHVtbXlcIjpcbiAgICAgIHJldHVybiBuZXcgRHVtbXlTaGFkaW5nUGF0dGVybigpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIElSIHR5cGU6ICR7SVJbMF19YCk7XG59XG5cbmNvbnN0IFBhaW50VHlwZSA9IHtcbiAgQ09MT1JFRDogMSxcbiAgVU5DT0xPUkVEOiAyXG59O1xuXG5jbGFzcyBUaWxpbmdQYXR0ZXJuIHtcbiAgc3RhdGljIGdldCBNQVhfUEFUVEVSTl9TSVpFKCkge1xuICAgIHJldHVybiAoMCwgX3V0aWwuc2hhZG93KSh0aGlzLCBcIk1BWF9QQVRURVJOX1NJWkVcIiwgMzAwMCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihJUiwgY29sb3IsIGN0eCwgY2FudmFzR3JhcGhpY3NGYWN0b3J5LCBiYXNlVHJhbnNmb3JtKSB7XG4gICAgdGhpcy5vcGVyYXRvckxpc3QgPSBJUlsyXTtcbiAgICB0aGlzLm1hdHJpeCA9IElSWzNdIHx8IFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICB0aGlzLmJib3ggPSBJUls0XTtcbiAgICB0aGlzLnhzdGVwID0gSVJbNV07XG4gICAgdGhpcy55c3RlcCA9IElSWzZdO1xuICAgIHRoaXMucGFpbnRUeXBlID0gSVJbN107XG4gICAgdGhpcy50aWxpbmdUeXBlID0gSVJbOF07XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMuY2FudmFzR3JhcGhpY3NGYWN0b3J5ID0gY2FudmFzR3JhcGhpY3NGYWN0b3J5O1xuICAgIHRoaXMuYmFzZVRyYW5zZm9ybSA9IGJhc2VUcmFuc2Zvcm07XG4gIH1cblxuICBjcmVhdGVQYXR0ZXJuQ2FudmFzKG93bmVyKSB7XG4gICAgY29uc3Qgb3BlcmF0b3JMaXN0ID0gdGhpcy5vcGVyYXRvckxpc3Q7XG4gICAgY29uc3QgYmJveCA9IHRoaXMuYmJveDtcbiAgICBjb25zdCB4c3RlcCA9IHRoaXMueHN0ZXA7XG4gICAgY29uc3QgeXN0ZXAgPSB0aGlzLnlzdGVwO1xuICAgIGNvbnN0IHBhaW50VHlwZSA9IHRoaXMucGFpbnRUeXBlO1xuICAgIGNvbnN0IHRpbGluZ1R5cGUgPSB0aGlzLnRpbGluZ1R5cGU7XG4gICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIGNvbnN0IGNhbnZhc0dyYXBoaWNzRmFjdG9yeSA9IHRoaXMuY2FudmFzR3JhcGhpY3NGYWN0b3J5O1xuICAgICgwLCBfdXRpbC5pbmZvKShcIlRpbGluZ1R5cGU6IFwiICsgdGlsaW5nVHlwZSk7XG4gICAgY29uc3QgeDAgPSBiYm94WzBdLFxuICAgICAgICAgIHkwID0gYmJveFsxXSxcbiAgICAgICAgICB4MSA9IGJib3hbMl0sXG4gICAgICAgICAgeTEgPSBiYm94WzNdO1xuXG4gICAgY29uc3QgbWF0cml4U2NhbGUgPSBfdXRpbC5VdGlsLnNpbmd1bGFyVmFsdWVEZWNvbXBvc2UyZFNjYWxlKHRoaXMubWF0cml4KTtcblxuICAgIGNvbnN0IGN1ck1hdHJpeFNjYWxlID0gX3V0aWwuVXRpbC5zaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZSh0aGlzLmJhc2VUcmFuc2Zvcm0pO1xuXG4gICAgY29uc3QgY29tYmluZWRTY2FsZSA9IFttYXRyaXhTY2FsZVswXSAqIGN1ck1hdHJpeFNjYWxlWzBdLCBtYXRyaXhTY2FsZVsxXSAqIGN1ck1hdHJpeFNjYWxlWzFdXTtcbiAgICBjb25zdCBkaW14ID0gdGhpcy5nZXRTaXplQW5kU2NhbGUoeHN0ZXAsIHRoaXMuY3R4LmNhbnZhcy53aWR0aCwgY29tYmluZWRTY2FsZVswXSk7XG4gICAgY29uc3QgZGlteSA9IHRoaXMuZ2V0U2l6ZUFuZFNjYWxlKHlzdGVwLCB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0LCBjb21iaW5lZFNjYWxlWzFdKTtcbiAgICBjb25zdCB0bXBDYW52YXMgPSBvd25lci5jYWNoZWRDYW52YXNlcy5nZXRDYW52YXMoXCJwYXR0ZXJuXCIsIGRpbXguc2l6ZSwgZGlteS5zaXplLCB0cnVlKTtcbiAgICBjb25zdCB0bXBDdHggPSB0bXBDYW52YXMuY29udGV4dDtcbiAgICBjb25zdCBncmFwaGljcyA9IGNhbnZhc0dyYXBoaWNzRmFjdG9yeS5jcmVhdGVDYW52YXNHcmFwaGljcyh0bXBDdHgpO1xuICAgIGdyYXBoaWNzLmdyb3VwTGV2ZWwgPSBvd25lci5ncm91cExldmVsO1xuICAgIHRoaXMuc2V0RmlsbEFuZFN0cm9rZVN0eWxlVG9Db250ZXh0KGdyYXBoaWNzLCBwYWludFR5cGUsIGNvbG9yKTtcbiAgICBsZXQgYWRqdXN0ZWRYMCA9IHgwO1xuICAgIGxldCBhZGp1c3RlZFkwID0geTA7XG4gICAgbGV0IGFkanVzdGVkWDEgPSB4MTtcbiAgICBsZXQgYWRqdXN0ZWRZMSA9IHkxO1xuXG4gICAgaWYgKHgwIDwgMCkge1xuICAgICAgYWRqdXN0ZWRYMCA9IDA7XG4gICAgICBhZGp1c3RlZFgxICs9IE1hdGguYWJzKHgwKTtcbiAgICB9XG5cbiAgICBpZiAoeTAgPCAwKSB7XG4gICAgICBhZGp1c3RlZFkwID0gMDtcbiAgICAgIGFkanVzdGVkWTEgKz0gTWF0aC5hYnMoeTApO1xuICAgIH1cblxuICAgIHRtcEN0eC50cmFuc2xhdGUoLShkaW14LnNjYWxlICogYWRqdXN0ZWRYMCksIC0oZGlteS5zY2FsZSAqIGFkanVzdGVkWTApKTtcbiAgICBncmFwaGljcy50cmFuc2Zvcm0oZGlteC5zY2FsZSwgMCwgMCwgZGlteS5zY2FsZSwgMCwgMCk7XG4gICAgdG1wQ3R4LnNhdmUoKTtcbiAgICB0aGlzLmNsaXBCYm94KGdyYXBoaWNzLCBhZGp1c3RlZFgwLCBhZGp1c3RlZFkwLCBhZGp1c3RlZFgxLCBhZGp1c3RlZFkxKTtcbiAgICBncmFwaGljcy5iYXNlVHJhbnNmb3JtID0gZ3JhcGhpY3MuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm0uc2xpY2UoKTtcbiAgICBncmFwaGljcy5leGVjdXRlT3BlcmF0b3JMaXN0KG9wZXJhdG9yTGlzdCk7XG4gICAgZ3JhcGhpY3MuZW5kRHJhd2luZygpO1xuICAgIHJldHVybiB7XG4gICAgICBjYW52YXM6IHRtcENhbnZhcy5jYW52YXMsXG4gICAgICBzY2FsZVg6IGRpbXguc2NhbGUsXG4gICAgICBzY2FsZVk6IGRpbXkuc2NhbGUsXG4gICAgICBvZmZzZXRYOiBhZGp1c3RlZFgwLFxuICAgICAgb2Zmc2V0WTogYWRqdXN0ZWRZMFxuICAgIH07XG4gIH1cblxuICBnZXRTaXplQW5kU2NhbGUoc3RlcCwgcmVhbE91dHB1dFNpemUsIHNjYWxlKSB7XG4gICAgc3RlcCA9IE1hdGguYWJzKHN0ZXApO1xuICAgIGNvbnN0IG1heFNpemUgPSBNYXRoLm1heChUaWxpbmdQYXR0ZXJuLk1BWF9QQVRURVJOX1NJWkUsIHJlYWxPdXRwdXRTaXplKTtcbiAgICBsZXQgc2l6ZSA9IE1hdGguY2VpbChzdGVwICogc2NhbGUpO1xuXG4gICAgaWYgKHNpemUgPj0gbWF4U2l6ZSkge1xuICAgICAgc2l6ZSA9IG1heFNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlID0gc2l6ZSAvIHN0ZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNjYWxlLFxuICAgICAgc2l6ZVxuICAgIH07XG4gIH1cblxuICBjbGlwQmJveChncmFwaGljcywgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICBjb25zdCBiYm94V2lkdGggPSB4MSAtIHgwO1xuICAgIGNvbnN0IGJib3hIZWlnaHQgPSB5MSAtIHkwO1xuICAgIGdyYXBoaWNzLmN0eC5yZWN0KHgwLCB5MCwgYmJveFdpZHRoLCBiYm94SGVpZ2h0KTtcbiAgICBncmFwaGljcy5jdXJyZW50LnVwZGF0ZVJlY3RNaW5NYXgoZ3JhcGhpY3MuY3R4Lm1vekN1cnJlbnRUcmFuc2Zvcm0sIFt4MCwgeTAsIHgxLCB5MV0pO1xuICAgIGdyYXBoaWNzLmNsaXAoKTtcbiAgICBncmFwaGljcy5lbmRQYXRoKCk7XG4gIH1cblxuICBzZXRGaWxsQW5kU3Ryb2tlU3R5bGVUb0NvbnRleHQoZ3JhcGhpY3MsIHBhaW50VHlwZSwgY29sb3IpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ3JhcGhpY3MuY3R4LFxuICAgICAgICAgIGN1cnJlbnQgPSBncmFwaGljcy5jdXJyZW50O1xuXG4gICAgc3dpdGNoIChwYWludFR5cGUpIHtcbiAgICAgIGNhc2UgUGFpbnRUeXBlLkNPTE9SRUQ6XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGN0eC5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjdHguc3Ryb2tlU3R5bGU7XG4gICAgICAgIGN1cnJlbnQuZmlsbENvbG9yID0gY3R4LmZpbGxTdHlsZTtcbiAgICAgICAgY3VycmVudC5zdHJva2VDb2xvciA9IGN0eC5zdHJva2VTdHlsZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUGFpbnRUeXBlLlVOQ09MT1JFRDpcbiAgICAgICAgY29uc3QgY3NzQ29sb3IgPSBfdXRpbC5VdGlsLm1ha2VIZXhDb2xvcihjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdKTtcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNzc0NvbG9yO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY3NzQ29sb3I7XG4gICAgICAgIGN1cnJlbnQuZmlsbENvbG9yID0gY3NzQ29sb3I7XG4gICAgICAgIGN1cnJlbnQuc3Ryb2tlQ29sb3IgPSBjc3NDb2xvcjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBfdXRpbC5Gb3JtYXRFcnJvcihgVW5zdXBwb3J0ZWQgcGFpbnQgdHlwZTogJHtwYWludFR5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGF0dGVybihjdHgsIG93bmVyLCBpbnZlcnNlLCBwYXRoVHlwZSkge1xuICAgIGxldCBtYXRyaXggPSBpbnZlcnNlO1xuXG4gICAgaWYgKHBhdGhUeXBlICE9PSBQYXRoVHlwZS5TSEFESU5HKSB7XG4gICAgICBtYXRyaXggPSBfdXRpbC5VdGlsLnRyYW5zZm9ybShtYXRyaXgsIG93bmVyLmJhc2VUcmFuc2Zvcm0pO1xuXG4gICAgICBpZiAodGhpcy5tYXRyaXgpIHtcbiAgICAgICAgbWF0cml4ID0gX3V0aWwuVXRpbC50cmFuc2Zvcm0obWF0cml4LCB0aGlzLm1hdHJpeCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcG9yYXJ5UGF0dGVybkNhbnZhcyA9IHRoaXMuY3JlYXRlUGF0dGVybkNhbnZhcyhvd25lcik7XG4gICAgbGV0IGRvbU1hdHJpeCA9IG5ldyBET01NYXRyaXgobWF0cml4KTtcbiAgICBkb21NYXRyaXggPSBkb21NYXRyaXgudHJhbnNsYXRlKHRlbXBvcmFyeVBhdHRlcm5DYW52YXMub2Zmc2V0WCwgdGVtcG9yYXJ5UGF0dGVybkNhbnZhcy5vZmZzZXRZKTtcbiAgICBkb21NYXRyaXggPSBkb21NYXRyaXguc2NhbGUoMSAvIHRlbXBvcmFyeVBhdHRlcm5DYW52YXMuc2NhbGVYLCAxIC8gdGVtcG9yYXJ5UGF0dGVybkNhbnZhcy5zY2FsZVkpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBjdHguY3JlYXRlUGF0dGVybih0ZW1wb3JhcnlQYXR0ZXJuQ2FudmFzLmNhbnZhcywgXCJyZXBlYXRcIik7XG5cbiAgICB0cnkge1xuICAgICAgcGF0dGVybi5zZXRUcmFuc2Zvcm0oZG9tTWF0cml4KTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgKDAsIF91dGlsLndhcm4pKGBUaWxpbmdQYXR0ZXJuLmdldFBhdHRlcm46IFwiJHtleD8ubWVzc2FnZX1cIi5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0dGVybjtcbiAgfVxuXG59XG5cbmV4cG9ydHMuVGlsaW5nUGF0dGVybiA9IFRpbGluZ1BhdHRlcm47XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuYXBwbHlNYXNrSW1hZ2VEYXRhID0gYXBwbHlNYXNrSW1hZ2VEYXRhO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG5mdW5jdGlvbiBhcHBseU1hc2tJbWFnZURhdGEoe1xuICBzcmMsXG4gIHNyY1BvcyA9IDAsXG4gIGRlc3QsXG4gIGRlc3RQb3MgPSAwLFxuICB3aWR0aCxcbiAgaGVpZ2h0LFxuICBpbnZlcnNlRGVjb2RlID0gZmFsc2Vcbn0pIHtcbiAgY29uc3Qgb3BhcXVlID0gX3V0aWwuRmVhdHVyZVRlc3QuaXNMaXR0bGVFbmRpYW4gPyAweGZmMDAwMDAwIDogMHgwMDAwMDBmZjtcbiAgY29uc3QgW3plcm9NYXBwaW5nLCBvbmVNYXBwaW5nXSA9ICFpbnZlcnNlRGVjb2RlID8gW29wYXF1ZSwgMF0gOiBbMCwgb3BhcXVlXTtcbiAgY29uc3Qgd2lkdGhJblNvdXJjZSA9IHdpZHRoID4+IDM7XG4gIGNvbnN0IHdpZHRoUmVtYWluZGVyID0gd2lkdGggJiA3O1xuICBjb25zdCBzcmNMZW5ndGggPSBzcmMubGVuZ3RoO1xuICBkZXN0ID0gbmV3IFVpbnQzMkFycmF5KGRlc3QuYnVmZmVyKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGhlaWdodDsgaSsrKSB7XG4gICAgZm9yIChjb25zdCBtYXggPSBzcmNQb3MgKyB3aWR0aEluU291cmNlOyBzcmNQb3MgPCBtYXg7IHNyY1BvcysrKSB7XG4gICAgICBjb25zdCBlbGVtID0gc3JjUG9zIDwgc3JjTGVuZ3RoID8gc3JjW3NyY1Bvc10gOiAyNTU7XG4gICAgICBkZXN0W2Rlc3RQb3MrK10gPSBlbGVtICYgMGIxMDAwMDAwMCA/IG9uZU1hcHBpbmcgOiB6ZXJvTWFwcGluZztcbiAgICAgIGRlc3RbZGVzdFBvcysrXSA9IGVsZW0gJiAwYjEwMDAwMDAgPyBvbmVNYXBwaW5nIDogemVyb01hcHBpbmc7XG4gICAgICBkZXN0W2Rlc3RQb3MrK10gPSBlbGVtICYgMGIxMDAwMDAgPyBvbmVNYXBwaW5nIDogemVyb01hcHBpbmc7XG4gICAgICBkZXN0W2Rlc3RQb3MrK10gPSBlbGVtICYgMGIxMDAwMCA/IG9uZU1hcHBpbmcgOiB6ZXJvTWFwcGluZztcbiAgICAgIGRlc3RbZGVzdFBvcysrXSA9IGVsZW0gJiAwYjEwMDAgPyBvbmVNYXBwaW5nIDogemVyb01hcHBpbmc7XG4gICAgICBkZXN0W2Rlc3RQb3MrK10gPSBlbGVtICYgMGIxMDAgPyBvbmVNYXBwaW5nIDogemVyb01hcHBpbmc7XG4gICAgICBkZXN0W2Rlc3RQb3MrK10gPSBlbGVtICYgMGIxMCA/IG9uZU1hcHBpbmcgOiB6ZXJvTWFwcGluZztcbiAgICAgIGRlc3RbZGVzdFBvcysrXSA9IGVsZW0gJiAwYjEgPyBvbmVNYXBwaW5nIDogemVyb01hcHBpbmc7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoUmVtYWluZGVyID09PSAwKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtID0gc3JjUG9zIDwgc3JjTGVuZ3RoID8gc3JjW3NyY1BvcysrXSA6IDI1NTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2lkdGhSZW1haW5kZXI7IGorKykge1xuICAgICAgZGVzdFtkZXN0UG9zKytdID0gZWxlbSAmIDEgPDwgNyAtIGogPyBvbmVNYXBwaW5nIDogemVyb01hcHBpbmc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzcmNQb3MsXG4gICAgZGVzdFBvc1xuICB9O1xufVxuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkdsb2JhbFdvcmtlck9wdGlvbnMgPSB2b2lkIDA7XG5jb25zdCBHbG9iYWxXb3JrZXJPcHRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmV4cG9ydHMuR2xvYmFsV29ya2VyT3B0aW9ucyA9IEdsb2JhbFdvcmtlck9wdGlvbnM7XG5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclBvcnQgPSBHbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclBvcnQgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBHbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclBvcnQ7XG5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IEdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID09PSB1bmRlZmluZWQgPyBcIlwiIDogR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJTcmM7XG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuTWVzc2FnZUhhbmRsZXIgPSB2b2lkIDA7XG5cbnZhciBfdXRpbCA9IF9fd19wZGZqc19yZXF1aXJlX18oMSk7XG5cbmNvbnN0IENhbGxiYWNrS2luZCA9IHtcbiAgVU5LTk9XTjogMCxcbiAgREFUQTogMSxcbiAgRVJST1I6IDJcbn07XG5jb25zdCBTdHJlYW1LaW5kID0ge1xuICBVTktOT1dOOiAwLFxuICBDQU5DRUw6IDEsXG4gIENBTkNFTF9DT01QTEVURTogMixcbiAgQ0xPU0U6IDMsXG4gIEVOUVVFVUU6IDQsXG4gIEVSUk9SOiA1LFxuICBQVUxMOiA2LFxuICBQVUxMX0NPTVBMRVRFOiA3LFxuICBTVEFSVF9DT01QTEVURTogOFxufTtcblxuZnVuY3Rpb24gd3JhcFJlYXNvbihyZWFzb24pIHtcbiAgaWYgKCEocmVhc29uIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIHJlYXNvbiA9PT0gXCJvYmplY3RcIiAmJiByZWFzb24gIT09IG51bGwpKSB7XG4gICAgKDAsIF91dGlsLnVucmVhY2hhYmxlKSgnd3JhcFJlYXNvbjogRXhwZWN0ZWQgXCJyZWFzb25cIiB0byBiZSBhIChwb3NzaWJseSBjbG9uZWQpIEVycm9yLicpO1xuICB9XG5cbiAgc3dpdGNoIChyZWFzb24ubmFtZSkge1xuICAgIGNhc2UgXCJBYm9ydEV4Y2VwdGlvblwiOlxuICAgICAgcmV0dXJuIG5ldyBfdXRpbC5BYm9ydEV4Y2VwdGlvbihyZWFzb24ubWVzc2FnZSk7XG5cbiAgICBjYXNlIFwiTWlzc2luZ1BERkV4Y2VwdGlvblwiOlxuICAgICAgcmV0dXJuIG5ldyBfdXRpbC5NaXNzaW5nUERGRXhjZXB0aW9uKHJlYXNvbi5tZXNzYWdlKTtcblxuICAgIGNhc2UgXCJQYXNzd29yZEV4Y2VwdGlvblwiOlxuICAgICAgcmV0dXJuIG5ldyBfdXRpbC5QYXNzd29yZEV4Y2VwdGlvbihyZWFzb24ubWVzc2FnZSwgcmVhc29uLmNvZGUpO1xuXG4gICAgY2FzZSBcIlVuZXhwZWN0ZWRSZXNwb25zZUV4Y2VwdGlvblwiOlxuICAgICAgcmV0dXJuIG5ldyBfdXRpbC5VbmV4cGVjdGVkUmVzcG9uc2VFeGNlcHRpb24ocmVhc29uLm1lc3NhZ2UsIHJlYXNvbi5zdGF0dXMpO1xuXG4gICAgY2FzZSBcIlVua25vd25FcnJvckV4Y2VwdGlvblwiOlxuICAgICAgcmV0dXJuIG5ldyBfdXRpbC5Vbmtub3duRXJyb3JFeGNlcHRpb24ocmVhc29uLm1lc3NhZ2UsIHJlYXNvbi5kZXRhaWxzKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV3IF91dGlsLlVua25vd25FcnJvckV4Y2VwdGlvbihyZWFzb24ubWVzc2FnZSwgcmVhc29uLnRvU3RyaW5nKCkpO1xuICB9XG59XG5cbmNsYXNzIE1lc3NhZ2VIYW5kbGVyIHtcbiAgY29uc3RydWN0b3Ioc291cmNlTmFtZSwgdGFyZ2V0TmFtZSwgY29tT2JqKSB7XG4gICAgdGhpcy5zb3VyY2VOYW1lID0gc291cmNlTmFtZTtcbiAgICB0aGlzLnRhcmdldE5hbWUgPSB0YXJnZXROYW1lO1xuICAgIHRoaXMuY29tT2JqID0gY29tT2JqO1xuICAgIHRoaXMuY2FsbGJhY2tJZCA9IDE7XG4gICAgdGhpcy5zdHJlYW1JZCA9IDE7XG4gICAgdGhpcy5zdHJlYW1TaW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5zdHJlYW1Db250cm9sbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5jYWxsYmFja0NhcGFiaWxpdGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5hY3Rpb25IYW5kbGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIHRoaXMuX29uQ29tT2JqT25NZXNzYWdlID0gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XG5cbiAgICAgIGlmIChkYXRhLnRhcmdldE5hbWUgIT09IHRoaXMuc291cmNlTmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLnN0cmVhbSkge1xuICAgICAgICB0aGlzLl9wcm9jZXNzU3RyZWFtTWVzc2FnZShkYXRhKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLmNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrSWQgPSBkYXRhLmNhbGxiYWNrSWQ7XG4gICAgICAgIGNvbnN0IGNhcGFiaWxpdHkgPSB0aGlzLmNhbGxiYWNrQ2FwYWJpbGl0aWVzW2NhbGxiYWNrSWRdO1xuXG4gICAgICAgIGlmICghY2FwYWJpbGl0eSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlc29sdmUgY2FsbGJhY2sgJHtjYWxsYmFja0lkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuY2FsbGJhY2tDYXBhYmlsaXRpZXNbY2FsbGJhY2tJZF07XG5cbiAgICAgICAgaWYgKGRhdGEuY2FsbGJhY2sgPT09IENhbGxiYWNrS2luZC5EQVRBKSB7XG4gICAgICAgICAgY2FwYWJpbGl0eS5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jYWxsYmFjayA9PT0gQ2FsbGJhY2tLaW5kLkVSUk9SKSB7XG4gICAgICAgICAgY2FwYWJpbGl0eS5yZWplY3Qod3JhcFJlYXNvbihkYXRhLnJlYXNvbikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgY2FsbGJhY2sgY2FzZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5hY3Rpb25IYW5kbGVyW2RhdGEuYWN0aW9uXTtcblxuICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGFjdGlvbiBmcm9tIHdvcmtlcjogJHtkYXRhLmFjdGlvbn1gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEuY2FsbGJhY2tJZCkge1xuICAgICAgICBjb25zdCBjYlNvdXJjZU5hbWUgPSB0aGlzLnNvdXJjZU5hbWU7XG4gICAgICAgIGNvbnN0IGNiVGFyZ2V0TmFtZSA9IGRhdGEuc291cmNlTmFtZTtcbiAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZXNvbHZlKGFjdGlvbihkYXRhLmRhdGEpKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgY29tT2JqLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZU5hbWU6IGNiU291cmNlTmFtZSxcbiAgICAgICAgICAgIHRhcmdldE5hbWU6IGNiVGFyZ2V0TmFtZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBDYWxsYmFja0tpbmQuREFUQSxcbiAgICAgICAgICAgIGNhbGxiYWNrSWQ6IGRhdGEuY2FsbGJhY2tJZCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgY29tT2JqLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZU5hbWU6IGNiU291cmNlTmFtZSxcbiAgICAgICAgICAgIHRhcmdldE5hbWU6IGNiVGFyZ2V0TmFtZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBDYWxsYmFja0tpbmQuRVJST1IsXG4gICAgICAgICAgICBjYWxsYmFja0lkOiBkYXRhLmNhbGxiYWNrSWQsXG4gICAgICAgICAgICByZWFzb246IHdyYXBSZWFzb24ocmVhc29uKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5zdHJlYW1JZCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdHJlYW1TaW5rKGRhdGEpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYWN0aW9uKGRhdGEuZGF0YSk7XG4gICAgfTtcblxuICAgIGNvbU9iai5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLl9vbkNvbU9iak9uTWVzc2FnZSk7XG4gIH1cblxuICBvbihhY3Rpb25OYW1lLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgYWggPSB0aGlzLmFjdGlvbkhhbmRsZXI7XG5cbiAgICBpZiAoYWhbYWN0aW9uTmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgYWxyZWFkeSBhbiBhY3Rpb25OYW1lIGNhbGxlZCBcIiR7YWN0aW9uTmFtZX1cImApO1xuICAgIH1cblxuICAgIGFoW2FjdGlvbk5hbWVdID0gaGFuZGxlcjtcbiAgfVxuXG4gIHNlbmQoYWN0aW9uTmFtZSwgZGF0YSwgdHJhbnNmZXJzKSB7XG4gICAgdGhpcy5jb21PYmoucG9zdE1lc3NhZ2Uoe1xuICAgICAgc291cmNlTmFtZTogdGhpcy5zb3VyY2VOYW1lLFxuICAgICAgdGFyZ2V0TmFtZTogdGhpcy50YXJnZXROYW1lLFxuICAgICAgYWN0aW9uOiBhY3Rpb25OYW1lLFxuICAgICAgZGF0YVxuICAgIH0sIHRyYW5zZmVycyk7XG4gIH1cblxuICBzZW5kV2l0aFByb21pc2UoYWN0aW9uTmFtZSwgZGF0YSwgdHJhbnNmZXJzKSB7XG4gICAgY29uc3QgY2FsbGJhY2tJZCA9IHRoaXMuY2FsbGJhY2tJZCsrO1xuICAgIGNvbnN0IGNhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgdGhpcy5jYWxsYmFja0NhcGFiaWxpdGllc1tjYWxsYmFja0lkXSA9IGNhcGFiaWxpdHk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5jb21PYmoucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBzb3VyY2VOYW1lOiB0aGlzLnNvdXJjZU5hbWUsXG4gICAgICAgIHRhcmdldE5hbWU6IHRoaXMudGFyZ2V0TmFtZSxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb25OYW1lLFxuICAgICAgICBjYWxsYmFja0lkLFxuICAgICAgICBkYXRhXG4gICAgICB9LCB0cmFuc2ZlcnMpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBjYXBhYmlsaXR5LnJlamVjdChleCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxuXG4gIHNlbmRXaXRoU3RyZWFtKGFjdGlvbk5hbWUsIGRhdGEsIHF1ZXVlaW5nU3RyYXRlZ3ksIHRyYW5zZmVycykge1xuICAgIGNvbnN0IHN0cmVhbUlkID0gdGhpcy5zdHJlYW1JZCsrLFxuICAgICAgICAgIHNvdXJjZU5hbWUgPSB0aGlzLnNvdXJjZU5hbWUsXG4gICAgICAgICAgdGFyZ2V0TmFtZSA9IHRoaXMudGFyZ2V0TmFtZSxcbiAgICAgICAgICBjb21PYmogPSB0aGlzLmNvbU9iajtcbiAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIHN0YXJ0OiBjb250cm9sbGVyID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnRDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuICAgICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXJzW3N0cmVhbUlkXSA9IHtcbiAgICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICAgIHN0YXJ0Q2FsbDogc3RhcnRDYXBhYmlsaXR5LFxuICAgICAgICAgIHB1bGxDYWxsOiBudWxsLFxuICAgICAgICAgIGNhbmNlbENhbGw6IG51bGwsXG4gICAgICAgICAgaXNDbG9zZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgc291cmNlTmFtZSxcbiAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgIGFjdGlvbjogYWN0aW9uTmFtZSxcbiAgICAgICAgICBzdHJlYW1JZCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGRlc2lyZWRTaXplOiBjb250cm9sbGVyLmRlc2lyZWRTaXplXG4gICAgICAgIH0sIHRyYW5zZmVycyk7XG4gICAgICAgIHJldHVybiBzdGFydENhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgIH0sXG4gICAgICBwdWxsOiBjb250cm9sbGVyID0+IHtcbiAgICAgICAgY29uc3QgcHVsbENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlcnNbc3RyZWFtSWRdLnB1bGxDYWxsID0gcHVsbENhcGFiaWxpdHk7XG4gICAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgc291cmNlTmFtZSxcbiAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5QVUxMLFxuICAgICAgICAgIHN0cmVhbUlkLFxuICAgICAgICAgIGRlc2lyZWRTaXplOiBjb250cm9sbGVyLmRlc2lyZWRTaXplXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHVsbENhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IHJlYXNvbiA9PiB7XG4gICAgICAgICgwLCBfdXRpbC5hc3NlcnQpKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yLCBcImNhbmNlbCBtdXN0IGhhdmUgYSB2YWxpZCByZWFzb25cIik7XG4gICAgICAgIGNvbnN0IGNhbmNlbENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlcnNbc3RyZWFtSWRdLmNhbmNlbENhbGwgPSBjYW5jZWxDYXBhYmlsaXR5O1xuICAgICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXJzW3N0cmVhbUlkXS5pc0Nsb3NlZCA9IHRydWU7XG4gICAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgc291cmNlTmFtZSxcbiAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5DQU5DRUwsXG4gICAgICAgICAgc3RyZWFtSWQsXG4gICAgICAgICAgcmVhc29uOiB3cmFwUmVhc29uKHJlYXNvbilcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYW5jZWxDYXBhYmlsaXR5LnByb21pc2U7XG4gICAgICB9XG4gICAgfSwgcXVldWVpbmdTdHJhdGVneSk7XG4gIH1cblxuICBfY3JlYXRlU3RyZWFtU2luayhkYXRhKSB7XG4gICAgY29uc3Qgc3RyZWFtSWQgPSBkYXRhLnN0cmVhbUlkLFxuICAgICAgICAgIHNvdXJjZU5hbWUgPSB0aGlzLnNvdXJjZU5hbWUsXG4gICAgICAgICAgdGFyZ2V0TmFtZSA9IGRhdGEuc291cmNlTmFtZSxcbiAgICAgICAgICBjb21PYmogPSB0aGlzLmNvbU9iajtcbiAgICBjb25zdCBzZWxmID0gdGhpcyxcbiAgICAgICAgICBhY3Rpb24gPSB0aGlzLmFjdGlvbkhhbmRsZXJbZGF0YS5hY3Rpb25dO1xuICAgIGNvbnN0IHN0cmVhbVNpbmsgPSB7XG4gICAgICBlbnF1ZXVlKGNodW5rLCBzaXplID0gMSwgdHJhbnNmZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdERlc2lyZWRTaXplID0gdGhpcy5kZXNpcmVkU2l6ZTtcbiAgICAgICAgdGhpcy5kZXNpcmVkU2l6ZSAtPSBzaXplO1xuXG4gICAgICAgIGlmIChsYXN0RGVzaXJlZFNpemUgPiAwICYmIHRoaXMuZGVzaXJlZFNpemUgPD0gMCkge1xuICAgICAgICAgIHRoaXMuc2lua0NhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgICAgICAgdGhpcy5yZWFkeSA9IHRoaXMuc2lua0NhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgc291cmNlTmFtZSxcbiAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5FTlFVRVVFLFxuICAgICAgICAgIHN0cmVhbUlkLFxuICAgICAgICAgIGNodW5rXG4gICAgICAgIH0sIHRyYW5zZmVycyk7XG4gICAgICB9LFxuXG4gICAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgY29tT2JqLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBzb3VyY2VOYW1lLFxuICAgICAgICAgIHRhcmdldE5hbWUsXG4gICAgICAgICAgc3RyZWFtOiBTdHJlYW1LaW5kLkNMT1NFLFxuICAgICAgICAgIHN0cmVhbUlkXG4gICAgICAgIH0pO1xuICAgICAgICBkZWxldGUgc2VsZi5zdHJlYW1TaW5rc1tzdHJlYW1JZF07XG4gICAgICB9LFxuXG4gICAgICBlcnJvcihyZWFzb24pIHtcbiAgICAgICAgKDAsIF91dGlsLmFzc2VydCkocmVhc29uIGluc3RhbmNlb2YgRXJyb3IsIFwiZXJyb3IgbXVzdCBoYXZlIGEgdmFsaWQgcmVhc29uXCIpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgc291cmNlTmFtZSxcbiAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5FUlJPUixcbiAgICAgICAgICBzdHJlYW1JZCxcbiAgICAgICAgICByZWFzb246IHdyYXBSZWFzb24ocmVhc29uKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIHNpbmtDYXBhYmlsaXR5OiAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCksXG4gICAgICBvblB1bGw6IG51bGwsXG4gICAgICBvbkNhbmNlbDogbnVsbCxcbiAgICAgIGlzQ2FuY2VsbGVkOiBmYWxzZSxcbiAgICAgIGRlc2lyZWRTaXplOiBkYXRhLmRlc2lyZWRTaXplLFxuICAgICAgcmVhZHk6IG51bGxcbiAgICB9O1xuICAgIHN0cmVhbVNpbmsuc2lua0NhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICAgIHN0cmVhbVNpbmsucmVhZHkgPSBzdHJlYW1TaW5rLnNpbmtDYXBhYmlsaXR5LnByb21pc2U7XG4gICAgdGhpcy5zdHJlYW1TaW5rc1tzdHJlYW1JZF0gPSBzdHJlYW1TaW5rO1xuICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKGFjdGlvbihkYXRhLmRhdGEsIHN0cmVhbVNpbmspKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHNvdXJjZU5hbWUsXG4gICAgICAgIHRhcmdldE5hbWUsXG4gICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5TVEFSVF9DT01QTEVURSxcbiAgICAgICAgc3RyZWFtSWQsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHNvdXJjZU5hbWUsXG4gICAgICAgIHRhcmdldE5hbWUsXG4gICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5TVEFSVF9DT01QTEVURSxcbiAgICAgICAgc3RyZWFtSWQsXG4gICAgICAgIHJlYXNvbjogd3JhcFJlYXNvbihyZWFzb24pXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9wcm9jZXNzU3RyZWFtTWVzc2FnZShkYXRhKSB7XG4gICAgY29uc3Qgc3RyZWFtSWQgPSBkYXRhLnN0cmVhbUlkLFxuICAgICAgICAgIHNvdXJjZU5hbWUgPSB0aGlzLnNvdXJjZU5hbWUsXG4gICAgICAgICAgdGFyZ2V0TmFtZSA9IGRhdGEuc291cmNlTmFtZSxcbiAgICAgICAgICBjb21PYmogPSB0aGlzLmNvbU9iajtcbiAgICBjb25zdCBzdHJlYW1Db250cm9sbGVyID0gdGhpcy5zdHJlYW1Db250cm9sbGVyc1tzdHJlYW1JZF0sXG4gICAgICAgICAgc3RyZWFtU2luayA9IHRoaXMuc3RyZWFtU2lua3Nbc3RyZWFtSWRdO1xuXG4gICAgc3dpdGNoIChkYXRhLnN0cmVhbSkge1xuICAgICAgY2FzZSBTdHJlYW1LaW5kLlNUQVJUX0NPTVBMRVRFOlxuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgc3RyZWFtQ29udHJvbGxlci5zdGFydENhbGwucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0cmVhbUNvbnRyb2xsZXIuc3RhcnRDYWxsLnJlamVjdCh3cmFwUmVhc29uKGRhdGEucmVhc29uKSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdHJlYW1LaW5kLlBVTExfQ09NUExFVEU6XG4gICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzdHJlYW1Db250cm9sbGVyLnB1bGxDYWxsLnJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHJlYW1Db250cm9sbGVyLnB1bGxDYWxsLnJlamVjdCh3cmFwUmVhc29uKGRhdGEucmVhc29uKSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdHJlYW1LaW5kLlBVTEw6XG4gICAgICAgIGlmICghc3RyZWFtU2luaykge1xuICAgICAgICAgIGNvbU9iai5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBzb3VyY2VOYW1lLFxuICAgICAgICAgICAgdGFyZ2V0TmFtZSxcbiAgICAgICAgICAgIHN0cmVhbTogU3RyZWFtS2luZC5QVUxMX0NPTVBMRVRFLFxuICAgICAgICAgICAgc3RyZWFtSWQsXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyZWFtU2luay5kZXNpcmVkU2l6ZSA8PSAwICYmIGRhdGEuZGVzaXJlZFNpemUgPiAwKSB7XG4gICAgICAgICAgc3RyZWFtU2luay5zaW5rQ2FwYWJpbGl0eS5yZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHJlYW1TaW5rLmRlc2lyZWRTaXplID0gZGF0YS5kZXNpcmVkU2l6ZTtcbiAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZXNvbHZlKHN0cmVhbVNpbmsub25QdWxsICYmIHN0cmVhbVNpbmsub25QdWxsKCkpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb21PYmoucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgc291cmNlTmFtZSxcbiAgICAgICAgICAgIHRhcmdldE5hbWUsXG4gICAgICAgICAgICBzdHJlYW06IFN0cmVhbUtpbmQuUFVMTF9DT01QTEVURSxcbiAgICAgICAgICAgIHN0cmVhbUlkLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgY29tT2JqLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZU5hbWUsXG4gICAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgICAgc3RyZWFtOiBTdHJlYW1LaW5kLlBVTExfQ09NUExFVEUsXG4gICAgICAgICAgICBzdHJlYW1JZCxcbiAgICAgICAgICAgIHJlYXNvbjogd3JhcFJlYXNvbihyZWFzb24pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdHJlYW1LaW5kLkVOUVVFVUU6XG4gICAgICAgICgwLCBfdXRpbC5hc3NlcnQpKHN0cmVhbUNvbnRyb2xsZXIsIFwiZW5xdWV1ZSBzaG91bGQgaGF2ZSBzdHJlYW0gY29udHJvbGxlclwiKTtcblxuICAgICAgICBpZiAoc3RyZWFtQ29udHJvbGxlci5pc0Nsb3NlZCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyZWFtQ29udHJvbGxlci5jb250cm9sbGVyLmVucXVldWUoZGF0YS5jaHVuayk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFN0cmVhbUtpbmQuQ0xPU0U6XG4gICAgICAgICgwLCBfdXRpbC5hc3NlcnQpKHN0cmVhbUNvbnRyb2xsZXIsIFwiY2xvc2Ugc2hvdWxkIGhhdmUgc3RyZWFtIGNvbnRyb2xsZXJcIik7XG5cbiAgICAgICAgaWYgKHN0cmVhbUNvbnRyb2xsZXIuaXNDbG9zZWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmVhbUNvbnRyb2xsZXIuaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgICBzdHJlYW1Db250cm9sbGVyLmNvbnRyb2xsZXIuY2xvc2UoKTtcblxuICAgICAgICB0aGlzLl9kZWxldGVTdHJlYW1Db250cm9sbGVyKHN0cmVhbUNvbnRyb2xsZXIsIHN0cmVhbUlkKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTdHJlYW1LaW5kLkVSUk9SOlxuICAgICAgICAoMCwgX3V0aWwuYXNzZXJ0KShzdHJlYW1Db250cm9sbGVyLCBcImVycm9yIHNob3VsZCBoYXZlIHN0cmVhbSBjb250cm9sbGVyXCIpO1xuICAgICAgICBzdHJlYW1Db250cm9sbGVyLmNvbnRyb2xsZXIuZXJyb3Iod3JhcFJlYXNvbihkYXRhLnJlYXNvbikpO1xuXG4gICAgICAgIHRoaXMuX2RlbGV0ZVN0cmVhbUNvbnRyb2xsZXIoc3RyZWFtQ29udHJvbGxlciwgc3RyZWFtSWQpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFN0cmVhbUtpbmQuQ0FOQ0VMX0NPTVBMRVRFOlxuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgc3RyZWFtQ29udHJvbGxlci5jYW5jZWxDYWxsLnJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHJlYW1Db250cm9sbGVyLmNhbmNlbENhbGwucmVqZWN0KHdyYXBSZWFzb24oZGF0YS5yZWFzb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbGV0ZVN0cmVhbUNvbnRyb2xsZXIoc3RyZWFtQ29udHJvbGxlciwgc3RyZWFtSWQpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFN0cmVhbUtpbmQuQ0FOQ0VMOlxuICAgICAgICBpZiAoIXN0cmVhbVNpbmspIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVzb2x2ZShzdHJlYW1TaW5rLm9uQ2FuY2VsICYmIHN0cmVhbVNpbmsub25DYW5jZWwod3JhcFJlYXNvbihkYXRhLnJlYXNvbikpKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29tT2JqLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZU5hbWUsXG4gICAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgICAgc3RyZWFtOiBTdHJlYW1LaW5kLkNBTkNFTF9DT01QTEVURSxcbiAgICAgICAgICAgIHN0cmVhbUlkLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgY29tT2JqLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZU5hbWUsXG4gICAgICAgICAgICB0YXJnZXROYW1lLFxuICAgICAgICAgICAgc3RyZWFtOiBTdHJlYW1LaW5kLkNBTkNFTF9DT01QTEVURSxcbiAgICAgICAgICAgIHN0cmVhbUlkLFxuICAgICAgICAgICAgcmVhc29uOiB3cmFwUmVhc29uKHJlYXNvbilcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0cmVhbVNpbmsuc2lua0NhcGFiaWxpdHkucmVqZWN0KHdyYXBSZWFzb24oZGF0YS5yZWFzb24pKTtcbiAgICAgICAgc3RyZWFtU2luay5pc0NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0cmVhbVNpbmtzW3N0cmVhbUlkXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgc3RyZWFtIGNhc2VcIik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX2RlbGV0ZVN0cmVhbUNvbnRyb2xsZXIoc3RyZWFtQ29udHJvbGxlciwgc3RyZWFtSWQpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW3N0cmVhbUNvbnRyb2xsZXIuc3RhcnRDYWxsICYmIHN0cmVhbUNvbnRyb2xsZXIuc3RhcnRDYWxsLnByb21pc2UsIHN0cmVhbUNvbnRyb2xsZXIucHVsbENhbGwgJiYgc3RyZWFtQ29udHJvbGxlci5wdWxsQ2FsbC5wcm9taXNlLCBzdHJlYW1Db250cm9sbGVyLmNhbmNlbENhbGwgJiYgc3RyZWFtQ29udHJvbGxlci5jYW5jZWxDYWxsLnByb21pc2VdKTtcbiAgICBkZWxldGUgdGhpcy5zdHJlYW1Db250cm9sbGVyc1tzdHJlYW1JZF07XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY29tT2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuX29uQ29tT2JqT25NZXNzYWdlKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuTWVzc2FnZUhhbmRsZXIgPSBNZXNzYWdlSGFuZGxlcjtcblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193X3BkZmpzX3JlcXVpcmVfXykgPT4ge1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5NZXRhZGF0YSA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxuY2xhc3MgTWV0YWRhdGEge1xuICAjbWV0YWRhdGFNYXA7XG4gICNkYXRhO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwYXJzZWREYXRhLFxuICAgIHJhd0RhdGFcbiAgfSkge1xuICAgIHRoaXMuI21ldGFkYXRhTWFwID0gcGFyc2VkRGF0YTtcbiAgICB0aGlzLiNkYXRhID0gcmF3RGF0YTtcbiAgfVxuXG4gIGdldFJhdygpIHtcbiAgICByZXR1cm4gdGhpcy4jZGF0YTtcbiAgfVxuXG4gIGdldChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuI21ldGFkYXRhTWFwLmdldChuYW1lKSA/PyBudWxsO1xuICB9XG5cbiAgZ2V0QWxsKCkge1xuICAgIHJldHVybiAoMCwgX3V0aWwub2JqZWN0RnJvbU1hcCkodGhpcy4jbWV0YWRhdGFNYXApO1xuICB9XG5cbiAgaGFzKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy4jbWV0YWRhdGFNYXAuaGFzKG5hbWUpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5NZXRhZGF0YSA9IE1ldGFkYXRhO1xuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLk9wdGlvbmFsQ29udGVudENvbmZpZyA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxuY2xhc3MgT3B0aW9uYWxDb250ZW50R3JvdXAge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBpbnRlbnQpIHtcbiAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pbnRlbnQgPSBpbnRlbnQ7XG4gIH1cblxufVxuXG5jbGFzcyBPcHRpb25hbENvbnRlbnRDb25maWcge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5uYW1lID0gbnVsbDtcbiAgICB0aGlzLmNyZWF0b3IgPSBudWxsO1xuICAgIHRoaXMuX29yZGVyID0gbnVsbDtcbiAgICB0aGlzLl9ncm91cHMgPSBuZXcgTWFwKCk7XG5cbiAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLmNyZWF0b3IgPSBkYXRhLmNyZWF0b3I7XG4gICAgdGhpcy5fb3JkZXIgPSBkYXRhLm9yZGVyO1xuXG4gICAgZm9yIChjb25zdCBncm91cCBvZiBkYXRhLmdyb3Vwcykge1xuICAgICAgdGhpcy5fZ3JvdXBzLnNldChncm91cC5pZCwgbmV3IE9wdGlvbmFsQ29udGVudEdyb3VwKGdyb3VwLm5hbWUsIGdyb3VwLmludGVudCkpO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmJhc2VTdGF0ZSA9PT0gXCJPRkZcIikge1xuICAgICAgZm9yIChjb25zdCBncm91cCBvZiB0aGlzLl9ncm91cHMpIHtcbiAgICAgICAgZ3JvdXAudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qgb24gb2YgZGF0YS5vbikge1xuICAgICAgdGhpcy5fZ3JvdXBzLmdldChvbikudmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBvZmYgb2YgZGF0YS5vZmYpIHtcbiAgICAgIHRoaXMuX2dyb3Vwcy5nZXQob2ZmKS52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2V2YWx1YXRlVmlzaWJpbGl0eUV4cHJlc3Npb24oYXJyYXkpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgb3BlcmF0b3IgPSBhcnJheVswXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICAgIGxldCBzdGF0ZTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgICAgc3RhdGUgPSB0aGlzLl9ldmFsdWF0ZVZpc2liaWxpdHlFeHByZXNzaW9uKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ncm91cHMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgIHN0YXRlID0gdGhpcy5fZ3JvdXBzLmdldChlbGVtZW50KS52aXNpYmxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF91dGlsLndhcm4pKGBPcHRpb25hbCBjb250ZW50IGdyb3VwIG5vdCBmb3VuZDogJHtlbGVtZW50fWApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChvcGVyYXRvcikge1xuICAgICAgICBjYXNlIFwiQW5kXCI6XG4gICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJPclwiOlxuICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIk5vdFwiOlxuICAgICAgICAgIHJldHVybiAhc3RhdGU7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3BlcmF0b3IgPT09IFwiQW5kXCI7XG4gIH1cblxuICBpc1Zpc2libGUoZ3JvdXApIHtcbiAgICBpZiAodGhpcy5fZ3JvdXBzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICghZ3JvdXApIHtcbiAgICAgICgwLCBfdXRpbC53YXJuKShcIk9wdGlvbmFsIGNvbnRlbnQgZ3JvdXAgbm90IGRlZmluZWQuXCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGdyb3VwLnR5cGUgPT09IFwiT0NHXCIpIHtcbiAgICAgIGlmICghdGhpcy5fZ3JvdXBzLmhhcyhncm91cC5pZCkpIHtcbiAgICAgICAgKDAsIF91dGlsLndhcm4pKGBPcHRpb25hbCBjb250ZW50IGdyb3VwIG5vdCBmb3VuZDogJHtncm91cC5pZH1gKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9ncm91cHMuZ2V0KGdyb3VwLmlkKS52aXNpYmxlO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXAudHlwZSA9PT0gXCJPQ01EXCIpIHtcbiAgICAgIGlmIChncm91cC5leHByZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ldmFsdWF0ZVZpc2liaWxpdHlFeHByZXNzaW9uKGdyb3VwLmV4cHJlc3Npb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWdyb3VwLnBvbGljeSB8fCBncm91cC5wb2xpY3kgPT09IFwiQW55T25cIikge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGdyb3VwLmlkcykge1xuICAgICAgICAgIGlmICghdGhpcy5fZ3JvdXBzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICgwLCBfdXRpbC53YXJuKShgT3B0aW9uYWwgY29udGVudCBncm91cCBub3QgZm91bmQ6ICR7aWR9YCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5fZ3JvdXBzLmdldChpZCkudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChncm91cC5wb2xpY3kgPT09IFwiQWxsT25cIikge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGdyb3VwLmlkcykge1xuICAgICAgICAgIGlmICghdGhpcy5fZ3JvdXBzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICgwLCBfdXRpbC53YXJuKShgT3B0aW9uYWwgY29udGVudCBncm91cCBub3QgZm91bmQ6ICR7aWR9YCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRoaXMuX2dyb3Vwcy5nZXQoaWQpLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZ3JvdXAucG9saWN5ID09PSBcIkFueU9mZlwiKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ3JvdXAuaWRzKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9ncm91cHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgKDAsIF91dGlsLndhcm4pKGBPcHRpb25hbCBjb250ZW50IGdyb3VwIG5vdCBmb3VuZDogJHtpZH1gKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdGhpcy5fZ3JvdXBzLmdldChpZCkudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChncm91cC5wb2xpY3kgPT09IFwiQWxsT2ZmXCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBncm91cC5pZHMpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuX2dyb3Vwcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAoMCwgX3V0aWwud2FybikoYE9wdGlvbmFsIGNvbnRlbnQgZ3JvdXAgbm90IGZvdW5kOiAke2lkfWApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuX2dyb3Vwcy5nZXQoaWQpLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgKDAsIF91dGlsLndhcm4pKGBVbmtub3duIG9wdGlvbmFsIGNvbnRlbnQgcG9saWN5ICR7Z3JvdXAucG9saWN5fS5gKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgICgwLCBfdXRpbC53YXJuKShgVW5rbm93biBncm91cCB0eXBlICR7Z3JvdXAudHlwZX0uYCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZXRWaXNpYmlsaXR5KGlkLCB2aXNpYmxlID0gdHJ1ZSkge1xuICAgIGlmICghdGhpcy5fZ3JvdXBzLmhhcyhpZCkpIHtcbiAgICAgICgwLCBfdXRpbC53YXJuKShgT3B0aW9uYWwgY29udGVudCBncm91cCBub3QgZm91bmQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZ3JvdXBzLmdldChpZCkudmlzaWJsZSA9ICEhdmlzaWJsZTtcbiAgfVxuXG4gIGdldE9yZGVyKCkge1xuICAgIGlmICghdGhpcy5fZ3JvdXBzLnNpemUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vcmRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX29yZGVyLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZ3JvdXBzLmtleXMoKSk7XG4gIH1cblxuICBnZXRHcm91cHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dyb3Vwcy5zaXplID4gMCA/ICgwLCBfdXRpbC5vYmplY3RGcm9tTWFwKSh0aGlzLl9ncm91cHMpIDogbnVsbDtcbiAgfVxuXG4gIGdldEdyb3VwKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dyb3Vwcy5nZXQoaWQpIHx8IG51bGw7XG4gIH1cblxufVxuXG5leHBvcnRzLk9wdGlvbmFsQ29udGVudENvbmZpZyA9IE9wdGlvbmFsQ29udGVudENvbmZpZztcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193X3BkZmpzX3JlcXVpcmVfXykgPT4ge1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5QREZEYXRhVHJhbnNwb3J0U3RyZWFtID0gdm9pZCAwO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2Rpc3BsYXlfdXRpbHMgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDUpO1xuXG5jbGFzcyBQREZEYXRhVHJhbnNwb3J0U3RyZWFtIHtcbiAgY29uc3RydWN0b3IocGFyYW1zLCBwZGZEYXRhUmFuZ2VUcmFuc3BvcnQpIHtcbiAgICAoMCwgX3V0aWwuYXNzZXJ0KShwZGZEYXRhUmFuZ2VUcmFuc3BvcnQsICdQREZEYXRhVHJhbnNwb3J0U3RyZWFtIC0gbWlzc2luZyByZXF1aXJlZCBcInBkZkRhdGFSYW5nZVRyYW5zcG9ydFwiIGFyZ3VtZW50LicpO1xuICAgIHRoaXMuX3F1ZXVlZENodW5rcyA9IFtdO1xuICAgIHRoaXMuX3Byb2dyZXNzaXZlRG9uZSA9IHBhcmFtcy5wcm9ncmVzc2l2ZURvbmUgfHwgZmFsc2U7XG4gICAgdGhpcy5fY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWUgPSBwYXJhbXMuY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWUgfHwgbnVsbDtcbiAgICBjb25zdCBpbml0aWFsRGF0YSA9IHBhcmFtcy5pbml0aWFsRGF0YTtcblxuICAgIGlmIChpbml0aWFsRGF0YT8ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoaW5pdGlhbERhdGEpLmJ1ZmZlcjtcblxuICAgICAgdGhpcy5fcXVldWVkQ2h1bmtzLnB1c2goYnVmZmVyKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wZGZEYXRhUmFuZ2VUcmFuc3BvcnQgPSBwZGZEYXRhUmFuZ2VUcmFuc3BvcnQ7XG4gICAgdGhpcy5faXNTdHJlYW1pbmdTdXBwb3J0ZWQgPSAhcGFyYW1zLmRpc2FibGVTdHJlYW07XG4gICAgdGhpcy5faXNSYW5nZVN1cHBvcnRlZCA9ICFwYXJhbXMuZGlzYWJsZVJhbmdlO1xuICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBwYXJhbXMubGVuZ3RoO1xuICAgIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyID0gbnVsbDtcbiAgICB0aGlzLl9yYW5nZVJlYWRlcnMgPSBbXTtcblxuICAgIHRoaXMuX3BkZkRhdGFSYW5nZVRyYW5zcG9ydC5hZGRSYW5nZUxpc3RlbmVyKChiZWdpbiwgY2h1bmspID0+IHtcbiAgICAgIHRoaXMuX29uUmVjZWl2ZURhdGEoe1xuICAgICAgICBiZWdpbixcbiAgICAgICAgY2h1bmtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcGRmRGF0YVJhbmdlVHJhbnNwb3J0LmFkZFByb2dyZXNzTGlzdGVuZXIoKGxvYWRlZCwgdG90YWwpID0+IHtcbiAgICAgIHRoaXMuX29uUHJvZ3Jlc3Moe1xuICAgICAgICBsb2FkZWQsXG4gICAgICAgIHRvdGFsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3BkZkRhdGFSYW5nZVRyYW5zcG9ydC5hZGRQcm9ncmVzc2l2ZVJlYWRMaXN0ZW5lcihjaHVuayA9PiB7XG4gICAgICB0aGlzLl9vblJlY2VpdmVEYXRhKHtcbiAgICAgICAgY2h1bmtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcGRmRGF0YVJhbmdlVHJhbnNwb3J0LmFkZFByb2dyZXNzaXZlRG9uZUxpc3RlbmVyKCgpID0+IHtcbiAgICAgIHRoaXMuX29uUHJvZ3Jlc3NpdmVEb25lKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9wZGZEYXRhUmFuZ2VUcmFuc3BvcnQudHJhbnNwb3J0UmVhZHkoKTtcbiAgfVxuXG4gIF9vblJlY2VpdmVEYXRhKGFyZ3MpIHtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShhcmdzLmNodW5rKS5idWZmZXI7XG5cbiAgICBpZiAoYXJncy5iZWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIpIHtcbiAgICAgICAgdGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIuX2VucXVldWUoYnVmZmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlZENodW5rcy5wdXNoKGJ1ZmZlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5fcmFuZ2VSZWFkZXJzLnNvbWUoZnVuY3Rpb24gKHJhbmdlUmVhZGVyKSB7XG4gICAgICAgIGlmIChyYW5nZVJlYWRlci5fYmVnaW4gIT09IGFyZ3MuYmVnaW4pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZVJlYWRlci5fZW5xdWV1ZShidWZmZXIpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgICgwLCBfdXRpbC5hc3NlcnQpKGZvdW5kLCBcIl9vblJlY2VpdmVEYXRhIC0gbm8gYFBERkRhdGFUcmFuc3BvcnRTdHJlYW1SYW5nZVJlYWRlcmAgaW5zdGFuY2UgZm91bmQuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBfcHJvZ3Jlc3NpdmVEYXRhTGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlcj8uX2xvYWRlZCA/PyAwO1xuICB9XG5cbiAgX29uUHJvZ3Jlc3MoZXZ0KSB7XG4gICAgaWYgKGV2dC50b3RhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBmaXJzdFJlYWRlciA9IHRoaXMuX3JhbmdlUmVhZGVyc1swXTtcblxuICAgICAgaWYgKGZpcnN0UmVhZGVyPy5vblByb2dyZXNzKSB7XG4gICAgICAgIGZpcnN0UmVhZGVyLm9uUHJvZ3Jlc3Moe1xuICAgICAgICAgIGxvYWRlZDogZXZ0LmxvYWRlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZnVsbFJlYWRlciA9IHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyO1xuXG4gICAgICBpZiAoZnVsbFJlYWRlcj8ub25Qcm9ncmVzcykge1xuICAgICAgICBmdWxsUmVhZGVyLm9uUHJvZ3Jlc3Moe1xuICAgICAgICAgIGxvYWRlZDogZXZ0LmxvYWRlZCxcbiAgICAgICAgICB0b3RhbDogZXZ0LnRvdGFsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vblByb2dyZXNzaXZlRG9uZSgpIHtcbiAgICBpZiAodGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIpIHtcbiAgICAgIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyLnByb2dyZXNzaXZlRG9uZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3Byb2dyZXNzaXZlRG9uZSA9IHRydWU7XG4gIH1cblxuICBfcmVtb3ZlUmFuZ2VSZWFkZXIocmVhZGVyKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuX3JhbmdlUmVhZGVycy5pbmRleE9mKHJlYWRlcik7XG5cbiAgICBpZiAoaSA+PSAwKSB7XG4gICAgICB0aGlzLl9yYW5nZVJlYWRlcnMuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGdldEZ1bGxSZWFkZXIoKSB7XG4gICAgKDAsIF91dGlsLmFzc2VydCkoIXRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyLCBcIlBERkRhdGFUcmFuc3BvcnRTdHJlYW0uZ2V0RnVsbFJlYWRlciBjYW4gb25seSBiZSBjYWxsZWQgb25jZS5cIik7XG4gICAgY29uc3QgcXVldWVkQ2h1bmtzID0gdGhpcy5fcXVldWVkQ2h1bmtzO1xuICAgIHRoaXMuX3F1ZXVlZENodW5rcyA9IG51bGw7XG4gICAgcmV0dXJuIG5ldyBQREZEYXRhVHJhbnNwb3J0U3RyZWFtUmVhZGVyKHRoaXMsIHF1ZXVlZENodW5rcywgdGhpcy5fcHJvZ3Jlc3NpdmVEb25lLCB0aGlzLl9jb250ZW50RGlzcG9zaXRpb25GaWxlbmFtZSk7XG4gIH1cblxuICBnZXRSYW5nZVJlYWRlcihiZWdpbiwgZW5kKSB7XG4gICAgaWYgKGVuZCA8PSB0aGlzLl9wcm9ncmVzc2l2ZURhdGFMZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBQREZEYXRhVHJhbnNwb3J0U3RyZWFtUmFuZ2VSZWFkZXIodGhpcywgYmVnaW4sIGVuZCk7XG5cbiAgICB0aGlzLl9wZGZEYXRhUmFuZ2VUcmFuc3BvcnQucmVxdWVzdERhdGFSYW5nZShiZWdpbiwgZW5kKTtcblxuICAgIHRoaXMuX3JhbmdlUmVhZGVycy5wdXNoKHJlYWRlcik7XG5cbiAgICByZXR1cm4gcmVhZGVyO1xuICB9XG5cbiAgY2FuY2VsQWxsUmVxdWVzdHMocmVhc29uKSB7XG4gICAgaWYgKHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyKSB7XG4gICAgICB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlci5jYW5jZWwocmVhc29uKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiB0aGlzLl9yYW5nZVJlYWRlcnMuc2xpY2UoMCkpIHtcbiAgICAgIHJlYWRlci5jYW5jZWwocmVhc29uKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wZGZEYXRhUmFuZ2VUcmFuc3BvcnQuYWJvcnQoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuUERGRGF0YVRyYW5zcG9ydFN0cmVhbSA9IFBERkRhdGFUcmFuc3BvcnRTdHJlYW07XG5cbmNsYXNzIFBERkRhdGFUcmFuc3BvcnRTdHJlYW1SZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0sIHF1ZXVlZENodW5rcywgcHJvZ3Jlc3NpdmVEb25lID0gZmFsc2UsIGNvbnRlbnREaXNwb3NpdGlvbkZpbGVuYW1lID0gbnVsbCkge1xuICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcbiAgICB0aGlzLl9kb25lID0gcHJvZ3Jlc3NpdmVEb25lIHx8IGZhbHNlO1xuICAgIHRoaXMuX2ZpbGVuYW1lID0gKDAsIF9kaXNwbGF5X3V0aWxzLmlzUGRmRmlsZSkoY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWUpID8gY29udGVudERpc3Bvc2l0aW9uRmlsZW5hbWUgOiBudWxsO1xuICAgIHRoaXMuX3F1ZXVlZENodW5rcyA9IHF1ZXVlZENodW5rcyB8fCBbXTtcbiAgICB0aGlzLl9sb2FkZWQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBjaHVuayBvZiB0aGlzLl9xdWV1ZWRDaHVua3MpIHtcbiAgICAgIHRoaXMuX2xvYWRlZCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgIH1cblxuICAgIHRoaXMuX3JlcXVlc3RzID0gW107XG4gICAgdGhpcy5faGVhZGVyc1JlYWR5ID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgc3RyZWFtLl9mdWxsUmVxdWVzdFJlYWRlciA9IHRoaXM7XG4gICAgdGhpcy5vblByb2dyZXNzID0gbnVsbDtcbiAgfVxuXG4gIF9lbnF1ZXVlKGNodW5rKSB7XG4gICAgaWYgKHRoaXMuX2RvbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVxdWVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcmVxdWVzdENhcGFiaWxpdHkgPSB0aGlzLl9yZXF1ZXN0cy5zaGlmdCgpO1xuXG4gICAgICByZXF1ZXN0Q2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgdmFsdWU6IGNodW5rLFxuICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3F1ZXVlZENodW5rcy5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sb2FkZWQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGdldCBoZWFkZXJzUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlYWRlcnNSZWFkeTtcbiAgfVxuXG4gIGdldCBmaWxlbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsZW5hbWU7XG4gIH1cblxuICBnZXQgaXNSYW5nZVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RyZWFtLl9pc1JhbmdlU3VwcG9ydGVkO1xuICB9XG5cbiAgZ2V0IGlzU3RyZWFtaW5nU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdHJlYW0uX2lzU3RyZWFtaW5nU3VwcG9ydGVkO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnRMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0cmVhbS5fY29udGVudExlbmd0aDtcbiAgfVxuXG4gIGFzeW5jIHJlYWQoKSB7XG4gICAgaWYgKHRoaXMuX3F1ZXVlZENodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaHVuayA9IHRoaXMuX3F1ZXVlZENodW5rcy5zaGlmdCgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogY2h1bmssXG4gICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kb25lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3RDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuXG4gICAgdGhpcy5fcmVxdWVzdHMucHVzaChyZXF1ZXN0Q2FwYWJpbGl0eSk7XG5cbiAgICByZXR1cm4gcmVxdWVzdENhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxuXG4gIGNhbmNlbChyZWFzb24pIHtcbiAgICB0aGlzLl9kb25lID0gdHJ1ZTtcblxuICAgIGZvciAoY29uc3QgcmVxdWVzdENhcGFiaWxpdHkgb2YgdGhpcy5fcmVxdWVzdHMpIHtcbiAgICAgIHJlcXVlc3RDYXBhYmlsaXR5LnJlc29sdmUoe1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZXF1ZXN0cy5sZW5ndGggPSAwO1xuICB9XG5cbiAgcHJvZ3Jlc3NpdmVEb25lKCkge1xuICAgIGlmICh0aGlzLl9kb25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZG9uZSA9IHRydWU7XG4gIH1cblxufVxuXG5jbGFzcyBQREZEYXRhVHJhbnNwb3J0U3RyZWFtUmFuZ2VSZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0sIGJlZ2luLCBlbmQpIHtcbiAgICB0aGlzLl9zdHJlYW0gPSBzdHJlYW07XG4gICAgdGhpcy5fYmVnaW4gPSBiZWdpbjtcbiAgICB0aGlzLl9lbmQgPSBlbmQ7XG4gICAgdGhpcy5fcXVldWVkQ2h1bmsgPSBudWxsO1xuICAgIHRoaXMuX3JlcXVlc3RzID0gW107XG4gICAgdGhpcy5fZG9uZSA9IGZhbHNlO1xuICAgIHRoaXMub25Qcm9ncmVzcyA9IG51bGw7XG4gIH1cblxuICBfZW5xdWV1ZShjaHVuaykge1xuICAgIGlmICh0aGlzLl9kb25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3JlcXVlc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fcXVldWVkQ2h1bmsgPSBjaHVuaztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVxdWVzdHNDYXBhYmlsaXR5ID0gdGhpcy5fcmVxdWVzdHMuc2hpZnQoKTtcblxuICAgICAgcmVxdWVzdHNDYXBhYmlsaXR5LnJlc29sdmUoe1xuICAgICAgICB2YWx1ZTogY2h1bmssXG4gICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgZm9yIChjb25zdCByZXF1ZXN0Q2FwYWJpbGl0eSBvZiB0aGlzLl9yZXF1ZXN0cykge1xuICAgICAgICByZXF1ZXN0Q2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlcXVlc3RzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5fZG9uZSA9IHRydWU7XG5cbiAgICB0aGlzLl9zdHJlYW0uX3JlbW92ZVJhbmdlUmVhZGVyKHRoaXMpO1xuICB9XG5cbiAgZ2V0IGlzU3RyZWFtaW5nU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIHJlYWQoKSB7XG4gICAgaWYgKHRoaXMuX3F1ZXVlZENodW5rKSB7XG4gICAgICBjb25zdCBjaHVuayA9IHRoaXMuX3F1ZXVlZENodW5rO1xuICAgICAgdGhpcy5fcXVldWVkQ2h1bmsgPSBudWxsO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IGNodW5rLFxuICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZG9uZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZXF1ZXN0Q2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcblxuICAgIHRoaXMuX3JlcXVlc3RzLnB1c2gocmVxdWVzdENhcGFiaWxpdHkpO1xuXG4gICAgcmV0dXJuIHJlcXVlc3RDYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cblxuICBjYW5jZWwocmVhc29uKSB7XG4gICAgdGhpcy5fZG9uZSA9IHRydWU7XG5cbiAgICBmb3IgKGNvbnN0IHJlcXVlc3RDYXBhYmlsaXR5IG9mIHRoaXMuX3JlcXVlc3RzKSB7XG4gICAgICByZXF1ZXN0Q2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVxdWVzdHMubGVuZ3RoID0gMDtcblxuICAgIHRoaXMuX3N0cmVhbS5fcmVtb3ZlUmFuZ2VSZWFkZXIodGhpcyk7XG4gIH1cblxufVxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLlhmYVRleHQgPSB2b2lkIDA7XG5cbmNsYXNzIFhmYVRleHQge1xuICBzdGF0aWMgdGV4dENvbnRlbnQoeGZhKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBjb25zdCBvdXRwdXQgPSB7XG4gICAgICBpdGVtcyxcbiAgICAgIHN0eWxlczogT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiB3YWxrKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBzdHIgPSBudWxsO1xuICAgICAgY29uc3QgbmFtZSA9IG5vZGUubmFtZTtcblxuICAgICAgaWYgKG5hbWUgPT09IFwiI3RleHRcIikge1xuICAgICAgICBzdHIgPSBub2RlLnZhbHVlO1xuICAgICAgfSBlbHNlIGlmICghWGZhVGV4dC5zaG91bGRCdWlsZFRleHQobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChub2RlPy5hdHRyaWJ1dGVzPy50ZXh0Q29udGVudCkge1xuICAgICAgICBzdHIgPSBub2RlLmF0dHJpYnV0ZXMudGV4dENvbnRlbnQ7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgc3RyID0gbm9kZS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0ciAhPT0gbnVsbCkge1xuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICBzdHJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghbm9kZS5jaGlsZHJlbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgICB3YWxrKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3YWxrKHhmYSk7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxuXG4gIHN0YXRpYyBzaG91bGRCdWlsZFRleHQobmFtZSkge1xuICAgIHJldHVybiAhKG5hbWUgPT09IFwidGV4dGFyZWFcIiB8fCBuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJvcHRpb25cIiB8fCBuYW1lID09PSBcInNlbGVjdFwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuWGZhVGV4dCA9IFhmYVRleHQ7XG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuTm9kZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gZXhwb3J0cy5Ob2RlQ2FudmFzRmFjdG9yeSA9IGV4cG9ydHMuTm9kZUNNYXBSZWFkZXJGYWN0b3J5ID0gdm9pZCAwO1xuXG52YXIgX2Jhc2VfZmFjdG9yeSA9IF9fd19wZGZqc19yZXF1aXJlX18oNik7XG5cbjtcblxuY29uc3QgZmV0Y2hEYXRhID0gZnVuY3Rpb24gKHVybCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuXG4gICAgZnMucmVhZEZpbGUodXJsLCAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnJvciB8fCAhZGF0YSkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZShuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY2xhc3MgTm9kZUNhbnZhc0ZhY3RvcnkgZXh0ZW5kcyBfYmFzZV9mYWN0b3J5LkJhc2VDYW52YXNGYWN0b3J5IHtcbiAgX2NyZWF0ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgQ2FudmFzID0gcmVxdWlyZShcImNhbnZhc1wiKTtcblxuICAgIHJldHVybiBDYW52YXMuY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5Ob2RlQ2FudmFzRmFjdG9yeSA9IE5vZGVDYW52YXNGYWN0b3J5O1xuXG5jbGFzcyBOb2RlQ01hcFJlYWRlckZhY3RvcnkgZXh0ZW5kcyBfYmFzZV9mYWN0b3J5LkJhc2VDTWFwUmVhZGVyRmFjdG9yeSB7XG4gIF9mZXRjaERhdGEodXJsLCBjb21wcmVzc2lvblR5cGUpIHtcbiAgICByZXR1cm4gZmV0Y2hEYXRhKHVybCkudGhlbihkYXRhID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNNYXBEYXRhOiBkYXRhLFxuICAgICAgICBjb21wcmVzc2lvblR5cGVcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLk5vZGVDTWFwUmVhZGVyRmFjdG9yeSA9IE5vZGVDTWFwUmVhZGVyRmFjdG9yeTtcblxuY2xhc3MgTm9kZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5IGV4dGVuZHMgX2Jhc2VfZmFjdG9yeS5CYXNlU3RhbmRhcmRGb250RGF0YUZhY3Rvcnkge1xuICBfZmV0Y2hEYXRhKHVybCkge1xuICAgIHJldHVybiBmZXRjaERhdGEodXJsKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuTm9kZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5ID0gTm9kZVN0YW5kYXJkRm9udERhdGFGYWN0b3J5O1xuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkFubm90YXRpb25MYXllciA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxudmFyIF9kaXNwbGF5X3V0aWxzID0gX193X3BkZmpzX3JlcXVpcmVfXyg1KTtcblxudmFyIF9hbm5vdGF0aW9uX3N0b3JhZ2UgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3NjcmlwdGluZ191dGlscyA9IF9fd19wZGZqc19yZXF1aXJlX18oMjEpO1xuXG52YXIgX3hmYV9sYXllciA9IF9fd19wZGZqc19yZXF1aXJlX18oMjIpO1xuXG5jb25zdCBERUZBVUxUX1RBQl9JTkRFWCA9IDEwMDA7XG5jb25zdCBHZXRFbGVtZW50c0J5TmFtZVNldCA9IG5ldyBXZWFrU2V0KCk7XG5cbmZ1bmN0aW9uIGdldFJlY3REaW1zKHJlY3QpIHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcmVjdFsyXSAtIHJlY3RbMF0sXG4gICAgaGVpZ2h0OiByZWN0WzNdIC0gcmVjdFsxXVxuICB9O1xufVxuXG5jbGFzcyBBbm5vdGF0aW9uRWxlbWVudEZhY3Rvcnkge1xuICBzdGF0aWMgY3JlYXRlKHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBzdWJ0eXBlID0gcGFyYW1ldGVycy5kYXRhLmFubm90YXRpb25UeXBlO1xuXG4gICAgc3dpdGNoIChzdWJ0eXBlKSB7XG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLkxJTks6XG4gICAgICAgIHJldHVybiBuZXcgTGlua0Fubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLlRFWFQ6XG4gICAgICAgIHJldHVybiBuZXcgVGV4dEFubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLldJREdFVDpcbiAgICAgICAgY29uc3QgZmllbGRUeXBlID0gcGFyYW1ldGVycy5kYXRhLmZpZWxkVHlwZTtcblxuICAgICAgICBzd2l0Y2ggKGZpZWxkVHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJUeFwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0V2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgICAgICBjYXNlIFwiQnRuXCI6XG4gICAgICAgICAgICBpZiAocGFyYW1ldGVycy5kYXRhLnJhZGlvQnV0dG9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUmFkaW9CdXR0b25XaWRnZXRBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1ldGVycy5kYXRhLmNoZWNrQm94KSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ2hlY2tib3hXaWRnZXRBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQdXNoQnV0dG9uV2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgICAgICBjYXNlIFwiQ2hcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hvaWNlV2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFdpZGdldEFubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLlBPUFVQOlxuICAgICAgICByZXR1cm4gbmV3IFBvcHVwQW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvblR5cGUuRlJFRVRFWFQ6XG4gICAgICAgIHJldHVybiBuZXcgRnJlZVRleHRBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcblxuICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uVHlwZS5MSU5FOlxuICAgICAgICByZXR1cm4gbmV3IExpbmVBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcblxuICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uVHlwZS5TUVVBUkU6XG4gICAgICAgIHJldHVybiBuZXcgU3F1YXJlQW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvblR5cGUuQ0lSQ0xFOlxuICAgICAgICByZXR1cm4gbmV3IENpcmNsZUFubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLlBPTFlMSU5FOlxuICAgICAgICByZXR1cm4gbmV3IFBvbHlsaW5lQW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvblR5cGUuQ0FSRVQ6XG4gICAgICAgIHJldHVybiBuZXcgQ2FyZXRBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcblxuICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uVHlwZS5JTks6XG4gICAgICAgIHJldHVybiBuZXcgSW5rQW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvblR5cGUuUE9MWUdPTjpcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uQW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgIGNhc2UgX3V0aWwuQW5ub3RhdGlvblR5cGUuSElHSExJR0hUOlxuICAgICAgICByZXR1cm4gbmV3IEhpZ2hsaWdodEFubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLlVOREVSTElORTpcbiAgICAgICAgcmV0dXJuIG5ldyBVbmRlcmxpbmVBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcblxuICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uVHlwZS5TUVVJR0dMWTpcbiAgICAgICAgcmV0dXJuIG5ldyBTcXVpZ2dseUFubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLlNUUklLRU9VVDpcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpa2VPdXRBbm5vdGF0aW9uRWxlbWVudChwYXJhbWV0ZXJzKTtcblxuICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uVHlwZS5TVEFNUDpcbiAgICAgICAgcmV0dXJuIG5ldyBTdGFtcEFubm90YXRpb25FbGVtZW50KHBhcmFtZXRlcnMpO1xuXG4gICAgICBjYXNlIF91dGlsLkFubm90YXRpb25UeXBlLkZJTEVBVFRBQ0hNRU5UOlxuICAgICAgICByZXR1cm4gbmV3IEZpbGVBdHRhY2htZW50QW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBuZXcgQW5ub3RhdGlvbkVsZW1lbnQocGFyYW1ldGVycyk7XG4gICAgfVxuICB9XG5cbn1cblxuY2xhc3MgQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzLCB7XG4gICAgaXNSZW5kZXJhYmxlID0gZmFsc2UsXG4gICAgaWdub3JlQm9yZGVyID0gZmFsc2UsXG4gICAgY3JlYXRlUXVhZHJpbGF0ZXJhbHMgPSBmYWxzZVxuICB9ID0ge30pIHtcbiAgICB0aGlzLmlzUmVuZGVyYWJsZSA9IGlzUmVuZGVyYWJsZTtcbiAgICB0aGlzLmRhdGEgPSBwYXJhbWV0ZXJzLmRhdGE7XG4gICAgdGhpcy5sYXllciA9IHBhcmFtZXRlcnMubGF5ZXI7XG4gICAgdGhpcy5wYWdlID0gcGFyYW1ldGVycy5wYWdlO1xuICAgIHRoaXMudmlld3BvcnQgPSBwYXJhbWV0ZXJzLnZpZXdwb3J0O1xuICAgIHRoaXMubGlua1NlcnZpY2UgPSBwYXJhbWV0ZXJzLmxpbmtTZXJ2aWNlO1xuICAgIHRoaXMuZG93bmxvYWRNYW5hZ2VyID0gcGFyYW1ldGVycy5kb3dubG9hZE1hbmFnZXI7XG4gICAgdGhpcy5pbWFnZVJlc291cmNlc1BhdGggPSBwYXJhbWV0ZXJzLmltYWdlUmVzb3VyY2VzUGF0aDtcbiAgICB0aGlzLnJlbmRlckZvcm1zID0gcGFyYW1ldGVycy5yZW5kZXJGb3JtcztcbiAgICB0aGlzLnN2Z0ZhY3RvcnkgPSBwYXJhbWV0ZXJzLnN2Z0ZhY3Rvcnk7XG4gICAgdGhpcy5hbm5vdGF0aW9uU3RvcmFnZSA9IHBhcmFtZXRlcnMuYW5ub3RhdGlvblN0b3JhZ2U7XG4gICAgdGhpcy5lbmFibGVTY3JpcHRpbmcgPSBwYXJhbWV0ZXJzLmVuYWJsZVNjcmlwdGluZztcbiAgICB0aGlzLmhhc0pTQWN0aW9ucyA9IHBhcmFtZXRlcnMuaGFzSlNBY3Rpb25zO1xuICAgIHRoaXMuX2ZpZWxkT2JqZWN0cyA9IHBhcmFtZXRlcnMuZmllbGRPYmplY3RzO1xuICAgIHRoaXMuX21vdXNlU3RhdGUgPSBwYXJhbWV0ZXJzLm1vdXNlU3RhdGU7XG5cbiAgICBpZiAoaXNSZW5kZXJhYmxlKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZUNvbnRhaW5lcihpZ25vcmVCb3JkZXIpO1xuICAgIH1cblxuICAgIGlmIChjcmVhdGVRdWFkcmlsYXRlcmFscykge1xuICAgICAgdGhpcy5xdWFkcmlsYXRlcmFscyA9IHRoaXMuX2NyZWF0ZVF1YWRyaWxhdGVyYWxzKGlnbm9yZUJvcmRlcik7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNvbnRhaW5lcihpZ25vcmVCb3JkZXIgPSBmYWxzZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGEsXG4gICAgICAgICAgcGFnZSA9IHRoaXMucGFnZSxcbiAgICAgICAgICB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgbGV0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfSA9IGdldFJlY3REaW1zKGRhdGEucmVjdCk7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtYW5ub3RhdGlvbi1pZFwiLCBkYXRhLmlkKTtcblxuICAgIGNvbnN0IHJlY3QgPSBfdXRpbC5VdGlsLm5vcm1hbGl6ZVJlY3QoW2RhdGEucmVjdFswXSwgcGFnZS52aWV3WzNdIC0gZGF0YS5yZWN0WzFdICsgcGFnZS52aWV3WzFdLCBkYXRhLnJlY3RbMl0sIHBhZ2Uudmlld1szXSAtIGRhdGEucmVjdFszXSArIHBhZ2Uudmlld1sxXV0pO1xuXG4gICAgaWYgKGRhdGEuaGFzT3duQ2FudmFzKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSB2aWV3cG9ydC50cmFuc2Zvcm0uc2xpY2UoKTtcblxuICAgICAgY29uc3QgW3NjYWxlWCwgc2NhbGVZXSA9IF91dGlsLlV0aWwuc2luZ3VsYXJWYWx1ZURlY29tcG9zZTJkU2NhbGUodHJhbnNmb3JtKTtcblxuICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGggKiBzY2FsZVgpO1xuICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAqIHNjYWxlWSk7XG4gICAgICByZWN0WzBdICo9IHNjYWxlWDtcbiAgICAgIHJlY3RbMV0gKj0gc2NhbGVZO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICB0cmFuc2Zvcm1baV0gPSBNYXRoLnNpZ24odHJhbnNmb3JtW2ldKTtcbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IGBtYXRyaXgoJHt0cmFuc2Zvcm0uam9pbihcIixcIil9KWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgbWF0cml4KCR7dmlld3BvcnQudHJhbnNmb3JtLmpvaW4oXCIsXCIpfSlgO1xuICAgIH1cblxuICAgIGNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgJHstcmVjdFswXX1weCAkey1yZWN0WzFdfXB4YDtcblxuICAgIGlmICghaWdub3JlQm9yZGVyICYmIGRhdGEuYm9yZGVyU3R5bGUud2lkdGggPiAwKSB7XG4gICAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyV2lkdGggPSBgJHtkYXRhLmJvcmRlclN0eWxlLndpZHRofXB4YDtcblxuICAgICAgaWYgKGRhdGEuYm9yZGVyU3R5bGUuc3R5bGUgIT09IF91dGlsLkFubm90YXRpb25Cb3JkZXJTdHlsZVR5cGUuVU5ERVJMSU5FKSB7XG4gICAgICAgIHdpZHRoIC09IDIgKiBkYXRhLmJvcmRlclN0eWxlLndpZHRoO1xuICAgICAgICBoZWlnaHQgLT0gMiAqIGRhdGEuYm9yZGVyU3R5bGUud2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhvcml6b250YWxSYWRpdXMgPSBkYXRhLmJvcmRlclN0eWxlLmhvcml6b250YWxDb3JuZXJSYWRpdXM7XG4gICAgICBjb25zdCB2ZXJ0aWNhbFJhZGl1cyA9IGRhdGEuYm9yZGVyU3R5bGUudmVydGljYWxDb3JuZXJSYWRpdXM7XG5cbiAgICAgIGlmIChob3Jpem9udGFsUmFkaXVzID4gMCB8fCB2ZXJ0aWNhbFJhZGl1cyA+IDApIHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gYCR7aG9yaXpvbnRhbFJhZGl1c31weCAvICR7dmVydGljYWxSYWRpdXN9cHhgO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gcmFkaXVzO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGRhdGEuYm9yZGVyU3R5bGUuc3R5bGUpIHtcbiAgICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlLlNPTElEOlxuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3JkZXJTdHlsZSA9IFwic29saWRcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIF91dGlsLkFubm90YXRpb25Cb3JkZXJTdHlsZVR5cGUuREFTSEVEOlxuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3JkZXJTdHlsZSA9IFwiZGFzaGVkXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlLkJFVkVMRUQ6XG4gICAgICAgICAgKDAsIF91dGlsLndhcm4pKFwiVW5pbXBsZW1lbnRlZCBib3JkZXIgc3R5bGU6IGJldmVsZWRcIik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBfdXRpbC5Bbm5vdGF0aW9uQm9yZGVyU3R5bGVUeXBlLklOU0VUOlxuICAgICAgICAgICgwLCBfdXRpbC53YXJuKShcIlVuaW1wbGVtZW50ZWQgYm9yZGVyIHN0eWxlOiBpbnNldFwiKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIF91dGlsLkFubm90YXRpb25Cb3JkZXJTdHlsZVR5cGUuVU5ERVJMSU5FOlxuICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3JkZXJCb3R0b21TdHlsZSA9IFwic29saWRcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBib3JkZXJDb2xvciA9IGRhdGEuYm9yZGVyQ29sb3IgfHwgZGF0YS5jb2xvciB8fCBudWxsO1xuXG4gICAgICBpZiAoYm9yZGVyQ29sb3IpIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvcmRlckNvbG9yID0gX3V0aWwuVXRpbC5tYWtlSGV4Q29sb3IoZGF0YS5jb2xvclswXSB8IDAsIGRhdGEuY29sb3JbMV0gfCAwLCBkYXRhLmNvbG9yWzJdIHwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyV2lkdGggPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7cmVjdFswXX1weGA7XG4gICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3JlY3RbMV19cHhgO1xuXG4gICAgaWYgKGRhdGEuaGFzT3duQ2FudmFzKSB7XG4gICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIH1cblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICBnZXQgX2NvbW1vbkFjdGlvbnMoKSB7XG4gICAgY29uc3Qgc2V0Q29sb3IgPSAoanNOYW1lLCBzdHlsZU5hbWUsIGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjb2xvciA9IGV2ZW50LmRldGFpbFtqc05hbWVdO1xuICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlW3N0eWxlTmFtZV0gPSBfc2NyaXB0aW5nX3V0aWxzLkNvbG9yQ29udmVydGVyc1tgJHtjb2xvclswXX1fSFRNTGBdKGNvbG9yLnNsaWNlKDEpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuICgwLCBfdXRpbC5zaGFkb3cpKHRoaXMsIFwiX2NvbW1vbkFjdGlvbnNcIiwge1xuICAgICAgZGlzcGxheTogZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBoaWRkZW4gPSBldmVudC5kZXRhaWwuZGlzcGxheSAlIDIgPT09IDE7XG4gICAgICAgIGV2ZW50LnRhcmdldC5zdHlsZS52aXNpYmlsaXR5ID0gaGlkZGVuID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiO1xuICAgICAgICB0aGlzLmFubm90YXRpb25TdG9yYWdlLnNldFZhbHVlKHRoaXMuZGF0YS5pZCwge1xuICAgICAgICAgIGhpZGRlbixcbiAgICAgICAgICBwcmludDogZXZlbnQuZGV0YWlsLmRpc3BsYXkgPT09IDAgfHwgZXZlbnQuZGV0YWlsLmRpc3BsYXkgPT09IDNcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcHJpbnQ6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uU3RvcmFnZS5zZXRWYWx1ZSh0aGlzLmRhdGEuaWQsIHtcbiAgICAgICAgICBwcmludDogZXZlbnQuZGV0YWlsLnByaW50XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhpZGRlbjogZXZlbnQgPT4ge1xuICAgICAgICBldmVudC50YXJnZXQuc3R5bGUudmlzaWJpbGl0eSA9IGV2ZW50LmRldGFpbC5oaWRkZW4gPyBcImhpZGRlblwiIDogXCJ2aXNpYmxlXCI7XG4gICAgICAgIHRoaXMuYW5ub3RhdGlvblN0b3JhZ2Uuc2V0VmFsdWUodGhpcy5kYXRhLmlkLCB7XG4gICAgICAgICAgaGlkZGVuOiBldmVudC5kZXRhaWwuaGlkZGVuXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZvY3VzOiBldmVudCA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZXZlbnQudGFyZ2V0LmZvY3VzKHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiBmYWxzZVxuICAgICAgICB9KSwgMCk7XG4gICAgICB9LFxuICAgICAgdXNlck5hbWU6IGV2ZW50ID0+IHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnRpdGxlID0gZXZlbnQuZGV0YWlsLnVzZXJOYW1lO1xuICAgICAgfSxcbiAgICAgIHJlYWRvbmx5OiBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC5kZXRhaWwucmVhZG9ubHkpIHtcbiAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5yZXF1aXJlZCkge1xuICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudC50YXJnZXQucmVtb3ZlQXR0cmlidXRlKFwicmVxdWlyZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiZ0NvbG9yOiBldmVudCA9PiB7XG4gICAgICAgIHNldENvbG9yKFwiYmdDb2xvclwiLCBcImJhY2tncm91bmRDb2xvclwiLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgZmlsbENvbG9yOiBldmVudCA9PiB7XG4gICAgICAgIHNldENvbG9yKFwiZmlsbENvbG9yXCIsIFwiYmFja2dyb3VuZENvbG9yXCIsIGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBmZ0NvbG9yOiBldmVudCA9PiB7XG4gICAgICAgIHNldENvbG9yKFwiZmdDb2xvclwiLCBcImNvbG9yXCIsIGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICB0ZXh0Q29sb3I6IGV2ZW50ID0+IHtcbiAgICAgICAgc2V0Q29sb3IoXCJ0ZXh0Q29sb3JcIiwgXCJjb2xvclwiLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgYm9yZGVyQ29sb3I6IGV2ZW50ID0+IHtcbiAgICAgICAgc2V0Q29sb3IoXCJib3JkZXJDb2xvclwiLCBcImJvcmRlckNvbG9yXCIsIGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBzdHJva2VDb2xvcjogZXZlbnQgPT4ge1xuICAgICAgICBzZXRDb2xvcihcInN0cm9rZUNvbG9yXCIsIFwiYm9yZGVyQ29sb3JcIiwgZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2Rpc3BhdGNoRXZlbnRGcm9tU2FuZGJveChhY3Rpb25zLCBqc0V2ZW50KSB7XG4gICAgY29uc3QgY29tbW9uQWN0aW9ucyA9IHRoaXMuX2NvbW1vbkFjdGlvbnM7XG5cbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoanNFdmVudC5kZXRhaWwpKSB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW25hbWVdIHx8IGNvbW1vbkFjdGlvbnNbbmFtZV07XG5cbiAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uKGpzRXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9zZXREZWZhdWx0UHJvcGVydGllc0Zyb21KUyhlbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZVNjcmlwdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0b3JlZERhdGEgPSB0aGlzLmFubm90YXRpb25TdG9yYWdlLmdldFJhd1ZhbHVlKHRoaXMuZGF0YS5pZCk7XG5cbiAgICBpZiAoIXN0b3JlZERhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb21tb25BY3Rpb25zID0gdGhpcy5fY29tbW9uQWN0aW9ucztcblxuICAgIGZvciAoY29uc3QgW2FjdGlvbk5hbWUsIGRldGFpbF0gb2YgT2JqZWN0LmVudHJpZXMoc3RvcmVkRGF0YSkpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGNvbW1vbkFjdGlvbnNbYWN0aW9uTmFtZV07XG5cbiAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uKHtcbiAgICAgICAgICBkZXRhaWwsXG4gICAgICAgICAgdGFyZ2V0OiBlbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgICBkZWxldGUgc3RvcmVkRGF0YVthY3Rpb25OYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY3JlYXRlUXVhZHJpbGF0ZXJhbHMoaWdub3JlQm9yZGVyID0gZmFsc2UpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5xdWFkUG9pbnRzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBxdWFkcmlsYXRlcmFscyA9IFtdO1xuICAgIGNvbnN0IHNhdmVkUmVjdCA9IHRoaXMuZGF0YS5yZWN0O1xuXG4gICAgZm9yIChjb25zdCBxdWFkUG9pbnQgb2YgdGhpcy5kYXRhLnF1YWRQb2ludHMpIHtcbiAgICAgIHRoaXMuZGF0YS5yZWN0ID0gW3F1YWRQb2ludFsyXS54LCBxdWFkUG9pbnRbMl0ueSwgcXVhZFBvaW50WzFdLngsIHF1YWRQb2ludFsxXS55XTtcbiAgICAgIHF1YWRyaWxhdGVyYWxzLnB1c2godGhpcy5fY3JlYXRlQ29udGFpbmVyKGlnbm9yZUJvcmRlcikpO1xuICAgIH1cblxuICAgIHRoaXMuZGF0YS5yZWN0ID0gc2F2ZWRSZWN0O1xuICAgIHJldHVybiBxdWFkcmlsYXRlcmFscztcbiAgfVxuXG4gIF9jcmVhdGVQb3B1cCh0cmlnZ2VyLCBkYXRhKSB7XG4gICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuXG4gICAgaWYgKHRoaXMucXVhZHJpbGF0ZXJhbHMpIHtcbiAgICAgIHRyaWdnZXIgPSB0cmlnZ2VyIHx8IHRoaXMucXVhZHJpbGF0ZXJhbHM7XG4gICAgICBjb250YWluZXIgPSB0aGlzLnF1YWRyaWxhdGVyYWxzWzBdO1xuICAgIH1cblxuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgdHJpZ2dlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB0cmlnZ2VyLnN0eWxlLmhlaWdodCA9IGNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XG4gICAgICB0cmlnZ2VyLnN0eWxlLndpZHRoID0gY29udGFpbmVyLnN0eWxlLndpZHRoO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRyaWdnZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IHBvcHVwRWxlbWVudCA9IG5ldyBQb3B1cEVsZW1lbnQoe1xuICAgICAgY29udGFpbmVyLFxuICAgICAgdHJpZ2dlcixcbiAgICAgIGNvbG9yOiBkYXRhLmNvbG9yLFxuICAgICAgdGl0bGVPYmo6IGRhdGEudGl0bGVPYmosXG4gICAgICBtb2RpZmljYXRpb25EYXRlOiBkYXRhLm1vZGlmaWNhdGlvbkRhdGUsXG4gICAgICBjb250ZW50c09iajogZGF0YS5jb250ZW50c09iaixcbiAgICAgIHJpY2hUZXh0OiBkYXRhLnJpY2hUZXh0LFxuICAgICAgaGlkZVdyYXBwZXI6IHRydWVcbiAgICB9KTtcbiAgICBjb25zdCBwb3B1cCA9IHBvcHVwRWxlbWVudC5yZW5kZXIoKTtcbiAgICBwb3B1cC5zdHlsZS5sZWZ0ID0gY29udGFpbmVyLnN0eWxlLndpZHRoO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwb3B1cCk7XG4gIH1cblxuICBfcmVuZGVyUXVhZHJpbGF0ZXJhbHMoY2xhc3NOYW1lKSB7XG4gICAgZm9yIChjb25zdCBxdWFkcmlsYXRlcmFsIG9mIHRoaXMucXVhZHJpbGF0ZXJhbHMpIHtcbiAgICAgIHF1YWRyaWxhdGVyYWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnF1YWRyaWxhdGVyYWxzO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgICgwLCBfdXRpbC51bnJlYWNoYWJsZSkoXCJBYnN0cmFjdCBtZXRob2QgYEFubm90YXRpb25FbGVtZW50LnJlbmRlcmAgY2FsbGVkXCIpO1xuICB9XG5cbiAgX2dldEVsZW1lbnRzQnlOYW1lKG5hbWUsIHNraXBJZCA9IG51bGwpIHtcbiAgICBjb25zdCBmaWVsZHMgPSBbXTtcblxuICAgIGlmICh0aGlzLl9maWVsZE9iamVjdHMpIHtcbiAgICAgIGNvbnN0IGZpZWxkT2JqID0gdGhpcy5fZmllbGRPYmplY3RzW25hbWVdO1xuXG4gICAgICBpZiAoZmllbGRPYmopIHtcbiAgICAgICAgZm9yIChjb25zdCB7XG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBleHBvcnRWYWx1ZXNcbiAgICAgICAgfSBvZiBmaWVsZE9iaikge1xuICAgICAgICAgIGlmIChwYWdlID09PSAtMSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlkID09PSBza2lwSWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGV4cG9ydFZhbHVlID0gdHlwZW9mIGV4cG9ydFZhbHVlcyA9PT0gXCJzdHJpbmdcIiA/IGV4cG9ydFZhbHVlcyA6IG51bGw7XG4gICAgICAgICAgY29uc3QgZG9tRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcblxuICAgICAgICAgIGlmIChkb21FbGVtZW50ICYmICFHZXRFbGVtZW50c0J5TmFtZVNldC5oYXMoZG9tRWxlbWVudCkpIHtcbiAgICAgICAgICAgICgwLCBfdXRpbC53YXJuKShgX2dldEVsZW1lbnRzQnlOYW1lIC0gZWxlbWVudCBub3QgYWxsb3dlZDogJHtpZH1gKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgZXhwb3J0VmFsdWUsXG4gICAgICAgICAgICBkb21FbGVtZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGRvbUVsZW1lbnQgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUobmFtZSkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGV4cG9ydFZhbHVlXG4gICAgICB9ID0gZG9tRWxlbWVudDtcblxuICAgICAgaWYgKGlkID09PSBza2lwSWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghR2V0RWxlbWVudHNCeU5hbWVTZXQuaGFzKGRvbUVsZW1lbnQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgIGlkLFxuICAgICAgICBleHBvcnRWYWx1ZSxcbiAgICAgICAgZG9tRWxlbWVudFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZWxkcztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcGxhdGZvcm0oKSB7XG4gICAgY29uc3QgcGxhdGZvcm0gPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiID8gbmF2aWdhdG9yLnBsYXRmb3JtIDogXCJcIjtcbiAgICByZXR1cm4gKDAsIF91dGlsLnNoYWRvdykodGhpcywgXCJwbGF0Zm9ybVwiLCB7XG4gICAgICBpc1dpbjogcGxhdGZvcm0uaW5jbHVkZXMoXCJXaW5cIiksXG4gICAgICBpc01hYzogcGxhdGZvcm0uaW5jbHVkZXMoXCJNYWNcIilcbiAgICB9KTtcbiAgfVxuXG59XG5cbmNsYXNzIExpbmtBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycywgb3B0aW9ucyA9IG51bGwpIHtcbiAgICBjb25zdCBpc1JlbmRlcmFibGUgPSAhIShwYXJhbWV0ZXJzLmRhdGEudXJsIHx8IHBhcmFtZXRlcnMuZGF0YS5kZXN0IHx8IHBhcmFtZXRlcnMuZGF0YS5hY3Rpb24gfHwgcGFyYW1ldGVycy5kYXRhLmlzVG9vbHRpcE9ubHkgfHwgcGFyYW1ldGVycy5kYXRhLnJlc2V0Rm9ybSB8fCBwYXJhbWV0ZXJzLmRhdGEuYWN0aW9ucyAmJiAocGFyYW1ldGVycy5kYXRhLmFjdGlvbnMuQWN0aW9uIHx8IHBhcmFtZXRlcnMuZGF0YS5hY3Rpb25zW1wiTW91c2UgVXBcIl0gfHwgcGFyYW1ldGVycy5kYXRhLmFjdGlvbnNbXCJNb3VzZSBEb3duXCJdKSk7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlLFxuICAgICAgaWdub3JlQm9yZGVyOiAhIW9wdGlvbnM/Lmlnbm9yZUJvcmRlcixcbiAgICAgIGNyZWF0ZVF1YWRyaWxhdGVyYWxzOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGxpbmtTZXJ2aWNlXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuXG4gICAgaWYgKGRhdGEudXJsKSB7XG4gICAgICBsaW5rU2VydmljZS5hZGRMaW5rQXR0cmlidXRlcyhsaW5rLCBkYXRhLnVybCwgZGF0YS5uZXdXaW5kb3cpO1xuICAgIH0gZWxzZSBpZiAoZGF0YS5hY3Rpb24pIHtcbiAgICAgIHRoaXMuX2JpbmROYW1lZEFjdGlvbihsaW5rLCBkYXRhLmFjdGlvbik7XG4gICAgfSBlbHNlIGlmIChkYXRhLmRlc3QpIHtcbiAgICAgIHRoaXMuX2JpbmRMaW5rKGxpbmssIGRhdGEuZGVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBoYXNDbGlja0FjdGlvbiA9IGZhbHNlO1xuXG4gICAgICBpZiAoZGF0YS5hY3Rpb25zICYmIChkYXRhLmFjdGlvbnMuQWN0aW9uIHx8IGRhdGEuYWN0aW9uc1tcIk1vdXNlIFVwXCJdIHx8IGRhdGEuYWN0aW9uc1tcIk1vdXNlIERvd25cIl0pICYmIHRoaXMuZW5hYmxlU2NyaXB0aW5nICYmIHRoaXMuaGFzSlNBY3Rpb25zKSB7XG4gICAgICAgIGhhc0NsaWNrQWN0aW9uID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9iaW5kSlNBY3Rpb24obGluaywgZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLnJlc2V0Rm9ybSkge1xuICAgICAgICB0aGlzLl9iaW5kUmVzZXRGb3JtQWN0aW9uKGxpbmssIGRhdGEucmVzZXRGb3JtKTtcbiAgICAgIH0gZWxzZSBpZiAoIWhhc0NsaWNrQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2JpbmRMaW5rKGxpbmssIFwiXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnF1YWRyaWxhdGVyYWxzKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUXVhZHJpbGF0ZXJhbHMoXCJsaW5rQW5ub3RhdGlvblwiKS5tYXAoKHF1YWRyaWxhdGVyYWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtFbGVtZW50ID0gaW5kZXggPT09IDAgPyBsaW5rIDogbGluay5jbG9uZU5vZGUoKTtcbiAgICAgICAgcXVhZHJpbGF0ZXJhbC5hcHBlbmRDaGlsZChsaW5rRWxlbWVudCk7XG4gICAgICAgIHJldHVybiBxdWFkcmlsYXRlcmFsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJsaW5rQW5ub3RhdGlvblwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuXG4gIF9iaW5kTGluayhsaW5rLCBkZXN0aW5hdGlvbikge1xuICAgIGxpbmsuaHJlZiA9IHRoaXMubGlua1NlcnZpY2UuZ2V0RGVzdGluYXRpb25IYXNoKGRlc3RpbmF0aW9uKTtcblxuICAgIGxpbmsub25jbGljayA9ICgpID0+IHtcbiAgICAgIGlmIChkZXN0aW5hdGlvbikge1xuICAgICAgICB0aGlzLmxpbmtTZXJ2aWNlLmdvVG9EZXN0aW5hdGlvbihkZXN0aW5hdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgaWYgKGRlc3RpbmF0aW9uIHx8IGRlc3RpbmF0aW9uID09PSBcIlwiKSB7XG4gICAgICBsaW5rLmNsYXNzTmFtZSA9IFwiaW50ZXJuYWxMaW5rXCI7XG4gICAgfVxuICB9XG5cbiAgX2JpbmROYW1lZEFjdGlvbihsaW5rLCBhY3Rpb24pIHtcbiAgICBsaW5rLmhyZWYgPSB0aGlzLmxpbmtTZXJ2aWNlLmdldEFuY2hvclVybChcIlwiKTtcblxuICAgIGxpbmsub25jbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMubGlua1NlcnZpY2UuZXhlY3V0ZU5hbWVkQWN0aW9uKGFjdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGxpbmsuY2xhc3NOYW1lID0gXCJpbnRlcm5hbExpbmtcIjtcbiAgfVxuXG4gIF9iaW5kSlNBY3Rpb24obGluaywgZGF0YSkge1xuICAgIGxpbmsuaHJlZiA9IHRoaXMubGlua1NlcnZpY2UuZ2V0QW5jaG9yVXJsKFwiXCIpO1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoW1tcIkFjdGlvblwiLCBcIm9uY2xpY2tcIl0sIFtcIk1vdXNlIFVwXCIsIFwib25tb3VzZXVwXCJdLCBbXCJNb3VzZSBEb3duXCIsIFwib25tb3VzZWRvd25cIl1dKTtcblxuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhkYXRhLmFjdGlvbnMpKSB7XG4gICAgICBjb25zdCBqc05hbWUgPSBtYXAuZ2V0KG5hbWUpO1xuXG4gICAgICBpZiAoIWpzTmFtZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGlua1tqc05hbWVdID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmxpbmtTZXJ2aWNlLmV2ZW50QnVzPy5kaXNwYXRjaChcImRpc3BhdGNoZXZlbnRpbnNhbmRib3hcIiwge1xuICAgICAgICAgIHNvdXJjZTogdGhpcyxcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCFsaW5rLm9uY2xpY2spIHtcbiAgICAgIGxpbmsub25jbGljayA9ICgpID0+IGZhbHNlO1xuICAgIH1cblxuICAgIGxpbmsuY2xhc3NOYW1lID0gXCJpbnRlcm5hbExpbmtcIjtcbiAgfVxuXG4gIF9iaW5kUmVzZXRGb3JtQWN0aW9uKGxpbmssIHJlc2V0Rm9ybSkge1xuICAgIGNvbnN0IG90aGVyQ2xpY2tBY3Rpb24gPSBsaW5rLm9uY2xpY2s7XG5cbiAgICBpZiAoIW90aGVyQ2xpY2tBY3Rpb24pIHtcbiAgICAgIGxpbmsuaHJlZiA9IHRoaXMubGlua1NlcnZpY2UuZ2V0QW5jaG9yVXJsKFwiXCIpO1xuICAgIH1cblxuICAgIGxpbmsuY2xhc3NOYW1lID0gXCJpbnRlcm5hbExpbmtcIjtcblxuICAgIGlmICghdGhpcy5fZmllbGRPYmplY3RzKSB7XG4gICAgICAoMCwgX3V0aWwud2FybikoYF9iaW5kUmVzZXRGb3JtQWN0aW9uIC0gXCJyZXNldEZvcm1cIiBhY3Rpb24gbm90IHN1cHBvcnRlZCwgYCArIFwiZW5zdXJlIHRoYXQgdGhlIGBmaWVsZE9iamVjdHNgIHBhcmFtZXRlciBpcyBwcm92aWRlZC5cIik7XG5cbiAgICAgIGlmICghb3RoZXJDbGlja0FjdGlvbikge1xuICAgICAgICBsaW5rLm9uY2xpY2sgPSAoKSA9PiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxpbmsub25jbGljayA9ICgpID0+IHtcbiAgICAgIGlmIChvdGhlckNsaWNrQWN0aW9uKSB7XG4gICAgICAgIG90aGVyQ2xpY2tBY3Rpb24oKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBmaWVsZHM6IHJlc2V0Rm9ybUZpZWxkcyxcbiAgICAgICAgcmVmczogcmVzZXRGb3JtUmVmcyxcbiAgICAgICAgaW5jbHVkZVxuICAgICAgfSA9IHJlc2V0Rm9ybTtcbiAgICAgIGNvbnN0IGFsbEZpZWxkcyA9IFtdO1xuXG4gICAgICBpZiAocmVzZXRGb3JtRmllbGRzLmxlbmd0aCAhPT0gMCB8fCByZXNldEZvcm1SZWZzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBjb25zdCBmaWVsZElkcyA9IG5ldyBTZXQocmVzZXRGb3JtUmVmcyk7XG5cbiAgICAgICAgZm9yIChjb25zdCBmaWVsZE5hbWUgb2YgcmVzZXRGb3JtRmllbGRzKSB7XG4gICAgICAgICAgY29uc3QgZmllbGRzID0gdGhpcy5fZmllbGRPYmplY3RzW2ZpZWxkTmFtZV0gfHwgW107XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgfSBvZiBmaWVsZHMpIHtcbiAgICAgICAgICAgIGZpZWxkSWRzLmFkZChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBmaWVsZHMgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9maWVsZE9iamVjdHMpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZElkcy5oYXMoZmllbGQuaWQpID09PSBpbmNsdWRlKSB7XG4gICAgICAgICAgICAgIGFsbEZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGRzIG9mIE9iamVjdC52YWx1ZXModGhpcy5fZmllbGRPYmplY3RzKSkge1xuICAgICAgICAgIGFsbEZpZWxkcy5wdXNoKC4uLmZpZWxkcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuYW5ub3RhdGlvblN0b3JhZ2U7XG4gICAgICBjb25zdCBhbGxJZHMgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBhbGxGaWVsZHMpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0gPSBmaWVsZDtcbiAgICAgICAgYWxsSWRzLnB1c2goaWQpO1xuXG4gICAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZmllbGQuZGVmYXVsdFZhbHVlIHx8IFwiXCI7XG4gICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgICBjYXNlIFwicmFkaW9idXR0b25cIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmaWVsZC5kZWZhdWx0VmFsdWUgPT09IGZpZWxkLmV4cG9ydFZhbHVlcztcbiAgICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCJjb21ib2JveFwiOlxuICAgICAgICAgIGNhc2UgXCJsaXN0Ym94XCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZmllbGQuZGVmYXVsdFZhbHVlIHx8IFwiXCI7XG4gICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkb21FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuXG4gICAgICAgIGlmICghZG9tRWxlbWVudCB8fCAhR2V0RWxlbWVudHNCeU5hbWVTZXQuaGFzKGRvbUVsZW1lbnQpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBkb21FbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicmVzZXRmb3JtXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlU2NyaXB0aW5nKSB7XG4gICAgICAgIHRoaXMubGlua1NlcnZpY2UuZXZlbnRCdXM/LmRpc3BhdGNoKFwiZGlzcGF0Y2hldmVudGluc2FuZGJveFwiLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLFxuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgaWQ6IFwiYXBwXCIsXG4gICAgICAgICAgICBpZHM6IGFsbElkcyxcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzZXRGb3JtXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuXG59XG5cbmNsYXNzIFRleHRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIGNvbnN0IGlzUmVuZGVyYWJsZSA9ICEhKHBhcmFtZXRlcnMuZGF0YS5oYXNQb3B1cCB8fCBwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJ0ZXh0QW5ub3RhdGlvblwiO1xuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XG4gICAgaW1hZ2Uuc3R5bGUud2lkdGggPSB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aDtcbiAgICBpbWFnZS5zcmMgPSB0aGlzLmltYWdlUmVzb3VyY2VzUGF0aCArIFwiYW5ub3RhdGlvbi1cIiArIHRoaXMuZGF0YS5uYW1lLnRvTG93ZXJDYXNlKCkgKyBcIi5zdmdcIjtcbiAgICBpbWFnZS5hbHQgPSBcIlt7e3R5cGV9fSBBbm5vdGF0aW9uXVwiO1xuICAgIGltYWdlLmRhdGFzZXQubDEwbklkID0gXCJ0ZXh0X2Fubm90YXRpb25fdHlwZVwiO1xuICAgIGltYWdlLmRhdGFzZXQubDEwbkFyZ3MgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0eXBlOiB0aGlzLmRhdGEubmFtZVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLmRhdGEuaGFzUG9wdXApIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVBvcHVwKGltYWdlLCB0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBXaWRnZXRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmRhdGEuYWx0ZXJuYXRpdmVUZXh0KSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci50aXRsZSA9IHRoaXMuZGF0YS5hbHRlcm5hdGl2ZVRleHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbiAgX2dldEtleU1vZGlmaWVyKGV2ZW50KSB7XG4gICAgY29uc3Qge1xuICAgICAgaXNXaW4sXG4gICAgICBpc01hY1xuICAgIH0gPSBBbm5vdGF0aW9uRWxlbWVudC5wbGF0Zm9ybTtcbiAgICByZXR1cm4gaXNXaW4gJiYgZXZlbnQuY3RybEtleSB8fCBpc01hYyAmJiBldmVudC5tZXRhS2V5O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXIoZWxlbWVudCwgYmFzZU5hbWUsIGV2ZW50TmFtZSwgdmFsdWVHZXR0ZXIpIHtcbiAgICBpZiAoYmFzZU5hbWUuaW5jbHVkZXMoXCJtb3VzZVwiKSkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGJhc2VOYW1lLCBldmVudCA9PiB7XG4gICAgICAgIHRoaXMubGlua1NlcnZpY2UuZXZlbnRCdXM/LmRpc3BhdGNoKFwiZGlzcGF0Y2hldmVudGluc2FuZGJveFwiLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLFxuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgaWQ6IHRoaXMuZGF0YS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZUdldHRlcihldmVudCksXG4gICAgICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICBtb2RpZmllcjogdGhpcy5fZ2V0S2V5TW9kaWZpZXIoZXZlbnQpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYmFzZU5hbWUsIGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5saW5rU2VydmljZS5ldmVudEJ1cz8uZGlzcGF0Y2goXCJkaXNwYXRjaGV2ZW50aW5zYW5kYm94XCIsIHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMsXG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICBpZDogdGhpcy5kYXRhLmlkLFxuICAgICAgICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlR2V0dGVyKGV2ZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoZWxlbWVudCwgbmFtZXMsIGdldHRlcikge1xuICAgIGZvciAoY29uc3QgW2Jhc2VOYW1lLCBldmVudE5hbWVdIG9mIG5hbWVzKSB7XG4gICAgICBpZiAoZXZlbnROYW1lID09PSBcIkFjdGlvblwiIHx8IHRoaXMuZGF0YS5hY3Rpb25zPy5bZXZlbnROYW1lXSkge1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKGVsZW1lbnQsIGJhc2VOYW1lLCBldmVudE5hbWUsIGdldHRlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3NldEJhY2tncm91bmRDb2xvcihlbGVtZW50KSB7XG4gICAgY29uc3QgY29sb3IgPSB0aGlzLmRhdGEuYmFja2dyb3VuZENvbG9yIHx8IG51bGw7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvciA9PT0gbnVsbCA/IFwidHJhbnNwYXJlbnRcIiA6IF91dGlsLlV0aWwubWFrZUhleENvbG9yKGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0pO1xuICB9XG5cbn1cblxuY2xhc3MgVGV4dFdpZGdldEFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgV2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgaXNSZW5kZXJhYmxlID0gcGFyYW1ldGVycy5yZW5kZXJGb3JtcyB8fCAhcGFyYW1ldGVycy5kYXRhLmhhc0FwcGVhcmFuY2UgJiYgISFwYXJhbWV0ZXJzLmRhdGEuZmllbGRWYWx1ZTtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGVcbiAgICB9KTtcbiAgfVxuXG4gIHNldFByb3BlcnR5T25TaWJsaW5ncyhiYXNlLCBrZXksIHZhbHVlLCBrZXlJblN0b3JhZ2UpIHtcbiAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5hbm5vdGF0aW9uU3RvcmFnZTtcblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLl9nZXRFbGVtZW50c0J5TmFtZShiYXNlLm5hbWUsIGJhc2UuaWQpKSB7XG4gICAgICBpZiAoZWxlbWVudC5kb21FbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuZG9tRWxlbWVudFtrZXldID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoZWxlbWVudC5pZCwge1xuICAgICAgICBba2V5SW5TdG9yYWdlXTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5hbm5vdGF0aW9uU3RvcmFnZTtcbiAgICBjb25zdCBpZCA9IHRoaXMuZGF0YS5pZDtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcInRleHRXaWRnZXRBbm5vdGF0aW9uXCI7XG4gICAgbGV0IGVsZW1lbnQgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMucmVuZGVyRm9ybXMpIHtcbiAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBzdG9yYWdlLmdldFZhbHVlKGlkLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLmRhdGEuZmllbGRWYWx1ZVxuICAgICAgfSk7XG4gICAgICBjb25zdCB0ZXh0Q29udGVudCA9IHN0b3JlZERhdGEuZm9ybWF0dGVkVmFsdWUgfHwgc3RvcmVkRGF0YS52YWx1ZSB8fCBcIlwiO1xuICAgICAgY29uc3QgZWxlbWVudERhdGEgPSB7XG4gICAgICAgIHVzZXJWYWx1ZTogbnVsbCxcbiAgICAgICAgZm9ybWF0dGVkVmFsdWU6IG51bGwsXG4gICAgICAgIHZhbHVlT25Gb2N1czogXCJcIlxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuZGF0YS5tdWx0aUxpbmUpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgZWxlbWVudC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdGV4dENvbnRlbnQpO1xuICAgICAgfVxuXG4gICAgICBHZXRFbGVtZW50c0J5TmFtZVNldC5hZGQoZWxlbWVudCk7XG4gICAgICBlbGVtZW50LmRpc2FibGVkID0gdGhpcy5kYXRhLnJlYWRPbmx5O1xuICAgICAgZWxlbWVudC5uYW1lID0gdGhpcy5kYXRhLmZpZWxkTmFtZTtcbiAgICAgIGVsZW1lbnQudGFiSW5kZXggPSBERUZBVUxUX1RBQl9JTkRFWDtcbiAgICAgIGVsZW1lbnREYXRhLnVzZXJWYWx1ZSA9IHRleHRDb250ZW50O1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBldmVudCA9PiB7XG4gICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5T25TaWJsaW5ncyhlbGVtZW50LCBcInZhbHVlXCIsIGV2ZW50LnRhcmdldC52YWx1ZSwgXCJ2YWx1ZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRmb3JtXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gdGhpcy5kYXRhLmRlZmF1bHRGaWVsZFZhbHVlID8/IFwiXCI7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSBlbGVtZW50RGF0YS51c2VyVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIGVsZW1lbnREYXRhLmZvcm1hdHRlZFZhbHVlID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgYmx1ckxpc3RlbmVyID0gZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZm9ybWF0dGVkVmFsdWVcbiAgICAgICAgfSA9IGVsZW1lbnREYXRhO1xuXG4gICAgICAgIGlmIChmb3JtYXR0ZWRWYWx1ZSAhPT0gbnVsbCAmJiBmb3JtYXR0ZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC50YXJnZXQuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5lbmFibGVTY3JpcHRpbmcgJiYgdGhpcy5oYXNKU0FjdGlvbnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgIGlmIChlbGVtZW50RGF0YS51c2VyVmFsdWUpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGVsZW1lbnREYXRhLnVzZXJWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50RGF0YS52YWx1ZU9uRm9jdXMgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVmcm9tc2FuZGJveFwiLCBqc0V2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCBhY3Rpb25zID0ge1xuICAgICAgICAgICAgdmFsdWUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgZWxlbWVudERhdGEudXNlclZhbHVlID0gZXZlbnQuZGV0YWlsLnZhbHVlID8/IFwiXCI7XG4gICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZWxlbWVudERhdGEudXNlclZhbHVlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGVsZW1lbnREYXRhLnVzZXJWYWx1ZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZVxuICAgICAgICAgICAgICB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICAgICAgICBlbGVtZW50RGF0YS5mb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdHRlZFZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChmb3JtYXR0ZWRWYWx1ZSAhPT0gbnVsbCAmJiBmb3JtYXR0ZWRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LnRhcmdldCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2VsUmFuZ2UoZXZlbnQpIHtcbiAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKC4uLmV2ZW50LmRldGFpbC5zZWxSYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudEZyb21TYW5kYm94KGFjdGlvbnMsIGpzRXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudCA9PiB7XG4gICAgICAgICAgbGV0IGNvbW1pdEtleSA9IC0xO1xuXG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgY29tbWl0S2V5ID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBjb21taXRLZXkgPSAyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICAgICAgICBjb21taXRLZXkgPSAzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb21taXRLZXkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICAgICAgaWYgKGVsZW1lbnREYXRhLnZhbHVlT25Gb2N1cyA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50RGF0YS51c2VyVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmxpbmtTZXJ2aWNlLmV2ZW50QnVzPy5kaXNwYXRjaChcImRpc3BhdGNoZXZlbnRpbnNhbmRib3hcIiwge1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBuYW1lOiBcIktleXN0cm9rZVwiLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgd2lsbENvbW1pdDogdHJ1ZSxcbiAgICAgICAgICAgICAgY29tbWl0S2V5LFxuICAgICAgICAgICAgICBzZWxTdGFydDogZXZlbnQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgICBzZWxFbmQ6IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25FbmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IF9ibHVyTGlzdGVuZXIgPSBibHVyTGlzdGVuZXI7XG4gICAgICAgIGJsdXJMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgfSA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICBlbGVtZW50RGF0YS51c2VyVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgIGlmICh0aGlzLl9tb3VzZVN0YXRlLmlzRG93biAmJiBlbGVtZW50RGF0YS52YWx1ZU9uRm9jdXMgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtTZXJ2aWNlLmV2ZW50QnVzPy5kaXNwYXRjaChcImRpc3BhdGNoZXZlbnRpbnNhbmRib3hcIiwge1xuICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMsXG4gICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiS2V5c3Ryb2tlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgd2lsbENvbW1pdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb21taXRLZXk6IDEsXG4gICAgICAgICAgICAgICAgc2VsU3RhcnQ6IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgICAgICBzZWxFbmQ6IGV2ZW50LnRhcmdldC5zZWxlY3Rpb25FbmRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2JsdXJMaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuYWN0aW9ucz8uS2V5c3Ryb2tlKSB7XG4gICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5wdXRcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICB0YXJnZXRcbiAgICAgICAgICAgIH0gPSBldmVudDtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgICBzZWxlY3Rpb25FbmRcbiAgICAgICAgICAgIH0gPSB0YXJnZXQ7XG4gICAgICAgICAgICBsZXQgc2VsU3RhcnQgPSBzZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgICAgICBzZWxFbmQgPSBzZWxlY3Rpb25FbmQ7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuaW5wdXRUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJkZWxldGVXb3JkQmFja3dhcmRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb25TdGFydCkubWF0Y2goL1xcdypbXlxcd10qJC8pO1xuXG4gICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsU3RhcnQgLT0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVdvcmRGb3J3YXJkXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uU3RhcnQpLm1hdGNoKC9eW15cXHddKlxcdyovKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbEVuZCArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCI6XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgICAgICAgIHNlbFN0YXJ0IC09IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZUNvbnRlbnRGb3J3YXJkXCI6XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgICAgICAgIHNlbEVuZCArPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5saW5rU2VydmljZS5ldmVudEJ1cz8uZGlzcGF0Y2goXCJkaXNwYXRjaGV2ZW50aW5zYW5kYm94XCIsIHtcbiAgICAgICAgICAgICAgc291cmNlOiB0aGlzLFxuICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBcIktleXN0cm9rZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogZGF0YSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIHdpbGxDb21taXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbFN0YXJ0LFxuICAgICAgICAgICAgICAgIHNlbEVuZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGVsZW1lbnQsIFtbXCJmb2N1c1wiLCBcIkZvY3VzXCJdLCBbXCJibHVyXCIsIFwiQmx1clwiXSwgW1wibW91c2Vkb3duXCIsIFwiTW91c2UgRG93blwiXSwgW1wibW91c2VlbnRlclwiLCBcIk1vdXNlIEVudGVyXCJdLCBbXCJtb3VzZWxlYXZlXCIsIFwiTW91c2UgRXhpdFwiXSwgW1wibW91c2V1cFwiLCBcIk1vdXNlIFVwXCJdXSwgZXZlbnQgPT4gZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJsdXJMaXN0ZW5lcikge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIGJsdXJMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRhdGEubWF4TGVuICE9PSBudWxsKSB7XG4gICAgICAgIGVsZW1lbnQubWF4TGVuZ3RoID0gdGhpcy5kYXRhLm1heExlbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGF0YS5jb21iKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkV2lkdGggPSB0aGlzLmRhdGEucmVjdFsyXSAtIHRoaXMuZGF0YS5yZWN0WzBdO1xuICAgICAgICBjb25zdCBjb21iV2lkdGggPSBmaWVsZFdpZHRoIC8gdGhpcy5kYXRhLm1heExlbjtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29tYlwiKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gYGNhbGMoJHtjb21iV2lkdGh9cHggLSAxY2gpYDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5kYXRhLmZpZWxkVmFsdWU7XG4gICAgICBlbGVtZW50LnN0eWxlLnZlcnRpY2FsQWxpZ24gPSBcIm1pZGRsZVwiO1xuICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJ0YWJsZS1jZWxsXCI7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0VGV4dFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgdGhpcy5fc2V0QmFja2dyb3VuZENvbG9yKGVsZW1lbnQpO1xuXG4gICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnRpZXNGcm9tSlMoZWxlbWVudCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxuICBfc2V0VGV4dFN0eWxlKGVsZW1lbnQpIHtcbiAgICBjb25zdCBURVhUX0FMSUdOTUVOVCA9IFtcImxlZnRcIiwgXCJjZW50ZXJcIiwgXCJyaWdodFwiXTtcbiAgICBjb25zdCB7XG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRDb2xvclxuICAgIH0gPSB0aGlzLmRhdGEuZGVmYXVsdEFwcGVhcmFuY2VEYXRhO1xuICAgIGNvbnN0IHN0eWxlID0gZWxlbWVudC5zdHlsZTtcblxuICAgIGlmIChmb250U2l6ZSkge1xuICAgICAgc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XG4gICAgfVxuXG4gICAgc3R5bGUuY29sb3IgPSBfdXRpbC5VdGlsLm1ha2VIZXhDb2xvcihmb250Q29sb3JbMF0sIGZvbnRDb2xvclsxXSwgZm9udENvbG9yWzJdKTtcblxuICAgIGlmICh0aGlzLmRhdGEudGV4dEFsaWdubWVudCAhPT0gbnVsbCkge1xuICAgICAgc3R5bGUudGV4dEFsaWduID0gVEVYVF9BTElHTk1FTlRbdGhpcy5kYXRhLnRleHRBbGlnbm1lbnRdO1xuICAgIH1cbiAgfVxuXG59XG5cbmNsYXNzIENoZWNrYm94V2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQgZXh0ZW5kcyBXaWRnZXRBbm5vdGF0aW9uRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMpIHtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGU6IHBhcmFtZXRlcnMucmVuZGVyRm9ybXNcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5hbm5vdGF0aW9uU3RvcmFnZTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGlkID0gZGF0YS5pZDtcbiAgICBsZXQgdmFsdWUgPSBzdG9yYWdlLmdldFZhbHVlKGlkLCB7XG4gICAgICB2YWx1ZTogZGF0YS5leHBvcnRWYWx1ZSA9PT0gZGF0YS5maWVsZFZhbHVlXG4gICAgfSkudmFsdWU7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlICE9PSBcIk9mZlwiO1xuICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJidXR0b25XaWRnZXRBbm5vdGF0aW9uIGNoZWNrQm94XCI7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBHZXRFbGVtZW50c0J5TmFtZVNldC5hZGQoZWxlbWVudCk7XG4gICAgZWxlbWVudC5kaXNhYmxlZCA9IGRhdGEucmVhZE9ubHk7XG4gICAgZWxlbWVudC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGVsZW1lbnQubmFtZSA9IGRhdGEuZmllbGROYW1lO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJleHBvcnRWYWx1ZVwiLCBkYXRhLmV4cG9ydFZhbHVlKTtcbiAgICBlbGVtZW50LnRhYkluZGV4ID0gREVGQVVMVF9UQUJfSU5ERVg7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgY2hlY2tlZFxuICAgICAgfSA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiB0aGlzLl9nZXRFbGVtZW50c0J5TmFtZShuYW1lLCBpZCkpIHtcbiAgICAgICAgY29uc3QgY3VyQ2hlY2tlZCA9IGNoZWNrZWQgJiYgY2hlY2tib3guZXhwb3J0VmFsdWUgPT09IGRhdGEuZXhwb3J0VmFsdWU7XG5cbiAgICAgICAgaWYgKGNoZWNrYm94LmRvbUVsZW1lbnQpIHtcbiAgICAgICAgICBjaGVja2JveC5kb21FbGVtZW50LmNoZWNrZWQgPSBjdXJDaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShjaGVja2JveC5pZCwge1xuICAgICAgICAgIHZhbHVlOiBjdXJDaGVja2VkXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzdG9yYWdlLnNldFZhbHVlKGlkLCB7XG4gICAgICAgIHZhbHVlOiBjaGVja2VkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldGZvcm1cIiwgZXZlbnQgPT4ge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZGF0YS5kZWZhdWx0RmllbGRWYWx1ZSB8fCBcIk9mZlwiO1xuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQgPSBkZWZhdWx0VmFsdWUgPT09IGRhdGEuZXhwb3J0VmFsdWU7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5lbmFibGVTY3JpcHRpbmcgJiYgdGhpcy5oYXNKU0FjdGlvbnMpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWZyb21zYW5kYm94XCIsIGpzRXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBhY3Rpb25zID0ge1xuICAgICAgICAgIHZhbHVlKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQuY2hlY2tlZCA9IGV2ZW50LmRldGFpbC52YWx1ZSAhPT0gXCJPZmZcIjtcbiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50LnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50RnJvbVNhbmRib3goYWN0aW9ucywganNFdmVudCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoZWxlbWVudCwgW1tcImNoYW5nZVwiLCBcIlZhbGlkYXRlXCJdLCBbXCJjaGFuZ2VcIiwgXCJBY3Rpb25cIl0sIFtcImZvY3VzXCIsIFwiRm9jdXNcIl0sIFtcImJsdXJcIiwgXCJCbHVyXCJdLCBbXCJtb3VzZWRvd25cIiwgXCJNb3VzZSBEb3duXCJdLCBbXCJtb3VzZWVudGVyXCIsIFwiTW91c2UgRW50ZXJcIl0sIFtcIm1vdXNlbGVhdmVcIiwgXCJNb3VzZSBFeGl0XCJdLCBbXCJtb3VzZXVwXCIsIFwiTW91c2UgVXBcIl1dLCBldmVudCA9PiBldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0QmFja2dyb3VuZENvbG9yKGVsZW1lbnQpO1xuXG4gICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnRpZXNGcm9tSlMoZWxlbWVudCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBSYWRpb0J1dHRvbldpZGdldEFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgV2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlOiBwYXJhbWV0ZXJzLnJlbmRlckZvcm1zXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJidXR0b25XaWRnZXRBbm5vdGF0aW9uIHJhZGlvQnV0dG9uXCI7XG4gICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuYW5ub3RhdGlvblN0b3JhZ2U7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBpZCA9IGRhdGEuaWQ7XG4gICAgbGV0IHZhbHVlID0gc3RvcmFnZS5nZXRWYWx1ZShpZCwge1xuICAgICAgdmFsdWU6IGRhdGEuZmllbGRWYWx1ZSA9PT0gZGF0YS5idXR0b25WYWx1ZVxuICAgIH0pLnZhbHVlO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFsdWUgPSB2YWx1ZSAhPT0gZGF0YS5idXR0b25WYWx1ZTtcbiAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgR2V0RWxlbWVudHNCeU5hbWVTZXQuYWRkKGVsZW1lbnQpO1xuICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBkYXRhLnJlYWRPbmx5O1xuICAgIGVsZW1lbnQudHlwZSA9IFwicmFkaW9cIjtcbiAgICBlbGVtZW50Lm5hbWUgPSBkYXRhLmZpZWxkTmFtZTtcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIHRydWUpO1xuICAgIH1cblxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuICAgIGVsZW1lbnQudGFiSW5kZXggPSBERUZBVUxUX1RBQl9JTkRFWDtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZXZlbnQgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBuYW1lLFxuICAgICAgICBjaGVja2VkXG4gICAgICB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICBmb3IgKGNvbnN0IHJhZGlvIG9mIHRoaXMuX2dldEVsZW1lbnRzQnlOYW1lKG5hbWUsIGlkKSkge1xuICAgICAgICBzdG9yYWdlLnNldFZhbHVlKHJhZGlvLmlkLCB7XG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzdG9yYWdlLnNldFZhbHVlKGlkLCB7XG4gICAgICAgIHZhbHVlOiBjaGVja2VkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldGZvcm1cIiwgZXZlbnQgPT4ge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZGF0YS5kZWZhdWx0RmllbGRWYWx1ZTtcbiAgICAgIGV2ZW50LnRhcmdldC5jaGVja2VkID0gZGVmYXVsdFZhbHVlICE9PSBudWxsICYmIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGRlZmF1bHRWYWx1ZSA9PT0gZGF0YS5idXR0b25WYWx1ZTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmVuYWJsZVNjcmlwdGluZyAmJiB0aGlzLmhhc0pTQWN0aW9ucykge1xuICAgICAgY29uc3QgcGRmQnV0dG9uVmFsdWUgPSBkYXRhLmJ1dHRvblZhbHVlO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlZnJvbXNhbmRib3hcIiwganNFdmVudCA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSB7XG4gICAgICAgICAgdmFsdWU6IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBwZGZCdXR0b25WYWx1ZSA9PT0gZXZlbnQuZGV0YWlsLnZhbHVlO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJhZGlvIG9mIHRoaXMuX2dldEVsZW1lbnRzQnlOYW1lKGV2ZW50LnRhcmdldC5uYW1lKSkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJDaGVja2VkID0gY2hlY2tlZCAmJiByYWRpby5pZCA9PT0gaWQ7XG5cbiAgICAgICAgICAgICAgaWYgKHJhZGlvLmRvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByYWRpby5kb21FbGVtZW50LmNoZWNrZWQgPSBjdXJDaGVja2VkO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShyYWRpby5pZCwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJDaGVja2VkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50RnJvbVNhbmRib3goYWN0aW9ucywganNFdmVudCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoZWxlbWVudCwgW1tcImNoYW5nZVwiLCBcIlZhbGlkYXRlXCJdLCBbXCJjaGFuZ2VcIiwgXCJBY3Rpb25cIl0sIFtcImZvY3VzXCIsIFwiRm9jdXNcIl0sIFtcImJsdXJcIiwgXCJCbHVyXCJdLCBbXCJtb3VzZWRvd25cIiwgXCJNb3VzZSBEb3duXCJdLCBbXCJtb3VzZWVudGVyXCIsIFwiTW91c2UgRW50ZXJcIl0sIFtcIm1vdXNlbGVhdmVcIiwgXCJNb3VzZSBFeGl0XCJdLCBbXCJtb3VzZXVwXCIsIFwiTW91c2UgVXBcIl1dLCBldmVudCA9PiBldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0QmFja2dyb3VuZENvbG9yKGVsZW1lbnQpO1xuXG4gICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnRpZXNGcm9tSlMoZWxlbWVudCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBQdXNoQnV0dG9uV2lkZ2V0QW5ub3RhdGlvbkVsZW1lbnQgZXh0ZW5kcyBMaW5rQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaWdub3JlQm9yZGVyOiBwYXJhbWV0ZXJzLmRhdGEuaGFzQXBwZWFyYW5jZVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHN1cGVyLnJlbmRlcigpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcImJ1dHRvbldpZGdldEFubm90YXRpb24gcHVzaEJ1dHRvblwiO1xuXG4gICAgaWYgKHRoaXMuZGF0YS5hbHRlcm5hdGl2ZVRleHQpIHtcbiAgICAgIGNvbnRhaW5lci50aXRsZSA9IHRoaXMuZGF0YS5hbHRlcm5hdGl2ZVRleHQ7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnRpZXNGcm9tSlMoY29udGFpbmVyKTtcblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBDaG9pY2VXaWRnZXRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIFdpZGdldEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIHN1cGVyKHBhcmFtZXRlcnMsIHtcbiAgICAgIGlzUmVuZGVyYWJsZTogcGFyYW1ldGVycy5yZW5kZXJGb3Jtc1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY2hvaWNlV2lkZ2V0QW5ub3RhdGlvblwiO1xuICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLmFubm90YXRpb25TdG9yYWdlO1xuICAgIGNvbnN0IGlkID0gdGhpcy5kYXRhLmlkO1xuICAgIGNvbnN0IHN0b3JlZERhdGEgPSBzdG9yYWdlLmdldFZhbHVlKGlkLCB7XG4gICAgICB2YWx1ZTogdGhpcy5kYXRhLmZpZWxkVmFsdWVcbiAgICB9KTtcbiAgICBsZXQge1xuICAgICAgZm9udFNpemVcbiAgICB9ID0gdGhpcy5kYXRhLmRlZmF1bHRBcHBlYXJhbmNlRGF0YTtcblxuICAgIGlmICghZm9udFNpemUpIHtcbiAgICAgIGZvbnRTaXplID0gOTtcbiAgICB9XG5cbiAgICBjb25zdCBmb250U2l6ZVN0eWxlID0gYGNhbGMoJHtmb250U2l6ZX1weCAqIHZhcigtLXpvb20tZmFjdG9yKSlgO1xuICAgIGNvbnN0IHNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIEdldEVsZW1lbnRzQnlOYW1lU2V0LmFkZChzZWxlY3RFbGVtZW50KTtcbiAgICBzZWxlY3RFbGVtZW50LmRpc2FibGVkID0gdGhpcy5kYXRhLnJlYWRPbmx5O1xuICAgIHNlbGVjdEVsZW1lbnQubmFtZSA9IHRoaXMuZGF0YS5maWVsZE5hbWU7XG4gICAgc2VsZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XG4gICAgc2VsZWN0RWxlbWVudC50YWJJbmRleCA9IERFRkFVTFRfVEFCX0lOREVYO1xuICAgIHNlbGVjdEVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSBgJHtmb250U2l6ZX1weGA7XG5cbiAgICBpZiAoIXRoaXMuZGF0YS5jb21ibykge1xuICAgICAgc2VsZWN0RWxlbWVudC5zaXplID0gdGhpcy5kYXRhLm9wdGlvbnMubGVuZ3RoO1xuXG4gICAgICBpZiAodGhpcy5kYXRhLm11bHRpU2VsZWN0KSB7XG4gICAgICAgIHNlbGVjdEVsZW1lbnQubXVsdGlwbGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0Zm9ybVwiLCBldmVudCA9PiB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGlzLmRhdGEuZGVmYXVsdEZpZWxkVmFsdWU7XG5cbiAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIHNlbGVjdEVsZW1lbnQub3B0aW9ucykge1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBvcHRpb24udmFsdWUgPT09IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIHRoaXMuZGF0YS5vcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIG9wdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBvcHRpb24uZGlzcGxheVZhbHVlO1xuICAgICAgb3B0aW9uRWxlbWVudC52YWx1ZSA9IG9wdGlvbi5leHBvcnRWYWx1ZTtcblxuICAgICAgaWYgKHRoaXMuZGF0YS5jb21ibykge1xuICAgICAgICBvcHRpb25FbGVtZW50LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemVTdHlsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0b3JlZERhdGEudmFsdWUuaW5jbHVkZXMob3B0aW9uLmV4cG9ydFZhbHVlKSkge1xuICAgICAgICBvcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFZhbHVlID0gKGV2ZW50LCBpc0V4cG9ydCkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGlzRXhwb3J0ID8gXCJ2YWx1ZVwiIDogXCJ0ZXh0Q29udGVudFwiO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGV2ZW50LnRhcmdldC5vcHRpb25zO1xuXG4gICAgICBpZiAoIWV2ZW50LnRhcmdldC5tdWx0aXBsZSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5zZWxlY3RlZEluZGV4ID09PSAtMSA/IG51bGwgOiBvcHRpb25zW29wdGlvbnMuc2VsZWN0ZWRJbmRleF1bbmFtZV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwob3B0aW9ucywgb3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZCkubWFwKG9wdGlvbiA9PiBvcHRpb25bbmFtZV0pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRJdGVtcyA9IGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBldmVudC50YXJnZXQub3B0aW9ucztcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwob3B0aW9ucywgb3B0aW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaXNwbGF5VmFsdWU6IG9wdGlvbi50ZXh0Q29udGVudCxcbiAgICAgICAgICBleHBvcnRWYWx1ZTogb3B0aW9uLnZhbHVlXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuZW5hYmxlU2NyaXB0aW5nICYmIHRoaXMuaGFzSlNBY3Rpb25zKSB7XG4gICAgICBzZWxlY3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVmcm9tc2FuZGJveFwiLCBqc0V2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IHtcbiAgICAgICAgICB2YWx1ZShldmVudCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmVudC5kZXRhaWwudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBuZXcgU2V0KEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygc2VsZWN0RWxlbWVudC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlcy5oYXMob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICB2YWx1ZTogZ2V0VmFsdWUoZXZlbnQsIHRydWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgbXVsdGlwbGVTZWxlY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQubXVsdGlwbGUgPSB0cnVlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICByZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzZWxlY3RFbGVtZW50Lm9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LmRldGFpbC5yZW1vdmU7XG4gICAgICAgICAgICBvcHRpb25zW2luZGV4XS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZWN0RWxlbWVudC5yZW1vdmUoaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGkgPSBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwob3B0aW9ucywgb3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZCk7XG5cbiAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1swXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICB2YWx1ZTogZ2V0VmFsdWUoZXZlbnQsIHRydWUpLFxuICAgICAgICAgICAgICBpdGVtczogZ2V0SXRlbXMoZXZlbnQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgY2xlYXIoZXZlbnQpIHtcbiAgICAgICAgICAgIHdoaWxlIChzZWxlY3RFbGVtZW50Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LnJlbW92ZSgwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgaW5zZXJ0KGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICBkaXNwbGF5VmFsdWUsXG4gICAgICAgICAgICAgIGV4cG9ydFZhbHVlXG4gICAgICAgICAgICB9ID0gZXZlbnQuZGV0YWlsLmluc2VydDtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRpc3BsYXlWYWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQudmFsdWUgPSBleHBvcnRWYWx1ZTtcbiAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG9wdGlvbkVsZW1lbnQsIHNlbGVjdEVsZW1lbnQuY2hpbGRyZW5baW5kZXhdKTtcbiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGdldFZhbHVlKGV2ZW50LCB0cnVlKSxcbiAgICAgICAgICAgICAgaXRlbXM6IGdldEl0ZW1zKGV2ZW50KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGl0ZW1zKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIGl0ZW1zXG4gICAgICAgICAgICB9ID0gZXZlbnQuZGV0YWlsO1xuXG4gICAgICAgICAgICB3aGlsZSAoc2VsZWN0RWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudC5yZW1vdmUoMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheVZhbHVlLFxuICAgICAgICAgICAgICAgIGV4cG9ydFZhbHVlXG4gICAgICAgICAgICAgIH0gPSBpdGVtO1xuICAgICAgICAgICAgICBjb25zdCBvcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRpc3BsYXlWYWx1ZTtcbiAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC52YWx1ZSA9IGV4cG9ydFZhbHVlO1xuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VsZWN0RWxlbWVudC5vcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudC5vcHRpb25zWzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICB2YWx1ZTogZ2V0VmFsdWUoZXZlbnQsIHRydWUpLFxuICAgICAgICAgICAgICBpdGVtczogZ2V0SXRlbXMoZXZlbnQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgaW5kaWNlcyhldmVudCkge1xuICAgICAgICAgICAgY29uc3QgaW5kaWNlcyA9IG5ldyBTZXQoZXZlbnQuZGV0YWlsLmluZGljZXMpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBldmVudC50YXJnZXQub3B0aW9ucykge1xuICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpbmRpY2VzLmhhcyhvcHRpb24uaW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKGlkLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBnZXRWYWx1ZShldmVudCwgdHJ1ZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBlZGl0YWJsZShldmVudCkge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmRpc2FibGVkID0gIWV2ZW50LmRldGFpbC5lZGl0YWJsZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50RnJvbVNhbmRib3goYWN0aW9ucywganNFdmVudCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgZXhwb3J0VmFsdWUgPSBnZXRWYWx1ZShldmVudCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0VmFsdWUoZXZlbnQsIGZhbHNlKTtcbiAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgIHZhbHVlOiBleHBvcnRWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saW5rU2VydmljZS5ldmVudEJ1cz8uZGlzcGF0Y2goXCJkaXNwYXRjaGV2ZW50aW5zYW5kYm94XCIsIHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMsXG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG5hbWU6IFwiS2V5c3Ryb2tlXCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNoYW5nZUV4OiBleHBvcnRWYWx1ZSxcbiAgICAgICAgICAgIHdpbGxDb21taXQ6IHRydWUsXG4gICAgICAgICAgICBjb21taXRLZXk6IDEsXG4gICAgICAgICAgICBrZXlEb3duOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoc2VsZWN0RWxlbWVudCwgW1tcImZvY3VzXCIsIFwiRm9jdXNcIl0sIFtcImJsdXJcIiwgXCJCbHVyXCJdLCBbXCJtb3VzZWRvd25cIiwgXCJNb3VzZSBEb3duXCJdLCBbXCJtb3VzZWVudGVyXCIsIFwiTW91c2UgRW50ZXJcIl0sIFtcIm1vdXNlbGVhdmVcIiwgXCJNb3VzZSBFeGl0XCJdLCBbXCJtb3VzZXVwXCIsIFwiTW91c2UgVXBcIl0sIFtcImlucHV0XCIsIFwiQWN0aW9uXCJdXSwgZXZlbnQgPT4gZXZlbnQudGFyZ2V0LmNoZWNrZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgIHZhbHVlOiBnZXRWYWx1ZShldmVudCwgdHJ1ZSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRCYWNrZ3JvdW5kQ29sb3Ioc2VsZWN0RWxlbWVudCk7XG5cbiAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydGllc0Zyb21KUyhzZWxlY3RFbGVtZW50KTtcblxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdEVsZW1lbnQpO1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuXG59XG5cbmNsYXNzIFBvcHVwQW5ub3RhdGlvbkVsZW1lbnQgZXh0ZW5kcyBBbm5vdGF0aW9uRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBpc1JlbmRlcmFibGUgPSAhIShwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgSUdOT1JFX1RZUEVTID0gW1wiTGluZVwiLCBcIlNxdWFyZVwiLCBcIkNpcmNsZVwiLCBcIlBvbHlMaW5lXCIsIFwiUG9seWdvblwiLCBcIklua1wiXTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcInBvcHVwQW5ub3RhdGlvblwiO1xuXG4gICAgaWYgKElHTk9SRV9UWVBFUy5pbmNsdWRlcyh0aGlzLmRhdGEucGFyZW50VHlwZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjb25zdCBzZWxlY3RvciA9IGBbZGF0YS1hbm5vdGF0aW9uLWlkPVwiJHt0aGlzLmRhdGEucGFyZW50SWR9XCJdYDtcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50cyA9IHRoaXMubGF5ZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgICBpZiAocGFyZW50RWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgfVxuXG4gICAgY29uc3QgcG9wdXAgPSBuZXcgUG9wdXBFbGVtZW50KHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICB0cmlnZ2VyOiBBcnJheS5mcm9tKHBhcmVudEVsZW1lbnRzKSxcbiAgICAgIGNvbG9yOiB0aGlzLmRhdGEuY29sb3IsXG4gICAgICB0aXRsZU9iajogdGhpcy5kYXRhLnRpdGxlT2JqLFxuICAgICAgbW9kaWZpY2F0aW9uRGF0ZTogdGhpcy5kYXRhLm1vZGlmaWNhdGlvbkRhdGUsXG4gICAgICBjb250ZW50c09iajogdGhpcy5kYXRhLmNvbnRlbnRzT2JqLFxuICAgICAgcmljaFRleHQ6IHRoaXMuZGF0YS5yaWNoVGV4dFxuICAgIH0pO1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnBhZ2U7XG5cbiAgICBjb25zdCByZWN0ID0gX3V0aWwuVXRpbC5ub3JtYWxpemVSZWN0KFt0aGlzLmRhdGEucGFyZW50UmVjdFswXSwgcGFnZS52aWV3WzNdIC0gdGhpcy5kYXRhLnBhcmVudFJlY3RbMV0gKyBwYWdlLnZpZXdbMV0sIHRoaXMuZGF0YS5wYXJlbnRSZWN0WzJdLCBwYWdlLnZpZXdbM10gLSB0aGlzLmRhdGEucGFyZW50UmVjdFszXSArIHBhZ2Uudmlld1sxXV0pO1xuXG4gICAgY29uc3QgcG9wdXBMZWZ0ID0gcmVjdFswXSArIHRoaXMuZGF0YS5wYXJlbnRSZWN0WzJdIC0gdGhpcy5kYXRhLnBhcmVudFJlY3RbMF07XG4gICAgY29uc3QgcG9wdXBUb3AgPSByZWN0WzFdO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAkey1wb3B1cExlZnR9cHggJHstcG9wdXBUb3B9cHhgO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtwb3B1cExlZnR9cHhgO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3BvcHVwVG9wfXB4YDtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChwb3B1cC5yZW5kZXIoKSk7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbn1cblxuY2xhc3MgUG9wdXBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIHRoaXMuY29udGFpbmVyID0gcGFyYW1ldGVycy5jb250YWluZXI7XG4gICAgdGhpcy50cmlnZ2VyID0gcGFyYW1ldGVycy50cmlnZ2VyO1xuICAgIHRoaXMuY29sb3IgPSBwYXJhbWV0ZXJzLmNvbG9yO1xuICAgIHRoaXMudGl0bGVPYmogPSBwYXJhbWV0ZXJzLnRpdGxlT2JqO1xuICAgIHRoaXMubW9kaWZpY2F0aW9uRGF0ZSA9IHBhcmFtZXRlcnMubW9kaWZpY2F0aW9uRGF0ZTtcbiAgICB0aGlzLmNvbnRlbnRzT2JqID0gcGFyYW1ldGVycy5jb250ZW50c09iajtcbiAgICB0aGlzLnJpY2hUZXh0ID0gcGFyYW1ldGVycy5yaWNoVGV4dDtcbiAgICB0aGlzLmhpZGVXcmFwcGVyID0gcGFyYW1ldGVycy5oaWRlV3JhcHBlciB8fCBmYWxzZTtcbiAgICB0aGlzLnBpbm5lZCA9IGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IEJBQ0tHUk9VTkRfRU5MSUdIVCA9IDAuNztcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IFwicG9wdXBXcmFwcGVyXCI7XG4gICAgdGhpcy5oaWRlRWxlbWVudCA9IHRoaXMuaGlkZVdyYXBwZXIgPyB3cmFwcGVyIDogdGhpcy5jb250YWluZXI7XG4gICAgdGhpcy5oaWRlRWxlbWVudC5oaWRkZW4gPSB0cnVlO1xuICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwb3B1cC5jbGFzc05hbWUgPSBcInBvcHVwXCI7XG4gICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yO1xuXG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICBjb25zdCByID0gQkFDS0dST1VORF9FTkxJR0hUICogKDI1NSAtIGNvbG9yWzBdKSArIGNvbG9yWzBdO1xuICAgICAgY29uc3QgZyA9IEJBQ0tHUk9VTkRfRU5MSUdIVCAqICgyNTUgLSBjb2xvclsxXSkgKyBjb2xvclsxXTtcbiAgICAgIGNvbnN0IGIgPSBCQUNLR1JPVU5EX0VOTElHSFQgKiAoMjU1IC0gY29sb3JbMl0pICsgY29sb3JbMl07XG4gICAgICBwb3B1cC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBfdXRpbC5VdGlsLm1ha2VIZXhDb2xvcihyIHwgMCwgZyB8IDAsIGIgfCAwKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICB0aXRsZS5kaXIgPSB0aGlzLnRpdGxlT2JqLmRpcjtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IHRoaXMudGl0bGVPYmouc3RyO1xuICAgIHBvcHVwLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICAgIGNvbnN0IGRhdGVPYmplY3QgPSBfZGlzcGxheV91dGlscy5QREZEYXRlU3RyaW5nLnRvRGF0ZU9iamVjdCh0aGlzLm1vZGlmaWNhdGlvbkRhdGUpO1xuXG4gICAgaWYgKGRhdGVPYmplY3QpIHtcbiAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIG1vZGlmaWNhdGlvbkRhdGUuY2xhc3NOYW1lID0gXCJwb3B1cERhdGVcIjtcbiAgICAgIG1vZGlmaWNhdGlvbkRhdGUudGV4dENvbnRlbnQgPSBcInt7ZGF0ZX19LCB7e3RpbWV9fVwiO1xuICAgICAgbW9kaWZpY2F0aW9uRGF0ZS5kYXRhc2V0LmwxMG5JZCA9IFwiYW5ub3RhdGlvbl9kYXRlX3N0cmluZ1wiO1xuICAgICAgbW9kaWZpY2F0aW9uRGF0ZS5kYXRhc2V0LmwxMG5BcmdzID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBkYXRlOiBkYXRlT2JqZWN0LnRvTG9jYWxlRGF0ZVN0cmluZygpLFxuICAgICAgICB0aW1lOiBkYXRlT2JqZWN0LnRvTG9jYWxlVGltZVN0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHBvcHVwLmFwcGVuZENoaWxkKG1vZGlmaWNhdGlvbkRhdGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJpY2hUZXh0Py5zdHIgJiYgKCF0aGlzLmNvbnRlbnRzT2JqPy5zdHIgfHwgdGhpcy5jb250ZW50c09iai5zdHIgPT09IHRoaXMucmljaFRleHQuc3RyKSkge1xuICAgICAgX3hmYV9sYXllci5YZmFMYXllci5yZW5kZXIoe1xuICAgICAgICB4ZmFIdG1sOiB0aGlzLnJpY2hUZXh0Lmh0bWwsXG4gICAgICAgIGludGVudDogXCJyaWNoVGV4dFwiLFxuICAgICAgICBkaXY6IHBvcHVwXG4gICAgICB9KTtcblxuICAgICAgcG9wdXAubGFzdENoaWxkLmNsYXNzTmFtZSA9IFwicmljaFRleHQgcG9wdXBDb250ZW50XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRzID0gdGhpcy5fZm9ybWF0Q29udGVudHModGhpcy5jb250ZW50c09iaik7XG5cbiAgICAgIHBvcHVwLmFwcGVuZENoaWxkKGNvbnRlbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy50cmlnZ2VyKSkge1xuICAgICAgdGhpcy50cmlnZ2VyID0gW3RoaXMudHJpZ2dlcl07XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMudHJpZ2dlcikge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fdG9nZ2xlLmJpbmQodGhpcykpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuX3Nob3cuYmluZCh0aGlzLCBmYWxzZSkpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgdGhpcy5faGlkZS5iaW5kKHRoaXMsIGZhbHNlKSk7XG4gICAgfVxuXG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hpZGUuYmluZCh0aGlzLCB0cnVlKSk7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChwb3B1cCk7XG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH1cblxuICBfZm9ybWF0Q29udGVudHMoe1xuICAgIHN0cixcbiAgICBkaXJcbiAgfSkge1xuICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwLmNsYXNzTmFtZSA9IFwicG9wdXBDb250ZW50XCI7XG4gICAgcC5kaXIgPSBkaXI7XG4gICAgY29uc3QgbGluZXMgPSBzdHIuc3BsaXQoLyg/Olxcclxcbj98XFxuKS8pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbGluZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgcC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsaW5lKSk7XG5cbiAgICAgIGlmIChpIDwgaWkgLSAxKSB7XG4gICAgICAgIHAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcDtcbiAgfVxuXG4gIF90b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMucGlubmVkKSB7XG4gICAgICB0aGlzLl9oaWRlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zaG93KHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93KHBpbiA9IGZhbHNlKSB7XG4gICAgaWYgKHBpbikge1xuICAgICAgdGhpcy5waW5uZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhpZGVFbGVtZW50LmhpZGRlbikge1xuICAgICAgdGhpcy5oaWRlRWxlbWVudC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnpJbmRleCArPSAxO1xuICAgIH1cbiAgfVxuXG4gIF9oaWRlKHVucGluID0gdHJ1ZSkge1xuICAgIGlmICh1bnBpbikge1xuICAgICAgdGhpcy5waW5uZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGlkZUVsZW1lbnQuaGlkZGVuICYmICF0aGlzLnBpbm5lZCkge1xuICAgICAgdGhpcy5oaWRlRWxlbWVudC5oaWRkZW4gPSB0cnVlO1xuICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4IC09IDE7XG4gICAgfVxuICB9XG5cbn1cblxuY2xhc3MgRnJlZVRleHRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIGNvbnN0IGlzUmVuZGVyYWJsZSA9ICEhKHBhcmFtZXRlcnMuZGF0YS5oYXNQb3B1cCB8fCBwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlLFxuICAgICAgaWdub3JlQm9yZGVyOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJmcmVlVGV4dEFubm90YXRpb25cIjtcblxuICAgIGlmICghdGhpcy5kYXRhLmhhc1BvcHVwKSB7XG4gICAgICB0aGlzLl9jcmVhdGVQb3B1cChudWxsLCB0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuXG59XG5cbmNsYXNzIExpbmVBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIGNvbnN0IGlzUmVuZGVyYWJsZSA9ICEhKHBhcmFtZXRlcnMuZGF0YS5oYXNQb3B1cCB8fCBwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlLFxuICAgICAgaWdub3JlQm9yZGVyOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJsaW5lQW5ub3RhdGlvblwiO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gZ2V0UmVjdERpbXMoZGF0YS5yZWN0KTtcbiAgICBjb25zdCBzdmcgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlKHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2ZzpsaW5lXCIpO1xuICAgIGxpbmUuc2V0QXR0cmlidXRlKFwieDFcIiwgZGF0YS5yZWN0WzJdIC0gZGF0YS5saW5lQ29vcmRpbmF0ZXNbMF0pO1xuICAgIGxpbmUuc2V0QXR0cmlidXRlKFwieTFcIiwgZGF0YS5yZWN0WzNdIC0gZGF0YS5saW5lQ29vcmRpbmF0ZXNbMV0pO1xuICAgIGxpbmUuc2V0QXR0cmlidXRlKFwieDJcIiwgZGF0YS5yZWN0WzJdIC0gZGF0YS5saW5lQ29vcmRpbmF0ZXNbMl0pO1xuICAgIGxpbmUuc2V0QXR0cmlidXRlKFwieTJcIiwgZGF0YS5yZWN0WzNdIC0gZGF0YS5saW5lQ29vcmRpbmF0ZXNbM10pO1xuICAgIGxpbmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIGRhdGEuYm9yZGVyU3R5bGUud2lkdGggfHwgMSk7XG4gICAgbGluZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgXCJ0cmFuc3BhcmVudFwiKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ0cmFuc3BhcmVudFwiKTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQobGluZSk7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHN2Zyk7XG5cbiAgICB0aGlzLl9jcmVhdGVQb3B1cChsaW5lLCBkYXRhKTtcblxuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuXG59XG5cbmNsYXNzIFNxdWFyZUFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgaXNSZW5kZXJhYmxlID0gISEocGFyYW1ldGVycy5kYXRhLmhhc1BvcHVwIHx8IHBhcmFtZXRlcnMuZGF0YS50aXRsZU9iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5jb250ZW50c09iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5yaWNoVGV4dD8uc3RyKTtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGUsXG4gICAgICBpZ25vcmVCb3JkZXI6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNxdWFyZUFubm90YXRpb25cIjtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfSA9IGdldFJlY3REaW1zKGRhdGEucmVjdCk7XG4gICAgY29uc3Qgc3ZnID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb25zdCBib3JkZXJXaWR0aCA9IGRhdGEuYm9yZGVyU3R5bGUud2lkdGg7XG4gICAgY29uc3Qgc3F1YXJlID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6cmVjdFwiKTtcbiAgICBzcXVhcmUuc2V0QXR0cmlidXRlKFwieFwiLCBib3JkZXJXaWR0aCAvIDIpO1xuICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoXCJ5XCIsIGJvcmRlcldpZHRoIC8gMik7XG4gICAgc3F1YXJlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoIC0gYm9yZGVyV2lkdGgpO1xuICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0IC0gYm9yZGVyV2lkdGgpO1xuICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIiwgYm9yZGVyV2lkdGggfHwgMSk7XG4gICAgc3F1YXJlLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBcInRyYW5zcGFyZW50XCIpO1xuICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwidHJhbnNwYXJlbnRcIik7XG4gICAgc3ZnLmFwcGVuZENoaWxkKHNxdWFyZSk7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHN2Zyk7XG5cbiAgICB0aGlzLl9jcmVhdGVQb3B1cChzcXVhcmUsIGRhdGEpO1xuXG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbn1cblxuY2xhc3MgQ2lyY2xlQW5ub3RhdGlvbkVsZW1lbnQgZXh0ZW5kcyBBbm5vdGF0aW9uRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBpc1JlbmRlcmFibGUgPSAhIShwYXJhbWV0ZXJzLmRhdGEuaGFzUG9wdXAgfHwgcGFyYW1ldGVycy5kYXRhLnRpdGxlT2JqPy5zdHIgfHwgcGFyYW1ldGVycy5kYXRhLmNvbnRlbnRzT2JqPy5zdHIgfHwgcGFyYW1ldGVycy5kYXRhLnJpY2hUZXh0Py5zdHIpO1xuICAgIHN1cGVyKHBhcmFtZXRlcnMsIHtcbiAgICAgIGlzUmVuZGVyYWJsZSxcbiAgICAgIGlnbm9yZUJvcmRlcjogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY2lyY2xlQW5ub3RhdGlvblwiO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gZ2V0UmVjdERpbXMoZGF0YS5yZWN0KTtcbiAgICBjb25zdCBzdmcgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlKHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnN0IGJvcmRlcldpZHRoID0gZGF0YS5ib3JkZXJTdHlsZS53aWR0aDtcbiAgICBjb25zdCBjaXJjbGUgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2ZzplbGxpcHNlXCIpO1xuICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCB3aWR0aCAvIDIpO1xuICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeVwiLCBoZWlnaHQgLyAyKTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwicnhcIiwgd2lkdGggLyAyIC0gYm9yZGVyV2lkdGggLyAyKTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwicnlcIiwgaGVpZ2h0IC8gMiAtIGJvcmRlcldpZHRoIC8gMik7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLCBib3JkZXJXaWR0aCB8fCAxKTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIFwidHJhbnNwYXJlbnRcIik7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ0cmFuc3BhcmVudFwiKTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQoY2lyY2xlKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoc3ZnKTtcblxuICAgIHRoaXMuX2NyZWF0ZVBvcHVwKGNpcmNsZSwgZGF0YSk7XG5cbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBQb2x5bGluZUFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgaXNSZW5kZXJhYmxlID0gISEocGFyYW1ldGVycy5kYXRhLmhhc1BvcHVwIHx8IHBhcmFtZXRlcnMuZGF0YS50aXRsZU9iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5jb250ZW50c09iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5yaWNoVGV4dD8uc3RyKTtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGUsXG4gICAgICBpZ25vcmVCb3JkZXI6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRhaW5lckNsYXNzTmFtZSA9IFwicG9seWxpbmVBbm5vdGF0aW9uXCI7XG4gICAgdGhpcy5zdmdFbGVtZW50TmFtZSA9IFwic3ZnOnBvbHlsaW5lXCI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gdGhpcy5jb250YWluZXJDbGFzc05hbWU7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBnZXRSZWN0RGltcyhkYXRhLnJlY3QpO1xuICAgIGNvbnN0IHN2ZyA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGUod2lkdGgsIGhlaWdodCk7XG4gICAgbGV0IHBvaW50cyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBjb29yZGluYXRlIG9mIGRhdGEudmVydGljZXMpIHtcbiAgICAgIGNvbnN0IHggPSBjb29yZGluYXRlLnggLSBkYXRhLnJlY3RbMF07XG4gICAgICBjb25zdCB5ID0gZGF0YS5yZWN0WzNdIC0gY29vcmRpbmF0ZS55O1xuICAgICAgcG9pbnRzLnB1c2goeCArIFwiLFwiICsgeSk7XG4gICAgfVxuXG4gICAgcG9pbnRzID0gcG9pbnRzLmpvaW4oXCIgXCIpO1xuICAgIGNvbnN0IHBvbHlsaW5lID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQodGhpcy5zdmdFbGVtZW50TmFtZSk7XG4gICAgcG9seWxpbmUuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHBvaW50cyk7XG4gICAgcG9seWxpbmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIGRhdGEuYm9yZGVyU3R5bGUud2lkdGggfHwgMSk7XG4gICAgcG9seWxpbmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIFwidHJhbnNwYXJlbnRcIik7XG4gICAgcG9seWxpbmUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcInRyYW5zcGFyZW50XCIpO1xuICAgIHN2Zy5hcHBlbmRDaGlsZChwb2x5bGluZSk7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHN2Zyk7XG5cbiAgICB0aGlzLl9jcmVhdGVQb3B1cChwb2x5bGluZSwgZGF0YSk7XG5cbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBQb2x5Z29uQW5ub3RhdGlvbkVsZW1lbnQgZXh0ZW5kcyBQb2x5bGluZUFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIHN1cGVyKHBhcmFtZXRlcnMpO1xuICAgIHRoaXMuY29udGFpbmVyQ2xhc3NOYW1lID0gXCJwb2x5Z29uQW5ub3RhdGlvblwiO1xuICAgIHRoaXMuc3ZnRWxlbWVudE5hbWUgPSBcInN2Zzpwb2x5Z29uXCI7XG4gIH1cblxufVxuXG5jbGFzcyBDYXJldEFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgaXNSZW5kZXJhYmxlID0gISEocGFyYW1ldGVycy5kYXRhLmhhc1BvcHVwIHx8IHBhcmFtZXRlcnMuZGF0YS50aXRsZU9iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5jb250ZW50c09iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5yaWNoVGV4dD8uc3RyKTtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGUsXG4gICAgICBpZ25vcmVCb3JkZXI6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcImNhcmV0QW5ub3RhdGlvblwiO1xuXG4gICAgaWYgKCF0aGlzLmRhdGEuaGFzUG9wdXApIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVBvcHVwKG51bGwsIHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbn1cblxuY2xhc3MgSW5rQW5ub3RhdGlvbkVsZW1lbnQgZXh0ZW5kcyBBbm5vdGF0aW9uRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBpc1JlbmRlcmFibGUgPSAhIShwYXJhbWV0ZXJzLmRhdGEuaGFzUG9wdXAgfHwgcGFyYW1ldGVycy5kYXRhLnRpdGxlT2JqPy5zdHIgfHwgcGFyYW1ldGVycy5kYXRhLmNvbnRlbnRzT2JqPy5zdHIgfHwgcGFyYW1ldGVycy5kYXRhLnJpY2hUZXh0Py5zdHIpO1xuICAgIHN1cGVyKHBhcmFtZXRlcnMsIHtcbiAgICAgIGlzUmVuZGVyYWJsZSxcbiAgICAgIGlnbm9yZUJvcmRlcjogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29udGFpbmVyQ2xhc3NOYW1lID0gXCJpbmtBbm5vdGF0aW9uXCI7XG4gICAgdGhpcy5zdmdFbGVtZW50TmFtZSA9IFwic3ZnOnBvbHlsaW5lXCI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gdGhpcy5jb250YWluZXJDbGFzc05hbWU7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBnZXRSZWN0RGltcyhkYXRhLnJlY3QpO1xuICAgIGNvbnN0IHN2ZyA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGUod2lkdGgsIGhlaWdodCk7XG5cbiAgICBmb3IgKGNvbnN0IGlua0xpc3Qgb2YgZGF0YS5pbmtMaXN0cykge1xuICAgICAgbGV0IHBvaW50cyA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGNvb3JkaW5hdGUgb2YgaW5rTGlzdCkge1xuICAgICAgICBjb25zdCB4ID0gY29vcmRpbmF0ZS54IC0gZGF0YS5yZWN0WzBdO1xuICAgICAgICBjb25zdCB5ID0gZGF0YS5yZWN0WzNdIC0gY29vcmRpbmF0ZS55O1xuICAgICAgICBwb2ludHMucHVzaChgJHt4fSwke3l9YCk7XG4gICAgICB9XG5cbiAgICAgIHBvaW50cyA9IHBvaW50cy5qb2luKFwiIFwiKTtcbiAgICAgIGNvbnN0IHBvbHlsaW5lID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQodGhpcy5zdmdFbGVtZW50TmFtZSk7XG4gICAgICBwb2x5bGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgcG9pbnRzKTtcbiAgICAgIHBvbHlsaW5lLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLCBkYXRhLmJvcmRlclN0eWxlLndpZHRoIHx8IDEpO1xuICAgICAgcG9seWxpbmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIFwidHJhbnNwYXJlbnRcIik7XG4gICAgICBwb2x5bGluZS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwidHJhbnNwYXJlbnRcIik7XG5cbiAgICAgIHRoaXMuX2NyZWF0ZVBvcHVwKHBvbHlsaW5lLCBkYXRhKTtcblxuICAgICAgc3ZnLmFwcGVuZENoaWxkKHBvbHlsaW5lKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoc3ZnKTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBIaWdobGlnaHRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIGNvbnN0IGlzUmVuZGVyYWJsZSA9ICEhKHBhcmFtZXRlcnMuZGF0YS5oYXNQb3B1cCB8fCBwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlLFxuICAgICAgaWdub3JlQm9yZGVyOiB0cnVlLFxuICAgICAgY3JlYXRlUXVhZHJpbGF0ZXJhbHM6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5oYXNQb3B1cCkge1xuICAgICAgdGhpcy5fY3JlYXRlUG9wdXAobnVsbCwgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5xdWFkcmlsYXRlcmFscykge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclF1YWRyaWxhdGVyYWxzKFwiaGlnaGxpZ2h0QW5ub3RhdGlvblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcImhpZ2hsaWdodEFubm90YXRpb25cIjtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBVbmRlcmxpbmVBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIGNvbnN0IGlzUmVuZGVyYWJsZSA9ICEhKHBhcmFtZXRlcnMuZGF0YS5oYXNQb3B1cCB8fCBwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlLFxuICAgICAgaWdub3JlQm9yZGVyOiB0cnVlLFxuICAgICAgY3JlYXRlUXVhZHJpbGF0ZXJhbHM6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5oYXNQb3B1cCkge1xuICAgICAgdGhpcy5fY3JlYXRlUG9wdXAobnVsbCwgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5xdWFkcmlsYXRlcmFscykge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclF1YWRyaWxhdGVyYWxzKFwidW5kZXJsaW5lQW5ub3RhdGlvblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcInVuZGVybGluZUFubm90YXRpb25cIjtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBTcXVpZ2dseUFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgaXNSZW5kZXJhYmxlID0gISEocGFyYW1ldGVycy5kYXRhLmhhc1BvcHVwIHx8IHBhcmFtZXRlcnMuZGF0YS50aXRsZU9iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5jb250ZW50c09iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5yaWNoVGV4dD8uc3RyKTtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGUsXG4gICAgICBpZ25vcmVCb3JkZXI6IHRydWUsXG4gICAgICBjcmVhdGVRdWFkcmlsYXRlcmFsczogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5kYXRhLmhhc1BvcHVwKSB7XG4gICAgICB0aGlzLl9jcmVhdGVQb3B1cChudWxsLCB0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnF1YWRyaWxhdGVyYWxzKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUXVhZHJpbGF0ZXJhbHMoXCJzcXVpZ2dseUFubm90YXRpb25cIik7XG4gICAgfVxuXG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJzcXVpZ2dseUFubm90YXRpb25cIjtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBTdHJpa2VPdXRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIGNvbnN0IGlzUmVuZGVyYWJsZSA9ICEhKHBhcmFtZXRlcnMuZGF0YS5oYXNQb3B1cCB8fCBwYXJhbWV0ZXJzLmRhdGEudGl0bGVPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEuY29udGVudHNPYmo/LnN0ciB8fCBwYXJhbWV0ZXJzLmRhdGEucmljaFRleHQ/LnN0cik7XG4gICAgc3VwZXIocGFyYW1ldGVycywge1xuICAgICAgaXNSZW5kZXJhYmxlLFxuICAgICAgaWdub3JlQm9yZGVyOiB0cnVlLFxuICAgICAgY3JlYXRlUXVhZHJpbGF0ZXJhbHM6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuZGF0YS5oYXNQb3B1cCkge1xuICAgICAgdGhpcy5fY3JlYXRlUG9wdXAobnVsbCwgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5xdWFkcmlsYXRlcmFscykge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclF1YWRyaWxhdGVyYWxzKFwic3RyaWtlb3V0QW5ub3RhdGlvblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcInN0cmlrZW91dEFubm90YXRpb25cIjtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxufVxuXG5jbGFzcyBTdGFtcEFubm90YXRpb25FbGVtZW50IGV4dGVuZHMgQW5ub3RhdGlvbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgaXNSZW5kZXJhYmxlID0gISEocGFyYW1ldGVycy5kYXRhLmhhc1BvcHVwIHx8IHBhcmFtZXRlcnMuZGF0YS50aXRsZU9iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5jb250ZW50c09iaj8uc3RyIHx8IHBhcmFtZXRlcnMuZGF0YS5yaWNoVGV4dD8uc3RyKTtcbiAgICBzdXBlcihwYXJhbWV0ZXJzLCB7XG4gICAgICBpc1JlbmRlcmFibGUsXG4gICAgICBpZ25vcmVCb3JkZXI6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSBcInN0YW1wQW5ub3RhdGlvblwiO1xuXG4gICAgaWYgKCF0aGlzLmRhdGEuaGFzUG9wdXApIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVBvcHVwKG51bGwsIHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbn1cblxuY2xhc3MgRmlsZUF0dGFjaG1lbnRBbm5vdGF0aW9uRWxlbWVudCBleHRlbmRzIEFubm90YXRpb25FbGVtZW50IHtcbiAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgIHN1cGVyKHBhcmFtZXRlcnMsIHtcbiAgICAgIGlzUmVuZGVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgY29udGVudFxuICAgIH0gPSB0aGlzLmRhdGEuZmlsZTtcbiAgICB0aGlzLmZpbGVuYW1lID0gKDAsIF9kaXNwbGF5X3V0aWxzLmdldEZpbGVuYW1lRnJvbVVybCkoZmlsZW5hbWUpO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5saW5rU2VydmljZS5ldmVudEJ1cz8uZGlzcGF0Y2goXCJmaWxlYXR0YWNobWVudGFubm90YXRpb25cIiwge1xuICAgICAgc291cmNlOiB0aGlzLFxuICAgICAgZmlsZW5hbWUsXG4gICAgICBjb250ZW50XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NOYW1lID0gXCJmaWxlQXR0YWNobWVudEFubm90YXRpb25cIjtcbiAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0cmlnZ2VyLnN0eWxlLmhlaWdodCA9IHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB0cmlnZ2VyLnN0eWxlLndpZHRoID0gdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGg7XG4gICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgdGhpcy5fZG93bmxvYWQuYmluZCh0aGlzKSk7XG5cbiAgICBpZiAoIXRoaXMuZGF0YS5oYXNQb3B1cCAmJiAodGhpcy5kYXRhLnRpdGxlT2JqPy5zdHIgfHwgdGhpcy5kYXRhLmNvbnRlbnRzT2JqPy5zdHIgfHwgdGhpcy5kYXRhLnJpY2hUZXh0KSkge1xuICAgICAgdGhpcy5fY3JlYXRlUG9wdXAodHJpZ2dlciwgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0cmlnZ2VyKTtcbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxuICBfZG93bmxvYWQoKSB7XG4gICAgdGhpcy5kb3dubG9hZE1hbmFnZXI/Lm9wZW5PckRvd25sb2FkRGF0YSh0aGlzLmNvbnRhaW5lciwgdGhpcy5jb250ZW50LCB0aGlzLmZpbGVuYW1lKTtcbiAgfVxuXG59XG5cbmNsYXNzIEFubm90YXRpb25MYXllciB7XG4gIHN0YXRpYyByZW5kZXIocGFyYW1ldGVycykge1xuICAgIGNvbnN0IHNvcnRlZEFubm90YXRpb25zID0gW10sXG4gICAgICAgICAgcG9wdXBBbm5vdGF0aW9ucyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHBhcmFtZXRlcnMuYW5ub3RhdGlvbnMpIHtcbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9ID0gZ2V0UmVjdERpbXMoZGF0YS5yZWN0KTtcblxuICAgICAgaWYgKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLmFubm90YXRpb25UeXBlID09PSBfdXRpbC5Bbm5vdGF0aW9uVHlwZS5QT1BVUCkge1xuICAgICAgICBwb3B1cEFubm90YXRpb25zLnB1c2goZGF0YSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBzb3J0ZWRBbm5vdGF0aW9ucy5wdXNoKGRhdGEpO1xuICAgIH1cblxuICAgIGlmIChwb3B1cEFubm90YXRpb25zLmxlbmd0aCkge1xuICAgICAgc29ydGVkQW5ub3RhdGlvbnMucHVzaCguLi5wb3B1cEFubm90YXRpb25zKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXYgPSBwYXJhbWV0ZXJzLmRpdjtcblxuICAgIGZvciAoY29uc3QgZGF0YSBvZiBzb3J0ZWRBbm5vdGF0aW9ucykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IEFubm90YXRpb25FbGVtZW50RmFjdG9yeS5jcmVhdGUoe1xuICAgICAgICBkYXRhLFxuICAgICAgICBsYXllcjogZGl2LFxuICAgICAgICBwYWdlOiBwYXJhbWV0ZXJzLnBhZ2UsXG4gICAgICAgIHZpZXdwb3J0OiBwYXJhbWV0ZXJzLnZpZXdwb3J0LFxuICAgICAgICBsaW5rU2VydmljZTogcGFyYW1ldGVycy5saW5rU2VydmljZSxcbiAgICAgICAgZG93bmxvYWRNYW5hZ2VyOiBwYXJhbWV0ZXJzLmRvd25sb2FkTWFuYWdlcixcbiAgICAgICAgaW1hZ2VSZXNvdXJjZXNQYXRoOiBwYXJhbWV0ZXJzLmltYWdlUmVzb3VyY2VzUGF0aCB8fCBcIlwiLFxuICAgICAgICByZW5kZXJGb3JtczogcGFyYW1ldGVycy5yZW5kZXJGb3JtcyAhPT0gZmFsc2UsXG4gICAgICAgIHN2Z0ZhY3Rvcnk6IG5ldyBfZGlzcGxheV91dGlscy5ET01TVkdGYWN0b3J5KCksXG4gICAgICAgIGFubm90YXRpb25TdG9yYWdlOiBwYXJhbWV0ZXJzLmFubm90YXRpb25TdG9yYWdlIHx8IG5ldyBfYW5ub3RhdGlvbl9zdG9yYWdlLkFubm90YXRpb25TdG9yYWdlKCksXG4gICAgICAgIGVuYWJsZVNjcmlwdGluZzogcGFyYW1ldGVycy5lbmFibGVTY3JpcHRpbmcsXG4gICAgICAgIGhhc0pTQWN0aW9uczogcGFyYW1ldGVycy5oYXNKU0FjdGlvbnMsXG4gICAgICAgIGZpZWxkT2JqZWN0czogcGFyYW1ldGVycy5maWVsZE9iamVjdHMsXG4gICAgICAgIG1vdXNlU3RhdGU6IHBhcmFtZXRlcnMubW91c2VTdGF0ZSB8fCB7XG4gICAgICAgICAgaXNEb3duOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVsZW1lbnQuaXNSZW5kZXJhYmxlKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkID0gZWxlbWVudC5yZW5kZXIoKTtcblxuICAgICAgICBpZiAoZGF0YS5oaWRkZW4pIHtcbiAgICAgICAgICByZW5kZXJlZC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlbmRlcmVkKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgcmVuZGVyZWRFbGVtZW50IG9mIHJlbmRlcmVkKSB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBQb3B1cEFubm90YXRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICBkaXYucHJlcGVuZChyZW5kZXJlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChyZW5kZXJlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy4jc2V0QW5ub3RhdGlvbkNhbnZhc01hcChkaXYsIHBhcmFtZXRlcnMuYW5ub3RhdGlvbkNhbnZhc01hcCk7XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlKHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBwYWdlLFxuICAgICAgdmlld3BvcnQsXG4gICAgICBhbm5vdGF0aW9ucyxcbiAgICAgIGFubm90YXRpb25DYW52YXNNYXAsXG4gICAgICBkaXZcbiAgICB9ID0gcGFyYW1ldGVycztcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSB2aWV3cG9ydC50cmFuc2Zvcm07XG4gICAgY29uc3QgbWF0cml4ID0gYG1hdHJpeCgke3RyYW5zZm9ybS5qb2luKFwiLFwiKX0pYDtcbiAgICBsZXQgc2NhbGUsIG93bk1hdHJpeDtcblxuICAgIGZvciAoY29uc3QgZGF0YSBvZiBhbm5vdGF0aW9ucykge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBkaXYucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtYW5ub3RhdGlvbi1pZD1cIiR7ZGF0YS5pZH1cIl1gKTtcblxuICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgIGlmIChkYXRhLmhhc093bkNhbnZhcykge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IF91dGlsLlV0aWwubm9ybWFsaXplUmVjdChbZGF0YS5yZWN0WzBdLCBwYWdlLnZpZXdbM10gLSBkYXRhLnJlY3RbMV0gKyBwYWdlLnZpZXdbMV0sIGRhdGEucmVjdFsyXSwgcGFnZS52aWV3WzNdIC0gZGF0YS5yZWN0WzNdICsgcGFnZS52aWV3WzFdXSk7XG5cbiAgICAgICAgICAgIGlmICghb3duTWF0cml4KSB7XG4gICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5hYnModHJhbnNmb3JtWzBdIHx8IHRyYW5zZm9ybVsxXSk7XG4gICAgICAgICAgICAgIGNvbnN0IG93blRyYW5zZm9ybSA9IHRyYW5zZm9ybS5zbGljZSgpO1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3duVHJhbnNmb3JtW2ldID0gTWF0aC5zaWduKG93blRyYW5zZm9ybVtpXSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvd25NYXRyaXggPSBgbWF0cml4KCR7b3duVHJhbnNmb3JtLmpvaW4oXCIsXCIpfSlgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gcmVjdFswXSAqIHNjYWxlO1xuICAgICAgICAgICAgY29uc3QgdG9wID0gcmVjdFsxXSAqIHNjYWxlO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAkey1sZWZ0fXB4ICR7LXRvcH1weGA7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IG93bk1hdHJpeDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy4jc2V0QW5ub3RhdGlvbkNhbnZhc01hcChkaXYsIGFubm90YXRpb25DYW52YXNNYXApO1xuICAgIGRpdi5oaWRkZW4gPSBmYWxzZTtcbiAgfVxuXG4gIHN0YXRpYyAjc2V0QW5ub3RhdGlvbkNhbnZhc01hcChkaXYsIGFubm90YXRpb25DYW52YXNNYXApIHtcbiAgICBpZiAoIWFubm90YXRpb25DYW52YXNNYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtpZCwgY2FudmFzXSBvZiBhbm5vdGF0aW9uQ2FudmFzTWFwKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWFubm90YXRpb24taWQ9XCIke2lkfVwiXWApO1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZmlyc3RDaGlsZFxuICAgICAgfSA9IGVsZW1lbnQ7XG5cbiAgICAgIGlmIChmaXJzdENoaWxkLm5vZGVOYW1lID09PSBcIkNBTlZBU1wiKSB7XG4gICAgICAgIGVsZW1lbnQucmVwbGFjZUNoaWxkKGNhbnZhcywgZmlyc3RDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShjYW52YXMsIGZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFubm90YXRpb25DYW52YXNNYXAuY2xlYXIoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuQW5ub3RhdGlvbkxheWVyID0gQW5ub3RhdGlvbkxheWVyO1xuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkNvbG9yQ29udmVydGVycyA9IHZvaWQgMDtcblxuZnVuY3Rpb24gbWFrZUNvbG9yQ29tcChuKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG4pKSAqIDI1NSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbn1cblxuY2xhc3MgQ29sb3JDb252ZXJ0ZXJzIHtcbiAgc3RhdGljIENNWUtfRyhbYywgeSwgbSwga10pIHtcbiAgICByZXR1cm4gW1wiR1wiLCAxIC0gTWF0aC5taW4oMSwgMC4zICogYyArIDAuNTkgKiBtICsgMC4xMSAqIHkgKyBrKV07XG4gIH1cblxuICBzdGF0aWMgR19DTVlLKFtnXSkge1xuICAgIHJldHVybiBbXCJDTVlLXCIsIDAsIDAsIDAsIDEgLSBnXTtcbiAgfVxuXG4gIHN0YXRpYyBHX1JHQihbZ10pIHtcbiAgICByZXR1cm4gW1wiUkdCXCIsIGcsIGcsIGddO1xuICB9XG5cbiAgc3RhdGljIEdfSFRNTChbZ10pIHtcbiAgICBjb25zdCBHID0gbWFrZUNvbG9yQ29tcChnKTtcbiAgICByZXR1cm4gYCMke0d9JHtHfSR7R31gO1xuICB9XG5cbiAgc3RhdGljIFJHQl9HKFtyLCBnLCBiXSkge1xuICAgIHJldHVybiBbXCJHXCIsIDAuMyAqIHIgKyAwLjU5ICogZyArIDAuMTEgKiBiXTtcbiAgfVxuXG4gIHN0YXRpYyBSR0JfSFRNTChbciwgZywgYl0pIHtcbiAgICBjb25zdCBSID0gbWFrZUNvbG9yQ29tcChyKTtcbiAgICBjb25zdCBHID0gbWFrZUNvbG9yQ29tcChnKTtcbiAgICBjb25zdCBCID0gbWFrZUNvbG9yQ29tcChiKTtcbiAgICByZXR1cm4gYCMke1J9JHtHfSR7Qn1gO1xuICB9XG5cbiAgc3RhdGljIFRfSFRNTCgpIHtcbiAgICByZXR1cm4gXCIjMDAwMDAwMDBcIjtcbiAgfVxuXG4gIHN0YXRpYyBDTVlLX1JHQihbYywgeSwgbSwga10pIHtcbiAgICByZXR1cm4gW1wiUkdCXCIsIDEgLSBNYXRoLm1pbigxLCBjICsgayksIDEgLSBNYXRoLm1pbigxLCBtICsgayksIDEgLSBNYXRoLm1pbigxLCB5ICsgayldO1xuICB9XG5cbiAgc3RhdGljIENNWUtfSFRNTChjb21wb25lbnRzKSB7XG4gICAgcmV0dXJuIHRoaXMuUkdCX0hUTUwodGhpcy5DTVlLX1JHQihjb21wb25lbnRzKSk7XG4gIH1cblxuICBzdGF0aWMgUkdCX0NNWUsoW3IsIGcsIGJdKSB7XG4gICAgY29uc3QgYyA9IDEgLSByO1xuICAgIGNvbnN0IG0gPSAxIC0gZztcbiAgICBjb25zdCB5ID0gMSAtIGI7XG4gICAgY29uc3QgayA9IE1hdGgubWluKGMsIG0sIHkpO1xuICAgIHJldHVybiBbXCJDTVlLXCIsIGMsIG0sIHksIGtdO1xuICB9XG5cbn1cblxuZXhwb3J0cy5Db2xvckNvbnZlcnRlcnMgPSBDb2xvckNvbnZlcnRlcnM7XG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuWGZhTGF5ZXIgPSB2b2lkIDA7XG5cbnZhciBfeGZhX3RleHQgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDE4KTtcblxuY2xhc3MgWGZhTGF5ZXIge1xuICBzdGF0aWMgc2V0dXBTdG9yYWdlKGh0bWwsIGlkLCBlbGVtZW50LCBzdG9yYWdlLCBpbnRlbnQpIHtcbiAgICBjb25zdCBzdG9yZWREYXRhID0gc3RvcmFnZS5nZXRWYWx1ZShpZCwge1xuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIHN3aXRjaCAoZWxlbWVudC5uYW1lKSB7XG4gICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgaWYgKHN0b3JlZERhdGEudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICBodG1sLnRleHRDb250ZW50ID0gc3RvcmVkRGF0YS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlbnQgPT09IFwicHJpbnRcIikge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaHRtbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgIHN0b3JhZ2Uuc2V0VmFsdWUoaWQsIHtcbiAgICAgICAgICAgIHZhbHVlOiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgaWYgKGVsZW1lbnQuYXR0cmlidXRlcy50eXBlID09PSBcInJhZGlvXCIgfHwgZWxlbWVudC5hdHRyaWJ1dGVzLnR5cGUgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgIGlmIChzdG9yZWREYXRhLnZhbHVlID09PSBlbGVtZW50LmF0dHJpYnV0ZXMueGZhT24pIHtcbiAgICAgICAgICAgIGh0bWwuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0b3JlZERhdGEudmFsdWUgPT09IGVsZW1lbnQuYXR0cmlidXRlcy54ZmFPZmYpIHtcbiAgICAgICAgICAgIGh0bWwucmVtb3ZlQXR0cmlidXRlKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW50ZW50ID09PSBcInByaW50XCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICBzdG9yYWdlLnNldFZhbHVlKGlkLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBldmVudC50YXJnZXQuY2hlY2tlZCA/IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ4ZmFPblwiKSA6IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ4ZmFPZmZcIilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzdG9yZWREYXRhLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBodG1sLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHN0b3JlZERhdGEudmFsdWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbnRlbnQgPT09IFwicHJpbnRcIikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaHRtbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgIGlmIChzdG9yZWREYXRhLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZWxlbWVudC5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5hdHRyaWJ1dGVzLnZhbHVlID09PSBzdG9yZWREYXRhLnZhbHVlKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5hdHRyaWJ1dGVzLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGV2ZW50LnRhcmdldC5vcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9ucy5zZWxlY3RlZEluZGV4ID09PSAtMSA/IFwiXCIgOiBvcHRpb25zW29wdGlvbnMuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICAgICAgc3RvcmFnZS5zZXRWYWx1ZShpZCwge1xuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzZXRBdHRyaWJ1dGVzKHtcbiAgICBodG1sLFxuICAgIGVsZW1lbnQsXG4gICAgc3RvcmFnZSA9IG51bGwsXG4gICAgaW50ZW50LFxuICAgIGxpbmtTZXJ2aWNlXG4gIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBhdHRyaWJ1dGVzXG4gICAgfSA9IGVsZW1lbnQ7XG4gICAgY29uc3QgaXNIVE1MQW5jaG9yRWxlbWVudCA9IGh0bWwgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudDtcblxuICAgIGlmIChhdHRyaWJ1dGVzLnR5cGUgPT09IFwicmFkaW9cIikge1xuICAgICAgYXR0cmlidXRlcy5uYW1lID0gYCR7YXR0cmlidXRlcy5uYW1lfS0ke2ludGVudH1gO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IFwiZGF0YUlkXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgIT09IFwic3R5bGVcIikge1xuICAgICAgICBpZiAoa2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICAgICAgICBodG1sLnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBodG1sLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlLmpvaW4oXCIgXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzSFRNTEFuY2hvckVsZW1lbnQgJiYgKGtleSA9PT0gXCJocmVmXCIgfHwga2V5ID09PSBcIm5ld1dpbmRvd1wiKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaHRtbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oaHRtbC5zdHlsZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0hUTUxBbmNob3JFbGVtZW50KSB7XG4gICAgICBsaW5rU2VydmljZS5hZGRMaW5rQXR0cmlidXRlcyhodG1sLCBhdHRyaWJ1dGVzLmhyZWYsIGF0dHJpYnV0ZXMubmV3V2luZG93KTtcbiAgICB9XG5cbiAgICBpZiAoc3RvcmFnZSAmJiBhdHRyaWJ1dGVzLmRhdGFJZCkge1xuICAgICAgdGhpcy5zZXR1cFN0b3JhZ2UoaHRtbCwgYXR0cmlidXRlcy5kYXRhSWQsIGVsZW1lbnQsIHN0b3JhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyByZW5kZXIocGFyYW1ldGVycykge1xuICAgIGNvbnN0IHN0b3JhZ2UgPSBwYXJhbWV0ZXJzLmFubm90YXRpb25TdG9yYWdlO1xuICAgIGNvbnN0IGxpbmtTZXJ2aWNlID0gcGFyYW1ldGVycy5saW5rU2VydmljZTtcbiAgICBjb25zdCByb290ID0gcGFyYW1ldGVycy54ZmFIdG1sO1xuICAgIGNvbnN0IGludGVudCA9IHBhcmFtZXRlcnMuaW50ZW50IHx8IFwiZGlzcGxheVwiO1xuICAgIGNvbnN0IHJvb3RIdG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChyb290Lm5hbWUpO1xuXG4gICAgaWYgKHJvb3QuYXR0cmlidXRlcykge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgaHRtbDogcm9vdEh0bWwsXG4gICAgICAgIGVsZW1lbnQ6IHJvb3QsXG4gICAgICAgIGludGVudCxcbiAgICAgICAgbGlua1NlcnZpY2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YWNrID0gW1tyb290LCAtMSwgcm9vdEh0bWxdXTtcbiAgICBjb25zdCByb290RGl2ID0gcGFyYW1ldGVycy5kaXY7XG4gICAgcm9vdERpdi5hcHBlbmRDaGlsZChyb290SHRtbCk7XG5cbiAgICBpZiAocGFyYW1ldGVycy52aWV3cG9ydCkge1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYG1hdHJpeCgke3BhcmFtZXRlcnMudmlld3BvcnQudHJhbnNmb3JtLmpvaW4oXCIsXCIpfSlgO1xuICAgICAgcm9vdERpdi5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfVxuXG4gICAgaWYgKGludGVudCAhPT0gXCJyaWNoVGV4dFwiKSB7XG4gICAgICByb290RGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwieGZhTGF5ZXIgeGZhRm9udFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0RGl2cyA9IFtdO1xuXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IFtwYXJlbnQsIGksIGh0bWxdID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmIChpICsgMSA9PT0gcGFyZW50LmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoaWxkID0gcGFyZW50LmNoaWxkcmVuWysrc3RhY2tbc3RhY2subGVuZ3RoIC0gMV1bMV1dO1xuXG4gICAgICBpZiAoY2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmFtZVxuICAgICAgfSA9IGNoaWxkO1xuXG4gICAgICBpZiAobmFtZSA9PT0gXCIjdGV4dFwiKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZC52YWx1ZSk7XG4gICAgICAgIHRleHREaXZzLnB1c2gobm9kZSk7XG4gICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgY2hpbGRIdG1sO1xuXG4gICAgICBpZiAoY2hpbGQ/LmF0dHJpYnV0ZXM/LnhtbG5zKSB7XG4gICAgICAgIGNoaWxkSHRtbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjaGlsZC5hdHRyaWJ1dGVzLnhtbG5zLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkSHRtbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2hpbGRIdG1sKTtcblxuICAgICAgaWYgKGNoaWxkLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICBodG1sOiBjaGlsZEh0bWwsXG4gICAgICAgICAgZWxlbWVudDogY2hpbGQsXG4gICAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgICBpbnRlbnQsXG4gICAgICAgICAgbGlua1NlcnZpY2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGlsZC5jaGlsZHJlbiAmJiBjaGlsZC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0YWNrLnB1c2goW2NoaWxkLCAtMSwgY2hpbGRIdG1sXSk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkLnZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZC52YWx1ZSk7XG5cbiAgICAgICAgaWYgKF94ZmFfdGV4dC5YZmFUZXh0LnNob3VsZEJ1aWxkVGV4dChuYW1lKSkge1xuICAgICAgICAgIHRleHREaXZzLnB1c2gobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZEh0bWwuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbCBvZiByb290RGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCIueGZhTm9uSW50ZXJhY3RpdmUgaW5wdXQsIC54ZmFOb25JbnRlcmFjdGl2ZSB0ZXh0YXJlYVwiKSkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFwicmVhZE9ubHlcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHREaXZzXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGUocGFyYW1ldGVycykge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGBtYXRyaXgoJHtwYXJhbWV0ZXJzLnZpZXdwb3J0LnRyYW5zZm9ybS5qb2luKFwiLFwiKX0pYDtcbiAgICBwYXJhbWV0ZXJzLmRpdi5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgcGFyYW1ldGVycy5kaXYuaGlkZGVuID0gZmFsc2U7XG4gIH1cblxufVxuXG5leHBvcnRzLlhmYUxheWVyID0gWGZhTGF5ZXI7XG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMucmVuZGVyVGV4dExheWVyID0gcmVuZGVyVGV4dExheWVyO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG5jb25zdCBNQVhfVEVYVF9ESVZTX1RPX1JFTkRFUiA9IDEwMDAwMDtcbmNvbnN0IERFRkFVTFRfRk9OVF9TSVpFID0gMzA7XG5jb25zdCBERUZBVUxUX0ZPTlRfQVNDRU5UID0gMC44O1xuY29uc3QgYXNjZW50Q2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCBBbGxXaGl0ZXNwYWNlUmVnZXhwID0gL15cXHMrJC9nO1xuXG5mdW5jdGlvbiBnZXRBc2NlbnQoZm9udEZhbWlseSwgY3R4KSB7XG4gIGNvbnN0IGNhY2hlZEFzY2VudCA9IGFzY2VudENhY2hlLmdldChmb250RmFtaWx5KTtcblxuICBpZiAoY2FjaGVkQXNjZW50KSB7XG4gICAgcmV0dXJuIGNhY2hlZEFzY2VudDtcbiAgfVxuXG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5mb250ID0gYCR7REVGQVVMVF9GT05UX1NJWkV9cHggJHtmb250RmFtaWx5fWA7XG4gIGNvbnN0IG1ldHJpY3MgPSBjdHgubWVhc3VyZVRleHQoXCJcIik7XG4gIGxldCBhc2NlbnQgPSBtZXRyaWNzLmZvbnRCb3VuZGluZ0JveEFzY2VudDtcbiAgbGV0IGRlc2NlbnQgPSBNYXRoLmFicyhtZXRyaWNzLmZvbnRCb3VuZGluZ0JveERlc2NlbnQpO1xuXG4gIGlmIChhc2NlbnQpIHtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGNvbnN0IHJhdGlvID0gYXNjZW50IC8gKGFzY2VudCArIGRlc2NlbnQpO1xuICAgIGFzY2VudENhY2hlLnNldChmb250RmFtaWx5LCByYXRpbyk7XG4gICAgcmV0dXJuIHJhdGlvO1xuICB9XG5cbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBERUZBVUxUX0ZPTlRfU0laRSwgREVGQVVMVF9GT05UX1NJWkUpO1xuICBjdHguc3Ryb2tlVGV4dChcImdcIiwgMCwgMCk7XG4gIGxldCBwaXhlbHMgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIERFRkFVTFRfRk9OVF9TSVpFLCBERUZBVUxUX0ZPTlRfU0laRSkuZGF0YTtcbiAgZGVzY2VudCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IHBpeGVscy5sZW5ndGggLSAxIC0gMzsgaSA+PSAwOyBpIC09IDQpIHtcbiAgICBpZiAocGl4ZWxzW2ldID4gMCkge1xuICAgICAgZGVzY2VudCA9IE1hdGguY2VpbChpIC8gNCAvIERFRkFVTFRfRk9OVF9TSVpFKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgREVGQVVMVF9GT05UX1NJWkUsIERFRkFVTFRfRk9OVF9TSVpFKTtcbiAgY3R4LnN0cm9rZVRleHQoXCJBXCIsIDAsIERFRkFVTFRfRk9OVF9TSVpFKTtcbiAgcGl4ZWxzID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBERUZBVUxUX0ZPTlRfU0laRSwgREVGQVVMVF9GT05UX1NJWkUpLmRhdGE7XG4gIGFzY2VudCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gcGl4ZWxzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDQpIHtcbiAgICBpZiAocGl4ZWxzW2ldID4gMCkge1xuICAgICAgYXNjZW50ID0gREVGQVVMVF9GT05UX1NJWkUgLSBNYXRoLmZsb29yKGkgLyA0IC8gREVGQVVMVF9GT05UX1NJWkUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgY3R4LnJlc3RvcmUoKTtcblxuICBpZiAoYXNjZW50KSB7XG4gICAgY29uc3QgcmF0aW8gPSBhc2NlbnQgLyAoYXNjZW50ICsgZGVzY2VudCk7XG4gICAgYXNjZW50Q2FjaGUuc2V0KGZvbnRGYW1pbHksIHJhdGlvKTtcbiAgICByZXR1cm4gcmF0aW87XG4gIH1cblxuICBhc2NlbnRDYWNoZS5zZXQoZm9udEZhbWlseSwgREVGQVVMVF9GT05UX0FTQ0VOVCk7XG4gIHJldHVybiBERUZBVUxUX0ZPTlRfQVNDRU5UO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRUZXh0KHRhc2ssIGdlb20sIHN0eWxlcywgY3R4KSB7XG4gIGNvbnN0IHRleHREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgY29uc3QgdGV4dERpdlByb3BlcnRpZXMgPSB0YXNrLl9lbmhhbmNlVGV4dFNlbGVjdGlvbiA/IHtcbiAgICBhbmdsZTogMCxcbiAgICBjYW52YXNXaWR0aDogMCxcbiAgICBoYXNUZXh0OiBnZW9tLnN0ciAhPT0gXCJcIixcbiAgICBoYXNFT0w6IGdlb20uaGFzRU9MLFxuICAgIG9yaWdpbmFsVHJhbnNmb3JtOiBudWxsLFxuICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgcGFkZGluZ0xlZnQ6IDAsXG4gICAgcGFkZGluZ1JpZ2h0OiAwLFxuICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgc2NhbGU6IDFcbiAgfSA6IHtcbiAgICBhbmdsZTogMCxcbiAgICBjYW52YXNXaWR0aDogMCxcbiAgICBoYXNUZXh0OiBnZW9tLnN0ciAhPT0gXCJcIixcbiAgICBoYXNFT0w6IGdlb20uaGFzRU9MXG4gIH07XG5cbiAgdGFzay5fdGV4dERpdnMucHVzaCh0ZXh0RGl2KTtcblxuICBjb25zdCB0eCA9IF91dGlsLlV0aWwudHJhbnNmb3JtKHRhc2suX3ZpZXdwb3J0LnRyYW5zZm9ybSwgZ2VvbS50cmFuc2Zvcm0pO1xuXG4gIGxldCBhbmdsZSA9IE1hdGguYXRhbjIodHhbMV0sIHR4WzBdKTtcbiAgY29uc3Qgc3R5bGUgPSBzdHlsZXNbZ2VvbS5mb250TmFtZV07XG5cbiAgaWYgKHN0eWxlLnZlcnRpY2FsKSB7XG4gICAgYW5nbGUgKz0gTWF0aC5QSSAvIDI7XG4gIH1cblxuICBjb25zdCBmb250SGVpZ2h0ID0gTWF0aC5oeXBvdCh0eFsyXSwgdHhbM10pO1xuICBjb25zdCBmb250QXNjZW50ID0gZm9udEhlaWdodCAqIGdldEFzY2VudChzdHlsZS5mb250RmFtaWx5LCBjdHgpO1xuICBsZXQgbGVmdCwgdG9wO1xuXG4gIGlmIChhbmdsZSA9PT0gMCkge1xuICAgIGxlZnQgPSB0eFs0XTtcbiAgICB0b3AgPSB0eFs1XSAtIGZvbnRBc2NlbnQ7XG4gIH0gZWxzZSB7XG4gICAgbGVmdCA9IHR4WzRdICsgZm9udEFzY2VudCAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICB0b3AgPSB0eFs1XSAtIGZvbnRBc2NlbnQgKiBNYXRoLmNvcyhhbmdsZSk7XG4gIH1cblxuICB0ZXh0RGl2LnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcbiAgdGV4dERpdi5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICB0ZXh0RGl2LnN0eWxlLmZvbnRTaXplID0gYCR7Zm9udEhlaWdodH1weGA7XG4gIHRleHREaXYuc3R5bGUuZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHk7XG4gIHRleHREaXYuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInByZXNlbnRhdGlvblwiKTtcbiAgdGV4dERpdi50ZXh0Q29udGVudCA9IGdlb20uc3RyO1xuICB0ZXh0RGl2LmRpciA9IGdlb20uZGlyO1xuXG4gIGlmICh0YXNrLl9mb250SW5zcGVjdG9yRW5hYmxlZCkge1xuICAgIHRleHREaXYuZGF0YXNldC5mb250TmFtZSA9IGdlb20uZm9udE5hbWU7XG4gIH1cblxuICBpZiAoYW5nbGUgIT09IDApIHtcbiAgICB0ZXh0RGl2UHJvcGVydGllcy5hbmdsZSA9IGFuZ2xlICogKDE4MCAvIE1hdGguUEkpO1xuICB9XG5cbiAgbGV0IHNob3VsZFNjYWxlVGV4dCA9IGZhbHNlO1xuXG4gIGlmIChnZW9tLnN0ci5sZW5ndGggPiAxIHx8IHRhc2suX2VuaGFuY2VUZXh0U2VsZWN0aW9uICYmIEFsbFdoaXRlc3BhY2VSZWdleHAudGVzdChnZW9tLnN0cikpIHtcbiAgICBzaG91bGRTY2FsZVRleHQgPSB0cnVlO1xuICB9IGVsc2UgaWYgKGdlb20uc3RyICE9PSBcIiBcIiAmJiBnZW9tLnRyYW5zZm9ybVswXSAhPT0gZ2VvbS50cmFuc2Zvcm1bM10pIHtcbiAgICBjb25zdCBhYnNTY2FsZVggPSBNYXRoLmFicyhnZW9tLnRyYW5zZm9ybVswXSksXG4gICAgICAgICAgYWJzU2NhbGVZID0gTWF0aC5hYnMoZ2VvbS50cmFuc2Zvcm1bM10pO1xuXG4gICAgaWYgKGFic1NjYWxlWCAhPT0gYWJzU2NhbGVZICYmIE1hdGgubWF4KGFic1NjYWxlWCwgYWJzU2NhbGVZKSAvIE1hdGgubWluKGFic1NjYWxlWCwgYWJzU2NhbGVZKSA+IDEuNSkge1xuICAgICAgc2hvdWxkU2NhbGVUZXh0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoc2hvdWxkU2NhbGVUZXh0KSB7XG4gICAgaWYgKHN0eWxlLnZlcnRpY2FsKSB7XG4gICAgICB0ZXh0RGl2UHJvcGVydGllcy5jYW52YXNXaWR0aCA9IGdlb20uaGVpZ2h0ICogdGFzay5fdmlld3BvcnQuc2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHREaXZQcm9wZXJ0aWVzLmNhbnZhc1dpZHRoID0gZ2VvbS53aWR0aCAqIHRhc2suX3ZpZXdwb3J0LnNjYWxlO1xuICAgIH1cbiAgfVxuXG4gIHRhc2suX3RleHREaXZQcm9wZXJ0aWVzLnNldCh0ZXh0RGl2LCB0ZXh0RGl2UHJvcGVydGllcyk7XG5cbiAgaWYgKHRhc2suX3RleHRDb250ZW50U3RyZWFtKSB7XG4gICAgdGFzay5fbGF5b3V0VGV4dCh0ZXh0RGl2KTtcbiAgfVxuXG4gIGlmICh0YXNrLl9lbmhhbmNlVGV4dFNlbGVjdGlvbiAmJiB0ZXh0RGl2UHJvcGVydGllcy5oYXNUZXh0KSB7XG4gICAgbGV0IGFuZ2xlQ29zID0gMSxcbiAgICAgICAgYW5nbGVTaW4gPSAwO1xuXG4gICAgaWYgKGFuZ2xlICE9PSAwKSB7XG4gICAgICBhbmdsZUNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgIGFuZ2xlU2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpdldpZHRoID0gKHN0eWxlLnZlcnRpY2FsID8gZ2VvbS5oZWlnaHQgOiBnZW9tLndpZHRoKSAqIHRhc2suX3ZpZXdwb3J0LnNjYWxlO1xuICAgIGNvbnN0IGRpdkhlaWdodCA9IGZvbnRIZWlnaHQ7XG4gICAgbGV0IG0sIGI7XG5cbiAgICBpZiAoYW5nbGUgIT09IDApIHtcbiAgICAgIG0gPSBbYW5nbGVDb3MsIGFuZ2xlU2luLCAtYW5nbGVTaW4sIGFuZ2xlQ29zLCBsZWZ0LCB0b3BdO1xuICAgICAgYiA9IF91dGlsLlV0aWwuZ2V0QXhpYWxBbGlnbmVkQm91bmRpbmdCb3goWzAsIDAsIGRpdldpZHRoLCBkaXZIZWlnaHRdLCBtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYiA9IFtsZWZ0LCB0b3AsIGxlZnQgKyBkaXZXaWR0aCwgdG9wICsgZGl2SGVpZ2h0XTtcbiAgICB9XG5cbiAgICB0YXNrLl9ib3VuZHMucHVzaCh7XG4gICAgICBsZWZ0OiBiWzBdLFxuICAgICAgdG9wOiBiWzFdLFxuICAgICAgcmlnaHQ6IGJbMl0sXG4gICAgICBib3R0b206IGJbM10sXG4gICAgICBkaXY6IHRleHREaXYsXG4gICAgICBzaXplOiBbZGl2V2lkdGgsIGRpdkhlaWdodF0sXG4gICAgICBtXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyKHRhc2spIHtcbiAgaWYgKHRhc2suX2NhbmNlbGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdGV4dERpdnMgPSB0YXNrLl90ZXh0RGl2cztcbiAgY29uc3QgY2FwYWJpbGl0eSA9IHRhc2suX2NhcGFiaWxpdHk7XG4gIGNvbnN0IHRleHREaXZzTGVuZ3RoID0gdGV4dERpdnMubGVuZ3RoO1xuXG4gIGlmICh0ZXh0RGl2c0xlbmd0aCA+IE1BWF9URVhUX0RJVlNfVE9fUkVOREVSKSB7XG4gICAgdGFzay5fcmVuZGVyaW5nRG9uZSA9IHRydWU7XG4gICAgY2FwYWJpbGl0eS5yZXNvbHZlKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0YXNrLl90ZXh0Q29udGVudFN0cmVhbSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dERpdnNMZW5ndGg7IGkrKykge1xuICAgICAgdGFzay5fbGF5b3V0VGV4dCh0ZXh0RGl2c1tpXSk7XG4gICAgfVxuICB9XG5cbiAgdGFzay5fcmVuZGVyaW5nRG9uZSA9IHRydWU7XG4gIGNhcGFiaWxpdHkucmVzb2x2ZSgpO1xufVxuXG5mdW5jdGlvbiBmaW5kUG9zaXRpdmVNaW4odHMsIG9mZnNldCwgY291bnQpIHtcbiAgbGV0IHJlc3VsdCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgY29uc3QgdCA9IHRzW29mZnNldCsrXTtcblxuICAgIGlmICh0ID4gMCkge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID8gTWF0aC5taW4odCwgcmVzdWx0KSA6IHQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZXhwYW5kKHRhc2spIHtcbiAgY29uc3QgYm91bmRzID0gdGFzay5fYm91bmRzO1xuICBjb25zdCB2aWV3cG9ydCA9IHRhc2suX3ZpZXdwb3J0O1xuICBjb25zdCBleHBhbmRlZCA9IGV4cGFuZEJvdW5kcyh2aWV3cG9ydC53aWR0aCwgdmlld3BvcnQuaGVpZ2h0LCBib3VuZHMpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwYW5kZWQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBkaXYgPSBib3VuZHNbaV0uZGl2O1xuXG4gICAgY29uc3QgZGl2UHJvcGVydGllcyA9IHRhc2suX3RleHREaXZQcm9wZXJ0aWVzLmdldChkaXYpO1xuXG4gICAgaWYgKGRpdlByb3BlcnRpZXMuYW5nbGUgPT09IDApIHtcbiAgICAgIGRpdlByb3BlcnRpZXMucGFkZGluZ0xlZnQgPSBib3VuZHNbaV0ubGVmdCAtIGV4cGFuZGVkW2ldLmxlZnQ7XG4gICAgICBkaXZQcm9wZXJ0aWVzLnBhZGRpbmdUb3AgPSBib3VuZHNbaV0udG9wIC0gZXhwYW5kZWRbaV0udG9wO1xuICAgICAgZGl2UHJvcGVydGllcy5wYWRkaW5nUmlnaHQgPSBleHBhbmRlZFtpXS5yaWdodCAtIGJvdW5kc1tpXS5yaWdodDtcbiAgICAgIGRpdlByb3BlcnRpZXMucGFkZGluZ0JvdHRvbSA9IGV4cGFuZGVkW2ldLmJvdHRvbSAtIGJvdW5kc1tpXS5ib3R0b207XG5cbiAgICAgIHRhc2suX3RleHREaXZQcm9wZXJ0aWVzLnNldChkaXYsIGRpdlByb3BlcnRpZXMpO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBlID0gZXhwYW5kZWRbaV0sXG4gICAgICAgICAgYiA9IGJvdW5kc1tpXTtcbiAgICBjb25zdCBtID0gYi5tLFxuICAgICAgICAgIGMgPSBtWzBdLFxuICAgICAgICAgIHMgPSBtWzFdO1xuICAgIGNvbnN0IHBvaW50cyA9IFtbMCwgMF0sIFswLCBiLnNpemVbMV1dLCBbYi5zaXplWzBdLCAwXSwgYi5zaXplXTtcbiAgICBjb25zdCB0cyA9IG5ldyBGbG9hdDY0QXJyYXkoNjQpO1xuXG4gICAgZm9yIChsZXQgaiA9IDAsIGpqID0gcG9pbnRzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgIGNvbnN0IHQgPSBfdXRpbC5VdGlsLmFwcGx5VHJhbnNmb3JtKHBvaW50c1tqXSwgbSk7XG5cbiAgICAgIHRzW2ogKyAwXSA9IGMgJiYgKGUubGVmdCAtIHRbMF0pIC8gYztcbiAgICAgIHRzW2ogKyA0XSA9IHMgJiYgKGUudG9wIC0gdFsxXSkgLyBzO1xuICAgICAgdHNbaiArIDhdID0gYyAmJiAoZS5yaWdodCAtIHRbMF0pIC8gYztcbiAgICAgIHRzW2ogKyAxMl0gPSBzICYmIChlLmJvdHRvbSAtIHRbMV0pIC8gcztcbiAgICAgIHRzW2ogKyAxNl0gPSBzICYmIChlLmxlZnQgLSB0WzBdKSAvIC1zO1xuICAgICAgdHNbaiArIDIwXSA9IGMgJiYgKGUudG9wIC0gdFsxXSkgLyBjO1xuICAgICAgdHNbaiArIDI0XSA9IHMgJiYgKGUucmlnaHQgLSB0WzBdKSAvIC1zO1xuICAgICAgdHNbaiArIDI4XSA9IGMgJiYgKGUuYm90dG9tIC0gdFsxXSkgLyBjO1xuICAgICAgdHNbaiArIDMyXSA9IGMgJiYgKGUubGVmdCAtIHRbMF0pIC8gLWM7XG4gICAgICB0c1tqICsgMzZdID0gcyAmJiAoZS50b3AgLSB0WzFdKSAvIC1zO1xuICAgICAgdHNbaiArIDQwXSA9IGMgJiYgKGUucmlnaHQgLSB0WzBdKSAvIC1jO1xuICAgICAgdHNbaiArIDQ0XSA9IHMgJiYgKGUuYm90dG9tIC0gdFsxXSkgLyAtcztcbiAgICAgIHRzW2ogKyA0OF0gPSBzICYmIChlLmxlZnQgLSB0WzBdKSAvIHM7XG4gICAgICB0c1tqICsgNTJdID0gYyAmJiAoZS50b3AgLSB0WzFdKSAvIC1jO1xuICAgICAgdHNbaiArIDU2XSA9IHMgJiYgKGUucmlnaHQgLSB0WzBdKSAvIHM7XG4gICAgICB0c1tqICsgNjBdID0gYyAmJiAoZS5ib3R0b20gLSB0WzFdKSAvIC1jO1xuICAgIH1cblxuICAgIGNvbnN0IGJveFNjYWxlID0gMSArIE1hdGgubWluKE1hdGguYWJzKGMpLCBNYXRoLmFicyhzKSk7XG4gICAgZGl2UHJvcGVydGllcy5wYWRkaW5nTGVmdCA9IGZpbmRQb3NpdGl2ZU1pbih0cywgMzIsIDE2KSAvIGJveFNjYWxlO1xuICAgIGRpdlByb3BlcnRpZXMucGFkZGluZ1RvcCA9IGZpbmRQb3NpdGl2ZU1pbih0cywgNDgsIDE2KSAvIGJveFNjYWxlO1xuICAgIGRpdlByb3BlcnRpZXMucGFkZGluZ1JpZ2h0ID0gZmluZFBvc2l0aXZlTWluKHRzLCAwLCAxNikgLyBib3hTY2FsZTtcbiAgICBkaXZQcm9wZXJ0aWVzLnBhZGRpbmdCb3R0b20gPSBmaW5kUG9zaXRpdmVNaW4odHMsIDE2LCAxNikgLyBib3hTY2FsZTtcblxuICAgIHRhc2suX3RleHREaXZQcm9wZXJ0aWVzLnNldChkaXYsIGRpdlByb3BlcnRpZXMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4cGFuZEJvdW5kcyh3aWR0aCwgaGVpZ2h0LCBib3hlcykge1xuICBjb25zdCBib3VuZHMgPSBib3hlcy5tYXAoZnVuY3Rpb24gKGJveCwgaSkge1xuICAgIHJldHVybiB7XG4gICAgICB4MTogYm94LmxlZnQsXG4gICAgICB5MTogYm94LnRvcCxcbiAgICAgIHgyOiBib3gucmlnaHQsXG4gICAgICB5MjogYm94LmJvdHRvbSxcbiAgICAgIGluZGV4OiBpLFxuICAgICAgeDFOZXc6IHVuZGVmaW5lZCxcbiAgICAgIHgyTmV3OiB1bmRlZmluZWRcbiAgICB9O1xuICB9KTtcbiAgZXhwYW5kQm91bmRzTFRSKHdpZHRoLCBib3VuZHMpO1xuICBjb25zdCBleHBhbmRlZCA9IG5ldyBBcnJheShib3hlcy5sZW5ndGgpO1xuXG4gIGZvciAoY29uc3QgYiBvZiBib3VuZHMpIHtcbiAgICBjb25zdCBpID0gYi5pbmRleDtcbiAgICBleHBhbmRlZFtpXSA9IHtcbiAgICAgIGxlZnQ6IGIueDFOZXcsXG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogYi54Mk5ldyxcbiAgICAgIGJvdHRvbTogMFxuICAgIH07XG4gIH1cblxuICBib3hlcy5tYXAoZnVuY3Rpb24gKGJveCwgaSkge1xuICAgIGNvbnN0IGUgPSBleHBhbmRlZFtpXSxcbiAgICAgICAgICBiID0gYm91bmRzW2ldO1xuICAgIGIueDEgPSBib3gudG9wO1xuICAgIGIueTEgPSB3aWR0aCAtIGUucmlnaHQ7XG4gICAgYi54MiA9IGJveC5ib3R0b207XG4gICAgYi55MiA9IHdpZHRoIC0gZS5sZWZ0O1xuICAgIGIuaW5kZXggPSBpO1xuICAgIGIueDFOZXcgPSB1bmRlZmluZWQ7XG4gICAgYi54Mk5ldyA9IHVuZGVmaW5lZDtcbiAgfSk7XG4gIGV4cGFuZEJvdW5kc0xUUihoZWlnaHQsIGJvdW5kcyk7XG5cbiAgZm9yIChjb25zdCBiIG9mIGJvdW5kcykge1xuICAgIGNvbnN0IGkgPSBiLmluZGV4O1xuICAgIGV4cGFuZGVkW2ldLnRvcCA9IGIueDFOZXc7XG4gICAgZXhwYW5kZWRbaV0uYm90dG9tID0gYi54Mk5ldztcbiAgfVxuXG4gIHJldHVybiBleHBhbmRlZDtcbn1cblxuZnVuY3Rpb24gZXhwYW5kQm91bmRzTFRSKHdpZHRoLCBib3VuZHMpIHtcbiAgYm91bmRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYS54MSAtIGIueDEgfHwgYS5pbmRleCAtIGIuaW5kZXg7XG4gIH0pO1xuICBjb25zdCBmYWtlQm91bmRhcnkgPSB7XG4gICAgeDE6IC1JbmZpbml0eSxcbiAgICB5MTogLUluZmluaXR5LFxuICAgIHgyOiAwLFxuICAgIHkyOiBJbmZpbml0eSxcbiAgICBpbmRleDogLTEsXG4gICAgeDFOZXc6IDAsXG4gICAgeDJOZXc6IDBcbiAgfTtcbiAgY29uc3QgaG9yaXpvbiA9IFt7XG4gICAgc3RhcnQ6IC1JbmZpbml0eSxcbiAgICBlbmQ6IEluZmluaXR5LFxuICAgIGJvdW5kYXJ5OiBmYWtlQm91bmRhcnlcbiAgfV07XG5cbiAgZm9yIChjb25zdCBib3VuZGFyeSBvZiBib3VuZHMpIHtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGhvcml6b24ubGVuZ3RoICYmIGhvcml6b25baV0uZW5kIDw9IGJvdW5kYXJ5LnkxKSB7XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgbGV0IGogPSBob3Jpem9uLmxlbmd0aCAtIDE7XG5cbiAgICB3aGlsZSAoaiA+PSAwICYmIGhvcml6b25bal0uc3RhcnQgPj0gYm91bmRhcnkueTIpIHtcbiAgICAgIGotLTtcbiAgICB9XG5cbiAgICBsZXQgaG9yaXpvblBhcnQsIGFmZmVjdGVkQm91bmRhcnk7XG4gICAgbGV0IHEsXG4gICAgICAgIGssXG4gICAgICAgIG1heFhOZXcgPSAtSW5maW5pdHk7XG5cbiAgICBmb3IgKHEgPSBpOyBxIDw9IGo7IHErKykge1xuICAgICAgaG9yaXpvblBhcnQgPSBob3Jpem9uW3FdO1xuICAgICAgYWZmZWN0ZWRCb3VuZGFyeSA9IGhvcml6b25QYXJ0LmJvdW5kYXJ5O1xuICAgICAgbGV0IHhOZXc7XG5cbiAgICAgIGlmIChhZmZlY3RlZEJvdW5kYXJ5LngyID4gYm91bmRhcnkueDEpIHtcbiAgICAgICAgeE5ldyA9IGFmZmVjdGVkQm91bmRhcnkuaW5kZXggPiBib3VuZGFyeS5pbmRleCA/IGFmZmVjdGVkQm91bmRhcnkueDFOZXcgOiBib3VuZGFyeS54MTtcbiAgICAgIH0gZWxzZSBpZiAoYWZmZWN0ZWRCb3VuZGFyeS54Mk5ldyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHhOZXcgPSAoYWZmZWN0ZWRCb3VuZGFyeS54MiArIGJvdW5kYXJ5LngxKSAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4TmV3ID0gYWZmZWN0ZWRCb3VuZGFyeS54Mk5ldztcbiAgICAgIH1cblxuICAgICAgaWYgKHhOZXcgPiBtYXhYTmV3KSB7XG4gICAgICAgIG1heFhOZXcgPSB4TmV3O1xuICAgICAgfVxuICAgIH1cblxuICAgIGJvdW5kYXJ5LngxTmV3ID0gbWF4WE5ldztcblxuICAgIGZvciAocSA9IGk7IHEgPD0gajsgcSsrKSB7XG4gICAgICBob3Jpem9uUGFydCA9IGhvcml6b25bcV07XG4gICAgICBhZmZlY3RlZEJvdW5kYXJ5ID0gaG9yaXpvblBhcnQuYm91bmRhcnk7XG5cbiAgICAgIGlmIChhZmZlY3RlZEJvdW5kYXJ5LngyTmV3ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFmZmVjdGVkQm91bmRhcnkueDIgPiBib3VuZGFyeS54MSkge1xuICAgICAgICAgIGlmIChhZmZlY3RlZEJvdW5kYXJ5LmluZGV4ID4gYm91bmRhcnkuaW5kZXgpIHtcbiAgICAgICAgICAgIGFmZmVjdGVkQm91bmRhcnkueDJOZXcgPSBhZmZlY3RlZEJvdW5kYXJ5LngyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZmZlY3RlZEJvdW5kYXJ5LngyTmV3ID0gbWF4WE5ldztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhZmZlY3RlZEJvdW5kYXJ5LngyTmV3ID4gbWF4WE5ldykge1xuICAgICAgICBhZmZlY3RlZEJvdW5kYXJ5LngyTmV3ID0gTWF0aC5tYXgobWF4WE5ldywgYWZmZWN0ZWRCb3VuZGFyeS54Mik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlZEhvcml6b24gPSBbXTtcbiAgICBsZXQgbGFzdEJvdW5kYXJ5ID0gbnVsbDtcblxuICAgIGZvciAocSA9IGk7IHEgPD0gajsgcSsrKSB7XG4gICAgICBob3Jpem9uUGFydCA9IGhvcml6b25bcV07XG4gICAgICBhZmZlY3RlZEJvdW5kYXJ5ID0gaG9yaXpvblBhcnQuYm91bmRhcnk7XG4gICAgICBjb25zdCB1c2VCb3VuZGFyeSA9IGFmZmVjdGVkQm91bmRhcnkueDIgPiBib3VuZGFyeS54MiA/IGFmZmVjdGVkQm91bmRhcnkgOiBib3VuZGFyeTtcblxuICAgICAgaWYgKGxhc3RCb3VuZGFyeSA9PT0gdXNlQm91bmRhcnkpIHtcbiAgICAgICAgY2hhbmdlZEhvcml6b25bY2hhbmdlZEhvcml6b24ubGVuZ3RoIC0gMV0uZW5kID0gaG9yaXpvblBhcnQuZW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhbmdlZEhvcml6b24ucHVzaCh7XG4gICAgICAgICAgc3RhcnQ6IGhvcml6b25QYXJ0LnN0YXJ0LFxuICAgICAgICAgIGVuZDogaG9yaXpvblBhcnQuZW5kLFxuICAgICAgICAgIGJvdW5kYXJ5OiB1c2VCb3VuZGFyeVxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdEJvdW5kYXJ5ID0gdXNlQm91bmRhcnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhvcml6b25baV0uc3RhcnQgPCBib3VuZGFyeS55MSkge1xuICAgICAgY2hhbmdlZEhvcml6b25bMF0uc3RhcnQgPSBib3VuZGFyeS55MTtcbiAgICAgIGNoYW5nZWRIb3Jpem9uLnVuc2hpZnQoe1xuICAgICAgICBzdGFydDogaG9yaXpvbltpXS5zdGFydCxcbiAgICAgICAgZW5kOiBib3VuZGFyeS55MSxcbiAgICAgICAgYm91bmRhcnk6IGhvcml6b25baV0uYm91bmRhcnlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChib3VuZGFyeS55MiA8IGhvcml6b25bal0uZW5kKSB7XG4gICAgICBjaGFuZ2VkSG9yaXpvbltjaGFuZ2VkSG9yaXpvbi5sZW5ndGggLSAxXS5lbmQgPSBib3VuZGFyeS55MjtcbiAgICAgIGNoYW5nZWRIb3Jpem9uLnB1c2goe1xuICAgICAgICBzdGFydDogYm91bmRhcnkueTIsXG4gICAgICAgIGVuZDogaG9yaXpvbltqXS5lbmQsXG4gICAgICAgIGJvdW5kYXJ5OiBob3Jpem9uW2pdLmJvdW5kYXJ5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHEgPSBpOyBxIDw9IGo7IHErKykge1xuICAgICAgaG9yaXpvblBhcnQgPSBob3Jpem9uW3FdO1xuICAgICAgYWZmZWN0ZWRCb3VuZGFyeSA9IGhvcml6b25QYXJ0LmJvdW5kYXJ5O1xuXG4gICAgICBpZiAoYWZmZWN0ZWRCb3VuZGFyeS54Mk5ldyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgdXNlZCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKGsgPSBpIC0gMTsgIXVzZWQgJiYgayA+PSAwICYmIGhvcml6b25ba10uc3RhcnQgPj0gYWZmZWN0ZWRCb3VuZGFyeS55MTsgay0tKSB7XG4gICAgICAgIHVzZWQgPSBob3Jpem9uW2tdLmJvdW5kYXJ5ID09PSBhZmZlY3RlZEJvdW5kYXJ5O1xuICAgICAgfVxuXG4gICAgICBmb3IgKGsgPSBqICsgMTsgIXVzZWQgJiYgayA8IGhvcml6b24ubGVuZ3RoICYmIGhvcml6b25ba10uZW5kIDw9IGFmZmVjdGVkQm91bmRhcnkueTI7IGsrKykge1xuICAgICAgICB1c2VkID0gaG9yaXpvbltrXS5ib3VuZGFyeSA9PT0gYWZmZWN0ZWRCb3VuZGFyeTtcbiAgICAgIH1cblxuICAgICAgZm9yIChrID0gMDsgIXVzZWQgJiYgayA8IGNoYW5nZWRIb3Jpem9uLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHVzZWQgPSBjaGFuZ2VkSG9yaXpvbltrXS5ib3VuZGFyeSA9PT0gYWZmZWN0ZWRCb3VuZGFyeTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF1c2VkKSB7XG4gICAgICAgIGFmZmVjdGVkQm91bmRhcnkueDJOZXcgPSBtYXhYTmV3O1xuICAgICAgfVxuICAgIH1cblxuICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoaG9yaXpvbiwgW2ksIGogLSBpICsgMV0uY29uY2F0KGNoYW5nZWRIb3Jpem9uKSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IGhvcml6b25QYXJ0IG9mIGhvcml6b24pIHtcbiAgICBjb25zdCBhZmZlY3RlZEJvdW5kYXJ5ID0gaG9yaXpvblBhcnQuYm91bmRhcnk7XG5cbiAgICBpZiAoYWZmZWN0ZWRCb3VuZGFyeS54Mk5ldyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhZmZlY3RlZEJvdW5kYXJ5LngyTmV3ID0gTWF0aC5tYXgod2lkdGgsIGFmZmVjdGVkQm91bmRhcnkueDIpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBUZXh0TGF5ZXJSZW5kZXJUYXNrIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHRleHRDb250ZW50LFxuICAgIHRleHRDb250ZW50U3RyZWFtLFxuICAgIGNvbnRhaW5lcixcbiAgICB2aWV3cG9ydCxcbiAgICB0ZXh0RGl2cyxcbiAgICB0ZXh0Q29udGVudEl0ZW1zU3RyLFxuICAgIGVuaGFuY2VUZXh0U2VsZWN0aW9uXG4gIH0pIHtcbiAgICB0aGlzLl90ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgIHRoaXMuX3RleHRDb250ZW50U3RyZWFtID0gdGV4dENvbnRlbnRTdHJlYW07XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuX2RvY3VtZW50ID0gY29udGFpbmVyLm93bmVyRG9jdW1lbnQ7XG4gICAgdGhpcy5fdmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICB0aGlzLl90ZXh0RGl2cyA9IHRleHREaXZzIHx8IFtdO1xuICAgIHRoaXMuX3RleHRDb250ZW50SXRlbXNTdHIgPSB0ZXh0Q29udGVudEl0ZW1zU3RyIHx8IFtdO1xuICAgIHRoaXMuX2VuaGFuY2VUZXh0U2VsZWN0aW9uID0gISFlbmhhbmNlVGV4dFNlbGVjdGlvbjtcbiAgICB0aGlzLl9mb250SW5zcGVjdG9yRW5hYmxlZCA9ICEhZ2xvYmFsVGhpcy5Gb250SW5zcGVjdG9yPy5lbmFibGVkO1xuICAgIHRoaXMuX3JlYWRlciA9IG51bGw7XG4gICAgdGhpcy5fbGF5b3V0VGV4dExhc3RGb250U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5fbGF5b3V0VGV4dExhc3RGb250RmFtaWx5ID0gbnVsbDtcbiAgICB0aGlzLl9sYXlvdXRUZXh0Q3R4ID0gbnVsbDtcbiAgICB0aGlzLl90ZXh0RGl2UHJvcGVydGllcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdGhpcy5fcmVuZGVyaW5nRG9uZSA9IGZhbHNlO1xuICAgIHRoaXMuX2NhbmNlbGVkID0gZmFsc2U7XG4gICAgdGhpcy5fY2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgICB0aGlzLl9yZW5kZXJUaW1lciA9IG51bGw7XG4gICAgdGhpcy5fYm91bmRzID0gW107XG5cbiAgICB0aGlzLl9jYXBhYmlsaXR5LnByb21pc2UuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2VuaGFuY2VUZXh0U2VsZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3RleHREaXZQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2xheW91dFRleHRDdHgpIHtcbiAgICAgICAgdGhpcy5fbGF5b3V0VGV4dEN0eC5jYW52YXMud2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9sYXlvdXRUZXh0Q3R4LmNhbnZhcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLl9sYXlvdXRUZXh0Q3R4ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gIH1cblxuICBnZXQgcHJvbWlzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX2NhbmNlbGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl9yZWFkZXIpIHtcbiAgICAgIHRoaXMuX3JlYWRlci5jYW5jZWwobmV3IF91dGlsLkFib3J0RXhjZXB0aW9uKFwiVGV4dExheWVyIHRhc2sgY2FuY2VsbGVkLlwiKSkuY2F0Y2goKCkgPT4ge30pO1xuXG4gICAgICB0aGlzLl9yZWFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9yZW5kZXJUaW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlbmRlclRpbWVyKTtcbiAgICAgIHRoaXMuX3JlbmRlclRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLl9jYXBhYmlsaXR5LnJlamVjdChuZXcgRXJyb3IoXCJUZXh0TGF5ZXIgdGFzayBjYW5jZWxsZWQuXCIpKTtcbiAgfVxuXG4gIF9wcm9jZXNzSXRlbXMoaXRlbXMsIHN0eWxlQ2FjaGUpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChpdGVtc1tpXS5zdHIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXRlbXNbaV0udHlwZSA9PT0gXCJiZWdpbk1hcmtlZENvbnRlbnRQcm9wc1wiIHx8IGl0ZW1zW2ldLnR5cGUgPT09IFwiYmVnaW5NYXJrZWRDb250ZW50XCIpIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cbiAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcmtlZENvbnRlbnRcIik7XG5cbiAgICAgICAgICBpZiAoaXRlbXNbaV0uaWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgJHtpdGVtc1tpXS5pZH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtc1tpXS50eXBlID09PSBcImVuZE1hcmtlZENvbnRlbnRcIikge1xuICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3RleHRDb250ZW50SXRlbXNTdHIucHVzaChpdGVtc1tpXS5zdHIpO1xuXG4gICAgICBhcHBlbmRUZXh0KHRoaXMsIGl0ZW1zW2ldLCBzdHlsZUNhY2hlLCB0aGlzLl9sYXlvdXRUZXh0Q3R4KTtcbiAgICB9XG4gIH1cblxuICBfbGF5b3V0VGV4dCh0ZXh0RGl2KSB7XG4gICAgY29uc3QgdGV4dERpdlByb3BlcnRpZXMgPSB0aGlzLl90ZXh0RGl2UHJvcGVydGllcy5nZXQodGV4dERpdik7XG5cbiAgICBsZXQgdHJhbnNmb3JtID0gXCJcIjtcblxuICAgIGlmICh0ZXh0RGl2UHJvcGVydGllcy5jYW52YXNXaWR0aCAhPT0gMCAmJiB0ZXh0RGl2UHJvcGVydGllcy5oYXNUZXh0KSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZvbnRTaXplLFxuICAgICAgICBmb250RmFtaWx5XG4gICAgICB9ID0gdGV4dERpdi5zdHlsZTtcblxuICAgICAgaWYgKGZvbnRTaXplICE9PSB0aGlzLl9sYXlvdXRUZXh0TGFzdEZvbnRTaXplIHx8IGZvbnRGYW1pbHkgIT09IHRoaXMuX2xheW91dFRleHRMYXN0Rm9udEZhbWlseSkge1xuICAgICAgICB0aGlzLl9sYXlvdXRUZXh0Q3R4LmZvbnQgPSBgJHtmb250U2l6ZX0gJHtmb250RmFtaWx5fWA7XG4gICAgICAgIHRoaXMuX2xheW91dFRleHRMYXN0Rm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgdGhpcy5fbGF5b3V0VGV4dExhc3RGb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICB3aWR0aFxuICAgICAgfSA9IHRoaXMuX2xheW91dFRleHRDdHgubWVhc3VyZVRleHQodGV4dERpdi50ZXh0Q29udGVudCk7XG5cbiAgICAgIGlmICh3aWR0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0ZXh0RGl2UHJvcGVydGllcy5jYW52YXNXaWR0aCAvIHdpZHRoO1xuXG4gICAgICAgIGlmICh0aGlzLl9lbmhhbmNlVGV4dFNlbGVjdGlvbikge1xuICAgICAgICAgIHRleHREaXZQcm9wZXJ0aWVzLnNjYWxlID0gc2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFuc2Zvcm0gPSBgc2NhbGVYKCR7c2NhbGV9KWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRleHREaXZQcm9wZXJ0aWVzLmFuZ2xlICE9PSAwKSB7XG4gICAgICB0cmFuc2Zvcm0gPSBgcm90YXRlKCR7dGV4dERpdlByb3BlcnRpZXMuYW5nbGV9ZGVnKSAke3RyYW5zZm9ybX1gO1xuICAgIH1cblxuICAgIGlmICh0cmFuc2Zvcm0ubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHRoaXMuX2VuaGFuY2VUZXh0U2VsZWN0aW9uKSB7XG4gICAgICAgIHRleHREaXZQcm9wZXJ0aWVzLm9yaWdpbmFsVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgfVxuXG4gICAgICB0ZXh0RGl2LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICBpZiAodGV4dERpdlByb3BlcnRpZXMuaGFzVGV4dCkge1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRleHREaXYpO1xuICAgIH1cblxuICAgIGlmICh0ZXh0RGl2UHJvcGVydGllcy5oYXNFT0wpIHtcbiAgICAgIGNvbnN0IGJyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpO1xuICAgICAgYnIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInByZXNlbnRhdGlvblwiKTtcblxuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGJyKTtcbiAgICB9XG4gIH1cblxuICBfcmVuZGVyKHRpbWVvdXQgPSAwKSB7XG4gICAgY29uc3QgY2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgICBsZXQgc3R5bGVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy53aWR0aCA9IERFRkFVTFRfRk9OVF9TSVpFO1xuICAgIHRoaXMuX2xheW91dFRleHRDdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHtcbiAgICAgIGFscGhhOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuX3RleHRDb250ZW50KSB7XG4gICAgICBjb25zdCB0ZXh0SXRlbXMgPSB0aGlzLl90ZXh0Q29udGVudC5pdGVtcztcbiAgICAgIGNvbnN0IHRleHRTdHlsZXMgPSB0aGlzLl90ZXh0Q29udGVudC5zdHlsZXM7XG5cbiAgICAgIHRoaXMuX3Byb2Nlc3NJdGVtcyh0ZXh0SXRlbXMsIHRleHRTdHlsZXMpO1xuXG4gICAgICBjYXBhYmlsaXR5LnJlc29sdmUoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3RleHRDb250ZW50U3RyZWFtKSB7XG4gICAgICBjb25zdCBwdW1wID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9yZWFkZXIucmVhZCgpLnRoZW4oKHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBkb25lXG4gICAgICAgIH0pID0+IHtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgY2FwYWJpbGl0eS5yZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZUNhY2hlLCB2YWx1ZS5zdHlsZXMpO1xuXG4gICAgICAgICAgdGhpcy5fcHJvY2Vzc0l0ZW1zKHZhbHVlLml0ZW1zLCBzdHlsZUNhY2hlKTtcblxuICAgICAgICAgIHB1bXAoKTtcbiAgICAgICAgfSwgY2FwYWJpbGl0eS5yZWplY3QpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5fcmVhZGVyID0gdGhpcy5fdGV4dENvbnRlbnRTdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgICBwdW1wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTmVpdGhlciBcInRleHRDb250ZW50XCIgbm9yIFwidGV4dENvbnRlbnRTdHJlYW1cIiBwYXJhbWV0ZXJzIHNwZWNpZmllZC4nKTtcbiAgICB9XG5cbiAgICBjYXBhYmlsaXR5LnByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBzdHlsZUNhY2hlID0gbnVsbDtcblxuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHJlbmRlcih0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVuZGVyKHRoaXMpO1xuICAgICAgICAgIHRoaXMuX3JlbmRlclRpbWVyID0gbnVsbDtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5fY2FwYWJpbGl0eS5yZWplY3QpO1xuICB9XG5cbiAgZXhwYW5kVGV4dERpdnMoZXhwYW5kRGl2cyA9IGZhbHNlKSB7XG4gICAgaWYgKCF0aGlzLl9lbmhhbmNlVGV4dFNlbGVjdGlvbiB8fCAhdGhpcy5fcmVuZGVyaW5nRG9uZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ib3VuZHMgIT09IG51bGwpIHtcbiAgICAgIGV4cGFuZCh0aGlzKTtcbiAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNmb3JtQnVmID0gW10sXG4gICAgICAgICAgcGFkZGluZ0J1ZiA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5fdGV4dERpdnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgY29uc3QgZGl2ID0gdGhpcy5fdGV4dERpdnNbaV07XG5cbiAgICAgIGNvbnN0IGRpdlByb3BzID0gdGhpcy5fdGV4dERpdlByb3BlcnRpZXMuZ2V0KGRpdik7XG5cbiAgICAgIGlmICghZGl2UHJvcHMuaGFzVGV4dCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV4cGFuZERpdnMpIHtcbiAgICAgICAgdHJhbnNmb3JtQnVmLmxlbmd0aCA9IDA7XG4gICAgICAgIHBhZGRpbmdCdWYubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAoZGl2UHJvcHMub3JpZ2luYWxUcmFuc2Zvcm0pIHtcbiAgICAgICAgICB0cmFuc2Zvcm1CdWYucHVzaChkaXZQcm9wcy5vcmlnaW5hbFRyYW5zZm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGl2UHJvcHMucGFkZGluZ1RvcCA+IDApIHtcbiAgICAgICAgICBwYWRkaW5nQnVmLnB1c2goYCR7ZGl2UHJvcHMucGFkZGluZ1RvcH1weGApO1xuICAgICAgICAgIHRyYW5zZm9ybUJ1Zi5wdXNoKGB0cmFuc2xhdGVZKCR7LWRpdlByb3BzLnBhZGRpbmdUb3B9cHgpYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFkZGluZ0J1Zi5wdXNoKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpdlByb3BzLnBhZGRpbmdSaWdodCA+IDApIHtcbiAgICAgICAgICBwYWRkaW5nQnVmLnB1c2goYCR7ZGl2UHJvcHMucGFkZGluZ1JpZ2h0IC8gZGl2UHJvcHMuc2NhbGV9cHhgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWRkaW5nQnVmLnB1c2goMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGl2UHJvcHMucGFkZGluZ0JvdHRvbSA+IDApIHtcbiAgICAgICAgICBwYWRkaW5nQnVmLnB1c2goYCR7ZGl2UHJvcHMucGFkZGluZ0JvdHRvbX1weGApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhZGRpbmdCdWYucHVzaCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXZQcm9wcy5wYWRkaW5nTGVmdCA+IDApIHtcbiAgICAgICAgICBwYWRkaW5nQnVmLnB1c2goYCR7ZGl2UHJvcHMucGFkZGluZ0xlZnQgLyBkaXZQcm9wcy5zY2FsZX1weGApO1xuICAgICAgICAgIHRyYW5zZm9ybUJ1Zi5wdXNoKGB0cmFuc2xhdGVYKCR7LWRpdlByb3BzLnBhZGRpbmdMZWZ0IC8gZGl2UHJvcHMuc2NhbGV9cHgpYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFkZGluZ0J1Zi5wdXNoKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nQnVmLmpvaW4oXCIgXCIpO1xuXG4gICAgICAgIGlmICh0cmFuc2Zvcm1CdWYubGVuZ3RoKSB7XG4gICAgICAgICAgZGl2LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybUJ1Zi5qb2luKFwiIFwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSBudWxsO1xuICAgICAgICBkaXYuc3R5bGUudHJhbnNmb3JtID0gZGl2UHJvcHMub3JpZ2luYWxUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuZnVuY3Rpb24gcmVuZGVyVGV4dExheWVyKHJlbmRlclBhcmFtZXRlcnMpIHtcbiAgY29uc3QgdGFzayA9IG5ldyBUZXh0TGF5ZXJSZW5kZXJUYXNrKHtcbiAgICB0ZXh0Q29udGVudDogcmVuZGVyUGFyYW1ldGVycy50ZXh0Q29udGVudCxcbiAgICB0ZXh0Q29udGVudFN0cmVhbTogcmVuZGVyUGFyYW1ldGVycy50ZXh0Q29udGVudFN0cmVhbSxcbiAgICBjb250YWluZXI6IHJlbmRlclBhcmFtZXRlcnMuY29udGFpbmVyLFxuICAgIHZpZXdwb3J0OiByZW5kZXJQYXJhbWV0ZXJzLnZpZXdwb3J0LFxuICAgIHRleHREaXZzOiByZW5kZXJQYXJhbWV0ZXJzLnRleHREaXZzLFxuICAgIHRleHRDb250ZW50SXRlbXNTdHI6IHJlbmRlclBhcmFtZXRlcnMudGV4dENvbnRlbnRJdGVtc1N0cixcbiAgICBlbmhhbmNlVGV4dFNlbGVjdGlvbjogcmVuZGVyUGFyYW1ldGVycy5lbmhhbmNlVGV4dFNlbGVjdGlvblxuICB9KTtcblxuICB0YXNrLl9yZW5kZXIocmVuZGVyUGFyYW1ldGVycy50aW1lb3V0KTtcblxuICByZXR1cm4gdGFzaztcbn1cblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193X3BkZmpzX3JlcXVpcmVfXykgPT4ge1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5TVkdHcmFwaGljcyA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxudmFyIF9kaXNwbGF5X3V0aWxzID0gX193X3BkZmpzX3JlcXVpcmVfXyg1KTtcblxudmFyIF9pc19ub2RlID0gX193X3BkZmpzX3JlcXVpcmVfXygzKTtcblxubGV0IFNWR0dyYXBoaWNzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAoMCwgX3V0aWwudW5yZWFjaGFibGUpKFwiTm90IGltcGxlbWVudGVkOiBTVkdHcmFwaGljc1wiKTtcbiAgfVxuXG59O1xuZXhwb3J0cy5TVkdHcmFwaGljcyA9IFNWR0dyYXBoaWNzO1xue1xuICBjb25zdCBTVkdfREVGQVVMVFMgPSB7XG4gICAgZm9udFN0eWxlOiBcIm5vcm1hbFwiLFxuICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgZmlsbENvbG9yOiBcIiMwMDAwMDBcIlxuICB9O1xuICBjb25zdCBYTUxfTlMgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiO1xuICBjb25zdCBYTElOS19OUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuICBjb25zdCBMSU5FX0NBUF9TVFlMRVMgPSBbXCJidXR0XCIsIFwicm91bmRcIiwgXCJzcXVhcmVcIl07XG4gIGNvbnN0IExJTkVfSk9JTl9TVFlMRVMgPSBbXCJtaXRlclwiLCBcInJvdW5kXCIsIFwiYmV2ZWxcIl07XG5cbiAgY29uc3QgY3JlYXRlT2JqZWN0VVJMID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRlbnRUeXBlID0gXCJcIiwgZm9yY2VEYXRhU2NoZW1hID0gZmFsc2UpIHtcbiAgICBpZiAoVVJMLmNyZWF0ZU9iamVjdFVSTCAmJiB0eXBlb2YgQmxvYiAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhZm9yY2VEYXRhU2NoZW1hKSB7XG4gICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZGF0YV0sIHtcbiAgICAgICAgdHlwZTogY29udGVudFR5cGVcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaWdpdHMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG4gICAgbGV0IGJ1ZmZlciA9IGBkYXRhOiR7Y29udGVudFR5cGV9O2Jhc2U2NCxgO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZGF0YS5sZW5ndGg7IGkgPCBpaTsgaSArPSAzKSB7XG4gICAgICBjb25zdCBiMSA9IGRhdGFbaV0gJiAweGZmO1xuICAgICAgY29uc3QgYjIgPSBkYXRhW2kgKyAxXSAmIDB4ZmY7XG4gICAgICBjb25zdCBiMyA9IGRhdGFbaSArIDJdICYgMHhmZjtcbiAgICAgIGNvbnN0IGQxID0gYjEgPj4gMixcbiAgICAgICAgICAgIGQyID0gKGIxICYgMykgPDwgNCB8IGIyID4+IDQ7XG4gICAgICBjb25zdCBkMyA9IGkgKyAxIDwgaWkgPyAoYjIgJiAweGYpIDw8IDIgfCBiMyA+PiA2IDogNjQ7XG4gICAgICBjb25zdCBkNCA9IGkgKyAyIDwgaWkgPyBiMyAmIDB4M2YgOiA2NDtcbiAgICAgIGJ1ZmZlciArPSBkaWdpdHNbZDFdICsgZGlnaXRzW2QyXSArIGRpZ2l0c1tkM10gKyBkaWdpdHNbZDRdO1xuICAgIH1cblxuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgY29uc3QgY29udmVydEltZ0RhdGFUb1BuZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBQTkdfSEVBREVSID0gbmV3IFVpbnQ4QXJyYXkoWzB4ODksIDB4NTAsIDB4NGUsIDB4NDcsIDB4MGQsIDB4MGEsIDB4MWEsIDB4MGFdKTtcbiAgICBjb25zdCBDSFVOS19XUkFQUEVSX1NJWkUgPSAxMjtcbiAgICBjb25zdCBjcmNUYWJsZSA9IG5ldyBJbnQzMkFycmF5KDI1Nik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICBsZXQgYyA9IGk7XG5cbiAgICAgIGZvciAobGV0IGggPSAwOyBoIDwgODsgaCsrKSB7XG4gICAgICAgIGlmIChjICYgMSkge1xuICAgICAgICAgIGMgPSAweGVkYjg4MzIwIF4gYyA+PiAxICYgMHg3ZmZmZmZmZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjID0gYyA+PiAxICYgMHg3ZmZmZmZmZjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjcmNUYWJsZVtpXSA9IGM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JjMzIoZGF0YSwgc3RhcnQsIGVuZCkge1xuICAgICAgbGV0IGNyYyA9IC0xO1xuXG4gICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjb25zdCBhID0gKGNyYyBeIGRhdGFbaV0pICYgMHhmZjtcbiAgICAgICAgY29uc3QgYiA9IGNyY1RhYmxlW2FdO1xuICAgICAgICBjcmMgPSBjcmMgPj4+IDggXiBiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JjIF4gLTE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd3JpdGVQbmdDaHVuayh0eXBlLCBib2R5LCBkYXRhLCBvZmZzZXQpIHtcbiAgICAgIGxldCBwID0gb2Zmc2V0O1xuICAgICAgY29uc3QgbGVuID0gYm9keS5sZW5ndGg7XG4gICAgICBkYXRhW3BdID0gbGVuID4+IDI0ICYgMHhmZjtcbiAgICAgIGRhdGFbcCArIDFdID0gbGVuID4+IDE2ICYgMHhmZjtcbiAgICAgIGRhdGFbcCArIDJdID0gbGVuID4+IDggJiAweGZmO1xuICAgICAgZGF0YVtwICsgM10gPSBsZW4gJiAweGZmO1xuICAgICAgcCArPSA0O1xuICAgICAgZGF0YVtwXSA9IHR5cGUuY2hhckNvZGVBdCgwKSAmIDB4ZmY7XG4gICAgICBkYXRhW3AgKyAxXSA9IHR5cGUuY2hhckNvZGVBdCgxKSAmIDB4ZmY7XG4gICAgICBkYXRhW3AgKyAyXSA9IHR5cGUuY2hhckNvZGVBdCgyKSAmIDB4ZmY7XG4gICAgICBkYXRhW3AgKyAzXSA9IHR5cGUuY2hhckNvZGVBdCgzKSAmIDB4ZmY7XG4gICAgICBwICs9IDQ7XG4gICAgICBkYXRhLnNldChib2R5LCBwKTtcbiAgICAgIHAgKz0gYm9keS5sZW5ndGg7XG4gICAgICBjb25zdCBjcmMgPSBjcmMzMihkYXRhLCBvZmZzZXQgKyA0LCBwKTtcbiAgICAgIGRhdGFbcF0gPSBjcmMgPj4gMjQgJiAweGZmO1xuICAgICAgZGF0YVtwICsgMV0gPSBjcmMgPj4gMTYgJiAweGZmO1xuICAgICAgZGF0YVtwICsgMl0gPSBjcmMgPj4gOCAmIDB4ZmY7XG4gICAgICBkYXRhW3AgKyAzXSA9IGNyYyAmIDB4ZmY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRsZXIzMihkYXRhLCBzdGFydCwgZW5kKSB7XG4gICAgICBsZXQgYSA9IDE7XG4gICAgICBsZXQgYiA9IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICAgIGEgPSAoYSArIChkYXRhW2ldICYgMHhmZikpICUgNjU1MjE7XG4gICAgICAgIGIgPSAoYiArIGEpICUgNjU1MjE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiIDw8IDE2IHwgYTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWZsYXRlU3luYyhsaXRlcmFscykge1xuICAgICAgaWYgKCFfaXNfbm9kZS5pc05vZGVKUykge1xuICAgICAgICByZXR1cm4gZGVmbGF0ZVN5bmNVbmNvbXByZXNzZWQobGl0ZXJhbHMpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBsZXQgaW5wdXQ7XG5cbiAgICAgICAgaWYgKHBhcnNlSW50KHByb2Nlc3MudmVyc2lvbnMubm9kZSkgPj0gOCkge1xuICAgICAgICAgIGlucHV0ID0gbGl0ZXJhbHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQgPSBCdWZmZXIuZnJvbShsaXRlcmFscyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvdXRwdXQgPSByZXF1aXJlKFwiemxpYlwiKS5kZWZsYXRlU3luYyhpbnB1dCwge1xuICAgICAgICAgIGxldmVsOiA5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBvdXRwdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gb3V0cHV0IDogbmV3IFVpbnQ4QXJyYXkob3V0cHV0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgKDAsIF91dGlsLndhcm4pKFwiTm90IGNvbXByZXNzaW5nIFBORyBiZWNhdXNlIHpsaWIuZGVmbGF0ZVN5bmMgaXMgdW5hdmFpbGFibGU6IFwiICsgZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZsYXRlU3luY1VuY29tcHJlc3NlZChsaXRlcmFscyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmbGF0ZVN5bmNVbmNvbXByZXNzZWQobGl0ZXJhbHMpIHtcbiAgICAgIGxldCBsZW4gPSBsaXRlcmFscy5sZW5ndGg7XG4gICAgICBjb25zdCBtYXhCbG9ja0xlbmd0aCA9IDB4ZmZmZjtcbiAgICAgIGNvbnN0IGRlZmxhdGVCbG9ja3MgPSBNYXRoLmNlaWwobGVuIC8gbWF4QmxvY2tMZW5ndGgpO1xuICAgICAgY29uc3QgaWRhdCA9IG5ldyBVaW50OEFycmF5KDIgKyBsZW4gKyBkZWZsYXRlQmxvY2tzICogNSArIDQpO1xuICAgICAgbGV0IHBpID0gMDtcbiAgICAgIGlkYXRbcGkrK10gPSAweDc4O1xuICAgICAgaWRhdFtwaSsrXSA9IDB4OWM7XG4gICAgICBsZXQgcG9zID0gMDtcblxuICAgICAgd2hpbGUgKGxlbiA+IG1heEJsb2NrTGVuZ3RoKSB7XG4gICAgICAgIGlkYXRbcGkrK10gPSAweDAwO1xuICAgICAgICBpZGF0W3BpKytdID0gMHhmZjtcbiAgICAgICAgaWRhdFtwaSsrXSA9IDB4ZmY7XG4gICAgICAgIGlkYXRbcGkrK10gPSAweDAwO1xuICAgICAgICBpZGF0W3BpKytdID0gMHgwMDtcbiAgICAgICAgaWRhdC5zZXQobGl0ZXJhbHMuc3ViYXJyYXkocG9zLCBwb3MgKyBtYXhCbG9ja0xlbmd0aCksIHBpKTtcbiAgICAgICAgcGkgKz0gbWF4QmxvY2tMZW5ndGg7XG4gICAgICAgIHBvcyArPSBtYXhCbG9ja0xlbmd0aDtcbiAgICAgICAgbGVuIC09IG1heEJsb2NrTGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICBpZGF0W3BpKytdID0gMHgwMTtcbiAgICAgIGlkYXRbcGkrK10gPSBsZW4gJiAweGZmO1xuICAgICAgaWRhdFtwaSsrXSA9IGxlbiA+PiA4ICYgMHhmZjtcbiAgICAgIGlkYXRbcGkrK10gPSB+bGVuICYgMHhmZmZmICYgMHhmZjtcbiAgICAgIGlkYXRbcGkrK10gPSAofmxlbiAmIDB4ZmZmZikgPj4gOCAmIDB4ZmY7XG4gICAgICBpZGF0LnNldChsaXRlcmFscy5zdWJhcnJheShwb3MpLCBwaSk7XG4gICAgICBwaSArPSBsaXRlcmFscy5sZW5ndGggLSBwb3M7XG4gICAgICBjb25zdCBhZGxlciA9IGFkbGVyMzIobGl0ZXJhbHMsIDAsIGxpdGVyYWxzLmxlbmd0aCk7XG4gICAgICBpZGF0W3BpKytdID0gYWRsZXIgPj4gMjQgJiAweGZmO1xuICAgICAgaWRhdFtwaSsrXSA9IGFkbGVyID4+IDE2ICYgMHhmZjtcbiAgICAgIGlkYXRbcGkrK10gPSBhZGxlciA+PiA4ICYgMHhmZjtcbiAgICAgIGlkYXRbcGkrK10gPSBhZGxlciAmIDB4ZmY7XG4gICAgICByZXR1cm4gaWRhdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmNvZGUoaW1nRGF0YSwga2luZCwgZm9yY2VEYXRhU2NoZW1hLCBpc01hc2spIHtcbiAgICAgIGNvbnN0IHdpZHRoID0gaW1nRGF0YS53aWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGltZ0RhdGEuaGVpZ2h0O1xuICAgICAgbGV0IGJpdERlcHRoLCBjb2xvclR5cGUsIGxpbmVTaXplO1xuICAgICAgY29uc3QgYnl0ZXMgPSBpbWdEYXRhLmRhdGE7XG5cbiAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICBjYXNlIF91dGlsLkltYWdlS2luZC5HUkFZU0NBTEVfMUJQUDpcbiAgICAgICAgICBjb2xvclR5cGUgPSAwO1xuICAgICAgICAgIGJpdERlcHRoID0gMTtcbiAgICAgICAgICBsaW5lU2l6ZSA9IHdpZHRoICsgNyA+PiAzO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgX3V0aWwuSW1hZ2VLaW5kLlJHQl8yNEJQUDpcbiAgICAgICAgICBjb2xvclR5cGUgPSAyO1xuICAgICAgICAgIGJpdERlcHRoID0gODtcbiAgICAgICAgICBsaW5lU2l6ZSA9IHdpZHRoICogMztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIF91dGlsLkltYWdlS2luZC5SR0JBXzMyQlBQOlxuICAgICAgICAgIGNvbG9yVHlwZSA9IDY7XG4gICAgICAgICAgYml0RGVwdGggPSA4O1xuICAgICAgICAgIGxpbmVTaXplID0gd2lkdGggKiA0O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmb3JtYXRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxpdGVyYWxzID0gbmV3IFVpbnQ4QXJyYXkoKDEgKyBsaW5lU2l6ZSkgKiBoZWlnaHQpO1xuICAgICAgbGV0IG9mZnNldExpdGVyYWxzID0gMCxcbiAgICAgICAgICBvZmZzZXRCeXRlcyA9IDA7XG5cbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyArK3kpIHtcbiAgICAgICAgbGl0ZXJhbHNbb2Zmc2V0TGl0ZXJhbHMrK10gPSAwO1xuICAgICAgICBsaXRlcmFscy5zZXQoYnl0ZXMuc3ViYXJyYXkob2Zmc2V0Qnl0ZXMsIG9mZnNldEJ5dGVzICsgbGluZVNpemUpLCBvZmZzZXRMaXRlcmFscyk7XG4gICAgICAgIG9mZnNldEJ5dGVzICs9IGxpbmVTaXplO1xuICAgICAgICBvZmZzZXRMaXRlcmFscyArPSBsaW5lU2l6ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGtpbmQgPT09IF91dGlsLkltYWdlS2luZC5HUkFZU0NBTEVfMUJQUCAmJiBpc01hc2spIHtcbiAgICAgICAgb2Zmc2V0TGl0ZXJhbHMgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICBvZmZzZXRMaXRlcmFscysrO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBsaXRlcmFsc1tvZmZzZXRMaXRlcmFscysrXSBePSAweGZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpaGRyID0gbmV3IFVpbnQ4QXJyYXkoW3dpZHRoID4+IDI0ICYgMHhmZiwgd2lkdGggPj4gMTYgJiAweGZmLCB3aWR0aCA+PiA4ICYgMHhmZiwgd2lkdGggJiAweGZmLCBoZWlnaHQgPj4gMjQgJiAweGZmLCBoZWlnaHQgPj4gMTYgJiAweGZmLCBoZWlnaHQgPj4gOCAmIDB4ZmYsIGhlaWdodCAmIDB4ZmYsIGJpdERlcHRoLCBjb2xvclR5cGUsIDB4MDAsIDB4MDAsIDB4MDBdKTtcbiAgICAgIGNvbnN0IGlkYXQgPSBkZWZsYXRlU3luYyhsaXRlcmFscyk7XG4gICAgICBjb25zdCBwbmdMZW5ndGggPSBQTkdfSEVBREVSLmxlbmd0aCArIENIVU5LX1dSQVBQRVJfU0laRSAqIDMgKyBpaGRyLmxlbmd0aCArIGlkYXQubGVuZ3RoO1xuICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KHBuZ0xlbmd0aCk7XG4gICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgIGRhdGEuc2V0KFBOR19IRUFERVIsIG9mZnNldCk7XG4gICAgICBvZmZzZXQgKz0gUE5HX0hFQURFUi5sZW5ndGg7XG4gICAgICB3cml0ZVBuZ0NodW5rKFwiSUhEUlwiLCBpaGRyLCBkYXRhLCBvZmZzZXQpO1xuICAgICAgb2Zmc2V0ICs9IENIVU5LX1dSQVBQRVJfU0laRSArIGloZHIubGVuZ3RoO1xuICAgICAgd3JpdGVQbmdDaHVuayhcIklEQVRBXCIsIGlkYXQsIGRhdGEsIG9mZnNldCk7XG4gICAgICBvZmZzZXQgKz0gQ0hVTktfV1JBUFBFUl9TSVpFICsgaWRhdC5sZW5ndGg7XG4gICAgICB3cml0ZVBuZ0NodW5rKFwiSUVORFwiLCBuZXcgVWludDhBcnJheSgwKSwgZGF0YSwgb2Zmc2V0KTtcbiAgICAgIHJldHVybiBjcmVhdGVPYmplY3RVUkwoZGF0YSwgXCJpbWFnZS9wbmdcIiwgZm9yY2VEYXRhU2NoZW1hKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEltZ0RhdGFUb1BuZyhpbWdEYXRhLCBmb3JjZURhdGFTY2hlbWEsIGlzTWFzaykge1xuICAgICAgY29uc3Qga2luZCA9IGltZ0RhdGEua2luZCA9PT0gdW5kZWZpbmVkID8gX3V0aWwuSW1hZ2VLaW5kLkdSQVlTQ0FMRV8xQlBQIDogaW1nRGF0YS5raW5kO1xuICAgICAgcmV0dXJuIGVuY29kZShpbWdEYXRhLCBraW5kLCBmb3JjZURhdGFTY2hlbWEsIGlzTWFzayk7XG4gICAgfTtcbiAgfSgpO1xuXG4gIGNsYXNzIFNWR0V4dHJhU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5mb250U2l6ZVNjYWxlID0gMTtcbiAgICAgIHRoaXMuZm9udFdlaWdodCA9IFNWR19ERUZBVUxUUy5mb250V2VpZ2h0O1xuICAgICAgdGhpcy5mb250U2l6ZSA9IDA7XG4gICAgICB0aGlzLnRleHRNYXRyaXggPSBfdXRpbC5JREVOVElUWV9NQVRSSVg7XG4gICAgICB0aGlzLmZvbnRNYXRyaXggPSBfdXRpbC5GT05UX0lERU5USVRZX01BVFJJWDtcbiAgICAgIHRoaXMubGVhZGluZyA9IDA7XG4gICAgICB0aGlzLnRleHRSZW5kZXJpbmdNb2RlID0gX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuRklMTDtcbiAgICAgIHRoaXMudGV4dE1hdHJpeFNjYWxlID0gMTtcbiAgICAgIHRoaXMueCA9IDA7XG4gICAgICB0aGlzLnkgPSAwO1xuICAgICAgdGhpcy5saW5lWCA9IDA7XG4gICAgICB0aGlzLmxpbmVZID0gMDtcbiAgICAgIHRoaXMuY2hhclNwYWNpbmcgPSAwO1xuICAgICAgdGhpcy53b3JkU3BhY2luZyA9IDA7XG4gICAgICB0aGlzLnRleHRIU2NhbGUgPSAxO1xuICAgICAgdGhpcy50ZXh0UmlzZSA9IDA7XG4gICAgICB0aGlzLmZpbGxDb2xvciA9IFNWR19ERUZBVUxUUy5maWxsQ29sb3I7XG4gICAgICB0aGlzLnN0cm9rZUNvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgICB0aGlzLmZpbGxBbHBoYSA9IDE7XG4gICAgICB0aGlzLnN0cm9rZUFscGhhID0gMTtcbiAgICAgIHRoaXMubGluZVdpZHRoID0gMTtcbiAgICAgIHRoaXMubGluZUpvaW4gPSBcIlwiO1xuICAgICAgdGhpcy5saW5lQ2FwID0gXCJcIjtcbiAgICAgIHRoaXMubWl0ZXJMaW1pdCA9IDA7XG4gICAgICB0aGlzLmRhc2hBcnJheSA9IFtdO1xuICAgICAgdGhpcy5kYXNoUGhhc2UgPSAwO1xuICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBbXTtcbiAgICAgIHRoaXMuYWN0aXZlQ2xpcFVybCA9IG51bGw7XG4gICAgICB0aGlzLmNsaXBHcm91cCA9IG51bGw7XG4gICAgICB0aGlzLm1hc2tJZCA9IFwiXCI7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50UG9pbnQoeCwgeSkge1xuICAgICAgdGhpcy54ID0geDtcbiAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBvcExpc3RUb1RyZWUob3BMaXN0KSB7XG4gICAgbGV0IG9wVHJlZSA9IFtdO1xuICAgIGNvbnN0IHRtcCA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBvcExpc3RFbGVtZW50IG9mIG9wTGlzdCkge1xuICAgICAgaWYgKG9wTGlzdEVsZW1lbnQuZm4gPT09IFwic2F2ZVwiKSB7XG4gICAgICAgIG9wVHJlZS5wdXNoKHtcbiAgICAgICAgICBmbklkOiA5MixcbiAgICAgICAgICBmbjogXCJncm91cFwiLFxuICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgdG1wLnB1c2gob3BUcmVlKTtcbiAgICAgICAgb3BUcmVlID0gb3BUcmVlW29wVHJlZS5sZW5ndGggLSAxXS5pdGVtcztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcExpc3RFbGVtZW50LmZuID09PSBcInJlc3RvcmVcIikge1xuICAgICAgICBvcFRyZWUgPSB0bXAucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcFRyZWUucHVzaChvcExpc3RFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3BUcmVlO1xuICB9XG5cbiAgZnVuY3Rpb24gcGYodmFsdWUpIHtcbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGNvbnN0IHMgPSB2YWx1ZS50b0ZpeGVkKDEwKTtcbiAgICBsZXQgaSA9IHMubGVuZ3RoIC0gMTtcblxuICAgIGlmIChzW2ldICE9PSBcIjBcIikge1xuICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZG8ge1xuICAgICAgaS0tO1xuICAgIH0gd2hpbGUgKHNbaV0gPT09IFwiMFwiKTtcblxuICAgIHJldHVybiBzLnN1YnN0cmluZygwLCBzW2ldID09PSBcIi5cIiA/IGkgOiBpICsgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwbShtKSB7XG4gICAgaWYgKG1bNF0gPT09IDAgJiYgbVs1XSA9PT0gMCkge1xuICAgICAgaWYgKG1bMV0gPT09IDAgJiYgbVsyXSA9PT0gMCkge1xuICAgICAgICBpZiAobVswXSA9PT0gMSAmJiBtWzNdID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYHNjYWxlKCR7cGYobVswXSl9ICR7cGYobVszXSl9KWA7XG4gICAgICB9XG5cbiAgICAgIGlmIChtWzBdID09PSBtWzNdICYmIG1bMV0gPT09IC1tWzJdKSB7XG4gICAgICAgIGNvbnN0IGEgPSBNYXRoLmFjb3MobVswXSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICByZXR1cm4gYHJvdGF0ZSgke3BmKGEpfSlgO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobVswXSA9PT0gMSAmJiBtWzFdID09PSAwICYmIG1bMl0gPT09IDAgJiYgbVszXSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gYHRyYW5zbGF0ZSgke3BmKG1bNF0pfSAke3BmKG1bNV0pfSlgO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBgbWF0cml4KCR7cGYobVswXSl9ICR7cGYobVsxXSl9ICR7cGYobVsyXSl9ICR7cGYobVszXSl9ICR7cGYobVs0XSl9IGAgKyBgJHtwZihtWzVdKX0pYDtcbiAgfVxuXG4gIGxldCBjbGlwQ291bnQgPSAwO1xuICBsZXQgbWFza0NvdW50ID0gMDtcbiAgbGV0IHNoYWRpbmdDb3VudCA9IDA7XG4gIGV4cG9ydHMuU1ZHR3JhcGhpY3MgPSBTVkdHcmFwaGljcyA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21tb25PYmpzLCBvYmpzLCBmb3JjZURhdGFTY2hlbWEgPSBmYWxzZSkge1xuICAgICAgdGhpcy5zdmdGYWN0b3J5ID0gbmV3IF9kaXNwbGF5X3V0aWxzLkRPTVNWR0ZhY3RvcnkoKTtcbiAgICAgIHRoaXMuY3VycmVudCA9IG5ldyBTVkdFeHRyYVN0YXRlKCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IF91dGlsLklERU5USVRZX01BVFJJWDtcbiAgICAgIHRoaXMudHJhbnNmb3JtU3RhY2sgPSBbXTtcbiAgICAgIHRoaXMuZXh0cmFTdGFjayA9IFtdO1xuICAgICAgdGhpcy5jb21tb25PYmpzID0gY29tbW9uT2JqcztcbiAgICAgIHRoaXMub2JqcyA9IG9ianM7XG4gICAgICB0aGlzLnBlbmRpbmdDbGlwID0gbnVsbDtcbiAgICAgIHRoaXMucGVuZGluZ0VPRmlsbCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbWJlZEZvbnRzID0gZmFsc2U7XG4gICAgICB0aGlzLmVtYmVkZGVkRm9udHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgdGhpcy5jc3NTdHlsZSA9IG51bGw7XG4gICAgICB0aGlzLmZvcmNlRGF0YVNjaGVtYSA9ICEhZm9yY2VEYXRhU2NoZW1hO1xuICAgICAgdGhpcy5fb3BlcmF0b3JJZE1hcHBpbmcgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBvcCBpbiBfdXRpbC5PUFMpIHtcbiAgICAgICAgdGhpcy5fb3BlcmF0b3JJZE1hcHBpbmdbX3V0aWwuT1BTW29wXV0gPSBvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlKCkge1xuICAgICAgdGhpcy50cmFuc2Zvcm1TdGFjay5wdXNoKHRoaXMudHJhbnNmb3JtTWF0cml4KTtcbiAgICAgIGNvbnN0IG9sZCA9IHRoaXMuY3VycmVudDtcbiAgICAgIHRoaXMuZXh0cmFTdGFjay5wdXNoKG9sZCk7XG4gICAgICB0aGlzLmN1cnJlbnQgPSBvbGQuY2xvbmUoKTtcbiAgICB9XG5cbiAgICByZXN0b3JlKCkge1xuICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXggPSB0aGlzLnRyYW5zZm9ybVN0YWNrLnBvcCgpO1xuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5leHRyYVN0YWNrLnBvcCgpO1xuICAgICAgdGhpcy5wZW5kaW5nQ2xpcCA9IG51bGw7XG4gICAgICB0aGlzLnRncnAgPSBudWxsO1xuICAgIH1cblxuICAgIGdyb3VwKGl0ZW1zKSB7XG4gICAgICB0aGlzLnNhdmUoKTtcbiAgICAgIHRoaXMuZXhlY3V0ZU9wVHJlZShpdGVtcyk7XG4gICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBsb2FkRGVwZW5kZW5jaWVzKG9wZXJhdG9yTGlzdCkge1xuICAgICAgY29uc3QgZm5BcnJheSA9IG9wZXJhdG9yTGlzdC5mbkFycmF5O1xuICAgICAgY29uc3QgYXJnc0FycmF5ID0gb3BlcmF0b3JMaXN0LmFyZ3NBcnJheTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZm5BcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGlmIChmbkFycmF5W2ldICE9PSBfdXRpbC5PUFMuZGVwZW5kZW5jeSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBvYmogb2YgYXJnc0FycmF5W2ldKSB7XG4gICAgICAgICAgY29uc3Qgb2Jqc1Bvb2wgPSBvYmouc3RhcnRzV2l0aChcImdfXCIpID8gdGhpcy5jb21tb25PYmpzIDogdGhpcy5vYmpzO1xuICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIG9ianNQb29sLmdldChvYmosIHJlc29sdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuY3VycmVudC5kZXBlbmRlbmNpZXMucHVzaChwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5jdXJyZW50LmRlcGVuZGVuY2llcyk7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybU1hdHJpeCA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHRoaXMudHJhbnNmb3JtTWF0cml4ID0gX3V0aWwuVXRpbC50cmFuc2Zvcm0odGhpcy50cmFuc2Zvcm1NYXRyaXgsIHRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICB0aGlzLnRncnAgPSBudWxsO1xuICAgIH1cblxuICAgIGdldFNWRyhvcGVyYXRvckxpc3QsIHZpZXdwb3J0KSB7XG4gICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG5cbiAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSB0aGlzLl9pbml0aWFsaXplKHZpZXdwb3J0KTtcblxuICAgICAgcmV0dXJuIHRoaXMubG9hZERlcGVuZGVuY2llcyhvcGVyYXRvckxpc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IF91dGlsLklERU5USVRZX01BVFJJWDtcbiAgICAgICAgdGhpcy5leGVjdXRlT3BUcmVlKHRoaXMuY29udmVydE9wTGlzdChvcGVyYXRvckxpc3QpKTtcbiAgICAgICAgcmV0dXJuIHN2Z0VsZW1lbnQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb252ZXJ0T3BMaXN0KG9wZXJhdG9yTGlzdCkge1xuICAgICAgY29uc3Qgb3BlcmF0b3JJZE1hcHBpbmcgPSB0aGlzLl9vcGVyYXRvcklkTWFwcGluZztcbiAgICAgIGNvbnN0IGFyZ3NBcnJheSA9IG9wZXJhdG9yTGlzdC5hcmdzQXJyYXk7XG4gICAgICBjb25zdCBmbkFycmF5ID0gb3BlcmF0b3JMaXN0LmZuQXJyYXk7XG4gICAgICBjb25zdCBvcExpc3QgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZm5BcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZuSWQgPSBmbkFycmF5W2ldO1xuICAgICAgICBvcExpc3QucHVzaCh7XG4gICAgICAgICAgZm5JZCxcbiAgICAgICAgICBmbjogb3BlcmF0b3JJZE1hcHBpbmdbZm5JZF0sXG4gICAgICAgICAgYXJnczogYXJnc0FycmF5W2ldXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3BMaXN0VG9UcmVlKG9wTGlzdCk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZU9wVHJlZShvcFRyZWUpIHtcbiAgICAgIGZvciAoY29uc3Qgb3BUcmVlRWxlbWVudCBvZiBvcFRyZWUpIHtcbiAgICAgICAgY29uc3QgZm4gPSBvcFRyZWVFbGVtZW50LmZuO1xuICAgICAgICBjb25zdCBmbklkID0gb3BUcmVlRWxlbWVudC5mbklkO1xuICAgICAgICBjb25zdCBhcmdzID0gb3BUcmVlRWxlbWVudC5hcmdzO1xuXG4gICAgICAgIHN3aXRjaCAoZm5JZCB8IDApIHtcbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5iZWdpblRleHQ6XG4gICAgICAgICAgICB0aGlzLmJlZ2luVGV4dCgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5kZXBlbmRlbmN5OlxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRMZWFkaW5nOlxuICAgICAgICAgICAgdGhpcy5zZXRMZWFkaW5nKGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRMZWFkaW5nTW92ZVRleHQ6XG4gICAgICAgICAgICB0aGlzLnNldExlYWRpbmdNb3ZlVGV4dChhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0Rm9udDpcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9udChhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2hvd1RleHQ6XG4gICAgICAgICAgICB0aGlzLnNob3dUZXh0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zaG93U3BhY2VkVGV4dDpcbiAgICAgICAgICAgIHRoaXMuc2hvd1RleHQoYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLmVuZFRleHQ6XG4gICAgICAgICAgICB0aGlzLmVuZFRleHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMubW92ZVRleHQ6XG4gICAgICAgICAgICB0aGlzLm1vdmVUZXh0KGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRDaGFyU3BhY2luZzpcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hhclNwYWNpbmcoYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLnNldFdvcmRTcGFjaW5nOlxuICAgICAgICAgICAgdGhpcy5zZXRXb3JkU3BhY2luZyhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0SFNjYWxlOlxuICAgICAgICAgICAgdGhpcy5zZXRIU2NhbGUoYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLnNldFRleHRNYXRyaXg6XG4gICAgICAgICAgICB0aGlzLnNldFRleHRNYXRyaXgoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLnNldFRleHRSaXNlOlxuICAgICAgICAgICAgdGhpcy5zZXRUZXh0UmlzZShhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0VGV4dFJlbmRlcmluZ01vZGU6XG4gICAgICAgICAgICB0aGlzLnNldFRleHRSZW5kZXJpbmdNb2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRMaW5lV2lkdGg6XG4gICAgICAgICAgICB0aGlzLnNldExpbmVXaWR0aChhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0TGluZUpvaW46XG4gICAgICAgICAgICB0aGlzLnNldExpbmVKb2luKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRMaW5lQ2FwOlxuICAgICAgICAgICAgdGhpcy5zZXRMaW5lQ2FwKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRNaXRlckxpbWl0OlxuICAgICAgICAgICAgdGhpcy5zZXRNaXRlckxpbWl0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRGaWxsUkdCQ29sb3I6XG4gICAgICAgICAgICB0aGlzLnNldEZpbGxSR0JDb2xvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0U3Ryb2tlUkdCQ29sb3I6XG4gICAgICAgICAgICB0aGlzLnNldFN0cm9rZVJHQkNvbG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRTdHJva2VDb2xvck46XG4gICAgICAgICAgICB0aGlzLnNldFN0cm9rZUNvbG9yTihhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0RmlsbENvbG9yTjpcbiAgICAgICAgICAgIHRoaXMuc2V0RmlsbENvbG9yTihhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2hhZGluZ0ZpbGw6XG4gICAgICAgICAgICB0aGlzLnNoYWRpbmdGaWxsKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXREYXNoOlxuICAgICAgICAgICAgdGhpcy5zZXREYXNoKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRSZW5kZXJpbmdJbnRlbnQ6XG4gICAgICAgICAgICB0aGlzLnNldFJlbmRlcmluZ0ludGVudChhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuc2V0RmxhdG5lc3M6XG4gICAgICAgICAgICB0aGlzLnNldEZsYXRuZXNzKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zZXRHU3RhdGU6XG4gICAgICAgICAgICB0aGlzLnNldEdTdGF0ZShhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuZmlsbDpcbiAgICAgICAgICAgIHRoaXMuZmlsbCgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5lb0ZpbGw6XG4gICAgICAgICAgICB0aGlzLmVvRmlsbCgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5zdHJva2U6XG4gICAgICAgICAgICB0aGlzLnN0cm9rZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5maWxsU3Ryb2tlOlxuICAgICAgICAgICAgdGhpcy5maWxsU3Ryb2tlKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLmVvRmlsbFN0cm9rZTpcbiAgICAgICAgICAgIHRoaXMuZW9GaWxsU3Ryb2tlKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLmNsaXA6XG4gICAgICAgICAgICB0aGlzLmNsaXAoXCJub256ZXJvXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5lb0NsaXA6XG4gICAgICAgICAgICB0aGlzLmNsaXAoXCJldmVub2RkXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5wYWludFNvbGlkQ29sb3JJbWFnZU1hc2s6XG4gICAgICAgICAgICB0aGlzLnBhaW50U29saWRDb2xvckltYWdlTWFzaygpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5wYWludEltYWdlWE9iamVjdDpcbiAgICAgICAgICAgIHRoaXMucGFpbnRJbWFnZVhPYmplY3QoYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLnBhaW50SW5saW5lSW1hZ2VYT2JqZWN0OlxuICAgICAgICAgICAgdGhpcy5wYWludElubGluZUltYWdlWE9iamVjdChhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMucGFpbnRJbWFnZU1hc2tYT2JqZWN0OlxuICAgICAgICAgICAgdGhpcy5wYWludEltYWdlTWFza1hPYmplY3QoYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLnBhaW50Rm9ybVhPYmplY3RCZWdpbjpcbiAgICAgICAgICAgIHRoaXMucGFpbnRGb3JtWE9iamVjdEJlZ2luKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5wYWludEZvcm1YT2JqZWN0RW5kOlxuICAgICAgICAgICAgdGhpcy5wYWludEZvcm1YT2JqZWN0RW5kKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLmNsb3NlUGF0aDpcbiAgICAgICAgICAgIHRoaXMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLmNsb3NlU3Ryb2tlOlxuICAgICAgICAgICAgdGhpcy5jbG9zZVN0cm9rZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5jbG9zZUZpbGxTdHJva2U6XG4gICAgICAgICAgICB0aGlzLmNsb3NlRmlsbFN0cm9rZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5jbG9zZUVPRmlsbFN0cm9rZTpcbiAgICAgICAgICAgIHRoaXMuY2xvc2VFT0ZpbGxTdHJva2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMubmV4dExpbmU6XG4gICAgICAgICAgICB0aGlzLm5leHRMaW5lKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLnRyYW5zZm9ybTpcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5jb25zdHJ1Y3RQYXRoOlxuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RQYXRoKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5lbmRQYXRoOlxuICAgICAgICAgICAgdGhpcy5lbmRQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgOTI6XG4gICAgICAgICAgICB0aGlzLmdyb3VwKG9wVHJlZUVsZW1lbnQuaXRlbXMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgKDAsIF91dGlsLndhcm4pKGBVbmltcGxlbWVudGVkIG9wZXJhdG9yICR7Zm59YCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldFdvcmRTcGFjaW5nKHdvcmRTcGFjaW5nKSB7XG4gICAgICB0aGlzLmN1cnJlbnQud29yZFNwYWNpbmcgPSB3b3JkU3BhY2luZztcbiAgICB9XG5cbiAgICBzZXRDaGFyU3BhY2luZyhjaGFyU3BhY2luZykge1xuICAgICAgdGhpcy5jdXJyZW50LmNoYXJTcGFjaW5nID0gY2hhclNwYWNpbmc7XG4gICAgfVxuXG4gICAgbmV4dExpbmUoKSB7XG4gICAgICB0aGlzLm1vdmVUZXh0KDAsIHRoaXMuY3VycmVudC5sZWFkaW5nKTtcbiAgICB9XG5cbiAgICBzZXRUZXh0TWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICBjdXJyZW50LnRleHRNYXRyaXggPSBjdXJyZW50LmxpbmVNYXRyaXggPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICBjdXJyZW50LnRleHRNYXRyaXhTY2FsZSA9IE1hdGguaHlwb3QoYSwgYik7XG4gICAgICBjdXJyZW50LnggPSBjdXJyZW50LmxpbmVYID0gMDtcbiAgICAgIGN1cnJlbnQueSA9IGN1cnJlbnQubGluZVkgPSAwO1xuICAgICAgY3VycmVudC54Y29vcmRzID0gW107XG4gICAgICBjdXJyZW50Lnljb29yZHMgPSBbXTtcbiAgICAgIGN1cnJlbnQudHNwYW4gPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2Zzp0c3BhblwiKTtcbiAgICAgIGN1cnJlbnQudHNwYW4uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmb250LWZhbWlseVwiLCBjdXJyZW50LmZvbnRGYW1pbHkpO1xuICAgICAgY3VycmVudC50c3Bhbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZvbnQtc2l6ZVwiLCBgJHtwZihjdXJyZW50LmZvbnRTaXplKX1weGApO1xuICAgICAgY3VycmVudC50c3Bhbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgcGYoLWN1cnJlbnQueSkpO1xuICAgICAgY3VycmVudC50eHRFbGVtZW50ID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6dGV4dFwiKTtcbiAgICAgIGN1cnJlbnQudHh0RWxlbWVudC5hcHBlbmRDaGlsZChjdXJyZW50LnRzcGFuKTtcbiAgICB9XG5cbiAgICBiZWdpblRleHQoKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgY3VycmVudC54ID0gY3VycmVudC5saW5lWCA9IDA7XG4gICAgICBjdXJyZW50LnkgPSBjdXJyZW50LmxpbmVZID0gMDtcbiAgICAgIGN1cnJlbnQudGV4dE1hdHJpeCA9IF91dGlsLklERU5USVRZX01BVFJJWDtcbiAgICAgIGN1cnJlbnQubGluZU1hdHJpeCA9IF91dGlsLklERU5USVRZX01BVFJJWDtcbiAgICAgIGN1cnJlbnQudGV4dE1hdHJpeFNjYWxlID0gMTtcbiAgICAgIGN1cnJlbnQudHNwYW4gPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2Zzp0c3BhblwiKTtcbiAgICAgIGN1cnJlbnQudHh0RWxlbWVudCA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnRleHRcIik7XG4gICAgICBjdXJyZW50LnR4dGdycCA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOmdcIik7XG4gICAgICBjdXJyZW50Lnhjb29yZHMgPSBbXTtcbiAgICAgIGN1cnJlbnQueWNvb3JkcyA9IFtdO1xuICAgIH1cblxuICAgIG1vdmVUZXh0KHgsIHkpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICBjdXJyZW50LnggPSBjdXJyZW50LmxpbmVYICs9IHg7XG4gICAgICBjdXJyZW50LnkgPSBjdXJyZW50LmxpbmVZICs9IHk7XG4gICAgICBjdXJyZW50Lnhjb29yZHMgPSBbXTtcbiAgICAgIGN1cnJlbnQueWNvb3JkcyA9IFtdO1xuICAgICAgY3VycmVudC50c3BhbiA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnRzcGFuXCIpO1xuICAgICAgY3VycmVudC50c3Bhbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZvbnQtZmFtaWx5XCIsIGN1cnJlbnQuZm9udEZhbWlseSk7XG4gICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZm9udC1zaXplXCIsIGAke3BmKGN1cnJlbnQuZm9udFNpemUpfXB4YCk7XG4gICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBwZigtY3VycmVudC55KSk7XG4gICAgfVxuXG4gICAgc2hvd1RleHQoZ2x5cGhzKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgY29uc3QgZm9udCA9IGN1cnJlbnQuZm9udDtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gY3VycmVudC5mb250U2l6ZTtcblxuICAgICAgaWYgKGZvbnRTaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZm9udFNpemVTY2FsZSA9IGN1cnJlbnQuZm9udFNpemVTY2FsZTtcbiAgICAgIGNvbnN0IGNoYXJTcGFjaW5nID0gY3VycmVudC5jaGFyU3BhY2luZztcbiAgICAgIGNvbnN0IHdvcmRTcGFjaW5nID0gY3VycmVudC53b3JkU3BhY2luZztcbiAgICAgIGNvbnN0IGZvbnREaXJlY3Rpb24gPSBjdXJyZW50LmZvbnREaXJlY3Rpb247XG4gICAgICBjb25zdCB0ZXh0SFNjYWxlID0gY3VycmVudC50ZXh0SFNjYWxlICogZm9udERpcmVjdGlvbjtcbiAgICAgIGNvbnN0IHZlcnRpY2FsID0gZm9udC52ZXJ0aWNhbDtcbiAgICAgIGNvbnN0IHNwYWNpbmdEaXIgPSB2ZXJ0aWNhbCA/IDEgOiAtMTtcbiAgICAgIGNvbnN0IGRlZmF1bHRWTWV0cmljcyA9IGZvbnQuZGVmYXVsdFZNZXRyaWNzO1xuICAgICAgY29uc3Qgd2lkdGhBZHZhbmNlU2NhbGUgPSBmb250U2l6ZSAqIGN1cnJlbnQuZm9udE1hdHJpeFswXTtcbiAgICAgIGxldCB4ID0gMDtcblxuICAgICAgZm9yIChjb25zdCBnbHlwaCBvZiBnbHlwaHMpIHtcbiAgICAgICAgaWYgKGdseXBoID09PSBudWxsKSB7XG4gICAgICAgICAgeCArPSBmb250RGlyZWN0aW9uICogd29yZFNwYWNpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGdseXBoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgeCArPSBzcGFjaW5nRGlyICogZ2x5cGggKiBmb250U2l6ZSAvIDEwMDA7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzcGFjaW5nID0gKGdseXBoLmlzU3BhY2UgPyB3b3JkU3BhY2luZyA6IDApICsgY2hhclNwYWNpbmc7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IGdseXBoLmZvbnRDaGFyO1xuICAgICAgICBsZXQgc2NhbGVkWCwgc2NhbGVkWTtcbiAgICAgICAgbGV0IHdpZHRoID0gZ2x5cGgud2lkdGg7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgbGV0IHZ4O1xuICAgICAgICAgIGNvbnN0IHZtZXRyaWMgPSBnbHlwaC52bWV0cmljIHx8IGRlZmF1bHRWTWV0cmljcztcbiAgICAgICAgICB2eCA9IGdseXBoLnZtZXRyaWMgPyB2bWV0cmljWzFdIDogd2lkdGggKiAwLjU7XG4gICAgICAgICAgdnggPSAtdnggKiB3aWR0aEFkdmFuY2VTY2FsZTtcbiAgICAgICAgICBjb25zdCB2eSA9IHZtZXRyaWNbMl0gKiB3aWR0aEFkdmFuY2VTY2FsZTtcbiAgICAgICAgICB3aWR0aCA9IHZtZXRyaWMgPyAtdm1ldHJpY1swXSA6IHdpZHRoO1xuICAgICAgICAgIHNjYWxlZFggPSB2eCAvIGZvbnRTaXplU2NhbGU7XG4gICAgICAgICAgc2NhbGVkWSA9ICh4ICsgdnkpIC8gZm9udFNpemVTY2FsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY2FsZWRYID0geCAvIGZvbnRTaXplU2NhbGU7XG4gICAgICAgICAgc2NhbGVkWSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2x5cGguaXNJbkZvbnQgfHwgZm9udC5taXNzaW5nRmlsZSkge1xuICAgICAgICAgIGN1cnJlbnQueGNvb3Jkcy5wdXNoKGN1cnJlbnQueCArIHNjYWxlZFgpO1xuXG4gICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBjdXJyZW50Lnljb29yZHMucHVzaCgtY3VycmVudC55ICsgc2NhbGVkWSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3VycmVudC50c3Bhbi50ZXh0Q29udGVudCArPSBjaGFyYWN0ZXI7XG4gICAgICAgIH0gZWxzZSB7fVxuXG4gICAgICAgIGxldCBjaGFyV2lkdGg7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgY2hhcldpZHRoID0gd2lkdGggKiB3aWR0aEFkdmFuY2VTY2FsZSAtIHNwYWNpbmcgKiBmb250RGlyZWN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYXJXaWR0aCA9IHdpZHRoICogd2lkdGhBZHZhbmNlU2NhbGUgKyBzcGFjaW5nICogZm9udERpcmVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHggKz0gY2hhcldpZHRoO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBjdXJyZW50Lnhjb29yZHMubWFwKHBmKS5qb2luKFwiIFwiKSk7XG5cbiAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBjdXJyZW50Lnljb29yZHMubWFwKHBmKS5qb2luKFwiIFwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBwZigtY3VycmVudC55KSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICBjdXJyZW50LnkgLT0geDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnQueCArPSB4ICogdGV4dEhTY2FsZTtcbiAgICAgIH1cblxuICAgICAgY3VycmVudC50c3Bhbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZvbnQtZmFtaWx5XCIsIGN1cnJlbnQuZm9udEZhbWlseSk7XG4gICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZm9udC1zaXplXCIsIGAke3BmKGN1cnJlbnQuZm9udFNpemUpfXB4YCk7XG5cbiAgICAgIGlmIChjdXJyZW50LmZvbnRTdHlsZSAhPT0gU1ZHX0RFRkFVTFRTLmZvbnRTdHlsZSkge1xuICAgICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZm9udC1zdHlsZVwiLCBjdXJyZW50LmZvbnRTdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50LmZvbnRXZWlnaHQgIT09IFNWR19ERUZBVUxUUy5mb250V2VpZ2h0KSB7XG4gICAgICAgIGN1cnJlbnQudHNwYW4uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmb250LXdlaWdodFwiLCBjdXJyZW50LmZvbnRXZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaWxsU3Ryb2tlTW9kZSA9IGN1cnJlbnQudGV4dFJlbmRlcmluZ01vZGUgJiBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5GSUxMX1NUUk9LRV9NQVNLO1xuXG4gICAgICBpZiAoZmlsbFN0cm9rZU1vZGUgPT09IF91dGlsLlRleHRSZW5kZXJpbmdNb2RlLkZJTEwgfHwgZmlsbFN0cm9rZU1vZGUgPT09IF91dGlsLlRleHRSZW5kZXJpbmdNb2RlLkZJTExfU1RST0tFKSB7XG4gICAgICAgIGlmIChjdXJyZW50LmZpbGxDb2xvciAhPT0gU1ZHX0RFRkFVTFRTLmZpbGxDb2xvcikge1xuICAgICAgICAgIGN1cnJlbnQudHNwYW4uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIGN1cnJlbnQuZmlsbENvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50LmZpbGxBbHBoYSA8IDEpIHtcbiAgICAgICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbC1vcGFjaXR5XCIsIGN1cnJlbnQuZmlsbEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50LnRleHRSZW5kZXJpbmdNb2RlID09PSBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5BRERfVE9fUEFUSCkge1xuICAgICAgICBjdXJyZW50LnRzcGFuLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCBcInRyYW5zcGFyZW50XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudC50c3Bhbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCJub25lXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsbFN0cm9rZU1vZGUgPT09IF91dGlsLlRleHRSZW5kZXJpbmdNb2RlLlNUUk9LRSB8fCBmaWxsU3Ryb2tlTW9kZSA9PT0gX3V0aWwuVGV4dFJlbmRlcmluZ01vZGUuRklMTF9TVFJPS0UpIHtcbiAgICAgICAgY29uc3QgbGluZVdpZHRoU2NhbGUgPSAxIC8gKGN1cnJlbnQudGV4dE1hdHJpeFNjYWxlIHx8IDEpO1xuXG4gICAgICAgIHRoaXMuX3NldFN0cm9rZUF0dHJpYnV0ZXMoY3VycmVudC50c3BhbiwgbGluZVdpZHRoU2NhbGUpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGV4dE1hdHJpeCA9IGN1cnJlbnQudGV4dE1hdHJpeDtcblxuICAgICAgaWYgKGN1cnJlbnQudGV4dFJpc2UgIT09IDApIHtcbiAgICAgICAgdGV4dE1hdHJpeCA9IHRleHRNYXRyaXguc2xpY2UoKTtcbiAgICAgICAgdGV4dE1hdHJpeFs1XSArPSBjdXJyZW50LnRleHRSaXNlO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50LnR4dEVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgYCR7cG0odGV4dE1hdHJpeCl9IHNjYWxlKCR7cGYodGV4dEhTY2FsZSl9LCAtMSlgKTtcbiAgICAgIGN1cnJlbnQudHh0RWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhYTUxfTlMsIFwieG1sOnNwYWNlXCIsIFwicHJlc2VydmVcIik7XG4gICAgICBjdXJyZW50LnR4dEVsZW1lbnQuYXBwZW5kQ2hpbGQoY3VycmVudC50c3Bhbik7XG4gICAgICBjdXJyZW50LnR4dGdycC5hcHBlbmRDaGlsZChjdXJyZW50LnR4dEVsZW1lbnQpO1xuXG4gICAgICB0aGlzLl9lbnN1cmVUcmFuc2Zvcm1Hcm91cCgpLmFwcGVuZENoaWxkKGN1cnJlbnQudHh0RWxlbWVudCk7XG4gICAgfVxuXG4gICAgc2V0TGVhZGluZ01vdmVUZXh0KHgsIHkpIHtcbiAgICAgIHRoaXMuc2V0TGVhZGluZygteSk7XG4gICAgICB0aGlzLm1vdmVUZXh0KHgsIHkpO1xuICAgIH1cblxuICAgIGFkZEZvbnRTdHlsZShmb250T2JqKSB7XG4gICAgICBpZiAoIWZvbnRPYmouZGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZGRGb250U3R5bGU6IE5vIGZvbnQgZGF0YSBhdmFpbGFibGUsIFwiICsgJ2Vuc3VyZSB0aGF0IHRoZSBcImZvbnRFeHRyYVByb3BlcnRpZXNcIiBBUEkgcGFyYW1ldGVyIGlzIHNldC4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmNzc1N0eWxlKSB7XG4gICAgICAgIHRoaXMuY3NzU3R5bGUgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2ZzpzdHlsZVwiKTtcbiAgICAgICAgdGhpcy5jc3NTdHlsZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKTtcbiAgICAgICAgdGhpcy5kZWZzLmFwcGVuZENoaWxkKHRoaXMuY3NzU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1cmwgPSBjcmVhdGVPYmplY3RVUkwoZm9udE9iai5kYXRhLCBmb250T2JqLm1pbWV0eXBlLCB0aGlzLmZvcmNlRGF0YVNjaGVtYSk7XG4gICAgICB0aGlzLmNzc1N0eWxlLnRleHRDb250ZW50ICs9IGBAZm9udC1mYWNlIHsgZm9udC1mYW1pbHk6IFwiJHtmb250T2JqLmxvYWRlZE5hbWV9XCI7YCArIGAgc3JjOiB1cmwoJHt1cmx9KTsgfVxcbmA7XG4gICAgfVxuXG4gICAgc2V0Rm9udChkZXRhaWxzKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgY29uc3QgZm9udE9iaiA9IHRoaXMuY29tbW9uT2Jqcy5nZXQoZGV0YWlsc1swXSk7XG4gICAgICBsZXQgc2l6ZSA9IGRldGFpbHNbMV07XG4gICAgICBjdXJyZW50LmZvbnQgPSBmb250T2JqO1xuXG4gICAgICBpZiAodGhpcy5lbWJlZEZvbnRzICYmICFmb250T2JqLm1pc3NpbmdGaWxlICYmICF0aGlzLmVtYmVkZGVkRm9udHNbZm9udE9iai5sb2FkZWROYW1lXSkge1xuICAgICAgICB0aGlzLmFkZEZvbnRTdHlsZShmb250T2JqKTtcbiAgICAgICAgdGhpcy5lbWJlZGRlZEZvbnRzW2ZvbnRPYmoubG9hZGVkTmFtZV0gPSBmb250T2JqO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50LmZvbnRNYXRyaXggPSBmb250T2JqLmZvbnRNYXRyaXggfHwgX3V0aWwuRk9OVF9JREVOVElUWV9NQVRSSVg7XG4gICAgICBsZXQgYm9sZCA9IFwibm9ybWFsXCI7XG5cbiAgICAgIGlmIChmb250T2JqLmJsYWNrKSB7XG4gICAgICAgIGJvbGQgPSBcIjkwMFwiO1xuICAgICAgfSBlbHNlIGlmIChmb250T2JqLmJvbGQpIHtcbiAgICAgICAgYm9sZCA9IFwiYm9sZFwiO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGFsaWMgPSBmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiO1xuXG4gICAgICBpZiAoc2l6ZSA8IDApIHtcbiAgICAgICAgc2l6ZSA9IC1zaXplO1xuICAgICAgICBjdXJyZW50LmZvbnREaXJlY3Rpb24gPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnQuZm9udERpcmVjdGlvbiA9IDE7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnQuZm9udFNpemUgPSBzaXplO1xuICAgICAgY3VycmVudC5mb250RmFtaWx5ID0gZm9udE9iai5sb2FkZWROYW1lO1xuICAgICAgY3VycmVudC5mb250V2VpZ2h0ID0gYm9sZDtcbiAgICAgIGN1cnJlbnQuZm9udFN0eWxlID0gaXRhbGljO1xuICAgICAgY3VycmVudC50c3BhbiA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnRzcGFuXCIpO1xuICAgICAgY3VycmVudC50c3Bhbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgcGYoLWN1cnJlbnQueSkpO1xuICAgICAgY3VycmVudC54Y29vcmRzID0gW107XG4gICAgICBjdXJyZW50Lnljb29yZHMgPSBbXTtcbiAgICB9XG5cbiAgICBlbmRUZXh0KCkge1xuICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDtcblxuICAgICAgaWYgKGN1cnJlbnQudGV4dFJlbmRlcmluZ01vZGUgJiBfdXRpbC5UZXh0UmVuZGVyaW5nTW9kZS5BRERfVE9fUEFUSF9GTEFHICYmIGN1cnJlbnQudHh0RWxlbWVudD8uaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIGN1cnJlbnQuZWxlbWVudCA9IGN1cnJlbnQudHh0RWxlbWVudDtcbiAgICAgICAgdGhpcy5jbGlwKFwibm9uemVyb1wiKTtcbiAgICAgICAgdGhpcy5lbmRQYXRoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0TGluZVdpZHRoKHdpZHRoKSB7XG4gICAgICBpZiAod2lkdGggPiAwKSB7XG4gICAgICAgIHRoaXMuY3VycmVudC5saW5lV2lkdGggPSB3aWR0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRMaW5lQ2FwKHN0eWxlKSB7XG4gICAgICB0aGlzLmN1cnJlbnQubGluZUNhcCA9IExJTkVfQ0FQX1NUWUxFU1tzdHlsZV07XG4gICAgfVxuXG4gICAgc2V0TGluZUpvaW4oc3R5bGUpIHtcbiAgICAgIHRoaXMuY3VycmVudC5saW5lSm9pbiA9IExJTkVfSk9JTl9TVFlMRVNbc3R5bGVdO1xuICAgIH1cblxuICAgIHNldE1pdGVyTGltaXQobGltaXQpIHtcbiAgICAgIHRoaXMuY3VycmVudC5taXRlckxpbWl0ID0gbGltaXQ7XG4gICAgfVxuXG4gICAgc2V0U3Ryb2tlQWxwaGEoc3Ryb2tlQWxwaGEpIHtcbiAgICAgIHRoaXMuY3VycmVudC5zdHJva2VBbHBoYSA9IHN0cm9rZUFscGhhO1xuICAgIH1cblxuICAgIHNldFN0cm9rZVJHQkNvbG9yKHIsIGcsIGIpIHtcbiAgICAgIHRoaXMuY3VycmVudC5zdHJva2VDb2xvciA9IF91dGlsLlV0aWwubWFrZUhleENvbG9yKHIsIGcsIGIpO1xuICAgIH1cblxuICAgIHNldEZpbGxBbHBoYShmaWxsQWxwaGEpIHtcbiAgICAgIHRoaXMuY3VycmVudC5maWxsQWxwaGEgPSBmaWxsQWxwaGE7XG4gICAgfVxuXG4gICAgc2V0RmlsbFJHQkNvbG9yKHIsIGcsIGIpIHtcbiAgICAgIHRoaXMuY3VycmVudC5maWxsQ29sb3IgPSBfdXRpbC5VdGlsLm1ha2VIZXhDb2xvcihyLCBnLCBiKTtcbiAgICAgIHRoaXMuY3VycmVudC50c3BhbiA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnRzcGFuXCIpO1xuICAgICAgdGhpcy5jdXJyZW50Lnhjb29yZHMgPSBbXTtcbiAgICAgIHRoaXMuY3VycmVudC55Y29vcmRzID0gW107XG4gICAgfVxuXG4gICAgc2V0U3Ryb2tlQ29sb3JOKGFyZ3MpIHtcbiAgICAgIHRoaXMuY3VycmVudC5zdHJva2VDb2xvciA9IHRoaXMuX21ha2VDb2xvck5fUGF0dGVybihhcmdzKTtcbiAgICB9XG5cbiAgICBzZXRGaWxsQ29sb3JOKGFyZ3MpIHtcbiAgICAgIHRoaXMuY3VycmVudC5maWxsQ29sb3IgPSB0aGlzLl9tYWtlQ29sb3JOX1BhdHRlcm4oYXJncyk7XG4gICAgfVxuXG4gICAgc2hhZGluZ0ZpbGwoYXJncykge1xuICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLnZpZXdwb3J0LndpZHRoO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy52aWV3cG9ydC5oZWlnaHQ7XG5cbiAgICAgIGNvbnN0IGludiA9IF91dGlsLlV0aWwuaW52ZXJzZVRyYW5zZm9ybSh0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG5cbiAgICAgIGNvbnN0IGJsID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbMCwgMF0sIGludik7XG5cbiAgICAgIGNvbnN0IGJyID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbMCwgaGVpZ2h0XSwgaW52KTtcblxuICAgICAgY29uc3QgdWwgPSBfdXRpbC5VdGlsLmFwcGx5VHJhbnNmb3JtKFt3aWR0aCwgMF0sIGludik7XG5cbiAgICAgIGNvbnN0IHVyID0gX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbd2lkdGgsIGhlaWdodF0sIGludik7XG5cbiAgICAgIGNvbnN0IHgwID0gTWF0aC5taW4oYmxbMF0sIGJyWzBdLCB1bFswXSwgdXJbMF0pO1xuICAgICAgY29uc3QgeTAgPSBNYXRoLm1pbihibFsxXSwgYnJbMV0sIHVsWzFdLCB1clsxXSk7XG4gICAgICBjb25zdCB4MSA9IE1hdGgubWF4KGJsWzBdLCBiclswXSwgdWxbMF0sIHVyWzBdKTtcbiAgICAgIGNvbnN0IHkxID0gTWF0aC5tYXgoYmxbMV0sIGJyWzFdLCB1bFsxXSwgdXJbMV0pO1xuICAgICAgY29uc3QgcmVjdCA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnJlY3RcIik7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCB4MCk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCB5MCk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgeDEgLSB4MCk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIHkxIC0geTApO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgdGhpcy5fbWFrZVNoYWRpbmdQYXR0ZXJuKGFyZ3MpKTtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudC5maWxsQWxwaGEgPCAxKSB7XG4gICAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsLW9wYWNpdHlcIiwgdGhpcy5jdXJyZW50LmZpbGxBbHBoYSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Vuc3VyZVRyYW5zZm9ybUdyb3VwKCkuYXBwZW5kQ2hpbGQocmVjdCk7XG4gICAgfVxuXG4gICAgX21ha2VDb2xvck5fUGF0dGVybihhcmdzKSB7XG4gICAgICBpZiAoYXJnc1swXSA9PT0gXCJUaWxpbmdQYXR0ZXJuXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ha2VUaWxpbmdQYXR0ZXJuKGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fbWFrZVNoYWRpbmdQYXR0ZXJuKGFyZ3MpO1xuICAgIH1cblxuICAgIF9tYWtlVGlsaW5nUGF0dGVybihhcmdzKSB7XG4gICAgICBjb25zdCBjb2xvciA9IGFyZ3NbMV07XG4gICAgICBjb25zdCBvcGVyYXRvckxpc3QgPSBhcmdzWzJdO1xuICAgICAgY29uc3QgbWF0cml4ID0gYXJnc1szXSB8fCBfdXRpbC5JREVOVElUWV9NQVRSSVg7XG4gICAgICBjb25zdCBbeDAsIHkwLCB4MSwgeTFdID0gYXJnc1s0XTtcbiAgICAgIGNvbnN0IHhzdGVwID0gYXJnc1s1XTtcbiAgICAgIGNvbnN0IHlzdGVwID0gYXJnc1s2XTtcbiAgICAgIGNvbnN0IHBhaW50VHlwZSA9IGFyZ3NbN107XG4gICAgICBjb25zdCB0aWxpbmdJZCA9IGBzaGFkaW5nJHtzaGFkaW5nQ291bnQrK31gO1xuXG4gICAgICBjb25zdCBbdHgwLCB0eTAsIHR4MSwgdHkxXSA9IF91dGlsLlV0aWwubm9ybWFsaXplUmVjdChbLi4uX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbeDAsIHkwXSwgbWF0cml4KSwgLi4uX3V0aWwuVXRpbC5hcHBseVRyYW5zZm9ybShbeDEsIHkxXSwgbWF0cml4KV0pO1xuXG4gICAgICBjb25zdCBbeHNjYWxlLCB5c2NhbGVdID0gX3V0aWwuVXRpbC5zaW5ndWxhclZhbHVlRGVjb21wb3NlMmRTY2FsZShtYXRyaXgpO1xuXG4gICAgICBjb25zdCB0eHN0ZXAgPSB4c3RlcCAqIHhzY2FsZTtcbiAgICAgIGNvbnN0IHR5c3RlcCA9IHlzdGVwICogeXNjYWxlO1xuICAgICAgY29uc3QgdGlsaW5nID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6cGF0dGVyblwiKTtcbiAgICAgIHRpbGluZy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImlkXCIsIHRpbGluZ0lkKTtcbiAgICAgIHRpbGluZy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInBhdHRlcm5Vbml0c1wiLCBcInVzZXJTcGFjZU9uVXNlXCIpO1xuICAgICAgdGlsaW5nLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgdHhzdGVwKTtcbiAgICAgIHRpbGluZy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCB0eXN0ZXApO1xuICAgICAgdGlsaW5nLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBgJHt0eDB9YCk7XG4gICAgICB0aWxpbmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIGAke3R5MH1gKTtcbiAgICAgIGNvbnN0IHN2ZyA9IHRoaXMuc3ZnO1xuICAgICAgY29uc3QgdHJhbnNmb3JtTWF0cml4ID0gdGhpcy50cmFuc2Zvcm1NYXRyaXg7XG4gICAgICBjb25zdCBmaWxsQ29sb3IgPSB0aGlzLmN1cnJlbnQuZmlsbENvbG9yO1xuICAgICAgY29uc3Qgc3Ryb2tlQ29sb3IgPSB0aGlzLmN1cnJlbnQuc3Ryb2tlQ29sb3I7XG4gICAgICBjb25zdCBiYm94ID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZSh0eDEgLSB0eDAsIHR5MSAtIHR5MCk7XG4gICAgICB0aGlzLnN2ZyA9IGJib3g7XG4gICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgaWYgKHBhaW50VHlwZSA9PT0gMikge1xuICAgICAgICBjb25zdCBjc3NDb2xvciA9IF91dGlsLlV0aWwubWFrZUhleENvbG9yKC4uLmNvbG9yKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnQuZmlsbENvbG9yID0gY3NzQ29sb3I7XG4gICAgICAgIHRoaXMuY3VycmVudC5zdHJva2VDb2xvciA9IGNzc0NvbG9yO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmV4ZWN1dGVPcFRyZWUodGhpcy5jb252ZXJ0T3BMaXN0KG9wZXJhdG9yTGlzdCkpO1xuICAgICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IHRyYW5zZm9ybU1hdHJpeDtcbiAgICAgIHRoaXMuY3VycmVudC5maWxsQ29sb3IgPSBmaWxsQ29sb3I7XG4gICAgICB0aGlzLmN1cnJlbnQuc3Ryb2tlQ29sb3IgPSBzdHJva2VDb2xvcjtcbiAgICAgIHRpbGluZy5hcHBlbmRDaGlsZChiYm94LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgdGhpcy5kZWZzLmFwcGVuZENoaWxkKHRpbGluZyk7XG4gICAgICByZXR1cm4gYHVybCgjJHt0aWxpbmdJZH0pYDtcbiAgICB9XG5cbiAgICBfbWFrZVNoYWRpbmdQYXR0ZXJuKGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBhcmdzID0gdGhpcy5vYmpzLmdldChhcmdzKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChhcmdzWzBdKSB7XG4gICAgICAgIGNhc2UgXCJSYWRpYWxBeGlhbFwiOlxuICAgICAgICAgIGNvbnN0IHNoYWRpbmdJZCA9IGBzaGFkaW5nJHtzaGFkaW5nQ291bnQrK31gO1xuICAgICAgICAgIGNvbnN0IGNvbG9yU3RvcHMgPSBhcmdzWzNdO1xuICAgICAgICAgIGxldCBncmFkaWVudDtcblxuICAgICAgICAgIHN3aXRjaCAoYXJnc1sxXSkge1xuICAgICAgICAgICAgY2FzZSBcImF4aWFsXCI6XG4gICAgICAgICAgICAgIGNvbnN0IHBvaW50MCA9IGFyZ3NbNF07XG4gICAgICAgICAgICAgIGNvbnN0IHBvaW50MSA9IGFyZ3NbNV07XG4gICAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6bGluZWFyR3JhZGllbnRcIik7XG4gICAgICAgICAgICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaWRcIiwgc2hhZGluZ0lkKTtcbiAgICAgICAgICAgICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJncmFkaWVudFVuaXRzXCIsIFwidXNlclNwYWNlT25Vc2VcIik7XG4gICAgICAgICAgICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieDFcIiwgcG9pbnQwWzBdKTtcbiAgICAgICAgICAgICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5MVwiLCBwb2ludDBbMV0pO1xuICAgICAgICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIngyXCIsIHBvaW50MVswXSk7XG4gICAgICAgICAgICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieTJcIiwgcG9pbnQxWzFdKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJyYWRpYWxcIjpcbiAgICAgICAgICAgICAgY29uc3QgZm9jYWxQb2ludCA9IGFyZ3NbNF07XG4gICAgICAgICAgICAgIGNvbnN0IGNpcmNsZVBvaW50ID0gYXJnc1s1XTtcbiAgICAgICAgICAgICAgY29uc3QgZm9jYWxSYWRpdXMgPSBhcmdzWzZdO1xuICAgICAgICAgICAgICBjb25zdCBjaXJjbGVSYWRpdXMgPSBhcmdzWzddO1xuICAgICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnJhZGlhbEdyYWRpZW50XCIpO1xuICAgICAgICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImlkXCIsIHNoYWRpbmdJZCk7XG4gICAgICAgICAgICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZ3JhZGllbnRVbml0c1wiLCBcInVzZXJTcGFjZU9uVXNlXCIpO1xuICAgICAgICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN4XCIsIGNpcmNsZVBvaW50WzBdKTtcbiAgICAgICAgICAgICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeVwiLCBjaXJjbGVQb2ludFsxXSk7XG4gICAgICAgICAgICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiclwiLCBjaXJjbGVSYWRpdXMpO1xuICAgICAgICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZ4XCIsIGZvY2FsUG9pbnRbMF0pO1xuICAgICAgICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZ5XCIsIGZvY2FsUG9pbnRbMV0pO1xuICAgICAgICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZyXCIsIGZvY2FsUmFkaXVzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBSYWRpYWxBeGlhbCB0eXBlOiAke2FyZ3NbMV19YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChjb25zdCBjb2xvclN0b3Agb2YgY29sb3JTdG9wcykge1xuICAgICAgICAgICAgY29uc3Qgc3RvcCA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnN0b3BcIik7XG4gICAgICAgICAgICBzdG9wLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwib2Zmc2V0XCIsIGNvbG9yU3RvcFswXSk7XG4gICAgICAgICAgICBzdG9wLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3RvcC1jb2xvclwiLCBjb2xvclN0b3BbMV0pO1xuICAgICAgICAgICAgZ3JhZGllbnQuYXBwZW5kQ2hpbGQoc3RvcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5kZWZzLmFwcGVuZENoaWxkKGdyYWRpZW50KTtcbiAgICAgICAgICByZXR1cm4gYHVybCgjJHtzaGFkaW5nSWR9KWA7XG5cbiAgICAgICAgY2FzZSBcIk1lc2hcIjpcbiAgICAgICAgICAoMCwgX3V0aWwud2FybikoXCJVbmltcGxlbWVudGVkIHBhdHRlcm4gTWVzaFwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjYXNlIFwiRHVtbXlcIjpcbiAgICAgICAgICByZXR1cm4gXCJob3RwaW5rXCI7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gSVIgdHlwZTogJHthcmdzWzBdfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldERhc2goZGFzaEFycmF5LCBkYXNoUGhhc2UpIHtcbiAgICAgIHRoaXMuY3VycmVudC5kYXNoQXJyYXkgPSBkYXNoQXJyYXk7XG4gICAgICB0aGlzLmN1cnJlbnQuZGFzaFBoYXNlID0gZGFzaFBoYXNlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdFBhdGgob3BzLCBhcmdzKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgbGV0IHggPSBjdXJyZW50LngsXG4gICAgICAgICAgeSA9IGN1cnJlbnQueTtcbiAgICAgIGxldCBkID0gW107XG4gICAgICBsZXQgaiA9IDA7XG5cbiAgICAgIGZvciAoY29uc3Qgb3Agb2Ygb3BzKSB7XG4gICAgICAgIHN3aXRjaCAob3AgfCAwKSB7XG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMucmVjdGFuZ2xlOlxuICAgICAgICAgICAgeCA9IGFyZ3NbaisrXTtcbiAgICAgICAgICAgIHkgPSBhcmdzW2orK107XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGFyZ3NbaisrXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3NbaisrXTtcbiAgICAgICAgICAgIGNvbnN0IHh3ID0geCArIHdpZHRoO1xuICAgICAgICAgICAgY29uc3QgeWggPSB5ICsgaGVpZ2h0O1xuICAgICAgICAgICAgZC5wdXNoKFwiTVwiLCBwZih4KSwgcGYoeSksIFwiTFwiLCBwZih4dyksIHBmKHkpLCBcIkxcIiwgcGYoeHcpLCBwZih5aCksIFwiTFwiLCBwZih4KSwgcGYoeWgpLCBcIlpcIik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLm1vdmVUbzpcbiAgICAgICAgICAgIHggPSBhcmdzW2orK107XG4gICAgICAgICAgICB5ID0gYXJnc1tqKytdO1xuICAgICAgICAgICAgZC5wdXNoKFwiTVwiLCBwZih4KSwgcGYoeSkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIF91dGlsLk9QUy5saW5lVG86XG4gICAgICAgICAgICB4ID0gYXJnc1tqKytdO1xuICAgICAgICAgICAgeSA9IGFyZ3NbaisrXTtcbiAgICAgICAgICAgIGQucHVzaChcIkxcIiwgcGYoeCksIHBmKHkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuY3VydmVUbzpcbiAgICAgICAgICAgIHggPSBhcmdzW2ogKyA0XTtcbiAgICAgICAgICAgIHkgPSBhcmdzW2ogKyA1XTtcbiAgICAgICAgICAgIGQucHVzaChcIkNcIiwgcGYoYXJnc1tqXSksIHBmKGFyZ3NbaiArIDFdKSwgcGYoYXJnc1tqICsgMl0pLCBwZihhcmdzW2ogKyAzXSksIHBmKHgpLCBwZih5KSk7XG4gICAgICAgICAgICBqICs9IDY7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgX3V0aWwuT1BTLmN1cnZlVG8yOlxuICAgICAgICAgICAgZC5wdXNoKFwiQ1wiLCBwZih4KSwgcGYoeSksIHBmKGFyZ3Nbal0pLCBwZihhcmdzW2ogKyAxXSksIHBmKGFyZ3NbaiArIDJdKSwgcGYoYXJnc1tqICsgM10pKTtcbiAgICAgICAgICAgIHggPSBhcmdzW2ogKyAyXTtcbiAgICAgICAgICAgIHkgPSBhcmdzW2ogKyAzXTtcbiAgICAgICAgICAgIGogKz0gNDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuY3VydmVUbzM6XG4gICAgICAgICAgICB4ID0gYXJnc1tqICsgMl07XG4gICAgICAgICAgICB5ID0gYXJnc1tqICsgM107XG4gICAgICAgICAgICBkLnB1c2goXCJDXCIsIHBmKGFyZ3Nbal0pLCBwZihhcmdzW2ogKyAxXSksIHBmKHgpLCBwZih5KSwgcGYoeCksIHBmKHkpKTtcbiAgICAgICAgICAgIGogKz0gNDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBfdXRpbC5PUFMuY2xvc2VQYXRoOlxuICAgICAgICAgICAgZC5wdXNoKFwiWlwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGQgPSBkLmpvaW4oXCIgXCIpO1xuXG4gICAgICBpZiAoY3VycmVudC5wYXRoICYmIG9wcy5sZW5ndGggPiAwICYmIG9wc1swXSAhPT0gX3V0aWwuT1BTLnJlY3RhbmdsZSAmJiBvcHNbMF0gIT09IF91dGlsLk9QUy5tb3ZlVG8pIHtcbiAgICAgICAgZCA9IGN1cnJlbnQucGF0aC5nZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIikgKyBkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudC5wYXRoID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6cGF0aFwiKTtcblxuICAgICAgICB0aGlzLl9lbnN1cmVUcmFuc2Zvcm1Hcm91cCgpLmFwcGVuZENoaWxkKGN1cnJlbnQucGF0aCk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnQucGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgZCk7XG4gICAgICBjdXJyZW50LnBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgIGN1cnJlbnQuZWxlbWVudCA9IGN1cnJlbnQucGF0aDtcbiAgICAgIGN1cnJlbnQuc2V0Q3VycmVudFBvaW50KHgsIHkpO1xuICAgIH1cblxuICAgIGVuZFBhdGgoKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgY3VycmVudC5wYXRoID0gbnVsbDtcblxuICAgICAgaWYgKCF0aGlzLnBlbmRpbmdDbGlwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjdXJyZW50LmVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2xpcCA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2xpcElkID0gYGNsaXBwYXRoJHtjbGlwQ291bnQrK31gO1xuICAgICAgY29uc3QgY2xpcFBhdGggPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2ZzpjbGlwUGF0aFwiKTtcbiAgICAgIGNsaXBQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaWRcIiwgY2xpcElkKTtcbiAgICAgIGNsaXBQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIHBtKHRoaXMudHJhbnNmb3JtTWF0cml4KSk7XG4gICAgICBjb25zdCBjbGlwRWxlbWVudCA9IGN1cnJlbnQuZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgIGlmICh0aGlzLnBlbmRpbmdDbGlwID09PSBcImV2ZW5vZGRcIikge1xuICAgICAgICBjbGlwRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsaXAtcnVsZVwiLCBcImV2ZW5vZGRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGlwRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsaXAtcnVsZVwiLCBcIm5vbnplcm9cIik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGVuZGluZ0NsaXAgPSBudWxsO1xuICAgICAgY2xpcFBhdGguYXBwZW5kQ2hpbGQoY2xpcEVsZW1lbnQpO1xuICAgICAgdGhpcy5kZWZzLmFwcGVuZENoaWxkKGNsaXBQYXRoKTtcblxuICAgICAgaWYgKGN1cnJlbnQuYWN0aXZlQ2xpcFVybCkge1xuICAgICAgICBjdXJyZW50LmNsaXBHcm91cCA9IG51bGw7XG5cbiAgICAgICAgZm9yIChjb25zdCBwcmV2IG9mIHRoaXMuZXh0cmFTdGFjaykge1xuICAgICAgICAgIHByZXYuY2xpcEdyb3VwID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsaXBQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xpcC1wYXRoXCIsIGN1cnJlbnQuYWN0aXZlQ2xpcFVybCk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnQuYWN0aXZlQ2xpcFVybCA9IGB1cmwoIyR7Y2xpcElkfSlgO1xuICAgICAgdGhpcy50Z3JwID0gbnVsbDtcbiAgICB9XG5cbiAgICBjbGlwKHR5cGUpIHtcbiAgICAgIHRoaXMucGVuZGluZ0NsaXAgPSB0eXBlO1xuICAgIH1cblxuICAgIGNsb3NlUGF0aCgpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChjdXJyZW50LnBhdGgpIHtcbiAgICAgICAgY29uc3QgZCA9IGAke2N1cnJlbnQucGF0aC5nZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIil9WmA7XG4gICAgICAgIGN1cnJlbnQucGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0TGVhZGluZyhsZWFkaW5nKSB7XG4gICAgICB0aGlzLmN1cnJlbnQubGVhZGluZyA9IC1sZWFkaW5nO1xuICAgIH1cblxuICAgIHNldFRleHRSaXNlKHRleHRSaXNlKSB7XG4gICAgICB0aGlzLmN1cnJlbnQudGV4dFJpc2UgPSB0ZXh0UmlzZTtcbiAgICB9XG5cbiAgICBzZXRUZXh0UmVuZGVyaW5nTW9kZSh0ZXh0UmVuZGVyaW5nTW9kZSkge1xuICAgICAgdGhpcy5jdXJyZW50LnRleHRSZW5kZXJpbmdNb2RlID0gdGV4dFJlbmRlcmluZ01vZGU7XG4gICAgfVxuXG4gICAgc2V0SFNjYWxlKHNjYWxlKSB7XG4gICAgICB0aGlzLmN1cnJlbnQudGV4dEhTY2FsZSA9IHNjYWxlIC8gMTAwO1xuICAgIH1cblxuICAgIHNldFJlbmRlcmluZ0ludGVudChpbnRlbnQpIHt9XG5cbiAgICBzZXRGbGF0bmVzcyhmbGF0bmVzcykge31cblxuICAgIHNldEdTdGF0ZShzdGF0ZXMpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHN0YXRlcykge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgXCJMV1wiOlxuICAgICAgICAgICAgdGhpcy5zZXRMaW5lV2lkdGgodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiTENcIjpcbiAgICAgICAgICAgIHRoaXMuc2V0TGluZUNhcCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJMSlwiOlxuICAgICAgICAgICAgdGhpcy5zZXRMaW5lSm9pbih2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJNTFwiOlxuICAgICAgICAgICAgdGhpcy5zZXRNaXRlckxpbWl0KHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgIHRoaXMuc2V0RGFzaCh2YWx1ZVswXSwgdmFsdWVbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiUklcIjpcbiAgICAgICAgICAgIHRoaXMuc2V0UmVuZGVyaW5nSW50ZW50KHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIkZMXCI6XG4gICAgICAgICAgICB0aGlzLnNldEZsYXRuZXNzKHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIkZvbnRcIjpcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9udCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJDQVwiOlxuICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VBbHBoYSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJjYVwiOlxuICAgICAgICAgICAgdGhpcy5zZXRGaWxsQWxwaGEodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgKDAsIF91dGlsLndhcm4pKGBVbmltcGxlbWVudGVkIGdyYXBoaWMgc3RhdGUgb3BlcmF0b3IgJHtrZXl9YCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZpbGwoKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICBpZiAoY3VycmVudC5lbGVtZW50KSB7XG4gICAgICAgIGN1cnJlbnQuZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgY3VycmVudC5maWxsQ29sb3IpO1xuICAgICAgICBjdXJyZW50LmVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsLW9wYWNpdHlcIiwgY3VycmVudC5maWxsQWxwaGEpO1xuICAgICAgICB0aGlzLmVuZFBhdGgoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdHJva2UoKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICBpZiAoY3VycmVudC5lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3NldFN0cm9rZUF0dHJpYnV0ZXMoY3VycmVudC5lbGVtZW50KTtcblxuICAgICAgICBjdXJyZW50LmVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgICAgdGhpcy5lbmRQYXRoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldFN0cm9rZUF0dHJpYnV0ZXMoZWxlbWVudCwgbGluZVdpZHRoU2NhbGUgPSAxKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgbGV0IGRhc2hBcnJheSA9IGN1cnJlbnQuZGFzaEFycmF5O1xuXG4gICAgICBpZiAobGluZVdpZHRoU2NhbGUgIT09IDEgJiYgZGFzaEFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgZGFzaEFycmF5ID0gZGFzaEFycmF5Lm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gbGluZVdpZHRoU2NhbGUgKiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgY3VycmVudC5zdHJva2VDb2xvcik7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlLW9wYWNpdHlcIiwgY3VycmVudC5zdHJva2VBbHBoYSk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlLW1pdGVybGltaXRcIiwgcGYoY3VycmVudC5taXRlckxpbWl0KSk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlLWxpbmVjYXBcIiwgY3VycmVudC5saW5lQ2FwKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2UtbGluZWpvaW5cIiwgY3VycmVudC5saW5lSm9pbik7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlLXdpZHRoXCIsIHBmKGxpbmVXaWR0aFNjYWxlICogY3VycmVudC5saW5lV2lkdGgpICsgXCJweFwiKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2UtZGFzaGFycmF5XCIsIGRhc2hBcnJheS5tYXAocGYpLmpvaW4oXCIgXCIpKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2UtZGFzaG9mZnNldFwiLCBwZihsaW5lV2lkdGhTY2FsZSAqIGN1cnJlbnQuZGFzaFBoYXNlKSArIFwicHhcIik7XG4gICAgfVxuXG4gICAgZW9GaWxsKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudC5lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudC5lbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbC1ydWxlXCIsIFwiZXZlbm9kZFwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5maWxsKCk7XG4gICAgfVxuXG4gICAgZmlsbFN0cm9rZSgpIHtcbiAgICAgIHRoaXMuc3Ryb2tlKCk7XG4gICAgICB0aGlzLmZpbGwoKTtcbiAgICB9XG5cbiAgICBlb0ZpbGxTdHJva2UoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50LmVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50LmVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsLXJ1bGVcIiwgXCJldmVub2RkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZpbGxTdHJva2UoKTtcbiAgICB9XG5cbiAgICBjbG9zZVN0cm9rZSgpIHtcbiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7XG4gICAgICB0aGlzLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGNsb3NlRmlsbFN0cm9rZSgpIHtcbiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7XG4gICAgICB0aGlzLmZpbGxTdHJva2UoKTtcbiAgICB9XG5cbiAgICBjbG9zZUVPRmlsbFN0cm9rZSgpIHtcbiAgICAgIHRoaXMuY2xvc2VQYXRoKCk7XG4gICAgICB0aGlzLmVvRmlsbFN0cm9rZSgpO1xuICAgIH1cblxuICAgIHBhaW50U29saWRDb2xvckltYWdlTWFzaygpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2ZzpyZWN0XCIpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInhcIiwgXCIwXCIpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgXCIwXCIpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIFwiMXB4XCIpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBcIjFweFwiKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIHRoaXMuY3VycmVudC5maWxsQ29sb3IpO1xuXG4gICAgICB0aGlzLl9lbnN1cmVUcmFuc2Zvcm1Hcm91cCgpLmFwcGVuZENoaWxkKHJlY3QpO1xuICAgIH1cblxuICAgIHBhaW50SW1hZ2VYT2JqZWN0KG9iaklkKSB7XG4gICAgICBjb25zdCBpbWdEYXRhID0gb2JqSWQuc3RhcnRzV2l0aChcImdfXCIpID8gdGhpcy5jb21tb25PYmpzLmdldChvYmpJZCkgOiB0aGlzLm9ianMuZ2V0KG9iaklkKTtcblxuICAgICAgaWYgKCFpbWdEYXRhKSB7XG4gICAgICAgICgwLCBfdXRpbC53YXJuKShgRGVwZW5kZW50IGltYWdlIHdpdGggb2JqZWN0IElEICR7b2JqSWR9IGlzIG5vdCByZWFkeSB5ZXRgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBhaW50SW5saW5lSW1hZ2VYT2JqZWN0KGltZ0RhdGEpO1xuICAgIH1cblxuICAgIHBhaW50SW5saW5lSW1hZ2VYT2JqZWN0KGltZ0RhdGEsIG1hc2spIHtcbiAgICAgIGNvbnN0IHdpZHRoID0gaW1nRGF0YS53aWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGltZ0RhdGEuaGVpZ2h0O1xuICAgICAgY29uc3QgaW1nU3JjID0gY29udmVydEltZ0RhdGFUb1BuZyhpbWdEYXRhLCB0aGlzLmZvcmNlRGF0YVNjaGVtYSwgISFtYXNrKTtcbiAgICAgIGNvbnN0IGNsaXByZWN0ID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6cmVjdFwiKTtcbiAgICAgIGNsaXByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBcIjBcIik7XG4gICAgICBjbGlwcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgXCIwXCIpO1xuICAgICAgY2xpcHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBwZih3aWR0aCkpO1xuICAgICAgY2xpcHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgcGYoaGVpZ2h0KSk7XG4gICAgICB0aGlzLmN1cnJlbnQuZWxlbWVudCA9IGNsaXByZWN0O1xuICAgICAgdGhpcy5jbGlwKFwibm9uemVyb1wiKTtcbiAgICAgIGNvbnN0IGltZ0VsID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6aW1hZ2VcIik7XG4gICAgICBpbWdFbC5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUywgXCJ4bGluazpocmVmXCIsIGltZ1NyYyk7XG4gICAgICBpbWdFbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInhcIiwgXCIwXCIpO1xuICAgICAgaW1nRWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIHBmKC1oZWlnaHQpKTtcbiAgICAgIGltZ0VsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgcGYod2lkdGgpICsgXCJweFwiKTtcbiAgICAgIGltZ0VsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIHBmKGhlaWdodCkgKyBcInB4XCIpO1xuICAgICAgaW1nRWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgYHNjYWxlKCR7cGYoMSAvIHdpZHRoKX0gJHtwZigtMSAvIGhlaWdodCl9KWApO1xuXG4gICAgICBpZiAobWFzaykge1xuICAgICAgICBtYXNrLmFwcGVuZENoaWxkKGltZ0VsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2Vuc3VyZVRyYW5zZm9ybUdyb3VwKCkuYXBwZW5kQ2hpbGQoaW1nRWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhaW50SW1hZ2VNYXNrWE9iamVjdChpbWdEYXRhKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgY29uc3Qgd2lkdGggPSBpbWdEYXRhLndpZHRoO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gaW1nRGF0YS5oZWlnaHQ7XG4gICAgICBjb25zdCBmaWxsQ29sb3IgPSBjdXJyZW50LmZpbGxDb2xvcjtcbiAgICAgIGN1cnJlbnQubWFza0lkID0gYG1hc2ske21hc2tDb3VudCsrfWA7XG4gICAgICBjb25zdCBtYXNrID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6bWFza1wiKTtcbiAgICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJpZFwiLCBjdXJyZW50Lm1hc2tJZCk7XG4gICAgICBjb25zdCByZWN0ID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6cmVjdFwiKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4XCIsIFwiMFwiKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIFwiMFwiKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBwZih3aWR0aCkpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBwZihoZWlnaHQpKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIGZpbGxDb2xvcik7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwibWFza1wiLCBgdXJsKCMke2N1cnJlbnQubWFza0lkfSlgKTtcbiAgICAgIHRoaXMuZGVmcy5hcHBlbmRDaGlsZChtYXNrKTtcblxuICAgICAgdGhpcy5fZW5zdXJlVHJhbnNmb3JtR3JvdXAoKS5hcHBlbmRDaGlsZChyZWN0KTtcblxuICAgICAgdGhpcy5wYWludElubGluZUltYWdlWE9iamVjdChpbWdEYXRhLCBtYXNrKTtcbiAgICB9XG5cbiAgICBwYWludEZvcm1YT2JqZWN0QmVnaW4obWF0cml4LCBiYm94KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXRyaXgpICYmIG1hdHJpeC5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0obWF0cml4WzBdLCBtYXRyaXhbMV0sIG1hdHJpeFsyXSwgbWF0cml4WzNdLCBtYXRyaXhbNF0sIG1hdHJpeFs1XSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiYm94KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYmJveFsyXSAtIGJib3hbMF07XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGJib3hbM10gLSBiYm94WzFdO1xuICAgICAgICBjb25zdCBjbGlwcmVjdCA9IHRoaXMuc3ZnRmFjdG9yeS5jcmVhdGVFbGVtZW50KFwic3ZnOnJlY3RcIik7XG4gICAgICAgIGNsaXByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBiYm94WzBdKTtcbiAgICAgICAgY2xpcHJlY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIGJib3hbMV0pO1xuICAgICAgICBjbGlwcmVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIHBmKHdpZHRoKSk7XG4gICAgICAgIGNsaXByZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIHBmKGhlaWdodCkpO1xuICAgICAgICB0aGlzLmN1cnJlbnQuZWxlbWVudCA9IGNsaXByZWN0O1xuICAgICAgICB0aGlzLmNsaXAoXCJub256ZXJvXCIpO1xuICAgICAgICB0aGlzLmVuZFBhdGgoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYWludEZvcm1YT2JqZWN0RW5kKCkge31cblxuICAgIF9pbml0aWFsaXplKHZpZXdwb3J0KSB7XG4gICAgICBjb25zdCBzdmcgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlKHZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHQpO1xuICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLnN2Z0ZhY3RvcnkuY3JlYXRlRWxlbWVudChcInN2ZzpkZWZzXCIpO1xuICAgICAgc3ZnLmFwcGVuZENoaWxkKGRlZmluaXRpb25zKTtcbiAgICAgIHRoaXMuZGVmcyA9IGRlZmluaXRpb25zO1xuICAgICAgY29uc3Qgcm9vdEdyb3VwID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6Z1wiKTtcbiAgICAgIHJvb3RHcm91cC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBwbSh2aWV3cG9ydC50cmFuc2Zvcm0pKTtcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZChyb290R3JvdXApO1xuICAgICAgdGhpcy5zdmcgPSByb290R3JvdXA7XG4gICAgICByZXR1cm4gc3ZnO1xuICAgIH1cblxuICAgIF9lbnN1cmVDbGlwR3JvdXAoKSB7XG4gICAgICBpZiAoIXRoaXMuY3VycmVudC5jbGlwR3JvdXApIHtcbiAgICAgICAgY29uc3QgY2xpcEdyb3VwID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6Z1wiKTtcbiAgICAgICAgY2xpcEdyb3VwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xpcC1wYXRoXCIsIHRoaXMuY3VycmVudC5hY3RpdmVDbGlwVXJsKTtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoY2xpcEdyb3VwKTtcbiAgICAgICAgdGhpcy5jdXJyZW50LmNsaXBHcm91cCA9IGNsaXBHcm91cDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5jbGlwR3JvdXA7XG4gICAgfVxuXG4gICAgX2Vuc3VyZVRyYW5zZm9ybUdyb3VwKCkge1xuICAgICAgaWYgKCF0aGlzLnRncnApIHtcbiAgICAgICAgdGhpcy50Z3JwID0gdGhpcy5zdmdGYWN0b3J5LmNyZWF0ZUVsZW1lbnQoXCJzdmc6Z1wiKTtcbiAgICAgICAgdGhpcy50Z3JwLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIHBtKHRoaXMudHJhbnNmb3JtTWF0cml4KSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudC5hY3RpdmVDbGlwVXJsKSB7XG4gICAgICAgICAgdGhpcy5fZW5zdXJlQ2xpcEdyb3VwKCkuYXBwZW5kQ2hpbGQodGhpcy50Z3JwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLnRncnApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnRncnA7XG4gICAgfVxuXG4gIH07XG59XG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuUERGTm9kZVN0cmVhbSA9IHZvaWQgMDtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxudmFyIF9uZXR3b3JrX3V0aWxzID0gX193X3BkZmpzX3JlcXVpcmVfXygyNik7XG5cbjtcblxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5cbmNvbnN0IGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcblxuY29uc3QgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XG5cbmNvbnN0IHVybCA9IHJlcXVpcmUoXCJ1cmxcIik7XG5cbmNvbnN0IGZpbGVVcmlSZWdleCA9IC9eZmlsZTpcXC9cXC9cXC9bYS16QS1aXTpcXC8vO1xuXG5mdW5jdGlvbiBwYXJzZVVybChzb3VyY2VVcmwpIHtcbiAgY29uc3QgcGFyc2VkVXJsID0gdXJsLnBhcnNlKHNvdXJjZVVybCk7XG5cbiAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCA9PT0gXCJmaWxlOlwiIHx8IHBhcnNlZFVybC5ob3N0KSB7XG4gICAgcmV0dXJuIHBhcnNlZFVybDtcbiAgfVxuXG4gIGlmICgvXlthLXpdOlsvXFxcXF0vaS50ZXN0KHNvdXJjZVVybCkpIHtcbiAgICByZXR1cm4gdXJsLnBhcnNlKGBmaWxlOi8vLyR7c291cmNlVXJsfWApO1xuICB9XG5cbiAgaWYgKCFwYXJzZWRVcmwuaG9zdCkge1xuICAgIHBhcnNlZFVybC5wcm90b2NvbCA9IFwiZmlsZTpcIjtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWRVcmw7XG59XG5cbmNsYXNzIFBERk5vZGVTdHJlYW0ge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLnVybCA9IHBhcnNlVXJsKHNvdXJjZS51cmwpO1xuICAgIHRoaXMuaXNIdHRwID0gdGhpcy51cmwucHJvdG9jb2wgPT09IFwiaHR0cDpcIiB8fCB0aGlzLnVybC5wcm90b2NvbCA9PT0gXCJodHRwczpcIjtcbiAgICB0aGlzLmlzRnNVcmwgPSB0aGlzLnVybC5wcm90b2NvbCA9PT0gXCJmaWxlOlwiO1xuICAgIHRoaXMuaHR0cEhlYWRlcnMgPSB0aGlzLmlzSHR0cCAmJiBzb3VyY2UuaHR0cEhlYWRlcnMgfHwge307XG4gICAgdGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIgPSBudWxsO1xuICAgIHRoaXMuX3JhbmdlUmVxdWVzdFJlYWRlcnMgPSBbXTtcbiAgfVxuXG4gIGdldCBfcHJvZ3Jlc3NpdmVEYXRhTGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlcj8uX2xvYWRlZCA/PyAwO1xuICB9XG5cbiAgZ2V0RnVsbFJlYWRlcigpIHtcbiAgICAoMCwgX3V0aWwuYXNzZXJ0KSghdGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIsIFwiUERGTm9kZVN0cmVhbS5nZXRGdWxsUmVhZGVyIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLlwiKTtcbiAgICB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlciA9IHRoaXMuaXNGc1VybCA/IG5ldyBQREZOb2RlU3RyZWFtRnNGdWxsUmVhZGVyKHRoaXMpIDogbmV3IFBERk5vZGVTdHJlYW1GdWxsUmVhZGVyKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlcjtcbiAgfVxuXG4gIGdldFJhbmdlUmVhZGVyKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoZW5kIDw9IHRoaXMuX3Byb2dyZXNzaXZlRGF0YUxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgcmFuZ2VSZWFkZXIgPSB0aGlzLmlzRnNVcmwgPyBuZXcgUERGTm9kZVN0cmVhbUZzUmFuZ2VSZWFkZXIodGhpcywgc3RhcnQsIGVuZCkgOiBuZXcgUERGTm9kZVN0cmVhbVJhbmdlUmVhZGVyKHRoaXMsIHN0YXJ0LCBlbmQpO1xuXG4gICAgdGhpcy5fcmFuZ2VSZXF1ZXN0UmVhZGVycy5wdXNoKHJhbmdlUmVhZGVyKTtcblxuICAgIHJldHVybiByYW5nZVJlYWRlcjtcbiAgfVxuXG4gIGNhbmNlbEFsbFJlcXVlc3RzKHJlYXNvbikge1xuICAgIGlmICh0aGlzLl9mdWxsUmVxdWVzdFJlYWRlcikge1xuICAgICAgdGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIuY2FuY2VsKHJlYXNvbik7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCByZWFkZXIgb2YgdGhpcy5fcmFuZ2VSZXF1ZXN0UmVhZGVycy5zbGljZSgwKSkge1xuICAgICAgcmVhZGVyLmNhbmNlbChyZWFzb24pO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydHMuUERGTm9kZVN0cmVhbSA9IFBERk5vZGVTdHJlYW07XG5cbmNsYXNzIEJhc2VGdWxsUmVhZGVyIHtcbiAgY29uc3RydWN0b3Ioc3RyZWFtKSB7XG4gICAgdGhpcy5fdXJsID0gc3RyZWFtLnVybDtcbiAgICB0aGlzLl9kb25lID0gZmFsc2U7XG4gICAgdGhpcy5fc3RvcmVkRXJyb3IgPSBudWxsO1xuICAgIHRoaXMub25Qcm9ncmVzcyA9IG51bGw7XG4gICAgY29uc3Qgc291cmNlID0gc3RyZWFtLnNvdXJjZTtcbiAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICB0aGlzLl9sb2FkZWQgPSAwO1xuICAgIHRoaXMuX2ZpbGVuYW1lID0gbnVsbDtcbiAgICB0aGlzLl9kaXNhYmxlUmFuZ2UgPSBzb3VyY2UuZGlzYWJsZVJhbmdlIHx8IGZhbHNlO1xuICAgIHRoaXMuX3JhbmdlQ2h1bmtTaXplID0gc291cmNlLnJhbmdlQ2h1bmtTaXplO1xuXG4gICAgaWYgKCF0aGlzLl9yYW5nZUNodW5rU2l6ZSAmJiAhdGhpcy5fZGlzYWJsZVJhbmdlKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlUmFuZ2UgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkID0gIXNvdXJjZS5kaXNhYmxlU3RyZWFtO1xuICAgIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQgPSAhc291cmNlLmRpc2FibGVSYW5nZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0cmVhbSA9IG51bGw7XG4gICAgdGhpcy5fcmVhZENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgdGhpcy5faGVhZGVyc0NhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gIH1cblxuICBnZXQgaGVhZGVyc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWFkZXJzQ2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IGZpbGVuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9maWxlbmFtZTtcbiAgfVxuXG4gIGdldCBjb250ZW50TGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9jb250ZW50TGVuZ3RoO1xuICB9XG5cbiAgZ2V0IGlzUmFuZ2VTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQ7XG4gIH1cblxuICBnZXQgaXNTdHJlYW1pbmdTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkO1xuICB9XG5cbiAgYXN5bmMgcmVhZCgpIHtcbiAgICBhd2FpdCB0aGlzLl9yZWFkQ2FwYWJpbGl0eS5wcm9taXNlO1xuXG4gICAgaWYgKHRoaXMuX2RvbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0b3JlZEVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLl9zdG9yZWRFcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBjaHVuayA9IHRoaXMuX3JlYWRhYmxlU3RyZWFtLnJlYWQoKTtcblxuICAgIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fcmVhZENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgICByZXR1cm4gdGhpcy5yZWFkKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9hZGVkICs9IGNodW5rLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLm9uUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcyh7XG4gICAgICAgIGxvYWRlZDogdGhpcy5fbG9hZGVkLFxuICAgICAgICB0b3RhbDogdGhpcy5fY29udGVudExlbmd0aFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmspLmJ1ZmZlcjtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGJ1ZmZlcixcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNhbmNlbChyZWFzb24pIHtcbiAgICBpZiAoIXRoaXMuX3JlYWRhYmxlU3RyZWFtKSB7XG4gICAgICB0aGlzLl9lcnJvcihyZWFzb24pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcmVhZGFibGVTdHJlYW0uZGVzdHJveShyZWFzb24pO1xuICB9XG5cbiAgX2Vycm9yKHJlYXNvbikge1xuICAgIHRoaXMuX3N0b3JlZEVycm9yID0gcmVhc29uO1xuXG4gICAgdGhpcy5fcmVhZENhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICB9XG5cbiAgX3NldFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdHJlYW0gPSByZWFkYWJsZVN0cmVhbTtcbiAgICByZWFkYWJsZVN0cmVhbS5vbihcInJlYWRhYmxlXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX3JlYWRDYXBhYmlsaXR5LnJlc29sdmUoKTtcbiAgICB9KTtcbiAgICByZWFkYWJsZVN0cmVhbS5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICByZWFkYWJsZVN0cmVhbS5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fcmVhZENhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICAgIH0pO1xuICAgIHJlYWRhYmxlU3RyZWFtLm9uKFwiZXJyb3JcIiwgcmVhc29uID0+IHtcbiAgICAgIHRoaXMuX2Vycm9yKHJlYXNvbik7XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkICYmIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQpIHtcbiAgICAgIHRoaXMuX2Vycm9yKG5ldyBfdXRpbC5BYm9ydEV4Y2VwdGlvbihcInN0cmVhbWluZyBpcyBkaXNhYmxlZFwiKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0b3JlZEVycm9yKSB7XG4gICAgICB0aGlzLl9yZWFkYWJsZVN0cmVhbS5kZXN0cm95KHRoaXMuX3N0b3JlZEVycm9yKTtcbiAgICB9XG4gIH1cblxufVxuXG5jbGFzcyBCYXNlUmFuZ2VSZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0pIHtcbiAgICB0aGlzLl91cmwgPSBzdHJlYW0udXJsO1xuICAgIHRoaXMuX2RvbmUgPSBmYWxzZTtcbiAgICB0aGlzLl9zdG9yZWRFcnJvciA9IG51bGw7XG4gICAgdGhpcy5vblByb2dyZXNzID0gbnVsbDtcbiAgICB0aGlzLl9sb2FkZWQgPSAwO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RyZWFtID0gbnVsbDtcbiAgICB0aGlzLl9yZWFkQ2FwYWJpbGl0eSA9ICgwLCBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eSkoKTtcbiAgICBjb25zdCBzb3VyY2UgPSBzdHJlYW0uc291cmNlO1xuICAgIHRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkID0gIXNvdXJjZS5kaXNhYmxlU3RyZWFtO1xuICB9XG5cbiAgZ2V0IGlzU3RyZWFtaW5nU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1N0cmVhbWluZ1N1cHBvcnRlZDtcbiAgfVxuXG4gIGFzeW5jIHJlYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5fcmVhZENhcGFiaWxpdHkucHJvbWlzZTtcblxuICAgIGlmICh0aGlzLl9kb25lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zdG9yZWRFcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5fc3RvcmVkRXJyb3I7XG4gICAgfVxuXG4gICAgY29uc3QgY2h1bmsgPSB0aGlzLl9yZWFkYWJsZVN0cmVhbS5yZWFkKCk7XG5cbiAgICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3JlYWRDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuICAgICAgcmV0dXJuIHRoaXMucmVhZCgpO1xuICAgIH1cblxuICAgIHRoaXMuX2xvYWRlZCArPSBjaHVuay5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy5vblByb2dyZXNzKSB7XG4gICAgICB0aGlzLm9uUHJvZ3Jlc3Moe1xuICAgICAgICBsb2FkZWQ6IHRoaXMuX2xvYWRlZFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmspLmJ1ZmZlcjtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGJ1ZmZlcixcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNhbmNlbChyZWFzb24pIHtcbiAgICBpZiAoIXRoaXMuX3JlYWRhYmxlU3RyZWFtKSB7XG4gICAgICB0aGlzLl9lcnJvcihyZWFzb24pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcmVhZGFibGVTdHJlYW0uZGVzdHJveShyZWFzb24pO1xuICB9XG5cbiAgX2Vycm9yKHJlYXNvbikge1xuICAgIHRoaXMuX3N0b3JlZEVycm9yID0gcmVhc29uO1xuXG4gICAgdGhpcy5fcmVhZENhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICB9XG5cbiAgX3NldFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdHJlYW0gPSByZWFkYWJsZVN0cmVhbTtcbiAgICByZWFkYWJsZVN0cmVhbS5vbihcInJlYWRhYmxlXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX3JlYWRDYXBhYmlsaXR5LnJlc29sdmUoKTtcbiAgICB9KTtcbiAgICByZWFkYWJsZVN0cmVhbS5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICByZWFkYWJsZVN0cmVhbS5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fcmVhZENhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICAgIH0pO1xuICAgIHJlYWRhYmxlU3RyZWFtLm9uKFwiZXJyb3JcIiwgcmVhc29uID0+IHtcbiAgICAgIHRoaXMuX2Vycm9yKHJlYXNvbik7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5fc3RvcmVkRXJyb3IpIHtcbiAgICAgIHRoaXMuX3JlYWRhYmxlU3RyZWFtLmRlc3Ryb3kodGhpcy5fc3RvcmVkRXJyb3IpO1xuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RPcHRpb25zKHBhcnNlZFVybCwgaGVhZGVycykge1xuICByZXR1cm4ge1xuICAgIHByb3RvY29sOiBwYXJzZWRVcmwucHJvdG9jb2wsXG4gICAgYXV0aDogcGFyc2VkVXJsLmF1dGgsXG4gICAgaG9zdDogcGFyc2VkVXJsLmhvc3RuYW1lLFxuICAgIHBvcnQ6IHBhcnNlZFVybC5wb3J0LFxuICAgIHBhdGg6IHBhcnNlZFVybC5wYXRoLFxuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICBoZWFkZXJzXG4gIH07XG59XG5cbmNsYXNzIFBERk5vZGVTdHJlYW1GdWxsUmVhZGVyIGV4dGVuZHMgQmFzZUZ1bGxSZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0pIHtcbiAgICBzdXBlcihzdHJlYW0pO1xuXG4gICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSByZXNwb25zZSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IF91dGlsLk1pc3NpbmdQREZFeGNlcHRpb24oYE1pc3NpbmcgUERGIFwiJHt0aGlzLl91cmx9XCIuYCk7XG4gICAgICAgIHRoaXMuX3N0b3JlZEVycm9yID0gZXJyb3I7XG5cbiAgICAgICAgdGhpcy5faGVhZGVyc0NhcGFiaWxpdHkucmVqZWN0KGVycm9yKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hlYWRlcnNDYXBhYmlsaXR5LnJlc29sdmUoKTtcblxuICAgICAgdGhpcy5fc2V0UmVhZGFibGVTdHJlYW0ocmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCBnZXRSZXNwb25zZUhlYWRlciA9IG5hbWUgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdHJlYW0uaGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBhbGxvd1JhbmdlUmVxdWVzdHMsXG4gICAgICAgIHN1Z2dlc3RlZExlbmd0aFxuICAgICAgfSA9ICgwLCBfbmV0d29ya191dGlscy52YWxpZGF0ZVJhbmdlUmVxdWVzdENhcGFiaWxpdGllcykoe1xuICAgICAgICBnZXRSZXNwb25zZUhlYWRlcixcbiAgICAgICAgaXNIdHRwOiBzdHJlYW0uaXNIdHRwLFxuICAgICAgICByYW5nZUNodW5rU2l6ZTogdGhpcy5fcmFuZ2VDaHVua1NpemUsXG4gICAgICAgIGRpc2FibGVSYW5nZTogdGhpcy5fZGlzYWJsZVJhbmdlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQgPSBhbGxvd1JhbmdlUmVxdWVzdHM7XG4gICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gc3VnZ2VzdGVkTGVuZ3RoIHx8IHRoaXMuX2NvbnRlbnRMZW5ndGg7XG4gICAgICB0aGlzLl9maWxlbmFtZSA9ICgwLCBfbmV0d29ya191dGlscy5leHRyYWN0RmlsZW5hbWVGcm9tSGVhZGVyKShnZXRSZXNwb25zZUhlYWRlcik7XG4gICAgfTtcblxuICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuX3VybC5wcm90b2NvbCA9PT0gXCJodHRwOlwiKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0ID0gaHR0cC5yZXF1ZXN0KGNyZWF0ZVJlcXVlc3RPcHRpb25zKHRoaXMuX3VybCwgc3RyZWFtLmh0dHBIZWFkZXJzKSwgaGFuZGxlUmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0ID0gaHR0cHMucmVxdWVzdChjcmVhdGVSZXF1ZXN0T3B0aW9ucyh0aGlzLl91cmwsIHN0cmVhbS5odHRwSGVhZGVycyksIGhhbmRsZVJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgcmVhc29uID0+IHtcbiAgICAgIHRoaXMuX3N0b3JlZEVycm9yID0gcmVhc29uO1xuXG4gICAgICB0aGlzLl9oZWFkZXJzQ2FwYWJpbGl0eS5yZWplY3QocmVhc29uKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlcXVlc3QuZW5kKCk7XG4gIH1cblxufVxuXG5jbGFzcyBQREZOb2RlU3RyZWFtUmFuZ2VSZWFkZXIgZXh0ZW5kcyBCYXNlUmFuZ2VSZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0sIHN0YXJ0LCBlbmQpIHtcbiAgICBzdXBlcihzdHJlYW0pO1xuICAgIHRoaXMuX2h0dHBIZWFkZXJzID0ge307XG5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHN0cmVhbS5odHRwSGVhZGVycykge1xuICAgICAgY29uc3QgdmFsdWUgPSBzdHJlYW0uaHR0cEhlYWRlcnNbcHJvcGVydHldO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9odHRwSGVhZGVyc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9odHRwSGVhZGVycy5SYW5nZSA9IGBieXRlcz0ke3N0YXJ0fS0ke2VuZCAtIDF9YDtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gcmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBfdXRpbC5NaXNzaW5nUERGRXhjZXB0aW9uKGBNaXNzaW5nIFBERiBcIiR7dGhpcy5fdXJsfVwiLmApO1xuICAgICAgICB0aGlzLl9zdG9yZWRFcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldFJlYWRhYmxlU3RyZWFtKHJlc3BvbnNlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5fdXJsLnByb3RvY29sID09PSBcImh0dHA6XCIpIHtcbiAgICAgIHRoaXMuX3JlcXVlc3QgPSBodHRwLnJlcXVlc3QoY3JlYXRlUmVxdWVzdE9wdGlvbnModGhpcy5fdXJsLCB0aGlzLl9odHRwSGVhZGVycyksIGhhbmRsZVJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVxdWVzdCA9IGh0dHBzLnJlcXVlc3QoY3JlYXRlUmVxdWVzdE9wdGlvbnModGhpcy5fdXJsLCB0aGlzLl9odHRwSGVhZGVycyksIGhhbmRsZVJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgcmVhc29uID0+IHtcbiAgICAgIHRoaXMuX3N0b3JlZEVycm9yID0gcmVhc29uO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVxdWVzdC5lbmQoKTtcbiAgfVxuXG59XG5cbmNsYXNzIFBERk5vZGVTdHJlYW1Gc0Z1bGxSZWFkZXIgZXh0ZW5kcyBCYXNlRnVsbFJlYWRlciB7XG4gIGNvbnN0cnVjdG9yKHN0cmVhbSkge1xuICAgIHN1cGVyKHN0cmVhbSk7XG4gICAgbGV0IHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQodGhpcy5fdXJsLnBhdGgpO1xuXG4gICAgaWYgKGZpbGVVcmlSZWdleC50ZXN0KHRoaXMuX3VybC5ocmVmKSkge1xuICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLy8sIFwiXCIpO1xuICAgIH1cblxuICAgIGZzLmxzdGF0KHBhdGgsIChlcnJvciwgc3RhdCkgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgX3V0aWwuTWlzc2luZ1BERkV4Y2VwdGlvbihgTWlzc2luZyBQREYgXCIke3BhdGh9XCIuYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdG9yZWRFcnJvciA9IGVycm9yO1xuXG4gICAgICAgIHRoaXMuX2hlYWRlcnNDYXBhYmlsaXR5LnJlamVjdChlcnJvcik7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gc3RhdC5zaXplO1xuXG4gICAgICB0aGlzLl9zZXRSZWFkYWJsZVN0cmVhbShmcy5jcmVhdGVSZWFkU3RyZWFtKHBhdGgpKTtcblxuICAgICAgdGhpcy5faGVhZGVyc0NhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbn1cblxuY2xhc3MgUERGTm9kZVN0cmVhbUZzUmFuZ2VSZWFkZXIgZXh0ZW5kcyBCYXNlUmFuZ2VSZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0sIHN0YXJ0LCBlbmQpIHtcbiAgICBzdXBlcihzdHJlYW0pO1xuICAgIGxldCBwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuX3VybC5wYXRoKTtcblxuICAgIGlmIChmaWxlVXJpUmVnZXgudGVzdCh0aGlzLl91cmwuaHJlZikpIHtcbiAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8vLCBcIlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRSZWFkYWJsZVN0cmVhbShmcy5jcmVhdGVSZWFkU3RyZWFtKHBhdGgsIHtcbiAgICAgIHN0YXJ0LFxuICAgICAgZW5kOiBlbmQgLSAxXG4gICAgfSkpO1xuICB9XG5cbn1cblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193X3BkZmpzX3JlcXVpcmVfXykgPT4ge1xuXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5jcmVhdGVSZXNwb25zZVN0YXR1c0Vycm9yID0gY3JlYXRlUmVzcG9uc2VTdGF0dXNFcnJvcjtcbmV4cG9ydHMuZXh0cmFjdEZpbGVuYW1lRnJvbUhlYWRlciA9IGV4dHJhY3RGaWxlbmFtZUZyb21IZWFkZXI7XG5leHBvcnRzLnZhbGlkYXRlUmFuZ2VSZXF1ZXN0Q2FwYWJpbGl0aWVzID0gdmFsaWRhdGVSYW5nZVJlcXVlc3RDYXBhYmlsaXRpZXM7XG5leHBvcnRzLnZhbGlkYXRlUmVzcG9uc2VTdGF0dXMgPSB2YWxpZGF0ZVJlc3BvbnNlU3RhdHVzO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2NvbnRlbnRfZGlzcG9zaXRpb24gPSBfX3dfcGRmanNfcmVxdWlyZV9fKDI3KTtcblxudmFyIF9kaXNwbGF5X3V0aWxzID0gX193X3BkZmpzX3JlcXVpcmVfXyg1KTtcblxuZnVuY3Rpb24gdmFsaWRhdGVSYW5nZVJlcXVlc3RDYXBhYmlsaXRpZXMoe1xuICBnZXRSZXNwb25zZUhlYWRlcixcbiAgaXNIdHRwLFxuICByYW5nZUNodW5rU2l6ZSxcbiAgZGlzYWJsZVJhbmdlXG59KSB7XG4gIGNvbnN0IHJldHVyblZhbHVlcyA9IHtcbiAgICBhbGxvd1JhbmdlUmVxdWVzdHM6IGZhbHNlLFxuICAgIHN1Z2dlc3RlZExlbmd0aDogdW5kZWZpbmVkXG4gIH07XG4gIGNvbnN0IGxlbmd0aCA9IHBhcnNlSW50KGdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIiksIDEwKTtcblxuICBpZiAoIU51bWJlci5pc0ludGVnZXIobGVuZ3RoKSkge1xuICAgIHJldHVybiByZXR1cm5WYWx1ZXM7XG4gIH1cblxuICByZXR1cm5WYWx1ZXMuc3VnZ2VzdGVkTGVuZ3RoID0gbGVuZ3RoO1xuXG4gIGlmIChsZW5ndGggPD0gMiAqIHJhbmdlQ2h1bmtTaXplKSB7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlcztcbiAgfVxuXG4gIGlmIChkaXNhYmxlUmFuZ2UgfHwgIWlzSHR0cCkge1xuICAgIHJldHVybiByZXR1cm5WYWx1ZXM7XG4gIH1cblxuICBpZiAoZ2V0UmVzcG9uc2VIZWFkZXIoXCJBY2NlcHQtUmFuZ2VzXCIpICE9PSBcImJ5dGVzXCIpIHtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWVzO1xuICB9XG5cbiAgY29uc3QgY29udGVudEVuY29kaW5nID0gZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LUVuY29kaW5nXCIpIHx8IFwiaWRlbnRpdHlcIjtcblxuICBpZiAoY29udGVudEVuY29kaW5nICE9PSBcImlkZW50aXR5XCIpIHtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWVzO1xuICB9XG5cbiAgcmV0dXJuVmFsdWVzLmFsbG93UmFuZ2VSZXF1ZXN0cyA9IHRydWU7XG4gIHJldHVybiByZXR1cm5WYWx1ZXM7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RGaWxlbmFtZUZyb21IZWFkZXIoZ2V0UmVzcG9uc2VIZWFkZXIpIHtcbiAgY29uc3QgY29udGVudERpc3Bvc2l0aW9uID0gZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIpO1xuXG4gIGlmIChjb250ZW50RGlzcG9zaXRpb24pIHtcbiAgICBsZXQgZmlsZW5hbWUgPSAoMCwgX2NvbnRlbnRfZGlzcG9zaXRpb24uZ2V0RmlsZW5hbWVGcm9tQ29udGVudERpc3Bvc2l0aW9uSGVhZGVyKShjb250ZW50RGlzcG9zaXRpb24pO1xuXG4gICAgaWYgKGZpbGVuYW1lLmluY2x1ZGVzKFwiJVwiKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpO1xuICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgfVxuXG4gICAgaWYgKCgwLCBfZGlzcGxheV91dGlscy5pc1BkZkZpbGUpKGZpbGVuYW1lKSkge1xuICAgICAgcmV0dXJuIGZpbGVuYW1lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZXNwb25zZVN0YXR1c0Vycm9yKHN0YXR1cywgdXJsKSB7XG4gIGlmIChzdGF0dXMgPT09IDQwNCB8fCBzdGF0dXMgPT09IDAgJiYgdXJsLnN0YXJ0c1dpdGgoXCJmaWxlOlwiKSkge1xuICAgIHJldHVybiBuZXcgX3V0aWwuTWlzc2luZ1BERkV4Y2VwdGlvbignTWlzc2luZyBQREYgXCInICsgdXJsICsgJ1wiLicpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBfdXRpbC5VbmV4cGVjdGVkUmVzcG9uc2VFeGNlcHRpb24oYFVuZXhwZWN0ZWQgc2VydmVyIHJlc3BvbnNlICgke3N0YXR1c30pIHdoaWxlIHJldHJpZXZpbmcgUERGIFwiJHt1cmx9XCIuYCwgc3RhdHVzKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVSZXNwb25zZVN0YXR1cyhzdGF0dXMpIHtcbiAgcmV0dXJuIHN0YXR1cyA9PT0gMjAwIHx8IHN0YXR1cyA9PT0gMjA2O1xufVxuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLmdldEZpbGVuYW1lRnJvbUNvbnRlbnREaXNwb3NpdGlvbkhlYWRlciA9IGdldEZpbGVuYW1lRnJvbUNvbnRlbnREaXNwb3NpdGlvbkhlYWRlcjtcblxudmFyIF91dGlsID0gX193X3BkZmpzX3JlcXVpcmVfXygxKTtcblxuZnVuY3Rpb24gZ2V0RmlsZW5hbWVGcm9tQ29udGVudERpc3Bvc2l0aW9uSGVhZGVyKGNvbnRlbnREaXNwb3NpdGlvbikge1xuICBsZXQgbmVlZHNFbmNvZGluZ0ZpeHVwID0gdHJ1ZTtcbiAgbGV0IHRtcCA9IHRvUGFyYW1SZWdFeHAoXCJmaWxlbmFtZVxcXFwqXCIsIFwiaVwiKS5leGVjKGNvbnRlbnREaXNwb3NpdGlvbik7XG5cbiAgaWYgKHRtcCkge1xuICAgIHRtcCA9IHRtcFsxXTtcbiAgICBsZXQgZmlsZW5hbWUgPSByZmMyNjE2dW5xdW90ZSh0bXApO1xuICAgIGZpbGVuYW1lID0gdW5lc2NhcGUoZmlsZW5hbWUpO1xuICAgIGZpbGVuYW1lID0gcmZjNTk4N2RlY29kZShmaWxlbmFtZSk7XG4gICAgZmlsZW5hbWUgPSByZmMyMDQ3ZGVjb2RlKGZpbGVuYW1lKTtcbiAgICByZXR1cm4gZml4dXBFbmNvZGluZyhmaWxlbmFtZSk7XG4gIH1cblxuICB0bXAgPSByZmMyMjMxZ2V0cGFyYW0oY29udGVudERpc3Bvc2l0aW9uKTtcblxuICBpZiAodG1wKSB7XG4gICAgY29uc3QgZmlsZW5hbWUgPSByZmMyMDQ3ZGVjb2RlKHRtcCk7XG4gICAgcmV0dXJuIGZpeHVwRW5jb2RpbmcoZmlsZW5hbWUpO1xuICB9XG5cbiAgdG1wID0gdG9QYXJhbVJlZ0V4cChcImZpbGVuYW1lXCIsIFwiaVwiKS5leGVjKGNvbnRlbnREaXNwb3NpdGlvbik7XG5cbiAgaWYgKHRtcCkge1xuICAgIHRtcCA9IHRtcFsxXTtcbiAgICBsZXQgZmlsZW5hbWUgPSByZmMyNjE2dW5xdW90ZSh0bXApO1xuICAgIGZpbGVuYW1lID0gcmZjMjA0N2RlY29kZShmaWxlbmFtZSk7XG4gICAgcmV0dXJuIGZpeHVwRW5jb2RpbmcoZmlsZW5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9QYXJhbVJlZ0V4cChhdHRyaWJ1dGVQYXR0ZXJuLCBmbGFncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKD86Xnw7KVxcXFxzKlwiICsgYXR0cmlidXRlUGF0dGVybiArIFwiXFxcXHMqPVxcXFxzKlwiICsgXCIoXCIgKyAnW15cIjtcXFxcc11bXjtcXFxcc10qJyArIFwifFwiICsgJ1wiKD86W15cIlxcXFxcXFxcXXxcXFxcXFxcXFwiPykrXCI/JyArIFwiKVwiLCBmbGFncyk7XG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0ZGVjb2RlKGVuY29kaW5nLCB2YWx1ZSkge1xuICAgIGlmIChlbmNvZGluZykge1xuICAgICAgaWYgKCEvXltcXHgwMC1cXHhGRl0rJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKGVuY29kaW5nLCB7XG4gICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9ICgwLCBfdXRpbC5zdHJpbmdUb0J5dGVzKSh2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyKTtcbiAgICAgICAgbmVlZHNFbmNvZGluZ0ZpeHVwID0gZmFsc2U7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpeHVwRW5jb2RpbmcodmFsdWUpIHtcbiAgICBpZiAobmVlZHNFbmNvZGluZ0ZpeHVwICYmIC9bXFx4ODAtXFx4ZmZdLy50ZXN0KHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB0ZXh0ZGVjb2RlKFwidXRmLThcIiwgdmFsdWUpO1xuXG4gICAgICBpZiAobmVlZHNFbmNvZGluZ0ZpeHVwKSB7XG4gICAgICAgIHZhbHVlID0gdGV4dGRlY29kZShcImlzby04ODU5LTFcIiwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJmYzIyMzFnZXRwYXJhbShjb250ZW50RGlzcG9zaXRpb25TdHIpIHtcbiAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgbGV0IG1hdGNoO1xuICAgIGNvbnN0IGl0ZXIgPSB0b1BhcmFtUmVnRXhwKFwiZmlsZW5hbWVcXFxcKigoPyEwXFxcXGQpXFxcXGQrKShcXFxcKj8pXCIsIFwiaWdcIik7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gaXRlci5leGVjKGNvbnRlbnREaXNwb3NpdGlvblN0cikpICE9PSBudWxsKSB7XG4gICAgICBsZXQgWywgbiwgcXVvdCwgcGFydF0gPSBtYXRjaDtcbiAgICAgIG4gPSBwYXJzZUludChuLCAxMCk7XG5cbiAgICAgIGlmIChuIGluIG1hdGNoZXMpIHtcbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBtYXRjaGVzW25dID0gW3F1b3QsIHBhcnRdO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnRzID0gW107XG5cbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IG1hdGNoZXMubGVuZ3RoOyArK24pIHtcbiAgICAgIGlmICghKG4gaW4gbWF0Y2hlcykpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxldCBbcXVvdCwgcGFydF0gPSBtYXRjaGVzW25dO1xuICAgICAgcGFydCA9IHJmYzI2MTZ1bnF1b3RlKHBhcnQpO1xuXG4gICAgICBpZiAocXVvdCkge1xuICAgICAgICBwYXJ0ID0gdW5lc2NhcGUocGFydCk7XG5cbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBwYXJ0ID0gcmZjNTk4N2RlY29kZShwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cy5qb2luKFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmZjMjYxNnVucXVvdGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUuc3RhcnRzV2l0aCgnXCInKSkge1xuICAgICAgY29uc3QgcGFydHMgPSB2YWx1ZS5zbGljZSgxKS5zcGxpdCgnXFxcXFwiJyk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgcXVvdGluZGV4ID0gcGFydHNbaV0uaW5kZXhPZignXCInKTtcblxuICAgICAgICBpZiAocXVvdGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHBhcnRzW2ldID0gcGFydHNbaV0uc2xpY2UoMCwgcXVvdGluZGV4KTtcbiAgICAgICAgICBwYXJ0cy5sZW5ndGggPSBpICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnRzW2ldID0gcGFydHNbaV0ucmVwbGFjZSgvXFxcXCguKS9nLCBcIiQxXCIpO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IHBhcnRzLmpvaW4oJ1wiJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmZjNTk4N2RlY29kZShleHR2YWx1ZSkge1xuICAgIGNvbnN0IGVuY29kaW5nZW5kID0gZXh0dmFsdWUuaW5kZXhPZihcIidcIik7XG5cbiAgICBpZiAoZW5jb2RpbmdlbmQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gZXh0dmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgZW5jb2RpbmcgPSBleHR2YWx1ZS5zbGljZSgwLCBlbmNvZGluZ2VuZCk7XG4gICAgY29uc3QgbGFuZ3ZhbHVlID0gZXh0dmFsdWUuc2xpY2UoZW5jb2RpbmdlbmQgKyAxKTtcbiAgICBjb25zdCB2YWx1ZSA9IGxhbmd2YWx1ZS5yZXBsYWNlKC9eW14nXSonLywgXCJcIik7XG4gICAgcmV0dXJuIHRleHRkZWNvZGUoZW5jb2RpbmcsIHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJmYzIwNDdkZWNvZGUodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlLnN0YXJ0c1dpdGgoXCI9P1wiKSB8fCAvW1xceDAwLVxceDE5XFx4ODAtXFx4ZmZdLy50ZXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC89XFw/KFtcXHctXSopXFw/KFtRcUJiXSlcXD8oKD86W14/XXxcXD8oPyE9KSkqKVxcPz0vZywgZnVuY3Rpb24gKG1hdGNoZXMsIGNoYXJzZXQsIGVuY29kaW5nLCB0ZXh0KSB7XG4gICAgICBpZiAoZW5jb2RpbmcgPT09IFwicVwiIHx8IGVuY29kaW5nID09PSBcIlFcIikge1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9fL2csIFwiIFwiKTtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPShbMC05YS1mQS1GXXsyfSkvZywgZnVuY3Rpb24gKG1hdGNoLCBoZXgpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsIDE2KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGV4dGRlY29kZShjaGFyc2V0LCB0ZXh0KTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgdGV4dCA9IGF0b2IodGV4dCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICByZXR1cm4gdGV4dGRlY29kZShjaGFyc2V0LCB0ZXh0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBcIlwiO1xufVxuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKSA9PiB7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLlBERk5ldHdvcmtTdHJlYW0gPSB2b2lkIDA7XG5cbnZhciBfdXRpbCA9IF9fd19wZGZqc19yZXF1aXJlX18oMSk7XG5cbnZhciBfbmV0d29ya191dGlscyA9IF9fd19wZGZqc19yZXF1aXJlX18oMjYpO1xuXG47XG5jb25zdCBPS19SRVNQT05TRSA9IDIwMDtcbmNvbnN0IFBBUlRJQUxfQ09OVEVOVF9SRVNQT05TRSA9IDIwNjtcblxuZnVuY3Rpb24gZ2V0QXJyYXlCdWZmZXIoeGhyKSB7XG4gIGNvbnN0IGRhdGEgPSB4aHIucmVzcG9uc2U7XG5cbiAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBjb25zdCBhcnJheSA9ICgwLCBfdXRpbC5zdHJpbmdUb0J5dGVzKShkYXRhKTtcbiAgcmV0dXJuIGFycmF5LmJ1ZmZlcjtcbn1cblxuY2xhc3MgTmV0d29ya01hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih1cmwsIGFyZ3MgPSB7fSkge1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMuaXNIdHRwID0gL15odHRwcz86L2kudGVzdCh1cmwpO1xuICAgIHRoaXMuaHR0cEhlYWRlcnMgPSB0aGlzLmlzSHR0cCAmJiBhcmdzLmh0dHBIZWFkZXJzIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy53aXRoQ3JlZGVudGlhbHMgPSBhcmdzLndpdGhDcmVkZW50aWFscyB8fCBmYWxzZTtcblxuICAgIHRoaXMuZ2V0WGhyID0gYXJncy5nZXRYaHIgfHwgZnVuY3Rpb24gTmV0d29ya01hbmFnZXJfZ2V0WGhyKCkge1xuICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmN1cnJYaHJJZCA9IDA7XG4gICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG5cbiAgcmVxdWVzdFJhbmdlKGJlZ2luLCBlbmQsIGxpc3RlbmVycykge1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICBiZWdpbixcbiAgICAgIGVuZFxuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gbGlzdGVuZXJzKSB7XG4gICAgICBhcmdzW3Byb3BdID0gbGlzdGVuZXJzW3Byb3BdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoYXJncyk7XG4gIH1cblxuICByZXF1ZXN0RnVsbChsaXN0ZW5lcnMpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KGxpc3RlbmVycyk7XG4gIH1cblxuICByZXF1ZXN0KGFyZ3MpIHtcbiAgICBjb25zdCB4aHIgPSB0aGlzLmdldFhocigpO1xuICAgIGNvbnN0IHhocklkID0gdGhpcy5jdXJyWGhySWQrKztcbiAgICBjb25zdCBwZW5kaW5nUmVxdWVzdCA9IHRoaXMucGVuZGluZ1JlcXVlc3RzW3hocklkXSA9IHtcbiAgICAgIHhoclxuICAgIH07XG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgdGhpcy51cmwpO1xuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLndpdGhDcmVkZW50aWFscztcblxuICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gdGhpcy5odHRwSGVhZGVycykge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmh0dHBIZWFkZXJzW3Byb3BlcnR5XTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIocHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0h0dHAgJiYgXCJiZWdpblwiIGluIGFyZ3MgJiYgXCJlbmRcIiBpbiBhcmdzKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsIGBieXRlcz0ke2FyZ3MuYmVnaW59LSR7YXJncy5lbmQgLSAxfWApO1xuICAgICAgcGVuZGluZ1JlcXVlc3QuZXhwZWN0ZWRTdGF0dXMgPSBQQVJUSUFMX0NPTlRFTlRfUkVTUE9OU0U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdSZXF1ZXN0LmV4cGVjdGVkU3RhdHVzID0gT0tfUkVTUE9OU0U7XG4gICAgfVxuXG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcblxuICAgIGlmIChhcmdzLm9uRXJyb3IpIHtcbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBhcmdzLm9uRXJyb3IoeGhyLnN0YXR1cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLm9uU3RhdGVDaGFuZ2UuYmluZCh0aGlzLCB4aHJJZCk7XG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSB0aGlzLm9uUHJvZ3Jlc3MuYmluZCh0aGlzLCB4aHJJZCk7XG4gICAgcGVuZGluZ1JlcXVlc3Qub25IZWFkZXJzUmVjZWl2ZWQgPSBhcmdzLm9uSGVhZGVyc1JlY2VpdmVkO1xuICAgIHBlbmRpbmdSZXF1ZXN0Lm9uRG9uZSA9IGFyZ3Mub25Eb25lO1xuICAgIHBlbmRpbmdSZXF1ZXN0Lm9uRXJyb3IgPSBhcmdzLm9uRXJyb3I7XG4gICAgcGVuZGluZ1JlcXVlc3Qub25Qcm9ncmVzcyA9IGFyZ3Mub25Qcm9ncmVzcztcbiAgICB4aHIuc2VuZChudWxsKTtcbiAgICByZXR1cm4geGhySWQ7XG4gIH1cblxuICBvblByb2dyZXNzKHhocklkLCBldnQpIHtcbiAgICBjb25zdCBwZW5kaW5nUmVxdWVzdCA9IHRoaXMucGVuZGluZ1JlcXVlc3RzW3hocklkXTtcblxuICAgIGlmICghcGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwZW5kaW5nUmVxdWVzdC5vblByb2dyZXNzPy4oZXZ0KTtcbiAgfVxuXG4gIG9uU3RhdGVDaGFuZ2UoeGhySWQsIGV2dCkge1xuICAgIGNvbnN0IHBlbmRpbmdSZXF1ZXN0ID0gdGhpcy5wZW5kaW5nUmVxdWVzdHNbeGhySWRdO1xuXG4gICAgaWYgKCFwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHhociA9IHBlbmRpbmdSZXF1ZXN0LnhocjtcblxuICAgIGlmICh4aHIucmVhZHlTdGF0ZSA+PSAyICYmIHBlbmRpbmdSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkKSB7XG4gICAgICBwZW5kaW5nUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZCgpO1xuICAgICAgZGVsZXRlIHBlbmRpbmdSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkO1xuICAgIH1cblxuICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKHhocklkIGluIHRoaXMucGVuZGluZ1JlcXVlc3RzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLnBlbmRpbmdSZXF1ZXN0c1t4aHJJZF07XG5cbiAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMCAmJiB0aGlzLmlzSHR0cCkge1xuICAgICAgcGVuZGluZ1JlcXVlc3Qub25FcnJvcj8uKHhoci5zdGF0dXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHhoclN0YXR1cyA9IHhoci5zdGF0dXMgfHwgT0tfUkVTUE9OU0U7XG4gICAgY29uc3Qgb2tfcmVzcG9uc2Vfb25fcmFuZ2VfcmVxdWVzdCA9IHhoclN0YXR1cyA9PT0gT0tfUkVTUE9OU0UgJiYgcGVuZGluZ1JlcXVlc3QuZXhwZWN0ZWRTdGF0dXMgPT09IFBBUlRJQUxfQ09OVEVOVF9SRVNQT05TRTtcblxuICAgIGlmICghb2tfcmVzcG9uc2Vfb25fcmFuZ2VfcmVxdWVzdCAmJiB4aHJTdGF0dXMgIT09IHBlbmRpbmdSZXF1ZXN0LmV4cGVjdGVkU3RhdHVzKSB7XG4gICAgICBwZW5kaW5nUmVxdWVzdC5vbkVycm9yPy4oeGhyLnN0YXR1cyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2h1bmsgPSBnZXRBcnJheUJ1ZmZlcih4aHIpO1xuXG4gICAgaWYgKHhoclN0YXR1cyA9PT0gUEFSVElBTF9DT05URU5UX1JFU1BPTlNFKSB7XG4gICAgICBjb25zdCByYW5nZUhlYWRlciA9IHhoci5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtUmFuZ2VcIik7XG4gICAgICBjb25zdCBtYXRjaGVzID0gL2J5dGVzIChcXGQrKS0oXFxkKylcXC8oXFxkKykvLmV4ZWMocmFuZ2VIZWFkZXIpO1xuICAgICAgcGVuZGluZ1JlcXVlc3Qub25Eb25lKHtcbiAgICAgICAgYmVnaW46IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKSxcbiAgICAgICAgY2h1bmtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY2h1bmspIHtcbiAgICAgIHBlbmRpbmdSZXF1ZXN0Lm9uRG9uZSh7XG4gICAgICAgIGJlZ2luOiAwLFxuICAgICAgICBjaHVua1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlbmRpbmdSZXF1ZXN0Lm9uRXJyb3I/Lih4aHIuc3RhdHVzKTtcbiAgICB9XG4gIH1cblxuICBnZXRSZXF1ZXN0WGhyKHhocklkKSB7XG4gICAgcmV0dXJuIHRoaXMucGVuZGluZ1JlcXVlc3RzW3hocklkXS54aHI7XG4gIH1cblxuICBpc1BlbmRpbmdSZXF1ZXN0KHhocklkKSB7XG4gICAgcmV0dXJuIHhocklkIGluIHRoaXMucGVuZGluZ1JlcXVlc3RzO1xuICB9XG5cbiAgYWJvcnRSZXF1ZXN0KHhocklkKSB7XG4gICAgY29uc3QgeGhyID0gdGhpcy5wZW5kaW5nUmVxdWVzdHNbeGhySWRdLnhocjtcbiAgICBkZWxldGUgdGhpcy5wZW5kaW5nUmVxdWVzdHNbeGhySWRdO1xuICAgIHhoci5hYm9ydCgpO1xuICB9XG5cbn1cblxuY2xhc3MgUERGTmV0d29ya1N0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLl9tYW5hZ2VyID0gbmV3IE5ldHdvcmtNYW5hZ2VyKHNvdXJjZS51cmwsIHtcbiAgICAgIGh0dHBIZWFkZXJzOiBzb3VyY2UuaHR0cEhlYWRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHNvdXJjZS53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICB0aGlzLl9yYW5nZUNodW5rU2l6ZSA9IHNvdXJjZS5yYW5nZUNodW5rU2l6ZTtcbiAgICB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlciA9IG51bGw7XG4gICAgdGhpcy5fcmFuZ2VSZXF1ZXN0UmVhZGVycyA9IFtdO1xuICB9XG5cbiAgX29uUmFuZ2VSZXF1ZXN0UmVhZGVyQ2xvc2VkKHJlYWRlcikge1xuICAgIGNvbnN0IGkgPSB0aGlzLl9yYW5nZVJlcXVlc3RSZWFkZXJzLmluZGV4T2YocmVhZGVyKTtcblxuICAgIGlmIChpID49IDApIHtcbiAgICAgIHRoaXMuX3JhbmdlUmVxdWVzdFJlYWRlcnMuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGdldEZ1bGxSZWFkZXIoKSB7XG4gICAgKDAsIF91dGlsLmFzc2VydCkoIXRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyLCBcIlBERk5ldHdvcmtTdHJlYW0uZ2V0RnVsbFJlYWRlciBjYW4gb25seSBiZSBjYWxsZWQgb25jZS5cIik7XG4gICAgdGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIgPSBuZXcgUERGTmV0d29ya1N0cmVhbUZ1bGxSZXF1ZXN0UmVhZGVyKHRoaXMuX21hbmFnZXIsIHRoaXMuX3NvdXJjZSk7XG4gICAgcmV0dXJuIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyO1xuICB9XG5cbiAgZ2V0UmFuZ2VSZWFkZXIoYmVnaW4sIGVuZCkge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBQREZOZXR3b3JrU3RyZWFtUmFuZ2VSZXF1ZXN0UmVhZGVyKHRoaXMuX21hbmFnZXIsIGJlZ2luLCBlbmQpO1xuICAgIHJlYWRlci5vbkNsb3NlZCA9IHRoaXMuX29uUmFuZ2VSZXF1ZXN0UmVhZGVyQ2xvc2VkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9yYW5nZVJlcXVlc3RSZWFkZXJzLnB1c2gocmVhZGVyKTtcblxuICAgIHJldHVybiByZWFkZXI7XG4gIH1cblxuICBjYW5jZWxBbGxSZXF1ZXN0cyhyZWFzb24pIHtcbiAgICB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlcj8uY2FuY2VsKHJlYXNvbik7XG5cbiAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiB0aGlzLl9yYW5nZVJlcXVlc3RSZWFkZXJzLnNsaWNlKDApKSB7XG4gICAgICByZWFkZXIuY2FuY2VsKHJlYXNvbik7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0cy5QREZOZXR3b3JrU3RyZWFtID0gUERGTmV0d29ya1N0cmVhbTtcblxuY2xhc3MgUERGTmV0d29ya1N0cmVhbUZ1bGxSZXF1ZXN0UmVhZGVyIHtcbiAgY29uc3RydWN0b3IobWFuYWdlciwgc291cmNlKSB7XG4gICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XG4gICAgY29uc3QgYXJncyA9IHtcbiAgICAgIG9uSGVhZGVyc1JlY2VpdmVkOiB0aGlzLl9vbkhlYWRlcnNSZWNlaXZlZC5iaW5kKHRoaXMpLFxuICAgICAgb25Eb25lOiB0aGlzLl9vbkRvbmUuYmluZCh0aGlzKSxcbiAgICAgIG9uRXJyb3I6IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKSxcbiAgICAgIG9uUHJvZ3Jlc3M6IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKVxuICAgIH07XG4gICAgdGhpcy5fdXJsID0gc291cmNlLnVybDtcbiAgICB0aGlzLl9mdWxsUmVxdWVzdElkID0gbWFuYWdlci5yZXF1ZXN0RnVsbChhcmdzKTtcbiAgICB0aGlzLl9oZWFkZXJzUmVjZWl2ZWRDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuICAgIHRoaXMuX2Rpc2FibGVSYW5nZSA9IHNvdXJjZS5kaXNhYmxlUmFuZ2UgfHwgZmFsc2U7XG4gICAgdGhpcy5fY29udGVudExlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgdGhpcy5fcmFuZ2VDaHVua1NpemUgPSBzb3VyY2UucmFuZ2VDaHVua1NpemU7XG5cbiAgICBpZiAoIXRoaXMuX3JhbmdlQ2h1bmtTaXplICYmICF0aGlzLl9kaXNhYmxlUmFuZ2UpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVSYW5nZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5faXNTdHJlYW1pbmdTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9pc1JhbmdlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgdGhpcy5fY2FjaGVkQ2h1bmtzID0gW107XG4gICAgdGhpcy5fcmVxdWVzdHMgPSBbXTtcbiAgICB0aGlzLl9kb25lID0gZmFsc2U7XG4gICAgdGhpcy5fc3RvcmVkRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZmlsZW5hbWUgPSBudWxsO1xuICAgIHRoaXMub25Qcm9ncmVzcyA9IG51bGw7XG4gIH1cblxuICBfb25IZWFkZXJzUmVjZWl2ZWQoKSB7XG4gICAgY29uc3QgZnVsbFJlcXVlc3RYaHJJZCA9IHRoaXMuX2Z1bGxSZXF1ZXN0SWQ7XG5cbiAgICBjb25zdCBmdWxsUmVxdWVzdFhociA9IHRoaXMuX21hbmFnZXIuZ2V0UmVxdWVzdFhocihmdWxsUmVxdWVzdFhocklkKTtcblxuICAgIGNvbnN0IGdldFJlc3BvbnNlSGVhZGVyID0gbmFtZSA9PiB7XG4gICAgICByZXR1cm4gZnVsbFJlcXVlc3RYaHIuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGFsbG93UmFuZ2VSZXF1ZXN0cyxcbiAgICAgIHN1Z2dlc3RlZExlbmd0aFxuICAgIH0gPSAoMCwgX25ldHdvcmtfdXRpbHMudmFsaWRhdGVSYW5nZVJlcXVlc3RDYXBhYmlsaXRpZXMpKHtcbiAgICAgIGdldFJlc3BvbnNlSGVhZGVyLFxuICAgICAgaXNIdHRwOiB0aGlzLl9tYW5hZ2VyLmlzSHR0cCxcbiAgICAgIHJhbmdlQ2h1bmtTaXplOiB0aGlzLl9yYW5nZUNodW5rU2l6ZSxcbiAgICAgIGRpc2FibGVSYW5nZTogdGhpcy5fZGlzYWJsZVJhbmdlXG4gICAgfSk7XG5cbiAgICBpZiAoYWxsb3dSYW5nZVJlcXVlc3RzKSB7XG4gICAgICB0aGlzLl9pc1JhbmdlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gc3VnZ2VzdGVkTGVuZ3RoIHx8IHRoaXMuX2NvbnRlbnRMZW5ndGg7XG4gICAgdGhpcy5fZmlsZW5hbWUgPSAoMCwgX25ldHdvcmtfdXRpbHMuZXh0cmFjdEZpbGVuYW1lRnJvbUhlYWRlcikoZ2V0UmVzcG9uc2VIZWFkZXIpO1xuXG4gICAgaWYgKHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQpIHtcbiAgICAgIHRoaXMuX21hbmFnZXIuYWJvcnRSZXF1ZXN0KGZ1bGxSZXF1ZXN0WGhySWQpO1xuICAgIH1cblxuICAgIHRoaXMuX2hlYWRlcnNSZWNlaXZlZENhcGFiaWxpdHkucmVzb2x2ZSgpO1xuICB9XG5cbiAgX29uRG9uZShkYXRhKSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGlmICh0aGlzLl9yZXF1ZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RDYXBhYmlsaXR5ID0gdGhpcy5fcmVxdWVzdHMuc2hpZnQoKTtcblxuICAgICAgICByZXF1ZXN0Q2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgICB2YWx1ZTogZGF0YS5jaHVuayxcbiAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZENodW5rcy5wdXNoKGRhdGEuY2h1bmspO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuX2NhY2hlZENodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCByZXF1ZXN0Q2FwYWJpbGl0eSBvZiB0aGlzLl9yZXF1ZXN0cykge1xuICAgICAgcmVxdWVzdENhcGFiaWxpdHkucmVzb2x2ZSh7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX3JlcXVlc3RzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBfb25FcnJvcihzdGF0dXMpIHtcbiAgICB0aGlzLl9zdG9yZWRFcnJvciA9ICgwLCBfbmV0d29ya191dGlscy5jcmVhdGVSZXNwb25zZVN0YXR1c0Vycm9yKShzdGF0dXMsIHRoaXMuX3VybCk7XG5cbiAgICB0aGlzLl9oZWFkZXJzUmVjZWl2ZWRDYXBhYmlsaXR5LnJlamVjdCh0aGlzLl9zdG9yZWRFcnJvcik7XG5cbiAgICBmb3IgKGNvbnN0IHJlcXVlc3RDYXBhYmlsaXR5IG9mIHRoaXMuX3JlcXVlc3RzKSB7XG4gICAgICByZXF1ZXN0Q2FwYWJpbGl0eS5yZWplY3QodGhpcy5fc3RvcmVkRXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlcXVlc3RzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fY2FjaGVkQ2h1bmtzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBfb25Qcm9ncmVzcyhldnQpIHtcbiAgICB0aGlzLm9uUHJvZ3Jlc3M/Lih7XG4gICAgICBsb2FkZWQ6IGV2dC5sb2FkZWQsXG4gICAgICB0b3RhbDogZXZ0Lmxlbmd0aENvbXB1dGFibGUgPyBldnQudG90YWwgOiB0aGlzLl9jb250ZW50TGVuZ3RoXG4gICAgfSk7XG4gIH1cblxuICBnZXQgZmlsZW5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGVuYW1lO1xuICB9XG5cbiAgZ2V0IGlzUmFuZ2VTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQ7XG4gIH1cblxuICBnZXQgaXNTdHJlYW1pbmdTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnRMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRMZW5ndGg7XG4gIH1cblxuICBnZXQgaGVhZGVyc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWFkZXJzUmVjZWl2ZWRDYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cblxuICBhc3luYyByZWFkKCkge1xuICAgIGlmICh0aGlzLl9zdG9yZWRFcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5fc3RvcmVkRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2NhY2hlZENodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaHVuayA9IHRoaXMuX2NhY2hlZENodW5rcy5zaGlmdCgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogY2h1bmssXG4gICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kb25lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3RDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuXG4gICAgdGhpcy5fcmVxdWVzdHMucHVzaChyZXF1ZXN0Q2FwYWJpbGl0eSk7XG5cbiAgICByZXR1cm4gcmVxdWVzdENhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxuXG4gIGNhbmNlbChyZWFzb24pIHtcbiAgICB0aGlzLl9kb25lID0gdHJ1ZTtcblxuICAgIHRoaXMuX2hlYWRlcnNSZWNlaXZlZENhcGFiaWxpdHkucmVqZWN0KHJlYXNvbik7XG5cbiAgICBmb3IgKGNvbnN0IHJlcXVlc3RDYXBhYmlsaXR5IG9mIHRoaXMuX3JlcXVlc3RzKSB7XG4gICAgICByZXF1ZXN0Q2FwYWJpbGl0eS5yZXNvbHZlKHtcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVxdWVzdHMubGVuZ3RoID0gMDtcblxuICAgIGlmICh0aGlzLl9tYW5hZ2VyLmlzUGVuZGluZ1JlcXVlc3QodGhpcy5fZnVsbFJlcXVlc3RJZCkpIHtcbiAgICAgIHRoaXMuX21hbmFnZXIuYWJvcnRSZXF1ZXN0KHRoaXMuX2Z1bGxSZXF1ZXN0SWQpO1xuICAgIH1cblxuICAgIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyID0gbnVsbDtcbiAgfVxuXG59XG5cbmNsYXNzIFBERk5ldHdvcmtTdHJlYW1SYW5nZVJlcXVlc3RSZWFkZXIge1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyLCBiZWdpbiwgZW5kKSB7XG4gICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XG4gICAgY29uc3QgYXJncyA9IHtcbiAgICAgIG9uRG9uZTogdGhpcy5fb25Eb25lLmJpbmQodGhpcyksXG4gICAgICBvbkVycm9yOiB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyksXG4gICAgICBvblByb2dyZXNzOiB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcylcbiAgICB9O1xuICAgIHRoaXMuX3VybCA9IG1hbmFnZXIudXJsO1xuICAgIHRoaXMuX3JlcXVlc3RJZCA9IG1hbmFnZXIucmVxdWVzdFJhbmdlKGJlZ2luLCBlbmQsIGFyZ3MpO1xuICAgIHRoaXMuX3JlcXVlc3RzID0gW107XG4gICAgdGhpcy5fcXVldWVkQ2h1bmsgPSBudWxsO1xuICAgIHRoaXMuX2RvbmUgPSBmYWxzZTtcbiAgICB0aGlzLl9zdG9yZWRFcnJvciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBudWxsO1xuICAgIHRoaXMub25DbG9zZWQgPSBudWxsO1xuICB9XG5cbiAgX2Nsb3NlKCkge1xuICAgIHRoaXMub25DbG9zZWQ/Lih0aGlzKTtcbiAgfVxuXG4gIF9vbkRvbmUoZGF0YSkge1xuICAgIGNvbnN0IGNodW5rID0gZGF0YS5jaHVuaztcblxuICAgIGlmICh0aGlzLl9yZXF1ZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCByZXF1ZXN0Q2FwYWJpbGl0eSA9IHRoaXMuX3JlcXVlc3RzLnNoaWZ0KCk7XG5cbiAgICAgIHJlcXVlc3RDYXBhYmlsaXR5LnJlc29sdmUoe1xuICAgICAgICB2YWx1ZTogY2h1bmssXG4gICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcXVldWVkQ2h1bmsgPSBjaHVuaztcbiAgICB9XG5cbiAgICB0aGlzLl9kb25lID0gdHJ1ZTtcblxuICAgIGZvciAoY29uc3QgcmVxdWVzdENhcGFiaWxpdHkgb2YgdGhpcy5fcmVxdWVzdHMpIHtcbiAgICAgIHJlcXVlc3RDYXBhYmlsaXR5LnJlc29sdmUoe1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZXF1ZXN0cy5sZW5ndGggPSAwO1xuXG4gICAgdGhpcy5fY2xvc2UoKTtcbiAgfVxuXG4gIF9vbkVycm9yKHN0YXR1cykge1xuICAgIHRoaXMuX3N0b3JlZEVycm9yID0gKDAsIF9uZXR3b3JrX3V0aWxzLmNyZWF0ZVJlc3BvbnNlU3RhdHVzRXJyb3IpKHN0YXR1cywgdGhpcy5fdXJsKTtcblxuICAgIGZvciAoY29uc3QgcmVxdWVzdENhcGFiaWxpdHkgb2YgdGhpcy5fcmVxdWVzdHMpIHtcbiAgICAgIHJlcXVlc3RDYXBhYmlsaXR5LnJlamVjdCh0aGlzLl9zdG9yZWRFcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVxdWVzdHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9xdWV1ZWRDaHVuayA9IG51bGw7XG4gIH1cblxuICBfb25Qcm9ncmVzcyhldnQpIHtcbiAgICBpZiAoIXRoaXMuaXNTdHJlYW1pbmdTdXBwb3J0ZWQpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcz8uKHtcbiAgICAgICAgbG9hZGVkOiBldnQubG9hZGVkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXQgaXNTdHJlYW1pbmdTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgcmVhZCgpIHtcbiAgICBpZiAodGhpcy5fc3RvcmVkRXJyb3IpIHtcbiAgICAgIHRocm93IHRoaXMuX3N0b3JlZEVycm9yO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9xdWV1ZWRDaHVuayAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY2h1bmsgPSB0aGlzLl9xdWV1ZWRDaHVuaztcbiAgICAgIHRoaXMuX3F1ZXVlZENodW5rID0gbnVsbDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBjaHVuayxcbiAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RvbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG5cbiAgICB0aGlzLl9yZXF1ZXN0cy5wdXNoKHJlcXVlc3RDYXBhYmlsaXR5KTtcblxuICAgIHJldHVybiByZXF1ZXN0Q2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgY2FuY2VsKHJlYXNvbikge1xuICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuXG4gICAgZm9yIChjb25zdCByZXF1ZXN0Q2FwYWJpbGl0eSBvZiB0aGlzLl9yZXF1ZXN0cykge1xuICAgICAgcmVxdWVzdENhcGFiaWxpdHkucmVzb2x2ZSh7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX3JlcXVlc3RzLmxlbmd0aCA9IDA7XG5cbiAgICBpZiAodGhpcy5fbWFuYWdlci5pc1BlbmRpbmdSZXF1ZXN0KHRoaXMuX3JlcXVlc3RJZCkpIHtcbiAgICAgIHRoaXMuX21hbmFnZXIuYWJvcnRSZXF1ZXN0KHRoaXMuX3JlcXVlc3RJZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xvc2UoKTtcbiAgfVxuXG59XG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd19wZGZqc19yZXF1aXJlX18pID0+IHtcblxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuUERGRmV0Y2hTdHJlYW0gPSB2b2lkIDA7XG5cbnZhciBfdXRpbCA9IF9fd19wZGZqc19yZXF1aXJlX18oMSk7XG5cbnZhciBfbmV0d29ya191dGlscyA9IF9fd19wZGZqc19yZXF1aXJlX18oMjYpO1xuXG47XG5cbmZ1bmN0aW9uIGNyZWF0ZUZldGNoT3B0aW9ucyhoZWFkZXJzLCB3aXRoQ3JlZGVudGlhbHMsIGFib3J0Q29udHJvbGxlcikge1xuICByZXR1cm4ge1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICBoZWFkZXJzLFxuICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyPy5zaWduYWwsXG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgY3JlZGVudGlhbHM6IHdpdGhDcmVkZW50aWFscyA/IFwiaW5jbHVkZVwiIDogXCJzYW1lLW9yaWdpblwiLFxuICAgIHJlZGlyZWN0OiBcImZvbGxvd1wiXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcnMoaHR0cEhlYWRlcnMpIHtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBodHRwSGVhZGVycykge1xuICAgIGNvbnN0IHZhbHVlID0gaHR0cEhlYWRlcnNbcHJvcGVydHldO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaGVhZGVycy5hcHBlbmQocHJvcGVydHksIHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiBoZWFkZXJzO1xufVxuXG5jbGFzcyBQREZGZXRjaFN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMuaXNIdHRwID0gL15odHRwcz86L2kudGVzdChzb3VyY2UudXJsKTtcbiAgICB0aGlzLmh0dHBIZWFkZXJzID0gdGhpcy5pc0h0dHAgJiYgc291cmNlLmh0dHBIZWFkZXJzIHx8IHt9O1xuICAgIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyID0gbnVsbDtcbiAgICB0aGlzLl9yYW5nZVJlcXVlc3RSZWFkZXJzID0gW107XG4gIH1cblxuICBnZXQgX3Byb2dyZXNzaXZlRGF0YUxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZnVsbFJlcXVlc3RSZWFkZXI/Ll9sb2FkZWQgPz8gMDtcbiAgfVxuXG4gIGdldEZ1bGxSZWFkZXIoKSB7XG4gICAgKDAsIF91dGlsLmFzc2VydCkoIXRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyLCBcIlBERkZldGNoU3RyZWFtLmdldEZ1bGxSZWFkZXIgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UuXCIpO1xuICAgIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyID0gbmV3IFBERkZldGNoU3RyZWFtUmVhZGVyKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLl9mdWxsUmVxdWVzdFJlYWRlcjtcbiAgfVxuXG4gIGdldFJhbmdlUmVhZGVyKGJlZ2luLCBlbmQpIHtcbiAgICBpZiAoZW5kIDw9IHRoaXMuX3Byb2dyZXNzaXZlRGF0YUxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IFBERkZldGNoU3RyZWFtUmFuZ2VSZWFkZXIodGhpcywgYmVnaW4sIGVuZCk7XG5cbiAgICB0aGlzLl9yYW5nZVJlcXVlc3RSZWFkZXJzLnB1c2gocmVhZGVyKTtcblxuICAgIHJldHVybiByZWFkZXI7XG4gIH1cblxuICBjYW5jZWxBbGxSZXF1ZXN0cyhyZWFzb24pIHtcbiAgICBpZiAodGhpcy5fZnVsbFJlcXVlc3RSZWFkZXIpIHtcbiAgICAgIHRoaXMuX2Z1bGxSZXF1ZXN0UmVhZGVyLmNhbmNlbChyZWFzb24pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHRoaXMuX3JhbmdlUmVxdWVzdFJlYWRlcnMuc2xpY2UoMCkpIHtcbiAgICAgIHJlYWRlci5jYW5jZWwocmVhc29uKTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnRzLlBERkZldGNoU3RyZWFtID0gUERGRmV0Y2hTdHJlYW07XG5cbmNsYXNzIFBERkZldGNoU3RyZWFtUmVhZGVyIHtcbiAgY29uc3RydWN0b3Ioc3RyZWFtKSB7XG4gICAgdGhpcy5fc3RyZWFtID0gc3RyZWFtO1xuICAgIHRoaXMuX3JlYWRlciA9IG51bGw7XG4gICAgdGhpcy5fbG9hZGVkID0gMDtcbiAgICB0aGlzLl9maWxlbmFtZSA9IG51bGw7XG4gICAgY29uc3Qgc291cmNlID0gc3RyZWFtLnNvdXJjZTtcbiAgICB0aGlzLl93aXRoQ3JlZGVudGlhbHMgPSBzb3VyY2Uud2l0aENyZWRlbnRpYWxzIHx8IGZhbHNlO1xuICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgIHRoaXMuX2hlYWRlcnNDYXBhYmlsaXR5ID0gKDAsIF91dGlsLmNyZWF0ZVByb21pc2VDYXBhYmlsaXR5KSgpO1xuICAgIHRoaXMuX2Rpc2FibGVSYW5nZSA9IHNvdXJjZS5kaXNhYmxlUmFuZ2UgfHwgZmFsc2U7XG4gICAgdGhpcy5fcmFuZ2VDaHVua1NpemUgPSBzb3VyY2UucmFuZ2VDaHVua1NpemU7XG5cbiAgICBpZiAoIXRoaXMuX3JhbmdlQ2h1bmtTaXplICYmICF0aGlzLl9kaXNhYmxlUmFuZ2UpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVSYW5nZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9pc1N0cmVhbWluZ1N1cHBvcnRlZCA9ICFzb3VyY2UuZGlzYWJsZVN0cmVhbTtcbiAgICB0aGlzLl9pc1JhbmdlU3VwcG9ydGVkID0gIXNvdXJjZS5kaXNhYmxlUmFuZ2U7XG4gICAgdGhpcy5faGVhZGVycyA9IGNyZWF0ZUhlYWRlcnModGhpcy5fc3RyZWFtLmh0dHBIZWFkZXJzKTtcbiAgICBjb25zdCB1cmwgPSBzb3VyY2UudXJsO1xuICAgIGZldGNoKHVybCwgY3JlYXRlRmV0Y2hPcHRpb25zKHRoaXMuX2hlYWRlcnMsIHRoaXMuX3dpdGhDcmVkZW50aWFscywgdGhpcy5fYWJvcnRDb250cm9sbGVyKSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBpZiAoISgwLCBfbmV0d29ya191dGlscy52YWxpZGF0ZVJlc3BvbnNlU3RhdHVzKShyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgIHRocm93ICgwLCBfbmV0d29ya191dGlscy5jcmVhdGVSZXNwb25zZVN0YXR1c0Vycm9yKShyZXNwb25zZS5zdGF0dXMsIHVybCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG5cbiAgICAgIHRoaXMuX2hlYWRlcnNDYXBhYmlsaXR5LnJlc29sdmUoKTtcblxuICAgICAgY29uc3QgZ2V0UmVzcG9uc2VIZWFkZXIgPSBuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KG5hbWUpO1xuICAgICAgfTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBhbGxvd1JhbmdlUmVxdWVzdHMsXG4gICAgICAgIHN1Z2dlc3RlZExlbmd0aFxuICAgICAgfSA9ICgwLCBfbmV0d29ya191dGlscy52YWxpZGF0ZVJhbmdlUmVxdWVzdENhcGFiaWxpdGllcykoe1xuICAgICAgICBnZXRSZXNwb25zZUhlYWRlcixcbiAgICAgICAgaXNIdHRwOiB0aGlzLl9zdHJlYW0uaXNIdHRwLFxuICAgICAgICByYW5nZUNodW5rU2l6ZTogdGhpcy5fcmFuZ2VDaHVua1NpemUsXG4gICAgICAgIGRpc2FibGVSYW5nZTogdGhpcy5fZGlzYWJsZVJhbmdlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQgPSBhbGxvd1JhbmdlUmVxdWVzdHM7XG4gICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gc3VnZ2VzdGVkTGVuZ3RoIHx8IHRoaXMuX2NvbnRlbnRMZW5ndGg7XG4gICAgICB0aGlzLl9maWxlbmFtZSA9ICgwLCBfbmV0d29ya191dGlscy5leHRyYWN0RmlsZW5hbWVGcm9tSGVhZGVyKShnZXRSZXNwb25zZUhlYWRlcik7XG5cbiAgICAgIGlmICghdGhpcy5faXNTdHJlYW1pbmdTdXBwb3J0ZWQgJiYgdGhpcy5faXNSYW5nZVN1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLmNhbmNlbChuZXcgX3V0aWwuQWJvcnRFeGNlcHRpb24oXCJTdHJlYW1pbmcgaXMgZGlzYWJsZWQuXCIpKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCh0aGlzLl9oZWFkZXJzQ2FwYWJpbGl0eS5yZWplY3QpO1xuICAgIHRoaXMub25Qcm9ncmVzcyA9IG51bGw7XG4gIH1cblxuICBnZXQgaGVhZGVyc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWFkZXJzQ2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IGZpbGVuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9maWxlbmFtZTtcbiAgfVxuXG4gIGdldCBjb250ZW50TGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9jb250ZW50TGVuZ3RoO1xuICB9XG5cbiAgZ2V0IGlzUmFuZ2VTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUmFuZ2VTdXBwb3J0ZWQ7XG4gIH1cblxuICBnZXQgaXNTdHJlYW1pbmdTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkO1xuICB9XG5cbiAgYXN5bmMgcmVhZCgpIHtcbiAgICBhd2FpdCB0aGlzLl9oZWFkZXJzQ2FwYWJpbGl0eS5wcm9taXNlO1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlLFxuICAgICAgZG9uZVxuICAgIH0gPSBhd2FpdCB0aGlzLl9yZWFkZXIucmVhZCgpO1xuXG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBkb25lXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuX2xvYWRlZCArPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMub25Qcm9ncmVzcykge1xuICAgICAgdGhpcy5vblByb2dyZXNzKHtcbiAgICAgICAgbG9hZGVkOiB0aGlzLl9sb2FkZWQsXG4gICAgICAgIHRvdGFsOiB0aGlzLl9jb250ZW50TGVuZ3RoXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh2YWx1ZSkuYnVmZmVyO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogYnVmZmVyLFxuICAgICAgZG9uZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2FuY2VsKHJlYXNvbikge1xuICAgIGlmICh0aGlzLl9yZWFkZXIpIHtcbiAgICAgIHRoaXMuX3JlYWRlci5jYW5jZWwocmVhc29uKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICB0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gIH1cblxufVxuXG5jbGFzcyBQREZGZXRjaFN0cmVhbVJhbmdlUmVhZGVyIHtcbiAgY29uc3RydWN0b3Ioc3RyZWFtLCBiZWdpbiwgZW5kKSB7XG4gICAgdGhpcy5fc3RyZWFtID0gc3RyZWFtO1xuICAgIHRoaXMuX3JlYWRlciA9IG51bGw7XG4gICAgdGhpcy5fbG9hZGVkID0gMDtcbiAgICBjb25zdCBzb3VyY2UgPSBzdHJlYW0uc291cmNlO1xuICAgIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IHNvdXJjZS53aXRoQ3JlZGVudGlhbHMgfHwgZmFsc2U7XG4gICAgdGhpcy5fcmVhZENhcGFiaWxpdHkgPSAoMCwgX3V0aWwuY3JlYXRlUHJvbWlzZUNhcGFiaWxpdHkpKCk7XG4gICAgdGhpcy5faXNTdHJlYW1pbmdTdXBwb3J0ZWQgPSAhc291cmNlLmRpc2FibGVTdHJlYW07XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIH1cblxuICAgIHRoaXMuX2hlYWRlcnMgPSBjcmVhdGVIZWFkZXJzKHRoaXMuX3N0cmVhbS5odHRwSGVhZGVycyk7XG5cbiAgICB0aGlzLl9oZWFkZXJzLmFwcGVuZChcIlJhbmdlXCIsIGBieXRlcz0ke2JlZ2lufS0ke2VuZCAtIDF9YCk7XG5cbiAgICBjb25zdCB1cmwgPSBzb3VyY2UudXJsO1xuICAgIGZldGNoKHVybCwgY3JlYXRlRmV0Y2hPcHRpb25zKHRoaXMuX2hlYWRlcnMsIHRoaXMuX3dpdGhDcmVkZW50aWFscywgdGhpcy5fYWJvcnRDb250cm9sbGVyKSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBpZiAoISgwLCBfbmV0d29ya191dGlscy52YWxpZGF0ZVJlc3BvbnNlU3RhdHVzKShyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgIHRocm93ICgwLCBfbmV0d29ya191dGlscy5jcmVhdGVSZXNwb25zZVN0YXR1c0Vycm9yKShyZXNwb25zZS5zdGF0dXMsIHVybCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlYWRDYXBhYmlsaXR5LnJlc29sdmUoKTtcblxuICAgICAgdGhpcy5fcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTtcbiAgICB9KS5jYXRjaCh0aGlzLl9yZWFkQ2FwYWJpbGl0eS5yZWplY3QpO1xuICAgIHRoaXMub25Qcm9ncmVzcyA9IG51bGw7XG4gIH1cblxuICBnZXQgaXNTdHJlYW1pbmdTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzU3RyZWFtaW5nU3VwcG9ydGVkO1xuICB9XG5cbiAgYXN5bmMgcmVhZCgpIHtcbiAgICBhd2FpdCB0aGlzLl9yZWFkQ2FwYWJpbGl0eS5wcm9taXNlO1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlLFxuICAgICAgZG9uZVxuICAgIH0gPSBhd2FpdCB0aGlzLl9yZWFkZXIucmVhZCgpO1xuXG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBkb25lXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuX2xvYWRlZCArPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMub25Qcm9ncmVzcykge1xuICAgICAgdGhpcy5vblByb2dyZXNzKHtcbiAgICAgICAgbG9hZGVkOiB0aGlzLl9sb2FkZWRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHZhbHVlKS5idWZmZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBidWZmZXIsXG4gICAgICBkb25lOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjYW5jZWwocmVhc29uKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRlcikge1xuICAgICAgdGhpcy5fcmVhZGVyLmNhbmNlbChyZWFzb24pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cbiAgfVxuXG59XG5cbi8qKiovIH0pXG4vKioqKioqLyBcdF0pO1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dfcGRmanNfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dfcGRmanNfcmVxdWlyZV9fKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovIFx0XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xudmFyIF9fd2VicGFja19leHBvcnRzX18gPSB7fTtcbi8vIFRoaXMgZW50cnkgbmVlZCB0byBiZSB3cmFwcGVkIGluIGFuIElJRkUgYmVjYXVzZSBpdCBuZWVkIHRvIGJlIGlzb2xhdGVkIGFnYWluc3Qgb3RoZXIgbW9kdWxlcyBpbiB0aGUgY2h1bmsuXG4oKCkgPT4ge1xudmFyIGV4cG9ydHMgPSBfX3dlYnBhY2tfZXhwb3J0c19fO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkFubm90YXRpb25MYXllclwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2Fubm90YXRpb25fbGF5ZXIuQW5ub3RhdGlvbkxheWVyO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBbm5vdGF0aW9uTW9kZVwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3V0aWwuQW5ub3RhdGlvbk1vZGU7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNNYXBDb21wcmVzc2lvblR5cGVcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91dGlsLkNNYXBDb21wcmVzc2lvblR5cGU7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdsb2JhbFdvcmtlck9wdGlvbnNcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF93b3JrZXJfb3B0aW9ucy5HbG9iYWxXb3JrZXJPcHRpb25zO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJJbnZhbGlkUERGRXhjZXB0aW9uXCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdXRpbC5JbnZhbGlkUERGRXhjZXB0aW9uO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMb29wYmFja1BvcnRcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9hcGkuTG9vcGJhY2tQb3J0O1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNaXNzaW5nUERGRXhjZXB0aW9uXCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdXRpbC5NaXNzaW5nUERGRXhjZXB0aW9uO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJPUFNcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91dGlsLk9QUztcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUERGRGF0YVJhbmdlVHJhbnNwb3J0XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfYXBpLlBERkRhdGFSYW5nZVRyYW5zcG9ydDtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUERGRGF0ZVN0cmluZ1wiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2Rpc3BsYXlfdXRpbHMuUERGRGF0ZVN0cmluZztcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUERGV29ya2VyXCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfYXBpLlBERldvcmtlcjtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGFzc3dvcmRSZXNwb25zZXNcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91dGlsLlBhc3N3b3JkUmVzcG9uc2VzO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQZXJtaXNzaW9uRmxhZ1wiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3V0aWwuUGVybWlzc2lvbkZsYWc7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBpeGVsc1BlckluY2hcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9kaXNwbGF5X3V0aWxzLlBpeGVsc1BlckluY2g7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlbmRlcmluZ0NhbmNlbGxlZEV4Y2VwdGlvblwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2Rpc3BsYXlfdXRpbHMuUmVuZGVyaW5nQ2FuY2VsbGVkRXhjZXB0aW9uO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTVkdHcmFwaGljc1wiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3N2Zy5TVkdHcmFwaGljcztcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVU5TVVBQT1JURURfRkVBVFVSRVNcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91dGlsLlVOU1VQUE9SVEVEX0ZFQVRVUkVTO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJVbmV4cGVjdGVkUmVzcG9uc2VFeGNlcHRpb25cIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91dGlsLlVuZXhwZWN0ZWRSZXNwb25zZUV4Y2VwdGlvbjtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVXRpbFwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3V0aWwuVXRpbDtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVmVyYm9zaXR5TGV2ZWxcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91dGlsLlZlcmJvc2l0eUxldmVsO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJYZmFMYXllclwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3hmYV9sYXllci5YZmFMYXllcjtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYnVpbGRcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9hcGkuYnVpbGQ7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZVByb21pc2VDYXBhYmlsaXR5XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdXRpbC5jcmVhdGVQcm9taXNlQ2FwYWJpbGl0eTtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlVmFsaWRBYnNvbHV0ZVVybFwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3V0aWwuY3JlYXRlVmFsaWRBYnNvbHV0ZVVybDtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0RG9jdW1lbnRcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9hcGkuZ2V0RG9jdW1lbnQ7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldEZpbGVuYW1lRnJvbVVybFwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2Rpc3BsYXlfdXRpbHMuZ2V0RmlsZW5hbWVGcm9tVXJsO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRQZGZGaWxlbmFtZUZyb21VcmxcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9kaXNwbGF5X3V0aWxzLmdldFBkZkZpbGVuYW1lRnJvbVVybDtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0WGZhUGFnZVZpZXdwb3J0XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfZGlzcGxheV91dGlscy5nZXRYZmFQYWdlVmlld3BvcnQ7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzUGRmRmlsZVwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2Rpc3BsYXlfdXRpbHMuaXNQZGZGaWxlO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsb2FkU2NyaXB0XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfZGlzcGxheV91dGlscy5sb2FkU2NyaXB0O1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZW5kZXJUZXh0TGF5ZXJcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90ZXh0X2xheWVyLnJlbmRlclRleHRMYXllcjtcbiAgfVxufSkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2hhZG93XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdXRpbC5zaGFkb3c7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInZlcnNpb25cIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9hcGkudmVyc2lvbjtcbiAgfVxufSkpO1xuXG52YXIgX3V0aWwgPSBfX3dfcGRmanNfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2FwaSA9IF9fd19wZGZqc19yZXF1aXJlX18oNCk7XG5cbnZhciBfZGlzcGxheV91dGlscyA9IF9fd19wZGZqc19yZXF1aXJlX18oNSk7XG5cbnZhciBfYW5ub3RhdGlvbl9sYXllciA9IF9fd19wZGZqc19yZXF1aXJlX18oMjApO1xuXG52YXIgX3dvcmtlcl9vcHRpb25zID0gX193X3BkZmpzX3JlcXVpcmVfXygxMyk7XG5cbnZhciBfaXNfbm9kZSA9IF9fd19wZGZqc19yZXF1aXJlX18oMyk7XG5cbnZhciBfdGV4dF9sYXllciA9IF9fd19wZGZqc19yZXF1aXJlX18oMjMpO1xuXG52YXIgX3N2ZyA9IF9fd19wZGZqc19yZXF1aXJlX18oMjQpO1xuXG52YXIgX3hmYV9sYXllciA9IF9fd19wZGZqc19yZXF1aXJlX18oMjIpO1xuXG5jb25zdCBwZGZqc1ZlcnNpb24gPSAnMi4xNC4zMDUnO1xuY29uc3QgcGRmanNCdWlsZCA9ICdlYWFhOGI0YWQnO1xue1xuICBpZiAoX2lzX25vZGUuaXNOb2RlSlMpIHtcbiAgICBjb25zdCB7XG4gICAgICBQREZOb2RlU3RyZWFtXG4gICAgfSA9IF9fd19wZGZqc19yZXF1aXJlX18oMjUpO1xuXG4gICAgKDAsIF9hcGkuc2V0UERGTmV0d29ya1N0cmVhbUZhY3RvcnkpKHBhcmFtcyA9PiB7XG4gICAgICByZXR1cm4gbmV3IFBERk5vZGVTdHJlYW0ocGFyYW1zKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7XG4gICAgICBQREZOZXR3b3JrU3RyZWFtXG4gICAgfSA9IF9fd19wZGZqc19yZXF1aXJlX18oMjgpO1xuXG4gICAgY29uc3Qge1xuICAgICAgUERGRmV0Y2hTdHJlYW1cbiAgICB9ID0gX193X3BkZmpzX3JlcXVpcmVfXygyOSk7XG5cbiAgICAoMCwgX2FwaS5zZXRQREZOZXR3b3JrU3RyZWFtRmFjdG9yeSkocGFyYW1zID0+IHtcbiAgICAgIGlmICgoMCwgX2Rpc3BsYXlfdXRpbHMuaXNWYWxpZEZldGNoVXJsKShwYXJhbXMudXJsKSkge1xuICAgICAgICByZXR1cm4gbmV3IFBERkZldGNoU3RyZWFtKHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUERGTmV0d29ya1N0cmVhbShwYXJhbXMpO1xuICAgIH0pO1xuICB9XG59XG59KSgpO1xuXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xuLyoqKioqKi8gfSkoKVxuO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZGYuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/pdfjs-dist/build/pdf.js\n");

/***/ }),

/***/ "?8412":
/*!************************!*\
  !*** canvas (ignored) ***!
  \************************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?f8c1":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?c937":
/*!**********************!*\
  !*** http (ignored) ***!
  \**********************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?a6fc":
/*!***********************!*\
  !*** https (ignored) ***!
  \***********************/
/***/ (function() {

/* (ignored) */

/***/ }),

/***/ "?f1a1":
/*!**********************!*\
  !*** zlib (ignored) ***!
  \**********************/
/***/ (function() {

/* (ignored) */

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fluca%2FDocuments%2FGitHub%2Fshule%2Fpages%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D.tsx&page=%2FReferences%2FPhysics%2FFormOne%2F%5Bid%5D!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);