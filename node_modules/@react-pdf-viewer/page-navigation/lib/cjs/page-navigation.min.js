"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@react-pdf-viewer/core");function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(require("react")),a=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},r=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},i=function(t){var a=n.useState(t.get("currentPage")||0),r=a[0],o=a[1],i=function(e){o(e)};return e.useIsomorphicLayoutEffect((function(){return t.subscribe("currentPage",i),function(){t.unsubscribe("currentPage",i)}}),[]),{currentPage:r}},u=function(e){var t=n.useState(e.get("numberOfPages")||0),a=t[0],r=t[1],o=function(e){r(e)};return n.useEffect((function(){return e.subscribe("numberOfPages",o),function(){e.unsubscribe("numberOfPages",o)}}),[]),{numberOfPages:a}},c=function(t){var a=t.store,r=n.useContext(e.LocalizationContext).l10n,o=n.useState("1"),c=o[0],l=o[1],s=i(a).currentPage,g=u(a).numberOfPages;n.useEffect((function(){return l("".concat(s+1))}),[s]);var f=function(e){var t=a.get("jumpToPage");t&&t(e)},m=r&&r.pageNavigation?r.pageNavigation.enterPageNumber:"Enter a page number";return n.createElement("span",{className:"rpv-page-navigation__current-page-input"},n.createElement(e.TextBox,{ariaLabel:m,testId:"page-navigation__current-page-input",type:"text",value:c,onChange:l,onKeyDown:function(e){switch(e.key){case"ArrowUp":(a=s-1)>=0&&(l("".concat(a+1)),f(a));break;case"ArrowDown":(n=s+1)<g&&(l("".concat(n+1)),f(n));break;case"Enter":t=parseInt(c,10),""===c||t<1||t>g?l("".concat(s+1)):f(t-1)}var t,n,a}}))},l=function(t){var a=t.children,r=t.doc,o=e.useIsMounted(),i=n.useState({loading:!0,labels:[]}),u=i[0],c=i[1];return n.useEffect((function(){r.getPageLabels().then((function(e){o.current&&c({loading:!1,labels:e||[]})}))}),[r.loadingTask.docId]),u.loading?n.createElement(n.Fragment,null):a(u.labels)},s=function(e){var t=e.children,a=e.store,r=function(e){var t=n.useState(e.get("doc")),a=t[0],r=t[1],o=function(e){r(e)};return n.useEffect((function(){return e.subscribe("doc",o),function(){e.unsubscribe("doc",o)}}),[]),a}(a),o=i(a).currentPage,c=u(a).numberOfPages,s=t||function(e){return n.createElement(n.Fragment,null,e.currentPage+1)};return r?n.createElement(l,{doc:r},(function(e){var t=e.length===c&&c>0?e[o]:"";return s({currentPage:o,numberOfPages:c,pageLabel:t})})):n.createElement(n.Fragment,null)},g=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},f={left:0,top:8},m=function(t){var a=t.isDisabled,r=t.onClick,o=n.useContext(e.LocalizationContext).l10n,i=o&&o.pageNavigation?o.pageNavigation.goToFirstPage:"First page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,isDisabled:a,testId:"page-navigation__first-button",onClick:r},n.createElement(g,null)),content:function(){return i},offset:f})},p=function(e){var t=e.children,a=e.store;return(t||function(e){return n.createElement(m,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:0===i(a).currentPage,onClick:function(){var e=a.get("jumpToPage");e&&e(0)}})},b=function(t){var a=t.isDisabled,r=t.onClick,o=n.useContext(e.LocalizationContext).l10n,i=o&&o.pageNavigation?o.pageNavigation.goToFirstPage:"First page";return n.createElement(e.MenuItem,{icon:n.createElement(g,null),isDisabled:a,testId:"page-navigation__first-menu",onClick:r},i)},d={left:0,top:8},v=function(t){var r=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToLastPage:"Last page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:u,isDisabled:r,testId:"page-navigation__last-button",onClick:o},n.createElement(a,null)),content:function(){return u},offset:d})},P=function(e){var t=e.children,a=e.store,r=i(a).currentPage,o=u(a).numberOfPages;return(t||function(e){return n.createElement(v,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:r+1>=o,onClick:function(){var e=a.get("jumpToPage");e&&e(o-1)}})},C=function(t){var r=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToLastPage:"Last page";return n.createElement(e.MenuItem,{icon:n.createElement(a,null),isDisabled:r,testId:"page-navigation__last-menu",onClick:o},u)},E={left:0,top:8},k=function(t){var a=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToNextPage:"Next page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:u,isDisabled:a,testId:"page-navigation__next-button",onClick:o},n.createElement(r,null)),content:function(){return u},offset:E})},x=function(e){var t=e.children,a=e.store,r=i(a).currentPage,o=u(a).numberOfPages;return(t||function(e){return n.createElement(k,{onClick:e.onClick,isDisabled:e.isDisabled})})({isDisabled:r+1>=o,onClick:function(){var e=a.get("jumpToPage");e&&e(r+1)}})},D=function(t){var a=t.isDisabled,o=t.onClick,i=n.useContext(e.LocalizationContext).l10n,u=i&&i.pageNavigation?i.pageNavigation.goToNextPage:"Next page";return n.createElement(e.MenuItem,{icon:n.createElement(r,null),isDisabled:a,testId:"page-navigation__next-menu",onClick:o},u)},T=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},L={left:0,top:8},I=function(t){var a=t.isDisabled,r=t.onClick,o=n.useContext(e.LocalizationContext).l10n,i=o&&o.pageNavigation?o.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,isDisabled:a,testId:"page-navigation__previous-button",onClick:r},n.createElement(T,null)),content:function(){return i},offset:L})},N=function(e){var t=e.store,a=e.children,r=i(t).currentPage;return(a||function(e){return n.createElement(I,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:r<=0,onClick:function(){var e=t.get("jumpToPage");e&&e(r-1)}})},_=function(t){var a=t.isDisabled,r=t.onClick,o=n.useContext(e.LocalizationContext).l10n,i=o&&o.pageNavigation?o.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.MenuItem,{icon:n.createElement(T,null),isDisabled:a,testId:"page-navigation__previous-menu",onClick:r},i)},O=function(e){var t=e.children,a=e.store,r=u(a).numberOfPages;return t?t({numberOfPages:r}):n.createElement(n.Fragment,null,r)};exports.DownArrowIcon=a,exports.NextIcon=r,exports.PreviousIcon=T,exports.UpArrowIcon=g,exports.pageNavigationPlugin=function(){var t=n.useMemo((function(){return e.createStore()}),[]),a=function(e){return n.createElement(p,o({},e,{store:t}))},r=function(e){return n.createElement(P,o({},e,{store:t}))},i=function(e){return n.createElement(x,o({},e,{store:t}))},u=function(e){return n.createElement(N,o({},e,{store:t}))};return{install:function(e){t.update("jumpToPage",e.jumpToPage)},onDocumentLoad:function(e){t.update("doc",e.doc),t.update("numberOfPages",e.doc.numPages)},onViewerStateChange:function(e){return t.update("currentPage",e.pageIndex),e},jumpToPage:function(e){var n=t.get("jumpToPage");n&&n(e)},CurrentPageInput:function(){return n.createElement(c,{store:t})},CurrentPageLabel:function(e){return n.createElement(s,o({},e,{store:t}))},GoToFirstPage:a,GoToFirstPageButton:function(){return n.createElement(a,null,(function(e){return n.createElement(m,o({},e))}))},GoToFirstPageMenuItem:function(e){return n.createElement(a,null,(function(t){return n.createElement(b,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},GoToLastPage:r,GoToLastPageButton:function(){return n.createElement(r,null,(function(e){return n.createElement(v,o({},e))}))},GoToLastPageMenuItem:function(e){return n.createElement(r,null,(function(t){return n.createElement(C,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},GoToNextPage:i,GoToNextPageButton:function(){return n.createElement(i,null,(function(e){return n.createElement(k,o({},e))}))},GoToNextPageMenuItem:function(e){return n.createElement(i,null,(function(t){return n.createElement(D,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},GoToPreviousPage:u,GoToPreviousPageButton:function(){return n.createElement(u,null,(function(e){return n.createElement(I,o({},e))}))},GoToPreviousPageMenuItem:function(e){return n.createElement(u,null,(function(t){return n.createElement(_,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),e.onClick()}})}))},NumberOfPages:function(e){return n.createElement(O,o({},e,{store:t}))}}};
