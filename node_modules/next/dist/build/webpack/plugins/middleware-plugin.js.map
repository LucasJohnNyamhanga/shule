{"version":3,"sources":["../../../../build/webpack/plugins/middleware-plugin.ts"],"names":["MiddlewarePlugin","constructor","dev","apply","compiler","hooks","compilation","tap","NAME","params","normalModuleFactory","codeAnalyzer","getCodeAnalizer","parser","for","metadataByEntry","Map","afterOptimizeModules","getExtractMetadata","processAssets","name","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","getCreateAssets","middlewareManifest","sortedMiddleware","middleware","functions","version","wp","handleWrapExpression","expr","isInMiddlewareLayer","ConstDependency","dependencies","dep1","range","loc","state","module","addPresentationalDependency","dep2","handleExpression","handleWrapWasmCompileExpression","handleWrapWasmInstantiateExpression","optimize","InnerGraph","onUsage","used","buildInfo","getModuleBuildInfo","usingIndirectEval","Set","Array","from","addUsedEnvVar","envVarName","nextUsedEnvVars","undefined","add","handleCallMemberChain","_","members","length","handleNewResponseExpression","node","firstParameter","arguments","isInMiddlewareFile","isNullLiteral","isUndefinedIdentifier","error","WebpackError","start","line","current","warnings","push","errors","skip","prefix","expression","call","new","callMemberChain","expressionMemberChain","declarator","init","type","isProcessEnvMemberExpression","id","property","properties","key","value","registerUnsupportedApiHooks","clear","entryName","entryData","entries","options","runtime","EDGE_RUNTIME_WEBPACK","moduleGraph","entryModules","addEntriesFromDependency","dependency","getModule","forEach","includeDependencies","entryMetadata","env","wasmBindings","entryModule","isUsingIndirectEvalAndUsedByExports","util","getEntryRuntime","identifier","test","join","nextEdgeSSR","edgeSSR","nextEdgeMiddleware","edgeMiddleware","nextEdgeApiFunction","edgeApiFunction","envName","nextWasmMiddlewareBinding","conn","getOutgoingConnections","set","args","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused","assets","entrypoint","entrypoints","values","metadata","get","page","namedRegex","getNamedMiddlewareRegex","catchAll","regexp","matcherRegexp","edgeFunctionDefinition","files","getEntryFiles","getFiles","wasm","getSortedRoutes","Object","keys","MIDDLEWARE_MANIFEST","sources","RawSource","JSON","stringify","entryFiles","meta","isServerComponent","FLIGHT_MANIFEST","filter","file","startsWith","endsWith","map","replace","NEXT_CLIENT_SSR_ENTRY_SUFFIX","MIDDLEWARE_BUILD_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","EDGE_UNSUPPORTED_NODE_APIS","warnForUnsupportedApi","makeUnsupportedApiError","warnForUnsupportedProcessApi","callee","layer","rawRequest","memberExpression","object"],"mappings":"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"}